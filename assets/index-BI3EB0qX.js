var IA=Object.defineProperty;var xA=(r,e,t)=>e in r?IA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var z_=(r,e,t)=>xA(r,typeof e!="symbol"?e+"":e,t);function DA(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function jE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function OA(){if(q_)return jl;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=t,jl.jsxs=t,jl}var F_;function MA(){return F_||(F_=1,vm.exports=OA()),vm.exports}var v=MA(),_m={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function PA(){if(H_)return Pe;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=S&&P[S]||P["@@iterator"],typeof P=="function"?P:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,j={};function O(P,ee,W){this.props=P,this.context=ee,this.refs=j,this.updater=W||x}O.prototype.isReactComponent={},O.prototype.setState=function(P,ee){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ee,"setState")},O.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function J(){}J.prototype=O.prototype;function ae(P,ee,W){this.props=P,this.context=ee,this.refs=j,this.updater=W||x}var K=ae.prototype=new J;K.constructor=ae,M(K,O.prototype),K.isPureReactComponent=!0;var ue=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},me=Object.prototype.hasOwnProperty;function V(P,ee,W,Z,de,we){return W=we.ref,{$$typeof:r,type:P,key:ee,ref:W!==void 0?W:null,props:we}}function N(P,ee){return V(P.type,ee,void 0,void 0,void 0,P.props)}function C(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function D(P){var ee={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(W){return ee[W]})}var k=/\/+/g;function L(P,ee){return typeof P=="object"&&P!==null&&P.key!=null?D(""+P.key):ee.toString(36)}function w(){}function he(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(w,w):(P.status="pending",P.then(function(ee){P.status==="pending"&&(P.status="fulfilled",P.value=ee)},function(ee){P.status==="pending"&&(P.status="rejected",P.reason=ee)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function De(P,ee,W,Z,de){var we=typeof P;(we==="undefined"||we==="boolean")&&(P=null);var Ee=!1;if(P===null)Ee=!0;else switch(we){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(P.$$typeof){case r:case e:Ee=!0;break;case E:return Ee=P._init,De(Ee(P._payload),ee,W,Z,de)}}if(Ee)return de=de(P),Ee=Z===""?"."+L(P,0):Z,ue(de)?(W="",Ee!=null&&(W=Ee.replace(k,"$&/")+"/"),De(de,ee,W,"",function(be){return be})):de!=null&&(C(de)&&(de=N(de,W+(de.key==null||P&&P.key===de.key?"":(""+de.key).replace(k,"$&/")+"/")+Ee)),ee.push(de)),1;Ee=0;var at=Z===""?".":Z+":";if(ue(P))for(var re=0;re<P.length;re++)Z=P[re],we=at+L(Z,re),Ee+=De(Z,ee,W,we,de);else if(re=R(P),typeof re=="function")for(P=re.call(P),re=0;!(Z=P.next()).done;)Z=Z.value,we=at+L(Z,re++),Ee+=De(Z,ee,W,we,de);else if(we==="object"){if(typeof P.then=="function")return De(he(P),ee,W,Z,de);throw ee=String(P),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(P,ee,W){if(P==null)return P;var Z=[],de=0;return De(P,Z,"","",function(we){return ee.call(W,we,de++)}),Z}function ce(P){if(P._status===-1){var ee=P._result;ee=ee(),ee.then(function(W){(P._status===0||P._status===-1)&&(P._status=1,P._result=W)},function(W){(P._status===0||P._status===-1)&&(P._status=2,P._result=W)}),P._status===-1&&(P._status=0,P._result=ee)}if(P._status===1)return P._result.default;throw P._result}var pe=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Me(){}return Pe.Children={map:$,forEach:function(P,ee,W){$(P,function(){ee.apply(this,arguments)},W)},count:function(P){var ee=0;return $(P,function(){ee++}),ee},toArray:function(P){return $(P,function(ee){return ee})||[]},only:function(P){if(!C(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Pe.Component=O,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=ae,Pe.StrictMode=s,Pe.Suspense=p,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(P){return se.H.useMemoCache(P)}},Pe.cache=function(P){return function(){return P.apply(null,arguments)}},Pe.cloneElement=function(P,ee,W){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var Z=M({},P.props),de=P.key,we=void 0;if(ee!=null)for(Ee in ee.ref!==void 0&&(we=void 0),ee.key!==void 0&&(de=""+ee.key),ee)!me.call(ee,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ee.ref===void 0||(Z[Ee]=ee[Ee]);var Ee=arguments.length-2;if(Ee===1)Z.children=W;else if(1<Ee){for(var at=Array(Ee),re=0;re<Ee;re++)at[re]=arguments[re+2];Z.children=at}return V(P.type,de,void 0,void 0,we,Z)},Pe.createContext=function(P){return P={$$typeof:h,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Pe.createElement=function(P,ee,W){var Z,de={},we=null;if(ee!=null)for(Z in ee.key!==void 0&&(we=""+ee.key),ee)me.call(ee,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(de[Z]=ee[Z]);var Ee=arguments.length-2;if(Ee===1)de.children=W;else if(1<Ee){for(var at=Array(Ee),re=0;re<Ee;re++)at[re]=arguments[re+2];de.children=at}if(P&&P.defaultProps)for(Z in Ee=P.defaultProps,Ee)de[Z]===void 0&&(de[Z]=Ee[Z]);return V(P,we,void 0,void 0,null,de)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(P){return{$$typeof:m,render:P}},Pe.isValidElement=C,Pe.lazy=function(P){return{$$typeof:E,_payload:{_status:-1,_result:P},_init:ce}},Pe.memo=function(P,ee){return{$$typeof:g,type:P,compare:ee===void 0?null:ee}},Pe.startTransition=function(P){var ee=se.T,W={};se.T=W;try{var Z=P(),de=se.S;de!==null&&de(W,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Me,pe)}catch(we){pe(we)}finally{se.T=ee}},Pe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Pe.use=function(P){return se.H.use(P)},Pe.useActionState=function(P,ee,W){return se.H.useActionState(P,ee,W)},Pe.useCallback=function(P,ee){return se.H.useCallback(P,ee)},Pe.useContext=function(P){return se.H.useContext(P)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(P,ee){return se.H.useDeferredValue(P,ee)},Pe.useEffect=function(P,ee,W){var Z=se.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Z.useEffect(P,ee)},Pe.useId=function(){return se.H.useId()},Pe.useImperativeHandle=function(P,ee,W){return se.H.useImperativeHandle(P,ee,W)},Pe.useInsertionEffect=function(P,ee){return se.H.useInsertionEffect(P,ee)},Pe.useLayoutEffect=function(P,ee){return se.H.useLayoutEffect(P,ee)},Pe.useMemo=function(P,ee){return se.H.useMemo(P,ee)},Pe.useOptimistic=function(P,ee){return se.H.useOptimistic(P,ee)},Pe.useReducer=function(P,ee,W){return se.H.useReducer(P,ee,W)},Pe.useRef=function(P){return se.H.useRef(P)},Pe.useState=function(P){return se.H.useState(P)},Pe.useSyncExternalStore=function(P,ee,W){return se.H.useSyncExternalStore(P,ee,W)},Pe.useTransition=function(){return se.H.useTransition()},Pe.version="19.1.0",Pe}var G_;function bp(){return G_||(G_=1,_m.exports=PA()),_m.exports}var Q=bp();const fi=jE(Q),VA=DA({__proto__:null,default:fi},[Q]);var Em={exports:{}},Ll={},Tm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function kA(){return K_||(K_=1,function(r){function e($,ce){var pe=$.length;$.push(ce);e:for(;0<pe;){var Me=pe-1>>>1,P=$[Me];if(0<o(P,ce))$[Me]=ce,$[pe]=P,pe=Me;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ce=$[0],pe=$.pop();if(pe!==ce){$[0]=pe;e:for(var Me=0,P=$.length,ee=P>>>1;Me<ee;){var W=2*(Me+1)-1,Z=$[W],de=W+1,we=$[de];if(0>o(Z,pe))de<P&&0>o(we,Z)?($[Me]=we,$[de]=pe,Me=de):($[Me]=Z,$[W]=pe,Me=W);else if(de<P&&0>o(we,pe))$[Me]=we,$[de]=pe,Me=de;else break e}}return ce}function o($,ce){var pe=$.sortIndex-ce.sortIndex;return pe!==0?pe:$.id-ce.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,R=3,x=!1,M=!1,j=!1,O=!1,J=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ue($){for(var ce=t(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=$)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function se($){if(j=!1,ue($),!M)if(t(p)!==null)M=!0,me||(me=!0,L());else{var ce=t(g);ce!==null&&De(se,ce.startTime-$)}}var me=!1,V=-1,N=5,C=-1;function D(){return O?!0:!(r.unstable_now()-C<N)}function k(){if(O=!1,me){var $=r.unstable_now();C=$;var ce=!0;try{e:{M=!1,j&&(j=!1,ae(V),V=-1),x=!0;var pe=R;try{t:{for(ue($),S=t(p);S!==null&&!(S.expirationTime>$&&D());){var Me=S.callback;if(typeof Me=="function"){S.callback=null,R=S.priorityLevel;var P=Me(S.expirationTime<=$);if($=r.unstable_now(),typeof P=="function"){S.callback=P,ue($),ce=!0;break t}S===t(p)&&s(p),ue($)}else s(p);S=t(p)}if(S!==null)ce=!0;else{var ee=t(g);ee!==null&&De(se,ee.startTime-$),ce=!1}}break e}finally{S=null,R=pe,x=!1}ce=void 0}}finally{ce?L():me=!1}}}var L;if(typeof K=="function")L=function(){K(k)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,he=w.port2;w.port1.onmessage=k,L=function(){he.postMessage(null)}}else L=function(){J(k,0)};function De($,ce){V=J(function(){$(r.unstable_now())},ce)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function($){$.callback=null},r.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<$?Math.floor(1e3/$):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function($){switch(R){case 1:case 2:case 3:var ce=3;break;default:ce=R}var pe=R;R=ce;try{return $()}finally{R=pe}},r.unstable_requestPaint=function(){O=!0},r.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=R;R=$;try{return ce()}finally{R=pe}},r.unstable_scheduleCallback=function($,ce,pe){var Me=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Me+pe:Me):pe=Me,$){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=pe+P,$={id:E++,callback:ce,priorityLevel:$,startTime:pe,expirationTime:P,sortIndex:-1},pe>Me?($.sortIndex=pe,e(g,$),t(p)===null&&$===t(g)&&(j?(ae(V),V=-1):j=!0,De(se,pe-Me))):($.sortIndex=P,e(p,$),M||x||(M=!0,me||(me=!0,L()))),$},r.unstable_shouldYield=D,r.unstable_wrapCallback=function($){var ce=R;return function(){var pe=R;R=ce;try{return $.apply(this,arguments)}finally{R=pe}}}}(bm)),bm}var Q_;function UA(){return Q_||(Q_=1,Tm.exports=kA()),Tm.exports}var Sm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function jA(){if(Y_)return sn;Y_=1;var r=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},sn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:R,fetchPriority:x}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:R,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var $_;function LE(){if($_)return Sm.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=jA(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function LA(){if(X_)return Ll;X_=1;var r=UA(),e=bp(),t=LE();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=d;break}if(b===l){T=!0,l=f,a=d;break}b=b.sibling}if(!T){for(b=d.child;b;){if(b===a){T=!0,a=d,l=f;break}if(b===l){T=!0,l=d,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),J=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),se=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var w=Symbol.for("react.client.reference");function he(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===w?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case M:return"Fragment";case O:return"Profiler";case j:return"StrictMode";case se:return"Suspense";case me:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case K:return(n.displayName||"Context")+".Provider";case ae:return(n._context.displayName||"Context")+".Consumer";case ue:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return i=n.displayName||null,i!==null?i:he(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return he(n(i))}catch{}}return null}var De=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},Me=[],P=-1;function ee(n){return{current:n}}function W(n){0>P||(n.current=Me[P],Me[P]=null,P--)}function Z(n,i){P++,Me[P]=n.current,n.current=i}var de=ee(null),we=ee(null),Ee=ee(null),at=ee(null);function re(n,i){switch(Z(Ee,i),Z(we,n),Z(de,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?p_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=p_(i),n=g_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(de),Z(de,n)}function be(){W(de),W(we),W(Ee)}function ze(n){n.memoizedState!==null&&Z(at,n);var i=de.current,a=g_(i,n.type);i!==a&&(Z(we,n),Z(de,a))}function Xe(n){we.current===n&&(W(de),W(we)),at.current===n&&(W(at),Ml._currentValue=pe)}var ut=Object.prototype.hasOwnProperty,tn=r.unstable_scheduleCallback,hn=r.unstable_cancelCallback,Xn=r.unstable_shouldYield,Vr=r.unstable_requestPaint,vn=r.unstable_now,vf=r.unstable_getCurrentPriorityLevel,Do=r.unstable_ImmediatePriority,fa=r.unstable_UserBlockingPriority,cs=r.unstable_NormalPriority,_f=r.unstable_LowPriority,da=r.unstable_IdlePriority,Oo=r.log,Cu=r.unstable_setDisableYieldValue,gt=null,We=null;function An(n){if(typeof Oo=="function"&&Cu(n),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(gt,n)}catch{}}var nn=Math.clz32?Math.clz32:hs,Iu=Math.log,Ef=Math.LN2;function hs(n){return n>>>=0,n===0?32:31-(Iu(n)/Ef|0)|0}var fs=256,ds=4194304;function Wn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ma(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Wn(l):(T&=b,T!==0?f=Wn(T):a||(a=b&~n,a!==0&&(f=Wn(a))))):(b=l&~d,b!==0?f=Wn(b):T!==0?f=Wn(T):a||(a=l&~n,a!==0&&(f=Wn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function ms(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function Mo(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var n=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),n}function Vo(){var n=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),n}function kr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Ur(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ko(n,i,a,l,f,d){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,F=n.hiddenUpdates;for(a=T&~a;0<a;){var te=31-nn(a),ie=1<<te;b[te]=0,I[te]=-1;var H=F[te];if(H!==null)for(F[te]=null,te=0;te<H.length;te++){var G=H[te];G!==null&&(G.lane&=-536870913)}a&=~ie}l!==0&&lr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(T&~i))}function lr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-nn(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Uo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-nn(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function vi(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _i(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:V_(n.type))}function xu(n,i){var a=ce.p;try{return ce.p=n,i()}finally{ce.p=a}}var ht=Math.random().toString(36).slice(2),Vt="__reactFiber$"+ht,It="__reactProps$"+ht,Un="__reactContainer$"+ht,jo="__reactEvents$"+ht,Tf="__reactListeners$"+ht,Ei="__reactHandles$"+ht,Du="__reactResources$"+ht,ps="__reactMarker$"+ht;function Ti(n){delete n[Vt],delete n[It],delete n[jo],delete n[Tf],delete n[Ei]}function jr(n){var i=n[Vt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Un]||a[Vt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=E_(n);n!==null;){if(a=n[Vt])return a;n=E_(n)}return i}n=a,a=n.parentNode}return null}function ur(n){if(n=n[Vt]||n[Un]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function cr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function fn(n){var i=n[Du];return i||(i=n[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(n){n[ps]=!0}var Lo=new Set,ga={};function Jn(n,i){Lr(n,i),Lr(n+"Capture",i)}function Lr(n,i){for(ga[n]=i,n=0;n<i.length;n++)Lo.add(i[n])}var Ou=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},gs={};function Pu(n){return ut.call(gs,n)?!0:ut.call(Mu,n)?!1:Ou.test(n)?gs[n]=!0:(Mu[n]=!0,!1)}function bi(n,i,a){if(Pu(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function hr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Kt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var ys,Vu;function Br(n){if(ys===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ys=i&&i[1]||"",Vu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+n+Vu}var ya=!1;function va(n,i){if(!n||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(G){var H=G}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(G){H=G}n.call(ie.prototype)}}else{try{throw Error()}catch(G){H=G}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],b=d[1];if(T&&b){var I=T.split(`
`),F=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===F.length)for(l=I.length-1,f=F.length-1;1<=l&&0<=f&&I[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==F[f]){var te=`
`+I[l].replace(" at new "," at ");return n.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",n.displayName)),te}while(1<=l&&0<=f);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Br(a):""}function Bo(n){switch(n.tag){case 26:case 27:case 5:return Br(n.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 15:return va(n.type,!1);case 11:return va(n.type.render,!1);case 1:return va(n.type,!0);case 31:return Br("Activity");default:return""}}function _a(n){try{var i="";do i+=Bo(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zo(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bf(n){var i=zo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Ea(n){n._valueTracker||(n._valueTracker=bf(n))}function qo(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=zo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function vs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sf=/[\n"\\]/g;function xt(n){return n.replace(Sf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function wn(n,i,a,l,f,d,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+dn(i)):n.value!==""+dn(i)&&(n.value=""+dn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?Si(n,T,dn(i)):a!=null?Si(n,T,dn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+dn(b):n.removeAttribute("name")}function _s(n,i,a,l,f,d,T,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+dn(a):"",i=i!=null?""+dn(i):a,b||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Si(n,i,a){i==="number"&&vs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function zr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function tt(n,i,a){if(i!=null&&(i=""+dn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+dn(a):""}function Es(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(De(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=dn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function jn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||Ts.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Fo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&ku(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&ku(n,d,i[d])}function Ho(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return wf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var qr=null;function Ln(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fr=null,Hr=null;function Go(n){var i=ur(n);if(i&&(n=i.stateNode)){var a=n[It]||null;e:switch(n=i.stateNode,i.type){case"input":if(wn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[It]||null;if(!f)throw Error(s(90));wn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&qo(l)}break e;case"textarea":tt(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&zr(n,!!a.multiple,i,!1)}}}var fr=!1;function Uu(n,i,a){if(fr)return n(i,a);fr=!0;try{var l=n(i);return l}finally{if(fr=!1,(Fr!==null||Hr!==null)&&(xc(),Fr&&(i=Fr,n=Hr,Hr=Fr=null,Go(i),n)))for(i=0;i<n.length;i++)Go(n[i])}}function bs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(Zn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Bn=!1}var dr=null,Ai=null,Gr=null;function Ko(){if(Gr)return Gr;var n,i=Ai,a=i.length,l,f="value"in dr?dr.value:dr.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&i[a-l]===f[d-l];l++);return Gr=f.slice(n,1<l?1-l:void 0)}function mr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function pr(){return!0}function Qo(){return!1}function Bt(n){function i(a,l,f,d,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pr:Qo,this.isPropagationStopped=Qo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pr)},persist:function(){},isPersistent:pr}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Bt($e),As=E({},$e,{view:0,detail:0}),ju=Bt(As),Sa,Aa,gr,ws=E({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gr&&(gr&&n.type==="mousemove"?(Sa=n.screenX-gr.screenX,Aa=n.screenY-gr.screenY):Aa=Sa=0,gr=n),Sa)},movementY:function(n){return"movementY"in n?n.movementY:Aa}}),zn=Bt(ws),Lu=E({},ws,{dataTransfer:0}),Rf=Bt(Lu),Rs=E({},As,{relatedTarget:0}),wa=Bt(Rs),Yo=E({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Bt(Yo),Bu=E({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Na=Bt(Bu),Nf=E({},$e,{data:0}),$o=Bt(Nf),Ns={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=qu[n])?!!i[n]:!1}function Cs(){return Xo}var Fu=E({},As,{key:function(n){if(n.key){var i=Ns[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=mr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(n){return n.type==="keypress"?mr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ca=Bt(Fu),Hu=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Bt(Hu),Kr=E({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Gu=Bt(Kr),Ku=E({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Bt(Ku),Yu=E({},ws,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=Bt(Yu),mn=E({},$e,{newState:0,oldState:0}),$u=Bt(mn),Xu=[9,13,27,32],yr=Zn&&"CompositionEvent"in window,c=null;Zn&&"documentMode"in document&&(c=document.documentMode);var y=Zn&&"TextEvent"in window&&!c,_=Zn&&(!yr||c&&8<c&&11>=c),A=" ",z=!1;function Y(n,i){switch(n){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fe(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qe=!1;function kt(n,i){switch(n){case"compositionend":return fe(i);case"keypress":return i.which!==32?null:(z=!0,A);case"textInput":return n=i.data,n===A&&z?null:n;default:return null}}function Fe(n,i){if(qe)return n==="compositionend"||!yr&&Y(n,i)?(n=Ko(),Gr=Ai=dr=null,qe=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!zt[n.type]:i==="textarea"}function Qr(n,i,a,l){Fr?Hr?Hr.push(l):Hr=[l]:Fr=l,i=kc(i,"onChange"),0<i.length&&(a=new ba("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var Qt=null,vr=null;function Jo(n){c_(n,0)}function Wu(n){var i=cr(n);if(qo(i))return n}function Dg(n,i){if(n==="change")return i}var Og=!1;if(Zn){var Cf;if(Zn){var If="oninput"in document;if(!If){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),If=typeof Mg.oninput=="function"}Cf=If}else Cf=!1;Og=Cf&&(!document.documentMode||9<document.documentMode)}function Pg(){Qt&&(Qt.detachEvent("onpropertychange",Vg),vr=Qt=null)}function Vg(n){if(n.propertyName==="value"&&Wu(vr)){var i=[];Qr(i,vr,n,Ln(n)),Uu(Jo,i)}}function sS(n,i,a){n==="focusin"?(Pg(),Qt=i,vr=a,Qt.attachEvent("onpropertychange",Vg)):n==="focusout"&&Pg()}function aS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wu(vr)}function oS(n,i){if(n==="click")return Wu(i)}function lS(n,i){if(n==="input"||n==="change")return Wu(i)}function uS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Rn=typeof Object.is=="function"?Object.is:uS;function Zo(n,i){if(Rn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ut.call(i,f)||!Rn(n[f],i[f]))return!1}return!0}function kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ug(n,i){var a=kg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function jg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?jg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Lg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=vs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=vs(n.document)}return i}function xf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var cS=Zn&&"documentMode"in document&&11>=document.documentMode,xa=null,Df=null,el=null,Of=!1;function Bg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||xa==null||xa!==vs(l)||(l=xa,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Zo(el,l)||(el=l,l=kc(Df,"onSelect"),0<l.length&&(i=new ba("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=xa)))}function Is(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Da={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Mf={},zg={};Zn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Da.animationend.animation,delete Da.animationiteration.animation,delete Da.animationstart.animation),"TransitionEvent"in window||delete Da.transitionend.transition);function xs(n){if(Mf[n])return Mf[n];if(!Da[n])return n;var i=Da[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in zg)return Mf[n]=i[a];return n}var qg=xs("animationend"),Fg=xs("animationiteration"),Hg=xs("animationstart"),hS=xs("transitionrun"),fS=xs("transitionstart"),dS=xs("transitioncancel"),Gg=xs("transitionend"),Kg=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function er(n,i){Kg.set(n,i),Jn(i,[n])}var Qg=new WeakMap;function qn(n,i){if(typeof n=="object"&&n!==null){var a=Qg.get(n);return a!==void 0?a:(i={value:n,source:i,stack:_a(i)},Qg.set(n,i),i)}return{value:n,source:i,stack:_a(i)}}var Fn=[],Oa=0,Vf=0;function Ju(){for(var n=Oa,i=Vf=Oa=0;i<n;){var a=Fn[i];Fn[i++]=null;var l=Fn[i];Fn[i++]=null;var f=Fn[i];Fn[i++]=null;var d=Fn[i];if(Fn[i++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&Yg(a,f,d)}}function Zu(n,i,a,l){Fn[Oa++]=n,Fn[Oa++]=i,Fn[Oa++]=a,Fn[Oa++]=l,Vf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function kf(n,i,a,l){return Zu(n,i,a,l),ec(n)}function Ma(n,i){return Zu(n,null,null,i),ec(n)}function Yg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-nn(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function ec(n){if(50<wl)throw wl=0,qd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Pa={};function mS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(n,i,a,l){return new mS(n,i,a,l)}function Uf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yr(n,i){var a=n.alternate;return a===null?(a=Nn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $g(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function tc(n,i,a,l,f,d){var T=0;if(l=n,typeof n=="function")Uf(n)&&(T=1);else if(typeof n=="string")T=gA(n,a,de.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Nn(31,a,i,f),n.elementType=C,n.lanes=d,n;case M:return Ds(a.children,f,d,i);case j:T=8,f|=24;break;case O:return n=Nn(12,a,i,f|2),n.elementType=O,n.lanes=d,n;case se:return n=Nn(13,a,i,f),n.elementType=se,n.lanes=d,n;case me:return n=Nn(19,a,i,f),n.elementType=me,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case J:case K:T=10;break e;case ae:T=9;break e;case ue:T=11;break e;case V:T=14;break e;case N:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=Nn(T,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Ds(n,i,a,l){return n=Nn(7,n,l,i),n.lanes=a,n}function jf(n,i,a){return n=Nn(6,n,null,i),n.lanes=a,n}function Lf(n,i,a){return i=Nn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var Va=[],ka=0,nc=null,rc=0,Hn=[],Gn=0,Os=null,$r=1,Xr="";function Ms(n,i){Va[ka++]=rc,Va[ka++]=nc,nc=n,rc=i}function Xg(n,i,a){Hn[Gn++]=$r,Hn[Gn++]=Xr,Hn[Gn++]=Os,Os=n;var l=$r;n=Xr;var f=32-nn(l)-1;l&=~(1<<f),a+=1;var d=32-nn(i)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,$r=1<<32-nn(i)+f|a<<f|l,Xr=d+n}else $r=1<<d|a<<f|l,Xr=n}function Bf(n){n.return!==null&&(Ms(n,1),Xg(n,1,0))}function zf(n){for(;n===nc;)nc=Va[--ka],Va[ka]=null,rc=Va[--ka],Va[ka]=null;for(;n===Os;)Os=Hn[--Gn],Hn[Gn]=null,Xr=Hn[--Gn],Hn[Gn]=null,$r=Hn[--Gn],Hn[Gn]=null}var pn=null,yt=null,Ye=!1,Ps=null,_r=!1,qf=Error(s(519));function Vs(n){var i=Error(s(418,""));throw rl(qn(i,n)),qf}function Wg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[Vt]=n,i[It]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)je(Nl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),_s(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(i);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Es(i,l.value,l.defaultValue,l.children),Ea(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||m_(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=Uc),i=!0):i=!1,i||Vs(n)}function Jg(n){for(pn=n.return;pn;)switch(pn.tag){case 5:case 13:_r=!1;return;case 27:case 3:_r=!0;return;default:pn=pn.return}}function tl(n){if(n!==pn)return!1;if(!Ye)return Jg(n),Ye=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||im(n.type,n.memoizedProps)),a=!a),a&&yt&&Vs(n),Jg(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){yt=nr(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}yt=null}}else i===27?(i=yt,Bi(n.type)?(n=lm,lm=null,yt=n):yt=i):yt=pn?nr(n.stateNode.nextSibling):null;return!0}function nl(){yt=pn=null,Ye=!1}function Zg(){var n=Ps;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),Ps=null),n}function rl(n){Ps===null?Ps=[n]:Ps.push(n)}var Ff=ee(null),ks=null,Wr=null;function wi(n,i,a){Z(Ff,i._currentValue),i._currentValue=a}function Jr(n){n._currentValue=Ff.current,W(Ff)}function Hf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Gf(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var I=0;I<i.length;I++)if(b.context===i[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Hf(d.return,a,n),l||(T=null);break e}d=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),Hf(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function il(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;Rn(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===at.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}f=f.return}n!==null&&Gf(i,n,a,l),i.flags|=262144}function ic(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Us(n){ks=n,Wr=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return ey(ks,n)}function sc(n,i){return ks===null&&Us(n),ey(n,i)}function ey(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wr===null){if(n===null)throw Error(s(308));Wr=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Wr=Wr.next=i;return a}var pS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},gS=r.unstable_scheduleCallback,yS=r.unstable_NormalPriority,jt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new pS,data:new Map,refCount:0}}function sl(n){n.refCount--,n.refCount===0&&gS(yS,function(){n.controller.abort()})}var al=null,Qf=0,Ua=0,ja=null;function vS(n,i){if(al===null){var a=al=[];Qf=0,Ua=$d(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(ty,ty),i}function ty(){if(--Qf===0&&al!==null){ja!==null&&(ja.status="fulfilled");var n=al;al=null,Ua=0,ja=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _S(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ny=$.S;$.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vS(n,i),ny!==null&&ny(n,i)};var js=ee(null);function Yf(){var n=js.current;return n!==null?n:ot.pooledCache}function ac(n,i){i===null?Z(js,js.current):Z(js,i.pool)}function ry(){var n=Yf();return n===null?null:{parent:jt._currentValue,pool:n}}var ol=Error(s(460)),iy=Error(s(474)),oc=Error(s(542)),$f={then:function(){}};function sy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lc(){}function ay(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(lc,lc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ly(n),n;default:if(typeof i.status=="string")i.then(lc,lc);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,ly(n),n}throw ll=i,ol}}var ll=null;function oy(){if(ll===null)throw Error(s(459));var n=ll;return ll=null,n}function ly(n){if(n===ol||n===oc)throw Error(s(483))}var Ri=!1;function Xf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ni(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ci(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=ec(n),Yg(n,null,a),i}return Zu(n,l,i,a),ec(n)}function ul(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Uo(n,a)}}function Jf(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Zf=!1;function cl(){if(Zf){var n=ja;if(n!==null)throw n}}function hl(n,i,a,l){Zf=!1;var f=n.updateQueue;Ri=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,F=I.next;I.next=null,T===null?d=F:T.next=F,T=I;var te=n.alternate;te!==null&&(te=te.updateQueue,b=te.lastBaseUpdate,b!==T&&(b===null?te.firstBaseUpdate=F:b.next=F,te.lastBaseUpdate=I))}if(d!==null){var ie=f.baseState;T=0,te=F=I=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(He&H)===H:(l&H)===H){H!==0&&H===Ua&&(Zf=!0),te!==null&&(te=te.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Re=n,Se=b;H=i;var it=a;switch(Se.tag){case 1:if(Re=Se.payload,typeof Re=="function"){ie=Re.call(it,ie,H);break e}ie=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=Se.payload,H=typeof Re=="function"?Re.call(it,ie,H):Re,H==null)break e;ie=E({},ie,H);break e;case 2:Ri=!0}}H=b.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},te===null?(F=te=G,I=ie):te=te.next=G,T|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);te===null&&(I=ie),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=te,d===null&&(f.shared.lanes=0),ki|=T,n.lanes=T,n.memoizedState=ie}}function uy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function cy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)uy(a[n],i)}var La=ee(null),uc=ee(0);function hy(n,i){n=si,Z(uc,n),Z(La,i),si=n|i.baseLanes}function ed(){Z(uc,si),Z(La,La.current)}function td(){si=uc.current,W(La),W(uc)}var Ii=0,Ve=null,nt=null,Dt=null,cc=!1,Ba=!1,Ls=!1,hc=0,fl=0,za=null,ES=0;function wt(){throw Error(s(321))}function nd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Rn(n[a],i[a]))return!1;return!0}function rd(n,i,a,l,f,d){return Ii=d,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$.H=n===null||n.memoizedState===null?Yy:$y,Ls=!1,d=a(l,f),Ls=!1,Ba&&(d=dy(i,a,l,f)),fy(n),d}function fy(n){$.H=yc;var i=nt!==null&&nt.next!==null;if(Ii=0,Dt=nt=Ve=null,cc=!1,fl=0,za=null,i)throw Error(s(300));n===null||qt||(n=n.dependencies,n!==null&&ic(n)&&(qt=!0))}function dy(n,i,a,l){Ve=n;var f=0;do{if(Ba&&(za=null),fl=0,Ba=!1,25<=f)throw Error(s(301));if(f+=1,Dt=nt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=NS,d=i(a,l)}while(Ba);return d}function TS(){var n=$.H,i=n.useState()[0];return i=typeof i.then=="function"?dl(i):i,n=n.useState()[0],(nt!==null?nt.memoizedState:null)!==n&&(Ve.flags|=1024),i}function id(){var n=hc!==0;return hc=0,n}function sd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function ad(n){if(cc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cc=!1}Ii=0,Dt=nt=Ve=null,Ba=!1,fl=hc=0,za=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ve.memoizedState=Dt=n:Dt=Dt.next=n,Dt}function Ot(){if(nt===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=nt.next;var i=Dt===null?Ve.memoizedState:Dt.next;if(i!==null)Dt=i,nt=n;else{if(n===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));nt=n,n={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Dt===null?Ve.memoizedState=Dt=n:Dt=Dt.next=n}return Dt}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(n){var i=fl;return fl+=1,za===null&&(za=[]),n=ay(za,n,i),i=Ve,(Dt===null?i.memoizedState:Dt.next)===null&&(i=i.alternate,$.H=i===null||i.memoizedState===null?Yy:$y),n}function fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return dl(n);if(n.$$typeof===K)return rn(n)}throw Error(s(438,String(n)))}function ld(n){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=od(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=D;return i.index++,a}function Zr(n,i){return typeof i=="function"?i(n):i}function dc(n){var i=Ot();return ud(i,nt,n)}function ud(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var b=T=null,I=null,F=i,te=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(He&ie)===ie:(Ii&ie)===ie){var H=F.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Ua&&(te=!0);else if((Ii&H)===H){F=F.next,H===Ua&&(te=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=ie,T=d):I=I.next=ie,Ve.lanes|=H,ki|=H;ie=F.action,Ls&&a(d,ie),d=F.hasEagerState?F.eagerState:a(d,ie)}else H={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=H,T=d):I=I.next=H,Ve.lanes|=ie,ki|=ie;F=F.next}while(F!==null&&F!==i);if(I===null?T=d:I.next=b,!Rn(d,n.memoizedState)&&(qt=!0,te&&(a=ja,a!==null)))throw a;n.memoizedState=d,n.baseState=T,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function cd(n){var i=Ot(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=n(d,T.action),T=T.next;while(T!==f);Rn(d,i.memoizedState)||(qt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function my(n,i,a){var l=Ve,f=Ot(),d=Ye;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!Rn((nt||f).memoizedState,a);T&&(f.memoizedState=a,qt=!0),f=f.queue;var b=yy.bind(null,l,f,n);if(ml(2048,8,b,[n]),f.getSnapshot!==i||T||Dt!==null&&Dt.memoizedState.tag&1){if(l.flags|=2048,qa(9,mc(),gy.bind(null,l,f,a,i),null),ot===null)throw Error(s(349));d||(Ii&124)!==0||py(l,i,a)}return a}function py(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=od(),Ve.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function gy(n,i,a,l){i.value=a,i.getSnapshot=l,vy(i)&&_y(n)}function yy(n,i,a){return a(function(){vy(i)&&_y(n)})}function vy(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Rn(n,a)}catch{return!0}}function _y(n){var i=Ma(n,2);i!==null&&On(i,n,2)}function hd(n){var i=_n();if(typeof n=="function"){var a=n;if(n=a(),Ls){An(!0);try{a()}finally{An(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:n},i}function Ey(n,i,a,l){return n.baseState=a,ud(n,nt,typeof l=="function"?l:Zr)}function bS(n,i,a,l,f){if(gc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Ty(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Ty(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=$.T,T={};$.T=T;try{var b=a(f,l),I=$.S;I!==null&&I(T,b),by(n,i,b)}catch(F){fd(n,i,F)}finally{$.T=d}}else try{d=a(f,l),by(n,i,d)}catch(F){fd(n,i,F)}}function by(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(n,i,l)},function(l){return fd(n,i,l)}):Sy(n,i,a)}function Sy(n,i,a){i.status="fulfilled",i.value=a,Ay(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Ty(n,a)))}function fd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ay(i),i=i.next;while(i!==l)}n.action=null}function Ay(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function wy(n,i){return i}function Ry(n,i){if(Ye){var a=ot.formState;if(a!==null){e:{var l=Ve;if(Ye){if(yt){t:{for(var f=yt,d=_r;f.nodeType!==8;){if(!d){f=null;break t}if(f=nr(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){yt=nr(f.nextSibling),l=f.data==="F!";break e}}Vs(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:i},a.queue=l,a=Gy.bind(null,Ve,l),l.dispatch=a,l=hd(!1),d=yd.bind(null,Ve,!1,l.queue),l=_n(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=bS.bind(null,Ve,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function Ny(n){var i=Ot();return Cy(i,nt,n)}function Cy(n,i,a){if(i=ud(n,i,wy)[0],n=dc(Zr)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(T){throw T===ol?oc:T}else l=i;i=Ot();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,qa(9,mc(),SS.bind(null,f,a),null)),[l,d,n]}function SS(n,i){n.action=i}function Iy(n){var i=Ot(),a=nt;if(a!==null)return Cy(i,a,n);Ot(),i=i.memoizedState,a=Ot();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function qa(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=od(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function mc(){return{destroy:void 0,resource:void 0}}function xy(){return Ot().memoizedState}function pc(n,i,a,l){var f=_n();l=l===void 0?null:l,Ve.flags|=n,f.memoizedState=qa(1|i,mc(),a,l)}function ml(n,i,a,l){var f=Ot();l=l===void 0?null:l;var d=f.memoizedState.inst;nt!==null&&l!==null&&nd(l,nt.memoizedState.deps)?f.memoizedState=qa(i,d,a,l):(Ve.flags|=n,f.memoizedState=qa(1|i,d,a,l))}function Dy(n,i){pc(8390656,8,n,i)}function Oy(n,i){ml(2048,8,n,i)}function My(n,i){return ml(4,2,n,i)}function Py(n,i){return ml(4,4,n,i)}function Vy(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function ky(n,i,a){a=a!=null?a.concat([n]):null,ml(4,4,Vy.bind(null,i,n),a)}function dd(){}function Uy(n,i){var a=Ot();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&nd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function jy(n,i){var a=Ot();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&nd(i,l[1]))return l[0];if(l=n(),Ls){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,i],l}function md(n,i,a){return a===void 0||(Ii&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=zv(),Ve.lanes|=n,ki|=n,a)}function Ly(n,i,a,l){return Rn(a,i)?a:La.current!==null?(n=md(n,a,l),Rn(n,i)||(qt=!0),n):(Ii&42)===0?(qt=!0,n.memoizedState=a):(n=zv(),Ve.lanes|=n,ki|=n,i)}function By(n,i,a,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var T=$.T,b={};$.T=b,yd(n,!1,i,a);try{var I=f(),F=$.S;if(F!==null&&F(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var te=_S(I,l);pl(n,i,te,Dn(n))}else pl(n,i,l,Dn(n))}catch(ie){pl(n,i,{then:function(){},status:"rejected",reason:ie},Dn())}finally{ce.p=d,$.T=T}}function AS(){}function pd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=zy(n).queue;By(n,f,i,pe,a===null?AS:function(){return qy(n),a(l)})}function zy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:pe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zr,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function qy(n){var i=zy(n).next.queue;pl(n,i,{},Dn())}function gd(){return rn(Ml)}function Fy(){return Ot().memoizedState}function Hy(){return Ot().memoizedState}function wS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=Dn();n=Ni(a);var l=Ci(i,n,a);l!==null&&(On(l,i,a),ul(l,i,a)),i={cache:Kf()},n.payload=i;return}i=i.return}}function RS(n,i,a){var l=Dn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(n)?Ky(i,a):(a=kf(n,i,a,l),a!==null&&(On(a,n,l),Qy(a,i,l)))}function Gy(n,i,a){var l=Dn();pl(n,i,a,l)}function pl(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(n))Ky(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,b=d(T,a);if(f.hasEagerState=!0,f.eagerState=b,Rn(b,T))return Zu(n,i,f,0),ot===null&&Ju(),!1}catch{}finally{}if(a=kf(n,i,f,l),a!==null)return On(a,n,l),Qy(a,i,l),!0}return!1}function yd(n,i,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(n)){if(i)throw Error(s(479))}else i=kf(n,a,l,2),i!==null&&On(i,n,2)}function gc(n){var i=n.alternate;return n===Ve||i!==null&&i===Ve}function Ky(n,i){Ba=cc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function Qy(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,Uo(n,a)}}var yc={readContext:rn,use:fc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},Yy={readContext:rn,use:fc,useCallback:function(n,i){return _n().memoizedState=[n,i===void 0?null:i],n},useContext:rn,useEffect:Dy,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,pc(4194308,4,Vy.bind(null,i,n),a)},useLayoutEffect:function(n,i){return pc(4194308,4,n,i)},useInsertionEffect:function(n,i){pc(4,2,n,i)},useMemo:function(n,i){var a=_n();i=i===void 0?null:i;var l=n();if(Ls){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=_n();if(a!==void 0){var f=a(i);if(Ls){An(!0);try{a(i)}finally{An(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=RS.bind(null,Ve,n),[l.memoizedState,n]},useRef:function(n){var i=_n();return n={current:n},i.memoizedState=n},useState:function(n){n=hd(n);var i=n.queue,a=Gy.bind(null,Ve,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(n,i){var a=_n();return md(a,n,i)},useTransition:function(){var n=hd(!1);return n=By.bind(null,Ve,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ve,f=_n();if(Ye){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),ot===null)throw Error(s(349));(He&124)!==0||py(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,Dy(yy.bind(null,l,d,n),[n]),l.flags|=2048,qa(9,mc(),gy.bind(null,l,d,a,i),null),a},useId:function(){var n=_n(),i=ot.identifierPrefix;if(Ye){var a=Xr,l=$r;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,i=""+i+"R"+a,a=hc++,0<a&&(i+="H"+a.toString(32)),i+=""}else a=ES++,i=""+i+"r"+a.toString(32)+"";return n.memoizedState=i},useHostTransitionStatus:gd,useFormState:Ry,useActionState:Ry,useOptimistic:function(n){var i=_n();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yd.bind(null,Ve,!0,a),a.dispatch=i,[n,i]},useMemoCache:ld,useCacheRefresh:function(){return _n().memoizedState=wS.bind(null,Ve)}},$y={readContext:rn,use:fc,useCallback:Uy,useContext:rn,useEffect:Oy,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:Py,useMemo:jy,useReducer:dc,useRef:xy,useState:function(){return dc(Zr)},useDebugValue:dd,useDeferredValue:function(n,i){var a=Ot();return Ly(a,nt.memoizedState,n,i)},useTransition:function(){var n=dc(Zr)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:dl(n),i]},useSyncExternalStore:my,useId:Fy,useHostTransitionStatus:gd,useFormState:Ny,useActionState:Ny,useOptimistic:function(n,i){var a=Ot();return Ey(a,nt,n,i)},useMemoCache:ld,useCacheRefresh:Hy},NS={readContext:rn,use:fc,useCallback:Uy,useContext:rn,useEffect:Oy,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:Py,useMemo:jy,useReducer:cd,useRef:xy,useState:function(){return cd(Zr)},useDebugValue:dd,useDeferredValue:function(n,i){var a=Ot();return nt===null?md(a,n,i):Ly(a,nt.memoizedState,n,i)},useTransition:function(){var n=cd(Zr)[0],i=Ot().memoizedState;return[typeof n=="boolean"?n:dl(n),i]},useSyncExternalStore:my,useId:Fy,useHostTransitionStatus:gd,useFormState:Iy,useActionState:Iy,useOptimistic:function(n,i){var a=Ot();return nt!==null?Ey(a,nt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Hy},Fa=null,gl=0;function vc(n){var i=gl;return gl+=1,Fa===null&&(Fa=[]),ay(Fa,n,i)}function yl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function _c(n,i){throw i.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Xy(n){var i=n._init;return i(n._payload)}function Wy(n){function i(B,U){if(n){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function a(B,U){if(!n)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=Yr(B,U),B.index=0,B.sibling=null,B}function d(B,U,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function T(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,q,ne){return U===null||U.tag!==6?(U=jf(q,B.mode,ne),U.return=B,U):(U=f(U,q),U.return=B,U)}function I(B,U,q,ne){var ge=q.type;return ge===M?te(B,U,q.props.children,ne,q.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Xy(ge)===U.type)?(U=f(U,q.props),yl(U,q),U.return=B,U):(U=tc(q.type,q.key,q.props,null,B.mode,ne),yl(U,q),U.return=B,U)}function F(B,U,q,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Lf(q,B.mode,ne),U.return=B,U):(U=f(U,q.children||[]),U.return=B,U)}function te(B,U,q,ne,ge){return U===null||U.tag!==7?(U=Ds(q,B.mode,ne,ge),U.return=B,U):(U=f(U,q),U.return=B,U)}function ie(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=jf(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return q=tc(U.type,U.key,U.props,null,B.mode,q),yl(q,U),q.return=B,q;case x:return U=Lf(U,B.mode,q),U.return=B,U;case N:var ne=U._init;return U=ne(U._payload),ie(B,U,q)}if(De(U)||L(U))return U=Ds(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return ie(B,vc(U),q);if(U.$$typeof===K)return ie(B,sc(B,U),q);_c(B,U)}return null}function H(B,U,q,ne){var ge=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:b(B,U,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===ge?I(B,U,q,ne):null;case x:return q.key===ge?F(B,U,q,ne):null;case N:return ge=q._init,q=ge(q._payload),H(B,U,q,ne)}if(De(q)||L(q))return ge!==null?null:te(B,U,q,ne,null);if(typeof q.then=="function")return H(B,U,vc(q),ne);if(q.$$typeof===K)return H(B,U,sc(B,q),ne);_c(B,q)}return null}function G(B,U,q,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return B=B.get(q)||null,b(U,B,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case R:return B=B.get(ne.key===null?q:ne.key)||null,I(U,B,ne,ge);case x:return B=B.get(ne.key===null?q:ne.key)||null,F(U,B,ne,ge);case N:var ke=ne._init;return ne=ke(ne._payload),G(B,U,q,ne,ge)}if(De(ne)||L(ne))return B=B.get(q)||null,te(U,B,ne,ge,null);if(typeof ne.then=="function")return G(B,U,q,vc(ne),ge);if(ne.$$typeof===K)return G(B,U,q,sc(U,ne),ge);_c(U,ne)}return null}function Re(B,U,q,ne){for(var ge=null,ke=null,_e=U,Ae=U=0,Ht=null;_e!==null&&Ae<q.length;Ae++){_e.index>Ae?(Ht=_e,_e=null):Ht=_e.sibling;var Ke=H(B,_e,q[Ae],ne);if(Ke===null){_e===null&&(_e=Ht);break}n&&_e&&Ke.alternate===null&&i(B,_e),U=d(Ke,U,Ae),ke===null?ge=Ke:ke.sibling=Ke,ke=Ke,_e=Ht}if(Ae===q.length)return a(B,_e),Ye&&Ms(B,Ae),ge;if(_e===null){for(;Ae<q.length;Ae++)_e=ie(B,q[Ae],ne),_e!==null&&(U=d(_e,U,Ae),ke===null?ge=_e:ke.sibling=_e,ke=_e);return Ye&&Ms(B,Ae),ge}for(_e=l(_e);Ae<q.length;Ae++)Ht=G(_e,B,Ae,q[Ae],ne),Ht!==null&&(n&&Ht.alternate!==null&&_e.delete(Ht.key===null?Ae:Ht.key),U=d(Ht,U,Ae),ke===null?ge=Ht:ke.sibling=Ht,ke=Ht);return n&&_e.forEach(function(Gi){return i(B,Gi)}),Ye&&Ms(B,Ae),ge}function Se(B,U,q,ne){if(q==null)throw Error(s(151));for(var ge=null,ke=null,_e=U,Ae=U=0,Ht=null,Ke=q.next();_e!==null&&!Ke.done;Ae++,Ke=q.next()){_e.index>Ae?(Ht=_e,_e=null):Ht=_e.sibling;var Gi=H(B,_e,Ke.value,ne);if(Gi===null){_e===null&&(_e=Ht);break}n&&_e&&Gi.alternate===null&&i(B,_e),U=d(Gi,U,Ae),ke===null?ge=Gi:ke.sibling=Gi,ke=Gi,_e=Ht}if(Ke.done)return a(B,_e),Ye&&Ms(B,Ae),ge;if(_e===null){for(;!Ke.done;Ae++,Ke=q.next())Ke=ie(B,Ke.value,ne),Ke!==null&&(U=d(Ke,U,Ae),ke===null?ge=Ke:ke.sibling=Ke,ke=Ke);return Ye&&Ms(B,Ae),ge}for(_e=l(_e);!Ke.done;Ae++,Ke=q.next())Ke=G(_e,B,Ae,Ke.value,ne),Ke!==null&&(n&&Ke.alternate!==null&&_e.delete(Ke.key===null?Ae:Ke.key),U=d(Ke,U,Ae),ke===null?ge=Ke:ke.sibling=Ke,ke=Ke);return n&&_e.forEach(function(CA){return i(B,CA)}),Ye&&Ms(B,Ae),ge}function it(B,U,q,ne){if(typeof q=="object"&&q!==null&&q.type===M&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var ge=q.key;U!==null;){if(U.key===ge){if(ge=q.type,ge===M){if(U.tag===7){a(B,U.sibling),ne=f(U,q.props.children),ne.return=B,B=ne;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Xy(ge)===U.type){a(B,U.sibling),ne=f(U,q.props),yl(ne,q),ne.return=B,B=ne;break e}a(B,U);break}else i(B,U);U=U.sibling}q.type===M?(ne=Ds(q.props.children,B.mode,ne,q.key),ne.return=B,B=ne):(ne=tc(q.type,q.key,q.props,null,B.mode,ne),yl(ne,q),ne.return=B,B=ne)}return T(B);case x:e:{for(ge=q.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(B,U.sibling),ne=f(U,q.children||[]),ne.return=B,B=ne;break e}else{a(B,U);break}else i(B,U);U=U.sibling}ne=Lf(q,B.mode,ne),ne.return=B,B=ne}return T(B);case N:return ge=q._init,q=ge(q._payload),it(B,U,q,ne)}if(De(q))return Re(B,U,q,ne);if(L(q)){if(ge=L(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),Se(B,U,q,ne)}if(typeof q.then=="function")return it(B,U,vc(q),ne);if(q.$$typeof===K)return it(B,U,sc(B,q),ne);_c(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(B,U.sibling),ne=f(U,q),ne.return=B,B=ne):(a(B,U),ne=jf(q,B.mode,ne),ne.return=B,B=ne),T(B)):a(B,U)}return function(B,U,q,ne){try{gl=0;var ge=it(B,U,q,ne);return Fa=null,ge}catch(_e){if(_e===ol||_e===oc)throw _e;var ke=Nn(29,_e,null,B.mode);return ke.lanes=ne,ke.return=B,ke}finally{}}}var Ha=Wy(!0),Jy=Wy(!1),Kn=ee(null),Er=null;function xi(n){var i=n.alternate;Z(Lt,Lt.current&1),Z(Kn,n),Er===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(Er=n)}function Zy(n){if(n.tag===22){if(Z(Lt,Lt.current),Z(Kn,n),Er===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Er=n)}}else Di()}function Di(){Z(Lt,Lt.current),Z(Kn,Kn.current)}function ei(n){W(Kn),Er===n&&(Er=null),W(Lt)}var Lt=ee(0);function Ec(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||om(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var _d={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=Dn(),f=Ni(l);f.payload=i,a!=null&&(f.callback=a),i=Ci(n,f,l),i!==null&&(On(i,n,l),ul(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=Dn(),f=Ni(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Ci(n,f,l),i!==null&&(On(i,n,l),ul(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=Dn(),l=Ni(a);l.tag=2,i!=null&&(l.callback=i),i=Ci(n,l,a),i!==null&&(On(i,n,a),ul(i,n,a))}};function ev(n,i,a,l,f,d,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(f,d):!0}function tv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&_d.enqueueReplaceState(i,i.state,null)}function Bs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function nv(n){Tc(n)}function rv(n){console.error(n)}function iv(n){Tc(n)}function bc(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function sv(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(n,i,a){return a=Ni(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(n,i)},a}function av(n){return n=Ni(n),n.tag=3,n}function ov(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){sv(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){sv(i,a,l),typeof f!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function CS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&il(i,a,f,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Er===null?Hd():a.alternate===null&&vt===0&&(vt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===$f?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Kd(n,l,f)),!1;case 22:return a.flags|=65536,l===$f?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Kd(n,l,f)),!1}throw Error(s(435,a.tag))}return Kd(n,l,f),Hd(),!1}if(Ye)return i=Kn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==qf&&(n=Error(s(422),{cause:l}),rl(qn(n,a)))):(l!==qf&&(i=Error(s(423),{cause:l}),rl(qn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=qn(l,a),f=Ed(n.stateNode,l,f),Jf(n,f),vt!==4&&(vt=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),Al===null?Al=[d]:Al.push(d),vt!==4&&(vt=2),i===null)return!0;l=qn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ed(a.stateNode,l,n),Jf(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ui===null||!Ui.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=av(f),ov(f,n,a,l),Jf(a,f),!1}a=a.return}while(a!==null);return!1}var lv=Error(s(461)),qt=!1;function Yt(n,i,a,l){i.child=n===null?Jy(i,null,a,l):Ha(i,n.child,a,l)}function uv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Us(i),l=rd(n,i,a,T,d,f),b=id(),n!==null&&!qt?(sd(n,i,f),ti(n,i,f)):(Ye&&b&&Bf(i),i.flags|=1,Yt(n,i,l,f),i.child)}function cv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,hv(n,i,d,l,f)):(n=tc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Cd(n,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(T,l)&&n.ref===i.ref)return ti(n,i,f)}return i.flags|=1,n=Yr(d,l),n.ref=i.ref,n.return=i,i.child=n}function hv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(Zo(d,l)&&n.ref===i.ref)if(qt=!1,i.pendingProps=l=d,Cd(n,f))(n.flags&131072)!==0&&(qt=!0);else return i.lanes=n.lanes,ti(n,i,f)}return Td(n,i,a,l,f)}function fv(n,i,a){var l=i.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return dv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&ac(i,d!==null?d.cachePool:null),d!==null?hy(i,d):ed(),Zy(i);else return i.lanes=i.childLanes=536870912,dv(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(ac(i,d.cachePool),hy(i,d),Di(),i.memoizedState=null):(n!==null&&ac(i,null),ed(),Di());return Yt(n,i,f,a),i.child}function dv(n,i,a,l){var f=Yf();return f=f===null?null:{parent:jt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&ac(i,null),ed(),Zy(i),n!==null&&il(n,i,l,!0),null}function Sc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Td(n,i,a,l,f){return Us(i),a=rd(n,i,a,l,void 0,f),l=id(),n!==null&&!qt?(sd(n,i,f),ti(n,i,f)):(Ye&&l&&Bf(i),i.flags|=1,Yt(n,i,a,f),i.child)}function mv(n,i,a,l,f,d){return Us(i),i.updateQueue=null,a=dy(i,l,a,f),fy(n),l=id(),n!==null&&!qt?(sd(n,i,d),ti(n,i,d)):(Ye&&l&&Bf(i),i.flags|=1,Yt(n,i,a,d),i.child)}function pv(n,i,a,l,f){if(Us(i),i.stateNode===null){var d=Pa,T=a.contextType;typeof T=="object"&&T!==null&&(d=rn(T)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),T=a.contextType,d.context=typeof T=="object"&&T!==null?rn(T):Pa,d.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(vd(i,a,T,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&_d.enqueueReplaceState(d,d.state,null),hl(i,l,d,f),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var b=i.memoizedProps,I=Bs(a,b);d.props=I;var F=d.context,te=a.contextType;T=Pa,typeof te=="object"&&te!==null&&(T=rn(te));var ie=a.getDerivedStateFromProps;te=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,te||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==T)&&tv(i,d,l,T),Ri=!1;var H=i.memoizedState;d.state=H,hl(i,l,d,f),cl(),F=i.memoizedState,b||H!==F||Ri?(typeof ie=="function"&&(vd(i,a,ie,l),F=i.memoizedState),(I=Ri||ev(i,a,I,l,H,F,T))?(te||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=T,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(n,i),T=i.memoizedProps,te=Bs(a,T),d.props=te,ie=i.pendingProps,H=d.context,F=a.contextType,I=Pa,typeof F=="object"&&F!==null&&(I=rn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ie||H!==I)&&tv(i,d,l,I),Ri=!1,H=i.memoizedState,d.state=H,hl(i,l,d,f),cl();var G=i.memoizedState;T!==ie||H!==G||Ri||n!==null&&n.dependencies!==null&&ic(n.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),G=i.memoizedState),(te=Ri||ev(i,a,te,l,H,G,I)||n!==null&&n.dependencies!==null&&ic(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=G),d.props=l,d.state=G,d.context=I,l=te):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,Sc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ha(i,n.child,null,f),i.child=Ha(i,null,a,f)):Yt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=ti(n,i,f),n}function gv(n,i,a,l){return nl(),i.flags|=256,Yt(n,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(n){return{baseLanes:n,cachePool:ry()}}function Ad(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Qn),n}function yv(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Ye){if(f?xi(i):Di(),Ye){var b=yt,I;if(I=b){e:{for(I=b,b=_r;I.nodeType!==8;){if(!b){b=null;break e}if(I=nr(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(i.memoizedState={dehydrated:b,treeContext:Os!==null?{id:$r,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},I=Nn(18,null,null,0),I.stateNode=b,I.return=i,i.child=I,pn=i,yt=null,I=!0):I=!1}I||Vs(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return om(b)?i.lanes=32:i.lanes=536870912,null;ei(i)}return b=l.children,l=l.fallback,f?(Di(),f=i.mode,b=Ac({mode:"hidden",children:b},f),l=Ds(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=Sd(a),f.childLanes=Ad(n,T,a),i.memoizedState=bd,l):(xi(i),wd(i,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)i.flags&256?(xi(i),i.flags&=-257,i=Rd(n,i,a)):i.memoizedState!==null?(Di(),i.child=n.child,i.flags|=128,i=null):(Di(),f=l.fallback,b=i.mode,l=Ac({mode:"visible",children:l.children},b),f=Ds(f,b,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ha(i,n.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(n,T,a),i.memoizedState=bd,i=f);else if(xi(i),om(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(s(419)),l.stack="",l.digest=T,rl({value:l,source:null,stack:null}),i=Rd(n,i,a)}else if(qt||il(n,i,a,!1),T=(a&n.childLanes)!==0,qt||T){if(T=ot,T!==null&&(l=a&-a,l=(l&42)!==0?1:vi(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,Ma(n,l),On(T,n,l),lv;b.data==="$?"||Hd(),i=Rd(n,i,a)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,yt=nr(b.nextSibling),pn=i,Ye=!0,Ps=null,_r=!1,n!==null&&(Hn[Gn++]=$r,Hn[Gn++]=Xr,Hn[Gn++]=Os,$r=n.id,Xr=n.overflow,Os=i),i=wd(i,l.children),i.flags|=4096);return i}return f?(Di(),f=l.fallback,b=i.mode,I=n.child,F=I.sibling,l=Yr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?f=Yr(F,f):(f=Ds(f,b,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=n.child.memoizedState,b===null?b=Sd(a):(I=b.cachePool,I!==null?(F=jt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=ry(),b={baseLanes:b.baseLanes|a,cachePool:I}),f.memoizedState=b,f.childLanes=Ad(n,T,a),i.memoizedState=bd,l):(xi(i),a=n.child,n=a.sibling,a=Yr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function wd(n,i){return i=Ac({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Ac(n,i){return n=Nn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Rd(n,i,a){return Ha(i,n.child,null,a),n=wd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function vv(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Hf(n.return,i,a)}function Nd(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function _v(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(Yt(n,i,l.children,a),l=Lt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vv(n,a,i);else if(n.tag===19)vv(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(Z(Lt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&Ec(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Nd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Nd(i,!0,a,null,d);break;case"together":Nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ti(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),ki|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(il(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Yr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Yr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Cd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ic(n)))}function IS(n,i,a){switch(i.tag){case 3:re(i,i.stateNode.containerInfo),wi(i,jt,n.memoizedState.cache),nl();break;case 27:case 5:ze(i);break;case 4:re(i,i.stateNode.containerInfo);break;case 10:wi(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(xi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?yv(n,i,a):(xi(i),n=ti(n,i,a),n!==null?n.sibling:null);xi(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(il(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return _v(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Z(Lt,Lt.current),l)break;return null;case 22:case 23:return i.lanes=0,fv(n,i,a);case 24:wi(i,jt,n.memoizedState.cache)}return ti(n,i,a)}function Ev(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)qt=!0;else{if(!Cd(n,a)&&(i.flags&128)===0)return qt=!1,IS(n,i,a);qt=(n.flags&131072)!==0}else qt=!1,Ye&&(i.flags&1048576)!==0&&Xg(i,rc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")Uf(l)?(n=Bs(l,n),i.tag=1,i=pv(null,i,l,n,a)):(i.tag=0,i=Td(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ue){i.tag=11,i=uv(null,i,l,n,a);break e}else if(f===V){i.tag=14,i=cv(null,i,l,n,a);break e}}throw i=he(l)||l,Error(s(306,i,""))}}return i;case 0:return Td(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Bs(l,i.pendingProps),pv(n,i,l,f,a);case 3:e:{if(re(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Wf(n,i),hl(i,l,null,a);var T=i.memoizedState;if(l=T.cache,wi(i,jt,l),l!==d.cache&&Gf(i,[jt],a,!0),cl(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=gv(n,i,l,a);break e}else if(l!==f){f=qn(Error(s(424)),i),rl(f),i=gv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(yt=nr(n.firstChild),pn=i,Ye=!0,Ps=null,_r=!0,a=Jy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),l===f){i=ti(n,i,a);break e}Yt(n,i,l,a)}i=i.child}return i;case 26:return Sc(n,i),n===null?(a=A_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Ye||(a=i.type,n=i.pendingProps,l=jc(Ee.current).createElement(a),l[Vt]=i,l[It]=n,Xt(l,a,n),At(l),i.stateNode=l):i.memoizedState=A_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return ze(i),n===null&&Ye&&(l=i.stateNode=T_(i.type,i.pendingProps,Ee.current),pn=i,_r=!0,f=yt,Bi(i.type)?(lm=f,yt=nr(l.firstChild)):yt=f),Yt(n,i,i.pendingProps.children,a),Sc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Ye&&((f=l=yt)&&(l=rA(l,i.type,i.pendingProps,_r),l!==null?(i.stateNode=l,pn=i,yt=nr(l.firstChild),_r=!1,f=!0):f=!1),f||Vs(i)),ze(i),f=i.type,d=i.pendingProps,T=n!==null?n.memoizedProps:null,l=d.children,im(f,d)?l=null:T!==null&&im(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=rd(n,i,TS,null,null,a),Ml._currentValue=f),Sc(n,i),Yt(n,i,l,a),i.child;case 6:return n===null&&Ye&&((n=a=yt)&&(a=iA(a,i.pendingProps,_r),a!==null?(i.stateNode=a,pn=i,yt=null,n=!0):n=!1),n||Vs(i)),null;case 13:return yv(n,i,a);case 4:return re(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ha(i,null,l,a):Yt(n,i,l,a),i.child;case 11:return uv(n,i,i.type,i.pendingProps,a);case 7:return Yt(n,i,i.pendingProps,a),i.child;case 8:return Yt(n,i,i.pendingProps.children,a),i.child;case 12:return Yt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,wi(i,i.type,l.value),Yt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,Us(i),f=rn(f),l=l(f),i.flags|=1,Yt(n,i,l,a),i.child;case 14:return cv(n,i,i.type,i.pendingProps,a);case 15:return hv(n,i,i.type,i.pendingProps,a);case 19:return _v(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Ac(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Yr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return fv(n,i,a);case 24:return Us(i),l=rn(jt),n===null?(f=Yf(),f===null&&(f=ot,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Xf(i),wi(i,jt,f)):((n.lanes&a)!==0&&(Wf(n,i),hl(i,null,null,a),cl()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),wi(i,jt,l)):(l=d.cache,wi(i,jt,l),l!==f.cache&&Gf(i,[jt],a,!0))),Yt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function ni(n){n.flags|=4}function Tv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!I_(i)){if(i=Kn.current,i!==null&&((He&4194048)===He?Er!==null:(He&62914560)!==He&&(He&536870912)===0||i!==Er))throw ll=$f,iy;n.flags|=8192}}function wc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Vo():536870912,n.lanes|=i,Ya|=i)}function vl(n,i){if(!Ye)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function dt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function xS(n,i,a){var l=i.pendingProps;switch(zf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(i),null;case 1:return dt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Jr(jt),be(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(tl(i)?ni(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zg())),dt(i),null;case 26:return a=i.memoizedState,n===null?(ni(i),a!==null?(dt(i),Tv(i,a)):(dt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(ni(i),dt(i),Tv(i,a)):(dt(i),i.flags&=-16777217):(n.memoizedProps!==l&&ni(i),dt(i),i.flags&=-16777217),null;case 27:Xe(i),a=Ee.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ni(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return dt(i),null}n=de.current,tl(i)?Wg(i):(n=T_(f,l,a),i.stateNode=n,ni(i))}return dt(i),null;case 5:if(Xe(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&ni(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return dt(i),null}if(n=de.current,tl(i))Wg(i);else{switch(f=jc(Ee.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Vt]=i,n[It]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&ni(i)}}return dt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&ni(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Ee.current,tl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Vt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m_(n.nodeValue,a)),n||Vs(i)}else n=jc(n).createTextNode(l),n[Vt]=i,i.stateNode=n}return dt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=tl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Vt]=i}else nl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;dt(i),f=!1}else f=Zg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ei(i),i):(ei(i),null)}if(ei(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),wc(i,i.updateQueue),dt(i),null;case 4:return be(),n===null&&Zd(i.stateNode.containerInfo),dt(i),null;case 10:return Jr(i.type),dt(i),null;case 19:if(W(Lt),f=i.memoizedState,f===null)return dt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)vl(f,!1);else{if(vt!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=Ec(n),d!==null){for(i.flags|=128,vl(f,!1),n=d.updateQueue,i.updateQueue=n,wc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)$g(a,n),a=a.sibling;return Z(Lt,Lt.current&1|2),i.child}n=n.sibling}f.tail!==null&&vn()>Cc&&(i.flags|=128,l=!0,vl(f,!1),i.lanes=4194304)}else{if(!l)if(n=Ec(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,wc(i,n),vl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ye)return dt(i),null}else 2*vn()-f.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,l=!0,vl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=vn(),i.sibling=null,n=Lt.current,Z(Lt,l?n&1|2:n&1),i):(dt(i),null);case 22:case 23:return ei(i),td(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(dt(i),i.subtreeFlags&6&&(i.flags|=8192)):dt(i),a=i.updateQueue,a!==null&&wc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&W(js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Jr(jt),dt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function DS(n,i){switch(zf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Jr(jt),be(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Xe(i),null;case 13:if(ei(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));nl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return W(Lt),null;case 4:return be(),null;case 10:return Jr(i.type),null;case 22:case 23:return ei(i),td(),n!==null&&W(js),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Jr(jt),null;case 25:return null;default:return null}}function bv(n,i){switch(zf(i),i.tag){case 3:Jr(jt),be();break;case 26:case 27:case 5:Xe(i);break;case 4:be();break;case 13:ei(i);break;case 19:W(Lt);break;case 10:Jr(i.type);break;case 22:case 23:ei(i),td(),n!==null&&W(js);break;case 24:Jr(jt)}}function _l(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){st(i,i.return,b)}}function Oi(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=i;var I=a,F=b;try{F()}catch(te){st(f,I,te)}}}l=l.next}while(l!==d)}}catch(te){st(i,i.return,te)}}function Sv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{cy(i,a)}catch(l){st(n,n.return,l)}}}function Av(n,i,a){a.props=Bs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){st(n,i,l)}}function El(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){st(n,i,f)}}function Tr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){st(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){st(n,i,f)}else a.current=null}function wv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){st(n,n.return,f)}}function Id(n,i,a){try{var l=n.stateNode;JS(l,n.type,a,i),l[It]=i}catch(f){st(n,n.return,f)}}function Rv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Bi(n.type)||n.tag===4}function xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Rv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Bi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Uc));else if(l!==4&&(l===27&&Bi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Dd(n,i,a),n=n.sibling;n!==null;)Dd(n,i,a),n=n.sibling}function Rc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Bi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Rc(n,i,a),n=n.sibling;n!==null;)Rc(n,i,a),n=n.sibling}function Nv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Xt(i,l,a),i[Vt]=n,i[It]=a}catch(d){st(n,n.return,d)}}var ri=!1,Rt=!1,Od=!1,Cv=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function OS(n,i){if(n=n.containerInfo,nm=Hc,n=Lg(n),xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,b=-1,I=-1,F=0,te=0,ie=n,H=null;t:for(;;){for(var G;ie!==a||f!==0&&ie.nodeType!==3||(b=T+f),ie!==d||l!==0&&ie.nodeType!==3||(I=T+l),ie.nodeType===3&&(T+=ie.nodeValue.length),(G=ie.firstChild)!==null;)H=ie,ie=G;for(;;){if(ie===n)break t;if(H===a&&++F===f&&(b=T),H===d&&++te===l&&(I=T),(G=ie.nextSibling)!==null)break;ie=H,H=ie.parentNode}ie=G}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:n,selectionRange:a},Hc=!1,Ft=i;Ft!==null;)if(i=Ft,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Ft=n;else for(;Ft!==null;){switch(i=Ft,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Re=Bs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Re,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Se){st(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)am(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Ft=n;break}Ft=i.return}}function Iv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mi(n,a),l&4&&_l(5,a);break;case 1:if(Mi(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){st(a,a.return,T)}else{var f=Bs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){st(a,a.return,T)}}l&64&&Sv(a),l&512&&El(a,a.return);break;case 3:if(Mi(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{cy(n,i)}catch(T){st(a,a.return,T)}}break;case 27:i===null&&l&4&&Nv(a);case 26:case 5:Mi(n,a),i===null&&l&4&&wv(a),l&512&&El(a,a.return);break;case 12:Mi(n,a);break;case 13:Mi(n,a),l&4&&Ov(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=zS.bind(null,a),sA(n,a))));break;case 22:if(l=a.memoizedState!==null||ri,!l){i=i!==null&&i.memoizedState!==null||Rt,f=ri;var d=Rt;ri=l,(Rt=i)&&!d?Pi(n,a,(a.subtreeFlags&8772)!==0):Mi(n,a),ri=f,Rt=d}break;case 30:break;default:Mi(n,a)}}function xv(n){var i=n.alternate;i!==null&&(n.alternate=null,xv(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ti(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ft=null,En=!1;function ii(n,i,a){for(a=a.child;a!==null;)Dv(n,i,a),a=a.sibling}function Dv(n,i,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(gt,a)}catch{}switch(a.tag){case 26:Rt||Tr(a,i),ii(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Tr(a,i);var l=ft,f=En;Bi(a.type)&&(ft=a.stateNode,En=!1),ii(n,i,a),Il(a.stateNode),ft=l,En=f;break;case 5:Rt||Tr(a,i);case 6:if(l=ft,f=En,ft=null,ii(n,i,a),ft=l,En=f,ft!==null)if(En)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){st(a,i,d)}else try{ft.removeChild(a.stateNode)}catch(d){st(a,i,d)}break;case 18:ft!==null&&(En?(n=ft,__(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ul(n)):__(ft,a.stateNode));break;case 4:l=ft,f=En,ft=a.stateNode.containerInfo,En=!0,ii(n,i,a),ft=l,En=f;break;case 0:case 11:case 14:case 15:Rt||Oi(2,a,i),Rt||Oi(4,a,i),ii(n,i,a);break;case 1:Rt||(Tr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Av(a,i,l)),ii(n,i,a);break;case 21:ii(n,i,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,ii(n,i,a),Rt=l;break;default:ii(n,i,a)}}function Ov(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ul(n)}catch(a){st(i,i.return,a)}}function MS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Cv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Cv),i;default:throw Error(s(435,n.tag))}}function Md(n,i){var a=MS(n);i.forEach(function(l){var f=qS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Cn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,T=i,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Bi(b.type)){ft=b.stateNode,En=!1;break e}break;case 5:ft=b.stateNode,En=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,En=!0;break e}b=b.return}if(ft===null)throw Error(s(160));Dv(d,T,f),ft=null,En=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Mv(i,n),i=i.sibling}var tr=null;function Mv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(i,n),In(n),l&4&&(Oi(3,n,n.return),_l(3,n),Oi(5,n,n.return));break;case 1:Cn(i,n),In(n),l&512&&(Rt||a===null||Tr(a,a.return)),l&64&&ri&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=tr;if(Cn(i,n),In(n),l&512&&(Rt||a===null||Tr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ps]||d[Vt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[Vt]=n,At(d),l=d;break e;case"link":var T=N_("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(d=T[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(T=N_("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(d=T[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Vt]=n,At(d),l=d}n.stateNode=l}else C_(f,n.type,n.stateNode);else n.stateNode=R_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?C_(f,n.type,n.stateNode):R_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Id(n,n.memoizedProps,a.memoizedProps)}break;case 27:Cn(i,n),In(n),l&512&&(Rt||a===null||Tr(a,a.return)),a!==null&&l&4&&Id(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Cn(i,n),In(n),l&512&&(Rt||a===null||Tr(a,a.return)),n.flags&32){f=n.stateNode;try{jn(f,"")}catch(G){st(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Id(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Od=!0);break;case 6:if(Cn(i,n),In(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){st(n,n.return,G)}}break;case 3:if(zc=null,f=tr,tr=Lc(i.containerInfo),Cn(i,n),tr=f,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(i.containerInfo)}catch(G){st(n,n.return,G)}Od&&(Od=!1,Pv(n));break;case 4:l=tr,tr=Lc(n.stateNode.containerInfo),Cn(i,n),In(n),tr=l;break;case 12:Cn(i,n),In(n);break;case 13:Cn(i,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=vn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=ri,te=Rt;if(ri=F||f,Rt=te||I,Cn(i,n),Rt=te,ri=F,In(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||ri||Rt||zs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=I.stateNode;var ie=I.memoizedProps.style,H=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){st(I,I.return,G)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(G){st(I,I.return,G)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Md(n,a))));break;case 19:Cn(i,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 30:break;case 21:break;default:Cn(i,n),In(n)}}function In(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Rv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=xd(n);Rc(n,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(jn(T,""),a.flags&=-33);var b=xd(n);Rc(n,b,T);break;case 3:case 4:var I=a.stateNode.containerInfo,F=xd(n);Dd(n,F,I);break;default:throw Error(s(161))}}catch(te){st(n,n.return,te)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Pv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Pv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Mi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Iv(n,i.alternate,i),i=i.sibling}function zs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Oi(4,i,i.return),zs(i);break;case 1:Tr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Av(i,i.return,a),zs(i);break;case 27:Il(i.stateNode);case 26:case 5:Tr(i,i.return),zs(i);break;case 22:i.memoizedState===null&&zs(i);break;case 30:zs(i);break;default:zs(i)}n=n.sibling}}function Pi(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:Pi(f,d,a),_l(4,d);break;case 1:if(Pi(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){st(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)uy(I[f],b)}catch(F){st(l,l.return,F)}}a&&T&64&&Sv(d),El(d,d.return);break;case 27:Nv(d);case 26:case 5:Pi(f,d,a),a&&l===null&&T&4&&wv(d),El(d,d.return);break;case 12:Pi(f,d,a);break;case 13:Pi(f,d,a),a&&T&4&&Ov(f,d);break;case 22:d.memoizedState===null&&Pi(f,d,a),El(d,d.return);break;case 30:break;default:Pi(f,d,a)}i=i.sibling}}function Pd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&sl(a))}function Vd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&sl(n))}function br(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Vv(n,i,a,l),i=i.sibling}function Vv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:br(n,i,a,l),f&2048&&_l(9,i);break;case 1:br(n,i,a,l);break;case 3:br(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&sl(n)));break;case 12:if(f&2048){br(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,T=d.id,b=d.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){st(i,i.return,I)}}else br(n,i,a,l);break;case 13:br(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?br(n,i,a,l):Tl(n,i):d._visibility&2?br(n,i,a,l):(d._visibility|=2,Ga(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Pd(T,i);break;case 24:br(n,i,a,l),f&2048&&Vd(i.alternate,i);break;default:br(n,i,a,l)}}function Ga(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,T=i,b=a,I=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:Ga(d,T,b,I,f),_l(8,T);break;case 23:break;case 22:var te=T.stateNode;T.memoizedState!==null?te._visibility&2?Ga(d,T,b,I,f):Tl(d,T):(te._visibility|=2,Ga(d,T,b,I,f)),f&&F&2048&&Pd(T.alternate,T);break;case 24:Ga(d,T,b,I,f),f&&F&2048&&Vd(T.alternate,T);break;default:Ga(d,T,b,I,f)}i=i.sibling}}function Tl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:Tl(a,l),f&2048&&Pd(l.alternate,l);break;case 24:Tl(a,l),f&2048&&Vd(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var bl=8192;function Ka(n){if(n.subtreeFlags&bl)for(n=n.child;n!==null;)kv(n),n=n.sibling}function kv(n){switch(n.tag){case 26:Ka(n),n.flags&bl&&n.memoizedState!==null&&vA(tr,n.memoizedState,n.memoizedProps);break;case 5:Ka(n);break;case 3:case 4:var i=tr;tr=Lc(n.stateNode.containerInfo),Ka(n),tr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=bl,bl=16777216,Ka(n),bl=i):Ka(n));break;default:Ka(n)}}function Uv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Sl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,Lv(l,n)}Uv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jv(n),n=n.sibling}function jv(n){switch(n.tag){case 0:case 11:case 15:Sl(n),n.flags&2048&&Oi(9,n,n.return);break;case 3:Sl(n);break;case 12:Sl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,Nc(n)):Sl(n);break;default:Sl(n)}}function Nc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ft=l,Lv(l,n)}Uv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Oi(8,i,i.return),Nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Nc(i));break;default:Nc(i)}n=n.sibling}}function Lv(n,i){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Oi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=n;Ft!==null;){l=Ft;var f=l.sibling,d=l.return;if(xv(l),l===a){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var PS={getCacheForType:function(n){var i=rn(jt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},VS=typeof WeakMap=="function"?WeakMap:Map,Je=0,ot=null,Ue=null,He=0,Ze=0,xn=null,Vi=!1,Qa=!1,kd=!1,si=0,vt=0,ki=0,qs=0,Ud=0,Qn=0,Ya=0,Al=null,Tn=null,jd=!1,Ld=0,Cc=1/0,Ic=null,Ui=null,$t=0,ji=null,$a=null,Xa=0,Bd=0,zd=null,Bv=null,wl=0,qd=null;function Dn(){if((Je&2)!==0&&He!==0)return He&-He;if($.T!==null){var n=Ua;return n!==0?n:$d()}return _i()}function zv(){Qn===0&&(Qn=(He&536870912)===0||Ye?Po():536870912);var n=Kn.current;return n!==null&&(n.flags|=32),Qn}function On(n,i,a){(n===ot&&(Ze===2||Ze===9)||n.cancelPendingCommit!==null)&&(Wa(n,0),Li(n,He,Qn,!1)),Ur(n,a),((Je&2)===0||n!==ot)&&(n===ot&&((Je&2)===0&&(qs|=a),vt===4&&Li(n,He,Qn,!1)),Sr(n))}function qv(n,i,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||ms(n,i),f=l?jS(n,i):Gd(n,i,!0),d=l;do{if(f===0){Qa&&!l&&Li(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!kS(a)){f=Gd(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var b=n;f=Al;var I=b.current.memoizedState.isDehydrated;if(I&&(Wa(b,T).flags|=256),T=Gd(b,T,!1),T!==2){if(kd&&!I){b.errorRecoveryDisabledLanes|=d,qs|=d,f=4;break e}d=Tn,Tn=f,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){Wa(n,0),Li(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Li(l,i,Qn,!Vi);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ld+300-vn(),10<f)){if(Li(l,i,Qn,!Vi),ma(l,0,!0)!==0)break e;l.timeoutHandle=y_(Fv.bind(null,l,a,Tn,Ic,jd,i,Qn,qs,Ya,Vi,d,2,-0,0),f);break e}Fv(l,a,Tn,Ic,jd,i,Qn,qs,Ya,Vi,d,0,-0,0)}}break}while(!0);Sr(n)}function Fv(n,i,a,l,f,d,T,b,I,F,te,ie,H,G){if(n.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:yA},kv(i),ie=_A(),ie!==null)){n.cancelPendingCommit=ie(Xv.bind(null,n,i,d,a,l,f,T,b,I,te,1,H,G)),Li(n,d,T,!F);return}Xv(n,i,d,a,l,f,T,b,I)}function kS(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,a,l){i&=~Ud,i&=~qs,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-nn(f),T=1<<d;l[d]=-1,f&=~T}a!==0&&lr(n,a,i)}function xc(){return(Je&6)===0?(Rl(0),!1):!0}function Fd(){if(Ue!==null){if(Ze===0)var n=Ue.return;else n=Ue,Wr=ks=null,ad(n),Fa=null,gl=0,n=Ue;for(;n!==null;)bv(n.alternate,n),n=n.return;Ue=null}}function Wa(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,eA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fd(),ot=n,Ue=a=Yr(n.current,null),He=i,Ze=0,xn=null,Vi=!1,Qa=ms(n,i),kd=!1,Ya=Qn=Ud=qs=ki=vt=0,Tn=Al=null,jd=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-nn(l),d=1<<f;i|=n[f],l&=~d}return si=i,Ju(),a}function Hv(n,i){Ve=null,$.H=yc,i===ol||i===oc?(i=oy(),Ze=3):i===iy?(i=oy(),Ze=4):Ze=i===lv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,Ue===null&&(vt=1,bc(n,qn(i,n.current)))}function Gv(){var n=$.H;return $.H=yc,n===null?yc:n}function Kv(){var n=$.A;return $.A=PS,n}function Hd(){vt=4,Vi||(He&4194048)!==He&&Kn.current!==null||(Qa=!0),(ki&134217727)===0&&(qs&134217727)===0||ot===null||Li(ot,He,Qn,!1)}function Gd(n,i,a){var l=Je;Je|=2;var f=Gv(),d=Kv();(ot!==n||He!==i)&&(Ic=null,Wa(n,i)),i=!1;var T=vt;e:do try{if(Ze!==0&&Ue!==null){var b=Ue,I=xn;switch(Ze){case 8:Fd(),T=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(i=!0);var F=Ze;if(Ze=0,xn=null,Ja(n,b,I,F),a&&Qa){T=0;break e}break;default:F=Ze,Ze=0,xn=null,Ja(n,b,I,F)}}US(),T=vt;break}catch(te){Hv(n,te)}while(!0);return i&&n.shellSuspendCounter++,Wr=ks=null,Je=l,$.H=f,$.A=d,Ue===null&&(ot=null,He=0,Ju()),T}function US(){for(;Ue!==null;)Qv(Ue)}function jS(n,i){var a=Je;Je|=2;var l=Gv(),f=Kv();ot!==n||He!==i?(Ic=null,Cc=vn()+500,Wa(n,i)):Qa=ms(n,i);e:do try{if(Ze!==0&&Ue!==null){i=Ue;var d=xn;t:switch(Ze){case 1:Ze=0,xn=null,Ja(n,i,d,1);break;case 2:case 9:if(sy(d)){Ze=0,xn=null,Yv(i);break}i=function(){Ze!==2&&Ze!==9||ot!==n||(Ze=7),Sr(n)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:sy(d)?(Ze=0,xn=null,Yv(i)):(Ze=0,xn=null,Ja(n,i,d,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var b=Ue;if(!T||I_(T)){Ze=0,xn=null;var I=b.sibling;if(I!==null)Ue=I;else{var F=b.return;F!==null?(Ue=F,Dc(F)):Ue=null}break t}}Ze=0,xn=null,Ja(n,i,d,5);break;case 6:Ze=0,xn=null,Ja(n,i,d,6);break;case 8:Fd(),vt=6;break e;default:throw Error(s(462))}}LS();break}catch(te){Hv(n,te)}while(!0);return Wr=ks=null,$.H=l,$.A=f,Je=a,Ue!==null?0:(ot=null,He=0,Ju(),vt)}function LS(){for(;Ue!==null&&!Xn();)Qv(Ue)}function Qv(n){var i=Ev(n.alternate,n,si);n.memoizedProps=n.pendingProps,i===null?Dc(n):Ue=i}function Yv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=mv(a,i,i.pendingProps,i.type,void 0,He);break;case 11:i=mv(a,i,i.pendingProps,i.type.render,i.ref,He);break;case 5:ad(i);default:bv(a,i),i=Ue=$g(i,si),i=Ev(a,i,si)}n.memoizedProps=n.pendingProps,i===null?Dc(n):Ue=i}function Ja(n,i,a,l){Wr=ks=null,ad(i),Fa=null,gl=0;var f=i.return;try{if(CS(n,f,i,a,He)){vt=1,bc(n,qn(a,n.current)),Ue=null;return}}catch(d){if(f!==null)throw Ue=f,d;vt=1,bc(n,qn(a,n.current)),Ue=null;return}i.flags&32768?(Ye||l===1?n=!0:Qa||(He&536870912)!==0?n=!1:(Vi=n=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$v(i,n)):Dc(i)}function Dc(n){var i=n;do{if((i.flags&32768)!==0){$v(i,Vi);return}n=i.return;var a=xS(i.alternate,i,si);if(a!==null){Ue=a;return}if(i=i.sibling,i!==null){Ue=i;return}Ue=i=n}while(i!==null);vt===0&&(vt=5)}function $v(n,i){do{var a=DS(n.alternate,n);if(a!==null){a.flags&=32767,Ue=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){Ue=n;return}Ue=n=a}while(n!==null);vt=6,Ue=null}function Xv(n,i,a,l,f,d,T,b,I){n.cancelPendingCommit=null;do Oc();while($t!==0);if((Je&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Vf,ko(n,a,d,T,b,I),n===ot&&(Ue=ot=null,He=0),$a=i,ji=n,Xa=a,Bd=d,zd=f,Bv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,FS(cs,function(){return t_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ce.p,ce.p=2,T=Je,Je|=4;try{OS(n,i,a)}finally{Je=T,ce.p=f,$.T=l}}$t=1,Wv(),Jv(),Zv()}}function Wv(){if($t===1){$t=0;var n=ji,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var f=Je;Je|=4;try{Mv(i,n);var d=rm,T=Lg(n.containerInfo),b=d.focusedElem,I=d.selectionRange;if(T!==b&&b&&b.ownerDocument&&jg(b.ownerDocument.documentElement,b)){if(I!==null&&xf(b)){var F=I.start,te=I.end;if(te===void 0&&(te=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(te,b.value.length);else{var ie=b.ownerDocument||document,H=ie&&ie.defaultView||window;if(H.getSelection){var G=H.getSelection(),Re=b.textContent.length,Se=Math.min(I.start,Re),it=I.end===void 0?Se:Math.min(I.end,Re);!G.extend&&Se>it&&(T=it,it=Se,Se=T);var B=Ug(b,Se),U=Ug(b,it);if(B&&U&&(G.rangeCount!==1||G.anchorNode!==B.node||G.anchorOffset!==B.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var q=ie.createRange();q.setStart(B.node,B.offset),G.removeAllRanges(),Se>it?(G.addRange(q),G.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),G.addRange(q))}}}}for(ie=[],G=b;G=G.parentNode;)G.nodeType===1&&ie.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var ne=ie[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Hc=!!nm,rm=nm=null}finally{Je=f,ce.p=l,$.T=a}}n.current=i,$t=2}}function Jv(){if($t===2){$t=0;var n=ji,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var f=Je;Je|=4;try{Iv(n,i.alternate,i)}finally{Je=f,ce.p=l,$.T=a}}$t=3}}function Zv(){if($t===4||$t===3){$t=0,Vr();var n=ji,i=$a,a=Xa,l=Bv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$t=5:($t=0,$a=ji=null,e_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ui=null),pa(a),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(gt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=$.T,f=ce.p,ce.p=2,$.T=null;try{for(var d=n.onRecoverableError,T=0;T<l.length;T++){var b=l[T];d(b.value,{componentStack:b.stack})}}finally{$.T=i,ce.p=f}}(Xa&3)!==0&&Oc(),Sr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===qd?wl++:(wl=0,qd=n):wl=0,Rl(0)}}function e_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,sl(i)))}function Oc(n){return Wv(),Jv(),Zv(),t_()}function t_(){if($t!==5)return!1;var n=ji,i=Bd;Bd=0;var a=pa(Xa),l=$.T,f=ce.p;try{ce.p=32>a?32:a,$.T=null,a=zd,zd=null;var d=ji,T=Xa;if($t=0,$a=ji=null,Xa=0,(Je&6)!==0)throw Error(s(331));var b=Je;if(Je|=4,jv(d.current),Vv(d,d.current,T,a),Je=b,Rl(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(gt,d)}catch{}return!0}finally{ce.p=f,$.T=l,e_(n,i)}}function n_(n,i,a){i=qn(a,i),i=Ed(n.stateNode,i,2),n=Ci(n,i,2),n!==null&&(Ur(n,2),Sr(n))}function st(n,i,a){if(n.tag===3)n_(n,n,a);else for(;i!==null;){if(i.tag===3){n_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ui===null||!Ui.has(l))){n=qn(a,n),a=av(2),l=Ci(i,a,2),l!==null&&(ov(a,l,i,n),Ur(l,2),Sr(l));break}}i=i.return}}function Kd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new VS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(kd=!0,f.add(a),n=BS.bind(null,n,i,a),i.then(n,n))}function BS(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ot===n&&(He&a)===a&&(vt===4||vt===3&&(He&62914560)===He&&300>vn()-Ld?(Je&2)===0&&Wa(n,0):Ud|=a,Ya===He&&(Ya=0)),Sr(n)}function r_(n,i){i===0&&(i=Vo()),n=Ma(n,i),n!==null&&(Ur(n,i),Sr(n))}function zS(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),r_(n,a)}function qS(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),r_(n,a)}function FS(n,i){return tn(n,i)}var Mc=null,Za=null,Qd=!1,Pc=!1,Yd=!1,Fs=0;function Sr(n){n!==Za&&n.next===null&&(Za===null?Mc=Za=n:Za=Za.next=n),Pc=!0,Qd||(Qd=!0,GS())}function Rl(n,i){if(!Yd&&Pc){Yd=!0;do for(var a=!1,l=Mc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-nn(42|n)+1)-1,d&=f&~(T&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,o_(l,d))}else d=He,d=ma(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ms(l,d)||(a=!0,o_(l,d));l=l.next}while(a);Yd=!1}}function HS(){i_()}function i_(){Pc=Qd=!1;var n=0;Fs!==0&&(ZS()&&(n=Fs),Fs=0);for(var i=vn(),a=null,l=Mc;l!==null;){var f=l.next,d=s_(l,i);d===0?(l.next=null,a===null?Mc=f:a.next=f,f===null&&(Za=a)):(a=l,(n!==0||(d&3)!==0)&&(Pc=!0)),l=f}Rl(n)}function s_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var T=31-nn(d),b=1<<T,I=f[T];I===-1?((b&a)===0||(b&l)!==0)&&(f[T]=Mo(b,i)):I<=i&&(n.expiredLanes|=b),d&=~b}if(i=ot,a=He,a=ma(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ze===2||Ze===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&hn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ms(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&hn(l),pa(a)){case 2:case 8:a=fa;break;case 32:a=cs;break;case 268435456:a=da;break;default:a=cs}return l=a_.bind(null,n),a=tn(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&hn(l),n.callbackPriority=2,n.callbackNode=null,2}function a_(n,i){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Oc()&&n.callbackNode!==a)return null;var l=He;return l=ma(n,n===ot?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(qv(n,l,i),s_(n,vn()),n.callbackNode!=null&&n.callbackNode===a?a_.bind(null,n):null)}function o_(n,i){if(Oc())return null;qv(n,i,!0)}function GS(){tA(function(){(Je&6)!==0?tn(Do,HS):i_()})}function $d(){return Fs===0&&(Fs=Po()),Fs}function l_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function u_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function KS(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=l_((f[It]||null).action),T=l.submitter;T&&(i=(i=T[It]||null)?l_(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var b=new ba("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var I=T?u_(f,T):new FormData(f);pd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=T?u_(f,T):new FormData(f),pd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Xd=0;Xd<Pf.length;Xd++){var Wd=Pf[Xd],QS=Wd.toLowerCase(),YS=Wd[0].toUpperCase()+Wd.slice(1);er(QS,"on"+YS)}er(qg,"onAnimationEnd"),er(Fg,"onAnimationIteration"),er(Hg,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(hS,"onTransitionRun"),er(fS,"onTransitionStart"),er(dS,"onTransitionCancel"),er(Gg,"onTransitionEnd"),Lr("onMouseEnter",["mouseout","mouseover"]),Lr("onMouseLeave",["mouseout","mouseover"]),Lr("onPointerEnter",["pointerout","pointerover"]),Lr("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function c_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var b=l[T],I=b.instance,F=b.currentTarget;if(b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(te){Tc(te)}f.currentTarget=null,d=I}else for(T=0;T<l.length;T++){if(b=l[T],I=b.instance,F=b.currentTarget,b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(te){Tc(te)}f.currentTarget=null,d=I}}}}function je(n,i){var a=i[jo];a===void 0&&(a=i[jo]=new Set);var l=n+"__bubble";a.has(l)||(h_(i,n,2,!1),a.add(l))}function Jd(n,i,a){var l=0;i&&(l|=4),h_(a,n,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function Zd(n){if(!n[Vc]){n[Vc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&($S.has(a)||Jd(a,!1,n),Jd(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Jd("selectionchange",!1,i))}}function h_(n,i,a,l){switch(V_(i)){case 2:var f=bA;break;case 8:f=SA;break;default:f=dm}a=f.bind(null,i,a,n),f=void 0,!Bn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function em(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=jr(b),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=d=T;continue e}b=b.parentNode}}l=l.return}Uu(function(){var F=d,te=Ln(a),ie=[];e:{var H=Kg.get(n);if(H!==void 0){var G=ba,Re=n;switch(n){case"keypress":if(mr(a)===0)break e;case"keydown":case"keyup":G=Ca;break;case"focusin":Re="focus",G=wa;break;case"focusout":Re="blur",G=wa;break;case"beforeblur":case"afterblur":G=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Gu;break;case qg:case Fg:case Hg:G=Ra;break;case Gg:G=Qu;break;case"scroll":case"scrollend":G=ju;break;case"wheel":G=Ia;break;case"copy":case"cut":case"paste":G=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Wo;break;case"toggle":case"beforetoggle":G=$u}var Se=(i&4)!==0,it=!Se&&(n==="scroll"||n==="scrollend"),B=Se?H!==null?H+"Capture":null:H;Se=[];for(var U=F,q;U!==null;){var ne=U;if(q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||q===null||B===null||(ne=bs(U,B),ne!=null&&Se.push(Cl(U,ne,q))),it)break;U=U.return}0<Se.length&&(H=new G(H,Re,null,a,te),ie.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&a!==qr&&(Re=a.relatedTarget||a.fromElement)&&(jr(Re)||Re[Un]))break e;if((G||H)&&(H=te.window===te?te:(H=te.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Re=a.relatedTarget||a.toElement,G=F,Re=Re?jr(Re):null,Re!==null&&(it=u(Re),Se=Re.tag,Re!==it||Se!==5&&Se!==27&&Se!==6)&&(Re=null)):(G=null,Re=F),G!==Re)){if(Se=zn,ne="onMouseLeave",B="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Se=Wo,ne="onPointerLeave",B="onPointerEnter",U="pointer"),it=G==null?H:cr(G),q=Re==null?H:cr(Re),H=new Se(ne,U+"leave",G,a,te),H.target=it,H.relatedTarget=q,ne=null,jr(te)===F&&(Se=new Se(B,U+"enter",Re,a,te),Se.target=q,Se.relatedTarget=it,ne=Se),it=ne,G&&Re)t:{for(Se=G,B=Re,U=0,q=Se;q;q=eo(q))U++;for(q=0,ne=B;ne;ne=eo(ne))q++;for(;0<U-q;)Se=eo(Se),U--;for(;0<q-U;)B=eo(B),q--;for(;U--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=eo(Se),B=eo(B)}Se=null}else Se=null;G!==null&&f_(ie,H,G,Se,!1),Re!==null&&it!==null&&f_(ie,it,Re,Se,!0)}}e:{if(H=F?cr(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ge=Dg;else if(Ut(H))if(Og)ge=lS;else{ge=aS;var ke=sS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Ho(F.elementType)&&(ge=Dg):ge=oS;if(ge&&(ge=ge(n,F))){Qr(ie,ge,a,te);break e}ke&&ke(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Si(H,"number",H.value)}switch(ke=F?cr(F):window,n){case"focusin":(Ut(ke)||ke.contentEditable==="true")&&(xa=ke,Df=F,el=null);break;case"focusout":el=Df=xa=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,Bg(ie,a,te);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":Bg(ie,a,te)}var _e;if(yr)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else qe?Y(n,a)&&(Ae="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&a.locale!=="ko"&&(qe||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&qe&&(_e=Ko()):(dr=te,Ai="value"in dr?dr.value:dr.textContent,qe=!0)),ke=kc(F,Ae),0<ke.length&&(Ae=new $o(Ae,n,null,a,te),ie.push({event:Ae,listeners:ke}),_e?Ae.data=_e:(_e=fe(a),_e!==null&&(Ae.data=_e)))),(_e=y?kt(n,a):Fe(n,a))&&(Ae=kc(F,"onBeforeInput"),0<Ae.length&&(ke=new $o("onBeforeInput","beforeinput",null,a,te),ie.push({event:ke,listeners:Ae}),ke.data=_e)),KS(ie,n,F,a,te)}c_(ie,i)})}function Cl(n,i,a){return{instance:n,listener:i,currentTarget:a}}function kc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=bs(n,a),f!=null&&l.unshift(Cl(n,f,d)),f=bs(n,i),f!=null&&l.push(Cl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function f_(n,i,a,l,f){for(var d=i._reactName,T=[];a!==null&&a!==l;){var b=a,I=b.alternate,F=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||F===null||(I=F,f?(F=bs(a,d),F!=null&&T.unshift(Cl(a,F,I))):f||(F=bs(a,d),F!=null&&T.push(Cl(a,F,I)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var XS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function d_(n){return(typeof n=="string"?n:""+n).replace(XS,`
`).replace(WS,"")}function m_(n,i){return i=d_(i),d_(n)===i}function Uc(){}function rt(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||jn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&jn(n,""+l);break;case"className":hr(n,"class",l);break;case"tabIndex":hr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hr(n,a,l);break;case"style":Fo(n,l,d);break;case"data":if(i!=="object"){hr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&rt(n,i,"name",f.name,f,null),rt(n,i,"formEncType",f.formEncType,f,null),rt(n,i,"formMethod",f.formMethod,f,null),rt(n,i,"formTarget",f.formTarget,f,null)):(rt(n,i,"encType",f.encType,f,null),rt(n,i,"method",f.method,f,null),rt(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ta(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),bi(n,"popover",l);break;case"xlinkActuate":Kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":bi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,bi(n,a,l))}}function tm(n,i,a,l,f,d){switch(a){case"style":Fo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?jn(n,l):(typeof l=="number"||typeof l=="bigint")&&jn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[It]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):bi(n,a,l)}}}function Xt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(n,i,d,T,a,null)}}f&&rt(n,i,"srcSet",a.srcSet,a,null),l&&rt(n,i,"src",a.src,a,null);return;case"input":je("invalid",n);var b=d=T=f=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var te=a[l];if(te!=null)switch(l){case"name":f=te;break;case"type":T=te;break;case"checked":I=te;break;case"defaultChecked":F=te;break;case"value":d=te;break;case"defaultValue":b=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(s(137,i));break;default:rt(n,i,l,te,a,null)}}_s(n,d,b,I,F,T,f,!1),Ea(n);return;case"select":je("invalid",n),l=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:rt(n,i,f,b,a,null)}i=d,a=T,n.multiple=!!l,i!=null?zr(n,!!l,i,!1):a!=null&&zr(n,!!l,a,!0);return;case"textarea":je("invalid",n),d=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:rt(n,i,T,b,a,null)}Es(n,l,f,d),Ea(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:rt(n,i,I,l,a,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<Nl.length;l++)je(Nl[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:rt(n,i,F,l,a,null)}return;default:if(Ho(i)){for(te in a)a.hasOwnProperty(te)&&(l=a[te],l!==void 0&&tm(n,i,te,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&rt(n,i,b,l,a,null))}function JS(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,b=null,I=null,F=null,te=null;for(G in a){var ie=a[G];if(a.hasOwnProperty(G)&&ie!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":I=ie;default:l.hasOwnProperty(G)||rt(n,i,G,null,l,ie)}}for(var H in l){var G=l[H];if(ie=a[H],l.hasOwnProperty(H)&&(G!=null||ie!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":te=G;break;case"value":T=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,i));break;default:G!==ie&&rt(n,i,H,G,l,ie)}}wn(n,T,b,I,F,te,d,f);return;case"select":G=T=b=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":G=I;default:l.hasOwnProperty(d)||rt(n,i,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":T=d;default:d!==I&&rt(n,i,f,d,l,I)}i=b,a=T,l=G,H!=null?zr(n,!!a,H,!1):!!l!=!!a&&(i!=null?zr(n,!!a,i,!0):zr(n,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:rt(n,i,b,null,l,f)}for(T in l)if(f=l[T],d=a[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&rt(n,i,T,f,l,d)}tt(n,H,G);return;case"option":for(var Re in a)if(H=a[Re],a.hasOwnProperty(Re)&&H!=null&&!l.hasOwnProperty(Re))switch(Re){case"selected":n.selected=!1;break;default:rt(n,i,Re,null,l,H)}for(I in l)if(H=l[I],G=a[I],l.hasOwnProperty(I)&&H!==G&&(H!=null||G!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:rt(n,i,I,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&rt(n,i,Se,null,l,H);for(F in l)if(H=l[F],G=a[F],l.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:rt(n,i,F,H,l,G)}return;default:if(Ho(i)){for(var it in a)H=a[it],a.hasOwnProperty(it)&&H!==void 0&&!l.hasOwnProperty(it)&&tm(n,i,it,void 0,l,H);for(te in l)H=l[te],G=a[te],!l.hasOwnProperty(te)||H===G||H===void 0&&G===void 0||tm(n,i,te,H,l,G);return}}for(var B in a)H=a[B],a.hasOwnProperty(B)&&H!=null&&!l.hasOwnProperty(B)&&rt(n,i,B,null,l,H);for(ie in l)H=l[ie],G=a[ie],!l.hasOwnProperty(ie)||H===G||H==null&&G==null||rt(n,i,ie,H,l,G)}var nm=null,rm=null;function jc(n){return n.nodeType===9?n:n.ownerDocument}function p_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function im(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function ZS(){var n=window.event;return n&&n.type==="popstate"?n===sm?!1:(sm=n,!0):(sm=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(n){return v_.resolve(null).then(n).catch(nA)}:y_;function nA(n){setTimeout(function(){throw n})}function Bi(n){return n==="head"}function __(n,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Il(T.documentElement),a&2&&Il(T.body),a&4)for(a=T.head,Il(a),T=a.firstChild;T;){var b=T.nextSibling,I=T.nodeName;T[ps]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){n.removeChild(d),Ul(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ul(i)}function am(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Ti(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function rA(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ps])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=nr(n.nextSibling),n===null)break}return null}function iA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=nr(n.nextSibling),n===null))return null;return n}function om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function sA(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function nr(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var lm=null;function E_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function T_(n,i,a){switch(i=jc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Il(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ti(n)}var Yn=new Map,b_=new Set;function Lc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ai=ce.d;ce.d={f:aA,r:oA,D:lA,C:uA,L:cA,m:hA,X:dA,S:fA,M:mA};function aA(){var n=ai.f(),i=xc();return n||i}function oA(n){var i=ur(n);i!==null&&i.tag===5&&i.type==="form"?qy(i):ai.r(n)}var to=typeof document>"u"?null:document;function S_(n,i,a){var l=to;if(l&&typeof i=="string"&&i){var f=xt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),b_.has(f)||(b_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Xt(i,"link",n),At(i),l.head.appendChild(i)))}}function lA(n){ai.D(n),S_("dns-prefetch",n,null)}function uA(n,i){ai.C(n,i),S_("preconnect",n,i)}function cA(n,i,a){ai.L(n,i,a);var l=to;if(l&&n&&i){var f='link[rel="preload"][as="'+xt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xt(a.imageSizes)+'"]')):f+='[href="'+xt(n)+'"]';var d=f;switch(i){case"style":d=no(n);break;case"script":d=ro(n)}Yn.has(d)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Yn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(xl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Xt(i,"link",n),At(i),l.head.appendChild(i)))}}function hA(n,i){ai.m(n,i);var a=to;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(n)}if(!Yn.has(d)&&(n=E({rel:"modulepreload",href:n},i),Yn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Xt(l,"link",n),At(l),a.head.appendChild(l)}}}function fA(n,i,a){ai.S(n,i,a);var l=to;if(l&&n){var f=fn(l).hoistableStyles,d=no(n);i=i||"default";var T=f.get(d);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(xl(d)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Yn.get(d))&&um(n,a);var I=T=l.createElement("link");At(I),Xt(I,"link",n),I._p=new Promise(function(F,te){I.onload=F,I.onerror=te}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Bc(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(d,T)}}}function dA(n,i){ai.X(n,i);var a=to;if(a&&n){var l=fn(a).hoistableScripts,f=ro(n),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(n=E({src:n,async:!0},i),(i=Yn.get(f))&&cm(n,i),d=a.createElement("script"),At(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function mA(n,i){ai.M(n,i);var a=to;if(a&&n){var l=fn(a).hoistableScripts,f=ro(n),d=l.get(f);d||(d=a.querySelector(Dl(f)),d||(n=E({src:n,async:!0,type:"module"},i),(i=Yn.get(f))&&cm(n,i),d=a.createElement("script"),At(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function A_(n,i,a,l){var f=(f=Ee.current)?Lc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=no(a.href),a=fn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=no(a.href);var d=fn(f).hoistableStyles,T=d.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,T),(d=f.querySelector(xl(n)))&&!d._p&&(T.instance=d,T.state.loading=5),Yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(n,a),d||pA(f,n,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=fn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function no(n){return'href="'+xt(n)+'"'}function xl(n){return'link[rel="stylesheet"]['+n+"]"}function w_(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function pA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Xt(i,"link",a),At(i),n.head.appendChild(i))}function ro(n){return'[src="'+xt(n)+'"]'}function Dl(n){return"script[async]"+n}function R_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return i.instance=l,At(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),At(l),Xt(l,"style",f),Bc(l,a.precedence,n),i.instance=l;case"stylesheet":f=no(a.href);var d=n.querySelector(xl(f));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=w_(a),(f=Yn.get(f))&&um(l,f),d=(n.ownerDocument||n).createElement("link"),At(d);var T=d;return T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Xt(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,n),i.instance=d;case"script":return d=ro(a.src),(f=n.querySelector(Dl(d)))?(i.instance=f,At(f),f):(l=a,(f=Yn.get(d))&&(l=E({},a),cm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),At(f),Xt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,n));return i.instance}function Bc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function um(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function cm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var zc=null;function N_(n,i,a){if(zc===null){var l=new Map,f=zc=new Map;f.set(a,l)}else f=zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ps]||d[Vt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=n+T;var b=l.get(T);b?b.push(d):l.set(T,[d])}}return l}function C_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function gA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function I_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Ol=null;function yA(){}function vA(n,i,a){if(Ol===null)throw Error(s(475));var l=Ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=no(a.href),d=n.querySelector(xl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=qc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,At(d);return}d=n.ownerDocument||n,a=w_(a),(f=Yn.get(f))&&um(a,f),d=d.createElement("link"),At(d);var T=d;T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Xt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=qc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function _A(){if(Ol===null)throw Error(s(475));var n=Ol;return n.stylesheets&&n.count===0&&hm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&hm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Fc=null;function hm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Fc=new Map,i.forEach(EA,n),Fc=null,qc.call(n))}function EA(n,i){if(!(i.state.loading&4)){var a=Fc.get(n);if(a)var l=a.get(null);else{a=new Map,Fc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=i.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,f),a.set(T,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var Ml={$$typeof:K,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function TA(n,i,a,l,f,d,T,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kr(0),this.hiddenUpdates=kr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function x_(n,i,a,l,f,d,T,b,I,F,te,ie){return n=new TA(n,i,a,T,b,I,F,ie),i=1,d===!0&&(i|=24),d=Nn(3,null,null,i),n.current=d,d.stateNode=n,i=Kf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),n}function D_(n){return n?(n=Pa,n):Pa}function O_(n,i,a,l,f,d){f=D_(f),l.context===null?l.context=f:l.pendingContext=f,l=Ni(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ci(n,l,i),a!==null&&(On(a,n,i),ul(a,n,i))}function M_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function fm(n,i){M_(n,i),(n=n.alternate)&&M_(n,i)}function P_(n){if(n.tag===13){var i=Ma(n,67108864);i!==null&&On(i,n,67108864),fm(n,67108864)}}var Hc=!0;function bA(n,i,a,l){var f=$.T;$.T=null;var d=ce.p;try{ce.p=2,dm(n,i,a,l)}finally{ce.p=d,$.T=f}}function SA(n,i,a,l){var f=$.T;$.T=null;var d=ce.p;try{ce.p=8,dm(n,i,a,l)}finally{ce.p=d,$.T=f}}function dm(n,i,a,l){if(Hc){var f=mm(l);if(f===null)em(n,i,l,Gc,a),k_(n,l);else if(wA(f,n,i,a,l))l.stopPropagation();else if(k_(n,l),i&4&&-1<AA.indexOf(n)){for(;f!==null;){var d=ur(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Wn(d.pendingLanes);if(T!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var I=1<<31-nn(T);b.entanglements[1]|=I,T&=~I}Sr(d),(Je&6)===0&&(Cc=vn()+500,Rl(0))}}break;case 13:b=Ma(d,2),b!==null&&On(b,d,2),xc(),fm(d,2)}if(d=mm(l),d===null&&em(n,i,l,Gc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else em(n,i,l,null,a)}}function mm(n){return n=Ln(n),pm(n)}var Gc=null;function pm(n){if(Gc=null,n=jr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Gc=n,null}function V_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(vf()){case Do:return 2;case fa:return 8;case cs:case _f:return 32;case da:return 268435456;default:return 32}default:return 32}}var gm=!1,zi=null,qi=null,Fi=null,Pl=new Map,Vl=new Map,Hi=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(n,i){switch(n){case"focusin":case"focusout":zi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Fi=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function kl(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=ur(i),i!==null&&P_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function wA(n,i,a,l,f){switch(i){case"focusin":return zi=kl(zi,n,i,a,l,f),!0;case"dragenter":return qi=kl(qi,n,i,a,l,f),!0;case"mouseover":return Fi=kl(Fi,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Pl.set(d,kl(Pl.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Vl.set(d,kl(Vl.get(d)||null,n,i,a,l,f)),!0}return!1}function U_(n){var i=jr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,xu(n.priority,function(){if(a.tag===13){var l=Dn();l=vi(l);var f=Ma(a,l);f!==null&&On(f,a,l),fm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=mm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);qr=l,a.target.dispatchEvent(l),qr=null}else return i=ur(a),i!==null&&P_(i),n.blockedOn=a,!1;i.shift()}return!0}function j_(n,i,a){Kc(n)&&a.delete(i)}function RA(){gm=!1,zi!==null&&Kc(zi)&&(zi=null),qi!==null&&Kc(qi)&&(qi=null),Fi!==null&&Kc(Fi)&&(Fi=null),Pl.forEach(j_),Vl.forEach(j_)}function Qc(n,i){n.blockedOn===i&&(n.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RA)))}var Yc=null;function L_(n){Yc!==n&&(Yc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=ur(a);d!==null&&(n.splice(i,3),i-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ul(n){function i(I){return Qc(I,n)}zi!==null&&Qc(zi,n),qi!==null&&Qc(qi,n),Fi!==null&&Qc(Fi,n),Pl.forEach(i),Vl.forEach(i);for(var a=0;a<Hi.length;a++){var l=Hi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Hi.length&&(a=Hi[0],a.blockedOn===null);)U_(a),a.blockedOn===null&&Hi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],T=f[It]||null;if(typeof d=="function")T||L_(a);else if(T){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[It]||null)b=T.formAction;else if(pm(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),L_(a)}}}function ym(n){this._internalRoot=n}$c.prototype.render=ym.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Dn();O_(a,l,n,i,null,null)},$c.prototype.unmount=ym.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;O_(n.current,2,null,n,null,null),xc(),i[Un]=null}};function $c(n){this._internalRoot=n}$c.prototype.unstable_scheduleHydration=function(n){if(n){var i=_i();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Hi.length&&i!==0&&i<Hi[a].priority;a++);Hi.splice(a,0,n),a===0&&U_(n)}};var B_=e.version;if(B_!=="19.1.0")throw Error(s(527,B_,"19.1.0"));ce.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var NA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{gt=Xc.inject(NA),We=Xc}catch{}}return Ll.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=nv,d=rv,T=iv,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=x_(n,1,!1,null,null,a,l,f,d,T,b,null),n[Un]=i.current,Zd(n),new ym(i)},Ll.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=nv,T=rv,b=iv,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=x_(n,1,!0,i,a??null,l,f,d,T,b,I,F),i.context=D_(null),a=i.current,l=Dn(),l=vi(l),f=Ni(l),f.callback=null,Ci(a,f,l),a=l,i.current.lanes=a,Ur(i,a),Sr(i),n[Un]=i.current,Zd(n),new $c(i)},Ll.version="19.1.0",Ll}var W_;function BA(){if(W_)return Em.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=LA(),Em.exports}var zA=BA();const qA=jE(zA);LE();/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},eu.apply(this,arguments)}var Wi;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Wi||(Wi={}));const J_="popstate";function FA(r){r===void 0&&(r={});function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return zm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:_h(o)}return GA(e,t,null,r)}function mt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Sp(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HA(){return Math.random().toString(36).substr(2,8)}function Z_(r,e){return{usr:r.state,key:r.key,idx:e}}function zm(r,e,t,s){return t===void 0&&(t=null),eu({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:t,key:e&&e.key||s||HA()})}function _h(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function bo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function GA(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m=Wi.Pop,p=null,g=E();g==null&&(g=0,h.replaceState(eu({},h.state,{idx:g}),""));function E(){return(h.state||{idx:null}).idx}function S(){m=Wi.Pop;let O=E(),J=O==null?null:O-g;g=O,p&&p({action:m,location:j.location,delta:J})}function R(O,J){m=Wi.Push;let ae=zm(j.location,O,J);g=E()+1;let K=Z_(ae,g),ue=j.createHref(ae);try{h.pushState(K,"",ue)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(ue)}u&&p&&p({action:m,location:j.location,delta:1})}function x(O,J){m=Wi.Replace;let ae=zm(j.location,O,J);g=E();let K=Z_(ae,g),ue=j.createHref(ae);h.replaceState(K,"",ue),u&&p&&p({action:m,location:j.location,delta:0})}function M(O){let J=o.location.origin!=="null"?o.location.origin:o.location.href,ae=typeof O=="string"?O:_h(O);return mt(J,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,J)}let j={get action(){return m},get location(){return r(o,h)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(J_,S),p=O,()=>{o.removeEventListener(J_,S),p=null}},createHref(O){return e(o,O)},createURL:M,encodeLocation(O){let J=M(O);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:R,replace:x,go(O){return h.go(O)}};return j}var e0;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(e0||(e0={}));function KA(r,e,t){t===void 0&&(t="/");let s=typeof e=="string"?bo(e):e,o=tu(s.pathname||"/",t);if(o==null)return null;let u=BE(r);QA(u);let h=null;for(let m=0;h==null&&m<u.length;++m)h=nw(u[m],iw(o));return h}function BE(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=Zi([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(mt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),BE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:ew(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of zE(u.path))o(u,h,p)}),e}function zE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=zE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function QA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const YA=/^:\w+$/,$A=3,XA=2,WA=1,JA=10,ZA=-2,t0=r=>r==="*";function ew(r,e){let t=r.split("/"),s=t.length;return t.some(t0)&&(s+=ZA),e&&(s+=XA),t.filter(o=>!t0(o)).reduce((o,u)=>o+(YA.test(u)?$A:u===""?WA:JA),s)}function tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nw(r,e){let{routesMeta:t}=r,s={},o="/",u=[];for(let h=0;h<t.length;++h){let m=t[h],p=h===t.length-1,g=o==="/"?e:e.slice(o.length)||"/",E=qm({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g);if(!E)return null;Object.assign(s,E.params);let S=m.route;u.push({params:s,pathname:Zi([o,E.pathname]),pathnameBase:lw(Zi([o,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(o=Zi([o,E.pathnameBase]))}return u}function qm(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=rw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,E,S)=>{let{paramName:R,isOptional:x}=E;if(R==="*"){let j=m[S]||"";h=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const M=m[S];return x&&!M?g[R]=void 0:g[R]=sw(M||"",R),g},{}),pathname:u,pathnameBase:h,pattern:r}}function rw(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Sp(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iw(r){try{return decodeURI(r)}catch(e){return Sp(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function sw(r,e){try{return decodeURIComponent(r)}catch(t){return Sp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),r}}function tu(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function aw(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?bo(r):r;return{pathname:t?t.startsWith("/")?t:ow(t,e):e,search:uw(s),hash:cw(o)}}function ow(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Am(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ap(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wp(r,e,t,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=bo(r):(o=eu({},r),mt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else if(s){let S=e[e.length-1].replace(/^\//,"").split("/");if(h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),S.pop();o.pathname=R.join("/")}m="/"+S.join("/")}else{let S=e.length-1;if(h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),S-=1;o.pathname=R.join("/")}m=S>=0?e[S]:"/"}let p=aw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}const Zi=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const qE=["post","put","patch","delete"];new Set(qE);const fw=["get",...qE];new Set(fw);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Eh.apply(this,arguments)}const Fh=Q.createContext(null),FE=Q.createContext(null),oa=Q.createContext(null),Hh=Q.createContext(null),yi=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),HE=Q.createContext(null);function dw(r,e){let{relative:t}=e===void 0?{}:e;So()||mt(!1);let{basename:s,navigator:o}=Q.useContext(oa),{hash:u,pathname:h,search:m}=Gh(r,{relative:t}),p=h;return s!=="/"&&(p=h==="/"?s:Zi([s,h])),o.createHref({pathname:p,search:m,hash:u})}function So(){return Q.useContext(Hh)!=null}function Ao(){return So()||mt(!1),Q.useContext(Hh).location}function GE(r){Q.useContext(oa).static||Q.useLayoutEffect(r)}function hu(){let{isDataRoute:r}=Q.useContext(yi);return r?Cw():mw()}function mw(){So()||mt(!1);let r=Q.useContext(Fh),{basename:e,navigator:t}=Q.useContext(oa),{matches:s}=Q.useContext(yi),{pathname:o}=Ao(),u=JSON.stringify(Ap(s).map(p=>p.pathnameBase)),h=Q.useRef(!1);return GE(()=>{h.current=!0}),Q.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=wp(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zi([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}const pw=Q.createContext(null);function gw(r){let e=Q.useContext(yi).outlet;return e&&Q.createElement(pw.Provider,{value:r},e)}function Gh(r,e){let{relative:t}=e===void 0?{}:e,{matches:s}=Q.useContext(yi),{pathname:o}=Ao(),u=JSON.stringify(Ap(s).map(h=>h.pathnameBase));return Q.useMemo(()=>wp(r,JSON.parse(u),o,t==="path"),[r,u,o,t])}function yw(r,e){return vw(r,e)}function vw(r,e,t){So()||mt(!1);let{navigator:s}=Q.useContext(oa),{matches:o}=Q.useContext(yi),u=o[o.length-1],h=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=Ao(),g;if(e){var E;let j=typeof e=="string"?bo(e):e;m==="/"||(E=j.pathname)!=null&&E.startsWith(m)||mt(!1),g=j}else g=p;let S=g.pathname||"/",R=m==="/"?S:S.slice(m.length)||"/",x=KA(r,{pathname:R}),M=Sw(x&&x.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:Zi([m,s.encodeLocation?s.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?m:Zi([m,s.encodeLocation?s.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),o,t);return e&&M?Q.createElement(Hh.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Wi.Pop}},M):M}function _w(){let r=Nw(),e=hw(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,null)}const Ew=Q.createElement(_w,null);class Tw extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Q.createElement(yi.Provider,{value:this.props.routeContext},Q.createElement(HE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bw(r){let{routeContext:e,match:t,children:s}=r,o=Q.useContext(Fh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(yi.Provider,{value:e},s)}function Sw(r,e,t){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r==null){var o;if((o=t)!=null&&o.errors)r=t.matches;else return null}let u=r,h=(s=t)==null?void 0:s.errors;if(h!=null){let m=u.findIndex(p=>p.route.id&&(h==null?void 0:h[p.route.id]));m>=0||mt(!1),u=u.slice(0,Math.min(u.length,m+1))}return u.reduceRight((m,p,g)=>{let E=p.route.id?h==null?void 0:h[p.route.id]:null,S=null;t&&(S=p.route.errorElement||Ew);let R=e.concat(u.slice(0,g+1)),x=()=>{let M;return E?M=S:p.route.Component?M=Q.createElement(p.route.Component,null):p.route.element?M=p.route.element:M=m,Q.createElement(bw,{match:p,routeContext:{outlet:m,matches:R,isDataRoute:t!=null},children:M})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?Q.createElement(Tw,{location:t.location,revalidation:t.revalidation,component:S,error:E,children:x(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):x()},null)}var KE=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(KE||{}),QE=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(QE||{});function Aw(r){let e=Q.useContext(Fh);return e||mt(!1),e}function ww(r){let e=Q.useContext(FE);return e||mt(!1),e}function Rw(r){let e=Q.useContext(yi);return e||mt(!1),e}function YE(r){let e=Rw(),t=e.matches[e.matches.length-1];return t.route.id||mt(!1),t.route.id}function Nw(){var r;let e=Q.useContext(HE),t=ww(),s=YE();return e||((r=t.errors)==null?void 0:r[s])}function Cw(){let{router:r}=Aw(KE.UseNavigateStable),e=YE(QE.UseNavigateStable),t=Q.useRef(!1);return GE(()=>{t.current=!0}),Q.useCallback(function(o,u){u===void 0&&(u={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Eh({fromRouteId:e},u)))},[r,e])}function $E(r){let{to:e,replace:t,state:s,relative:o}=r;So()||mt(!1);let{matches:u}=Q.useContext(yi),{pathname:h}=Ao(),m=hu(),p=wp(e,Ap(u).map(E=>E.pathnameBase),h,o==="path"),g=JSON.stringify(p);return Q.useEffect(()=>m(JSON.parse(g),{replace:t,state:s,relative:o}),[m,g,o,t,s]),null}function XE(r){return gw(r.context)}function rr(r){mt(!1)}function Iw(r){let{basename:e="/",children:t=null,location:s,navigationType:o=Wi.Pop,navigator:u,static:h=!1}=r;So()&&mt(!1);let m=e.replace(/^\/*/,"/"),p=Q.useMemo(()=>({basename:m,navigator:u,static:h}),[m,u,h]);typeof s=="string"&&(s=bo(s));let{pathname:g="/",search:E="",hash:S="",state:R=null,key:x="default"}=s,M=Q.useMemo(()=>{let j=tu(g,m);return j==null?null:{location:{pathname:j,search:E,hash:S,state:R,key:x},navigationType:o}},[m,g,E,S,R,x,o]);return M==null?null:Q.createElement(oa.Provider,{value:p},Q.createElement(Hh.Provider,{children:t,value:M}))}function xw(r){let{children:e,location:t}=r;return yw(Fm(e),t)}new Promise(()=>{});function Fm(r,e){e===void 0&&(e=[]);let t=[];return Q.Children.forEach(r,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){t.push.apply(t,Fm(s.props.children,u));return}s.type!==rr&&mt(!1),!s.props.index||!s.props.children||mt(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fm(s.props.children,u)),t.push(h)}),t}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Th.apply(this,arguments)}function WE(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function Dw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ow(r,e){return r.button===0&&(!e||e==="_self")&&!Dw(r)}const Mw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Pw=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Vw=Q.createContext({isTransitioning:!1}),kw="startTransition",n0=VA[kw];function Uw(r){let{basename:e,children:t,future:s,window:o}=r,u=Q.useRef();u.current==null&&(u.current=FA({window:o,v5Compat:!0}));let h=u.current,[m,p]=Q.useState({action:h.action,location:h.location}),{v7_startTransition:g}=s||{},E=Q.useCallback(S=>{g&&n0?n0(()=>p(S)):p(S)},[p,g]);return Q.useLayoutEffect(()=>h.listen(E),[h,E]),Q.createElement(Iw,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h})}const jw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=Q.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,unstable_viewTransition:S}=e,R=WE(e,Mw),{basename:x}=Q.useContext(oa),M,j=!1;if(typeof g=="string"&&Lw.test(g)&&(M=g,jw))try{let K=new URL(window.location.href),ue=g.startsWith("//")?new URL(K.protocol+g):new URL(g),se=tu(ue.pathname,x);ue.origin===K.origin&&se!=null?g=se+ue.search+ue.hash:j=!0}catch{}let O=dw(g,{relative:o}),J=zw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,unstable_viewTransition:S});function ae(K){s&&s(K),K.defaultPrevented||J(K)}return Q.createElement("a",Th({},R,{href:M||O,onClick:j||u?s:ae,ref:t,target:p}))}),Bl=Q.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:u="",end:h=!1,style:m,to:p,unstable_viewTransition:g,children:E}=e,S=WE(e,Pw),R=Gh(p,{relative:S.relative}),x=Ao(),M=Q.useContext(FE),{navigator:j}=Q.useContext(oa),O=M!=null&&qw(R)&&g===!0,J=j.encodeLocation?j.encodeLocation(R).pathname:R.pathname,ae=x.pathname,K=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;o||(ae=ae.toLowerCase(),K=K?K.toLowerCase():null,J=J.toLowerCase());const ue=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let se=ae===J||!h&&ae.startsWith(J)&&ae.charAt(ue)==="/",me=K!=null&&(K===J||!h&&K.startsWith(J)&&K.charAt(J.length)==="/"),V={isActive:se,isPending:me,isTransitioning:O},N=se?s:void 0,C;typeof u=="function"?C=u(V):C=[u,se?"active":null,me?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let D=typeof m=="function"?m(V):m;return Q.createElement(es,Th({},S,{"aria-current":N,className:C,ref:t,style:D,to:p,unstable_viewTransition:g}),typeof E=="function"?E(V):E)});var Hm;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Hm||(Hm={}));var r0;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(r0||(r0={}));function Bw(r){let e=Q.useContext(Fh);return e||mt(!1),e}function zw(r,e){let{target:t,replace:s,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m}=e===void 0?{}:e,p=hu(),g=Ao(),E=Gh(r,{relative:h});return Q.useCallback(S=>{if(Ow(S,t)){S.preventDefault();let R=s!==void 0?s:_h(g)===_h(E);p(r,{replace:R,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m})}},[g,p,E,s,o,t,r,u,h,m])}function qw(r,e){e===void 0&&(e={});let t=Q.useContext(Vw);t==null&&mt(!1);let{basename:s}=Bw(Hm.useViewTransitionState),o=Gh(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=tu(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=tu(t.nextLocation.pathname,s)||t.nextLocation.pathname;return qm(o.pathname,h)!=null||qm(o.pathname,u)!=null}class JE extends Q.Component{constructor(){super(...arguments);z_(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Error Boundary:",t,s)}render(){return this.state.hasError?v.jsxs("div",{className:"error-boundary",children:[v.jsx("h2",{children:"Algo deu errado!"}),v.jsx("p",{children:this.state.error.message}),v.jsx(es,{to:"/",className:"retry-button",children:"Voltar para a pgina inicial"})]}):this.props.children}}var ZE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i0=fi.createContext&&fi.createContext(ZE),Fw=["attr","size","title"];function Hw(r,e){if(r==null)return{};var t=Gw(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function Gw(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function bh(){return bh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},bh.apply(this,arguments)}function s0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Sh(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(t),!0).forEach(function(s){Kw(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):s0(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function Kw(r,e,t){return e=Qw(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Qw(r){var e=Yw(r,"string");return typeof e=="symbol"?e:e+""}function Yw(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function eT(r){return r&&r.map((e,t)=>fi.createElement(e.tag,Sh({key:t},e.attr),eT(e.child)))}function lt(r){return e=>fi.createElement($w,bh({attr:Sh({},r.attr)},e),eT(r.child))}function $w(r){var e=t=>{var{attr:s,size:o,title:u}=r,h=Hw(r,Fw),m=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),fi.createElement("svg",bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Sh(Sh({color:r.color||t.color},t.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&fi.createElement("title",null,u),r.children)};return i0!==void 0?fi.createElement(i0.Consumer,null,t=>e(t)):e(ZE)}function Xw(r){return lt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(r)}function tT(r){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(r)}function Ww(r){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(r)}function Jw(r){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(r)}function Nr(r){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(r)}function Zw(r){return lt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(r)}function nT(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(r)}function e2(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(r)}function Kh(r){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function t2(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(r)}function sh(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(r)}function rT(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(r)}function n2(r){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(r)}function r2(r){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(r)}function ho(r){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function i2(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function s2(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function a2(r){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(r)}function iT(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(r)}function sT(r){return lt({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(r)}function nu(r){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function o2(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(r)}function aT(r){return lt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function Rp(r){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function oT(r){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function l2(r){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(r)}var a0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},u2=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,x=g&63;p||(x=64,h||(R=64)),s.push(t[E],t[S],t[R],t[x])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):u2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const S=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new c2;const R=u<<2|m>>4;if(s.push(R),g!==64){const x=m<<4&240|g>>2;if(s.push(x),S!==64){const M=g<<6&192|S;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class c2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(r){const e=lT(r);return uT.encodeByteArray(e,!0)},Ah=function(r){return h2(r).replace(/\./g,"")},cT=function(r){try{return uT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=()=>f2().__FIREBASE_DEFAULTS__,m2=()=>{if(typeof process>"u"||typeof a0>"u")return;const r=a0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},p2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cT(r[1]);return e&&JSON.parse(e)},Qh=()=>{try{return d2()||m2()||p2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hT=r=>{var e,t;return(t=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},fT=r=>{const e=hT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},dT=()=>{var r;return(r=Qh())===null||r===void 0?void 0:r.config},mT=r=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Ah(JSON.stringify(t)),Ah(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function v2(){var r;const e=(r=Qh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function S2(){return!v2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="FirebaseError";class Pr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=R2,Object.setPrototypeOf(this,Pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?N2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Pr(o,m,s)}}function N2(r,e){return r.replace(C2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const C2=/\{\$([^}]+)}/g;function I2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function wh(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(o0(u)&&o0(h)){if(!wh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function o0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function x2(r,e){const t=new D2(r,e);return t.subscribe.bind(t)}class D2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(r){return r&&r._delegate?r._delegate:r}class ss{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new g2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V2(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:P2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P2(r){return r===Hs?void 0:r}function V2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new M2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const U2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},j2=Be.INFO,L2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},B2=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=L2[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Np{constructor(e){this.name=e,this._logLevel=j2,this._logHandler=B2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const z2=(r,e)=>e.some(t=>r instanceof t);let l0,u0;function q2(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F2(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Gm=new WeakMap,yT=new WeakMap,Rm=new WeakMap,Cp=new WeakMap;function H2(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(ts(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,r)}).catch(()=>{}),Cp.set(e,r),e}function G2(r){if(Gm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Gm.set(r,e)}let Km={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Gm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function K2(r){Km=r(Km)}function Q2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Nm(this),e,...t);return yT.set(s,e.sort?e.sort():[e]),ts(s)}:F2().includes(r)?function(...e){return r.apply(Nm(this),e),ts(gT.get(this))}:function(...e){return ts(r.apply(Nm(this),e))}}function Y2(r){return typeof r=="function"?Q2(r):(r instanceof IDBTransaction&&G2(r),z2(r,q2())?new Proxy(r,Km):r)}function ts(r){if(r instanceof IDBRequest)return H2(r);if(Rm.has(r))return Rm.get(r);const e=Y2(r);return e!==r&&(Rm.set(r,e),Cp.set(e,r)),e}const Nm=r=>Cp.get(r);function $2(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=ts(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ts(h.result),p.oldVersion,p.newVersion,ts(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const X2=["get","getKey","getAll","getAllKeys","count"],W2=["put","add","delete","clear"],Cm=new Map;function c0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=W2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||X2.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Cm.set(e,u),u}K2(r=>({...r,get:(e,t,s)=>c0(e,t)||r.get(e,t,s),has:(e,t)=>!!c0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Z2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",h0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Np("@firebase/app"),eR="@firebase/app-compat",tR="@firebase/analytics-compat",nR="@firebase/analytics",rR="@firebase/app-check-compat",iR="@firebase/app-check",sR="@firebase/auth",aR="@firebase/auth-compat",oR="@firebase/database",lR="@firebase/data-connect",uR="@firebase/database-compat",cR="@firebase/functions",hR="@firebase/functions-compat",fR="@firebase/installations",dR="@firebase/installations-compat",mR="@firebase/messaging",pR="@firebase/messaging-compat",gR="@firebase/performance",yR="@firebase/performance-compat",vR="@firebase/remote-config",_R="@firebase/remote-config-compat",ER="@firebase/storage",TR="@firebase/storage-compat",bR="@firebase/firestore",SR="@firebase/vertexai-preview",AR="@firebase/firestore-compat",wR="firebase",RR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",NR={[Qm]:"fire-core",[eR]:"fire-core-compat",[nR]:"fire-analytics",[tR]:"fire-analytics-compat",[iR]:"fire-app-check",[rR]:"fire-app-check-compat",[sR]:"fire-auth",[aR]:"fire-auth-compat",[oR]:"fire-rtdb",[lR]:"fire-data-connect",[uR]:"fire-rtdb-compat",[cR]:"fire-fn",[hR]:"fire-fn-compat",[fR]:"fire-iid",[dR]:"fire-iid-compat",[mR]:"fire-fcm",[pR]:"fire-fcm-compat",[gR]:"fire-perf",[yR]:"fire-perf-compat",[vR]:"fire-rc",[_R]:"fire-rc-compat",[ER]:"fire-gcs",[TR]:"fire-gcs-compat",[bR]:"fire-fst",[AR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,CR=new Map,$m=new Map;function f0(r,e){try{r.container.addComponent(e)}catch(t){di.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Zs(r){const e=r.name;if($m.has(e))return di.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,r);for(const t of Rh.values())f0(t,r);for(const t of CR.values())f0(t,r);return!0}function Yh(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function li(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new fu("app","Firebase",IR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=RR;function vT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(t||(t=dT()),!t)throw ns.create("no-options");const u=Rh.get(o);if(u){if(wh(t,u.options)&&wh(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const h=new k2(o);for(const p of $m.values())h.addComponent(p);const m=new xR(t,s,h);return Rh.set(o,m),m}function Ip(r=Ym){const e=Rh.get(r);if(!e&&r===Ym&&dT())return vT();if(!e)throw ns.create("no-app",{appName:r});return e}function Cr(r,e,t){var s;let o=(s=NR[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),di.warn(m.join(" "));return}Zs(new ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="firebase-heartbeat-database",OR=1,ru="firebase-heartbeat-store";let Im=null;function _T(){return Im||(Im=$2(DR,OR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ru)}catch(t){console.warn(t)}}}}).catch(r=>{throw ns.create("idb-open",{originalErrorMessage:r.message})})),Im}async function MR(r){try{const t=(await _T()).transaction(ru),s=await t.objectStore(ru).get(ET(r));return await t.done,s}catch(e){if(e instanceof Pr)di.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});di.warn(t.message)}}}async function d0(r,e){try{const s=(await _T()).transaction(ru,"readwrite");await s.objectStore(ru).put(e,ET(r)),await s.done}catch(t){if(t instanceof Pr)di.warn(t.message);else{const s=ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});di.warn(s.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=1024,VR=30*24*60*60*1e3;class kR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=m0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=VR}),this._storage.overwrite(this._heartbeatsCache))}catch(s){di.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=m0(),{heartbeatsToSend:s,unsentEntries:o}=UR(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return di.warn(t),""}}}function m0(){return new Date().toISOString().substring(0,10)}function UR(r,e=PR){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),p0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),p0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return d0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return d0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function p0(r){return Ah(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(r){Zs(new ss("platform-logger",e=>new J2(e),"PRIVATE")),Zs(new ss("heartbeat",e=>new kR(e),"PRIVATE")),Cr(Qm,h0,r),Cr(Qm,h0,"esm2017"),Cr("fire-js","")}LR("");var BR="firebase",zR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(BR,zR,"app");function xp(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qR=TT,bT=new fu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Np("@firebase/auth");function FR(r,...e){Nh.logLevel<=Be.WARN&&Nh.warn(`Auth (${la}): ${r}`,...e)}function ah(r,...e){Nh.logLevel<=Be.ERROR&&Nh.error(`Auth (${la}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,...e){throw Op(r,...e)}function ir(r,...e){return Op(r,...e)}function Dp(r,e,t){const s=Object.assign(Object.assign({},qR()),{[e]:t});return new fu("auth","Firebase",s).create(e,{appName:r.name})}function Ys(r){return Dp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HR(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Or(r,"argument-error"),Dp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Op(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return bT.create(r,...e)}function Ne(r,e,...t){if(!r)throw Op(e,...t)}function ui(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ah(e),new Error(e)}function mi(r,e){r||ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function GR(){return g0()==="http:"||g0()==="https:"}function g0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GR()||E2()||"connection"in navigator)?navigator.onLine:!0}function QR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,mi(t>e,"Short delay should be less than long delay!"),this.isMobile=y2()||T2()}get(){return KR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(r,e){mi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new mu(3e4,6e4);function Pp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ua(r,e,t,s,o={}){return AT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=du(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return _2()||(g.referrerPolicy="no-referrer"),ST.fetch()(wT(r,r.config.apiHost,t,m),g)})}async function AT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},YR),e);try{const o=new WR(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Dp(r,E,g);Or(r,E)}}catch(o){if(o instanceof Pr)throw o;Or(r,"network-request-failed",{message:String(o)})}}async function XR(r,e,t,s,o={}){const u=await ua(r,e,t,s,o);return"mfaPendingCredential"in u&&Or(r,"multi-factor-auth-required",{_serverResponse:u}),u}function wT(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Mp(r.config,o):`${r.config.apiScheme}://${o}`}class WR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ir(this.auth,"network-request-failed")),$R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wc(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ir(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(r,e){return ua(r,"POST","/v1/accounts:delete",e)}async function RT(r,e){return ua(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZR(r,e=!1){const t=Et(r),s=await t.getIdToken(e),o=Vp(s);Ne(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ql(xm(o.auth_time)),issuedAtTime:Ql(xm(o.iat)),expirationTime:Ql(xm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(r){return Number(r)*1e3}function Vp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(t);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function y0(r){const e=Vp(r);return Ne(e,"internal-error"),Ne(typeof e.exp<"u","internal-error"),Ne(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Pr&&e4(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function e4({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(r){var e;const t=r.auth,s=await r.getIdToken(),o=await fo(r,RT(t,{idToken:s}));Ne(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?NT(u.providerUserInfo):[],m=r4(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,S)}async function n4(r){const e=Et(r);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function r4(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function NT(r){return r.map(e=>{var{providerId:t}=e,s=xp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i4(r,e){const t=await AT(r,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=wT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ST.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function s4(r,e){return ua(r,"POST","/v2/accounts:revokeToken",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ne(e.idToken,"internal-error"),Ne(typeof e.idToken<"u","internal-error"),Ne(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ne(e.length!==0,"internal-error");const t=y0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ne(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await i4(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new oo;return s&&(Ne(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ne(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ne(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(r,e){Ne(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ci{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await fo(this,this.stsTokenManager.getToken(this.auth,e));return Ne(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZR(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(Ne(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Ch(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await fo(this,JR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,x=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,M=(h=t.photoURL)!==null&&h!==void 0?h:void 0,j=(m=t.tenantId)!==null&&m!==void 0?m:void 0,O=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,J=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ae=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:ue,isAnonymous:se,providerData:me,stsTokenManager:V}=t;Ne(K&&V,e,"internal-error");const N=oo.fromJSON(this.name,V);Ne(typeof K=="string",e,"internal-error"),Ki(S,e.name),Ki(R,e.name),Ne(typeof ue=="boolean",e,"internal-error"),Ne(typeof se=="boolean",e,"internal-error"),Ki(x,e.name),Ki(M,e.name),Ki(j,e.name),Ki(O,e.name),Ki(J,e.name),Ki(ae,e.name);const C=new ci({uid:K,auth:e,email:R,emailVerified:ue,displayName:S,isAnonymous:se,photoURL:M,phoneNumber:x,tenantId:j,stsTokenManager:N,createdAt:J,lastLoginAt:ae});return me&&Array.isArray(me)&&(C.providerData=me.map(D=>Object.assign({},D))),O&&(C._redirectEventId=O),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new oo;o.updateFromServerResponse(t);const u=new ci({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ch(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ne(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new ci({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=new Map;function hi(r){mi(r instanceof Function,"Expected a class definition");let e=v0.get(r);return e?(mi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,v0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CT.type="NONE";const _0=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(r,e,t){return`firebase:${r}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(hi(_0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hi(_0);const h=oh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){const S=ci._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(VT(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function IT(r=cn()){return/firefox\//i.test(r)}function xT(r=cn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(r=cn()){return/crios\//i.test(r)}function OT(r=cn()){return/iemobile/i.test(r)}function MT(r=cn()){return/android/i.test(r)}function PT(r=cn()){return/blackberry/i.test(r)}function VT(r=cn()){return/webos/i.test(r)}function kp(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function a4(r=cn()){var e;return kp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o4(){return b2()&&document.documentMode===10}function kT(r=cn()){return kp(r)||MT(r)||VT(r)||PT(r)||/windows phone/i.test(r)||OT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r,e=[]){let t;switch(r){case"Browser":t=E0(cn());break;case"Worker":t=`${E0(cn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(r,e={}){return ua(r,"GET","/v2/passwordPolicy",Pp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=6;class h4{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:c4,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hi(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RT(this,{idToken:e}),s=await ci._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(li(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ne(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(li(this.app))return Promise.reject(Ys(this));const t=e?Et(e):null;return t&&Ne(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ne(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return li(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u4(this),t=new h4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await s4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hi(e)||this._popupRedirectResolver;Ne(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[hi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ne(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&FR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $h(r){return Et(r)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=x2(t=>this.observer=t)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d4(r){Up=r}function m4(r){return Up.loadJS(r)}function p4(){return Up.gapiScript}function g4(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(r,e){const t=Yh(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(wh(u,e??{}))return o;Or(o,"already-initialized")}return t.initialize({options:e})}function v4(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(hi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function _4(r,e,t){const s=$h(r);Ne(s._canInitEmulator,s,"emulator-config-failed"),Ne(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=jT(e),{host:h,port:m}=E4(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),T4()}function jT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function E4(r){const e=jT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:b0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:b0(h)}}}function b0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function T4(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ui("not implemented")}_getIdTokenResponse(e){return ui("not implemented")}_linkToIdToken(e,t){return ui("not implemented")}_getReauthenticationResolver(e){return ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(r,e){return XR(r,"POST","/v1/accounts:signInWithIdp",Pp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="http://localhost";class ea extends LT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=xp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ea(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:b4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends jp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends pu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return oi.credential(t,s)}catch{return null}}}oi.GOOGLE_SIGN_IN_METHOD="google.com";oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends pu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yi.credential(e.oauthAccessToken)}catch{return null}}}Yi.GITHUB_SIGN_IN_METHOD="github.com";Yi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends pu{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return $i.credential(t,s)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ci._fromIdTokenResponse(e,s,o),h=S0(s);return new mo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=S0(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function S0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Pr{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ih(e,t,s,o)}}function BT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function S4(r,e,t=!1){const s=await fo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return mo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(r,e,t=!1){const{auth:s}=r;if(li(s.app))return Promise.reject(Ys(s));const o="reauthenticate";try{const u=await fo(r,BT(s,o,e,r),t);Ne(u.idToken,s,"internal-error");const h=Vp(u.idToken);Ne(h,s,"internal-error");const{sub:m}=h;return Ne(r.uid===m,s,"user-mismatch"),mo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Or(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(r,e,t=!1){if(li(r.app))return Promise.reject(Ys(r));const s="signIn",o=await BT(r,s,e),u=await mo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(r,e){return ua(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Et(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await fo(s,R4(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(r,e){return Et(r).setPersistence(e)}function C4(r,e,t,s){return Et(r).onIdTokenChanged(e,t,s)}function I4(r,e,t){return Et(r).beforeAuthStateChanged(e,t)}function x4(r){return Et(r).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=1e3,O4=10;class qT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);o4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,O4):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},D4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const FT=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HT.type="SESSION";const GT=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await M4(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Lp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const R=S;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function V4(r){Ir().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function k4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U4(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function j4(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",L4=1,Dh="firebaseLocalStorage",YT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wh(r,e){return r.transaction([Dh],e?"readwrite":"readonly").objectStore(Dh)}function B4(){const r=indexedDB.deleteDatabase(QT);return new gu(r).toPromise()}function Jm(){const r=indexedDB.open(QT,L4);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Dh,{keyPath:YT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Dh)?e(s):(s.close(),await B4(),e(await Jm()))})})}async function w0(r,e,t){const s=Wh(r,!0).put({[YT]:e,value:t});return new gu(s).toPromise()}async function z4(r,e){const t=Wh(r,!1).get(e),s=await new gu(t).toPromise();return s===void 0?null:s.value}function R0(r,e){const t=Wh(r,!0).delete(e);return new gu(t).toPromise()}const q4=800,F4=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>F4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(j4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await k4(),!this.activeServiceWorker)return;this.sender=new P4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await w0(e,xh,"1"),await R0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>w0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>z4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>R0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const H4=$T;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r,e){return e?hi(e):(Ne(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends LT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function G4(r){return w4(r.auth,new Bp(r),r.bypassAuthState)}function K4(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),A4(t,new Bp(r),r.bypassAuthState)}async function Q4(r){const{auth:e,user:t}=r;return Ne(t,e,"internal-error"),S4(t,new Bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G4;case"linkViaPopup":case"linkViaRedirect":return Q4;case"reauthViaPopup":case"reauthViaRedirect":return K4;default:Or(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new mu(2e3,1e4);async function $4(r,e,t){if(li(r.app))return Promise.reject(ir(r,"operation-not-supported-in-this-environment"));const s=$h(r);HR(r,e,jp);const o=XT(s,t);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends WT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ne(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ir(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ir(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ir(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y4.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="pendingRedirect",lh=new Map;class W4 extends WT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await J4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J4(r,e){const t=tN(e),s=eN(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Z4(r,e){lh.set(r._key(),e)}function eN(r){return hi(r._redirectPersistence)}function tN(r){return oh(X4,r.config.apiKey,r.name)}async function nN(r,e,t=!1){if(li(r.app))return Promise.reject(Ys(r));const s=$h(r),o=XT(s,e),h=await new W4(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN=10*60*1e3;class iN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sN(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!JT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ir(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rN&&this.cachedEventUids.clear(),this.cachedEventUids.has(N0(e))}saveEventToCache(e){this.cachedEventUids.add(N0(e)),this.lastProcessedEventTime=Date.now()}}function N0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function JT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aN(r,e={}){return ua(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lN=/^https?/;async function uN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await aN(r);for(const t of e)try{if(cN(t))return}catch{}Or(r,"unauthorized-domain")}function cN(r){const e=Xm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!lN.test(t))return!1;if(oN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new mu(3e4,6e4);function C0(){const r=Ir().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function fN(r){return new Promise((e,t)=>{var s,o,u;function h(){C0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{C0(),t(ir(r,"network-request-failed"))},timeout:hN.get()})}if(!((o=(s=Ir().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ir().gapi)===null||u===void 0)&&u.load)h();else{const m=g4("iframefcb");return Ir()[m]=()=>{gapi.load?h():t(ir(r,"network-request-failed"))},m4(`${p4()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw uh=null,e})}let uh=null;function dN(r){return uh=uh||fN(r),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new mu(5e3,15e3),pN="__/auth/iframe",gN="emulator/auth/iframe",yN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _N(r){const e=r.config;Ne(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Mp(e,gN):`https://${r.config.authDomain}/${pN}`,s={apiKey:e.apiKey,appName:r.name,v:la},o=vN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${du(s).slice(1)}`}async function EN(r){const e=await dN(r),t=Ir().gapi;return Ne(t,r,"internal-error"),e.open({where:document.body,url:_N(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ir(r,"network-request-failed"),m=Ir().setTimeout(()=>{u(h)},mN.get());function p(){Ir().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bN=500,SN=600,AN="_blank",wN="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RN(r,e,t,s=bN,o=SN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},TN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=cn().toLowerCase();t&&(m=DT(g)?AN:t),IT(g)&&(e=e||wN,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[x,M])=>`${R}${x}=${M},`,"");if(a4(g)&&m!=="_self")return NN(e||"",m),new I0(null);const S=window.open(e||"",m,E);Ne(S,r,"popup-blocked");try{S.focus()}catch{}return new I0(S)}function NN(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN="__/auth/handler",IN="emulator/auth/handler",xN=encodeURIComponent("fac");async function x0(r,e,t,s,o,u){Ne(r.config.authDomain,r,"auth-domain-config-required"),Ne(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:la,eventId:o};if(e instanceof jp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",I2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof pu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${xN}=${encodeURIComponent(p)}`:"";return`${DN(r)}?${du(m).slice(1)}${g}`}function DN({config:r}){return r.emulator?Mp(r,IN):`https://${r.authDomain}/${CN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class ON{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=nN,this._overrideRedirectResult=Z4}async _openPopup(e,t,s,o){var u;mi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await x0(e,t,s,Xm(),o);return RN(e,h,Lp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await x0(e,t,s,Xm(),o);return V4(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(mi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await EN(e),s=new iN(e);return t.register("authEvent",o=>(Ne(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dm,{type:Dm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];h!==void 0&&t(!!h),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kT()||xT()||kp()}}const MN=ON;var D0="@firebase/auth",O0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kN(r){Zs(new ss("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ne(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(r)},g=new f4(s,o,u,p);return v4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Zs(new ss("auth-internal",e=>{const t=$h(e.getProvider("auth").getImmediate());return(s=>new PN(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(D0,O0,VN(r)),Cr(D0,O0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN=5*60,jN=mT("authIdTokenMaxAge")||UN;let M0=null;const LN=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>jN)return;const o=t==null?void 0:t.token;M0!==o&&(M0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BN(r=Ip()){const e=Yh(r,"auth");if(e.isInitialized())return e.getImmediate();const t=y4(r,{popupRedirectResolver:MN,persistence:[H4,FT,GT]}),s=mT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=LN(u.toString());I4(t,h,()=>h(t.currentUser)),C4(t,m=>h(m))}}const o=hT("auth");return o&&_4(t,`http://${o}`),t}function zN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}d4({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ir("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",zN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kN("Browser");var P0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,ZT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,N){function C(){}C.prototype=N.prototype,V.D=N.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(D,k,L){for(var w=Array(arguments.length-2),he=2;he<arguments.length;he++)w[he-2]=arguments[he];return N.prototype[k].apply(D,w)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,N,C){C||(C=0);var D=Array(16);if(typeof N=="string")for(var k=0;16>k;++k)D[k]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(k=0;16>k;++k)D[k]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=V.g[0],C=V.g[1],k=V.g[2];var L=V.g[3],w=N+(L^C&(k^L))+D[0]+3614090360&4294967295;N=C+(w<<7&4294967295|w>>>25),w=L+(k^N&(C^k))+D[1]+3905402710&4294967295,L=N+(w<<12&4294967295|w>>>20),w=k+(C^L&(N^C))+D[2]+606105819&4294967295,k=L+(w<<17&4294967295|w>>>15),w=C+(N^k&(L^N))+D[3]+3250441966&4294967295,C=k+(w<<22&4294967295|w>>>10),w=N+(L^C&(k^L))+D[4]+4118548399&4294967295,N=C+(w<<7&4294967295|w>>>25),w=L+(k^N&(C^k))+D[5]+1200080426&4294967295,L=N+(w<<12&4294967295|w>>>20),w=k+(C^L&(N^C))+D[6]+2821735955&4294967295,k=L+(w<<17&4294967295|w>>>15),w=C+(N^k&(L^N))+D[7]+4249261313&4294967295,C=k+(w<<22&4294967295|w>>>10),w=N+(L^C&(k^L))+D[8]+1770035416&4294967295,N=C+(w<<7&4294967295|w>>>25),w=L+(k^N&(C^k))+D[9]+2336552879&4294967295,L=N+(w<<12&4294967295|w>>>20),w=k+(C^L&(N^C))+D[10]+4294925233&4294967295,k=L+(w<<17&4294967295|w>>>15),w=C+(N^k&(L^N))+D[11]+2304563134&4294967295,C=k+(w<<22&4294967295|w>>>10),w=N+(L^C&(k^L))+D[12]+1804603682&4294967295,N=C+(w<<7&4294967295|w>>>25),w=L+(k^N&(C^k))+D[13]+4254626195&4294967295,L=N+(w<<12&4294967295|w>>>20),w=k+(C^L&(N^C))+D[14]+2792965006&4294967295,k=L+(w<<17&4294967295|w>>>15),w=C+(N^k&(L^N))+D[15]+1236535329&4294967295,C=k+(w<<22&4294967295|w>>>10),w=N+(k^L&(C^k))+D[1]+4129170786&4294967295,N=C+(w<<5&4294967295|w>>>27),w=L+(C^k&(N^C))+D[6]+3225465664&4294967295,L=N+(w<<9&4294967295|w>>>23),w=k+(N^C&(L^N))+D[11]+643717713&4294967295,k=L+(w<<14&4294967295|w>>>18),w=C+(L^N&(k^L))+D[0]+3921069994&4294967295,C=k+(w<<20&4294967295|w>>>12),w=N+(k^L&(C^k))+D[5]+3593408605&4294967295,N=C+(w<<5&4294967295|w>>>27),w=L+(C^k&(N^C))+D[10]+38016083&4294967295,L=N+(w<<9&4294967295|w>>>23),w=k+(N^C&(L^N))+D[15]+3634488961&4294967295,k=L+(w<<14&4294967295|w>>>18),w=C+(L^N&(k^L))+D[4]+3889429448&4294967295,C=k+(w<<20&4294967295|w>>>12),w=N+(k^L&(C^k))+D[9]+568446438&4294967295,N=C+(w<<5&4294967295|w>>>27),w=L+(C^k&(N^C))+D[14]+3275163606&4294967295,L=N+(w<<9&4294967295|w>>>23),w=k+(N^C&(L^N))+D[3]+4107603335&4294967295,k=L+(w<<14&4294967295|w>>>18),w=C+(L^N&(k^L))+D[8]+1163531501&4294967295,C=k+(w<<20&4294967295|w>>>12),w=N+(k^L&(C^k))+D[13]+2850285829&4294967295,N=C+(w<<5&4294967295|w>>>27),w=L+(C^k&(N^C))+D[2]+4243563512&4294967295,L=N+(w<<9&4294967295|w>>>23),w=k+(N^C&(L^N))+D[7]+1735328473&4294967295,k=L+(w<<14&4294967295|w>>>18),w=C+(L^N&(k^L))+D[12]+2368359562&4294967295,C=k+(w<<20&4294967295|w>>>12),w=N+(C^k^L)+D[5]+4294588738&4294967295,N=C+(w<<4&4294967295|w>>>28),w=L+(N^C^k)+D[8]+2272392833&4294967295,L=N+(w<<11&4294967295|w>>>21),w=k+(L^N^C)+D[11]+1839030562&4294967295,k=L+(w<<16&4294967295|w>>>16),w=C+(k^L^N)+D[14]+4259657740&4294967295,C=k+(w<<23&4294967295|w>>>9),w=N+(C^k^L)+D[1]+2763975236&4294967295,N=C+(w<<4&4294967295|w>>>28),w=L+(N^C^k)+D[4]+1272893353&4294967295,L=N+(w<<11&4294967295|w>>>21),w=k+(L^N^C)+D[7]+4139469664&4294967295,k=L+(w<<16&4294967295|w>>>16),w=C+(k^L^N)+D[10]+3200236656&4294967295,C=k+(w<<23&4294967295|w>>>9),w=N+(C^k^L)+D[13]+681279174&4294967295,N=C+(w<<4&4294967295|w>>>28),w=L+(N^C^k)+D[0]+3936430074&4294967295,L=N+(w<<11&4294967295|w>>>21),w=k+(L^N^C)+D[3]+3572445317&4294967295,k=L+(w<<16&4294967295|w>>>16),w=C+(k^L^N)+D[6]+76029189&4294967295,C=k+(w<<23&4294967295|w>>>9),w=N+(C^k^L)+D[9]+3654602809&4294967295,N=C+(w<<4&4294967295|w>>>28),w=L+(N^C^k)+D[12]+3873151461&4294967295,L=N+(w<<11&4294967295|w>>>21),w=k+(L^N^C)+D[15]+530742520&4294967295,k=L+(w<<16&4294967295|w>>>16),w=C+(k^L^N)+D[2]+3299628645&4294967295,C=k+(w<<23&4294967295|w>>>9),w=N+(k^(C|~L))+D[0]+4096336452&4294967295,N=C+(w<<6&4294967295|w>>>26),w=L+(C^(N|~k))+D[7]+1126891415&4294967295,L=N+(w<<10&4294967295|w>>>22),w=k+(N^(L|~C))+D[14]+2878612391&4294967295,k=L+(w<<15&4294967295|w>>>17),w=C+(L^(k|~N))+D[5]+4237533241&4294967295,C=k+(w<<21&4294967295|w>>>11),w=N+(k^(C|~L))+D[12]+1700485571&4294967295,N=C+(w<<6&4294967295|w>>>26),w=L+(C^(N|~k))+D[3]+2399980690&4294967295,L=N+(w<<10&4294967295|w>>>22),w=k+(N^(L|~C))+D[10]+4293915773&4294967295,k=L+(w<<15&4294967295|w>>>17),w=C+(L^(k|~N))+D[1]+2240044497&4294967295,C=k+(w<<21&4294967295|w>>>11),w=N+(k^(C|~L))+D[8]+1873313359&4294967295,N=C+(w<<6&4294967295|w>>>26),w=L+(C^(N|~k))+D[15]+4264355552&4294967295,L=N+(w<<10&4294967295|w>>>22),w=k+(N^(L|~C))+D[6]+2734768916&4294967295,k=L+(w<<15&4294967295|w>>>17),w=C+(L^(k|~N))+D[13]+1309151649&4294967295,C=k+(w<<21&4294967295|w>>>11),w=N+(k^(C|~L))+D[4]+4149444226&4294967295,N=C+(w<<6&4294967295|w>>>26),w=L+(C^(N|~k))+D[11]+3174756917&4294967295,L=N+(w<<10&4294967295|w>>>22),w=k+(N^(L|~C))+D[2]+718787259&4294967295,k=L+(w<<15&4294967295|w>>>17),w=C+(L^(k|~N))+D[9]+3951481745&4294967295,V.g[0]=V.g[0]+N&4294967295,V.g[1]=V.g[1]+(k+(w<<21&4294967295|w>>>11))&4294967295,V.g[2]=V.g[2]+k&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,N){N===void 0&&(N=V.length);for(var C=N-this.blockSize,D=this.B,k=this.h,L=0;L<N;){if(k==0)for(;L<=C;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<N;)if(D[k++]=V.charCodeAt(L++),k==this.blockSize){o(this,D),k=0;break}}else for(;L<N;)if(D[k++]=V[L++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=N},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var N=1;N<V.length-8;++N)V[N]=0;var C=8*this.o;for(N=V.length-8;N<V.length;++N)V[N]=C&255,C/=256;for(this.u(V),V=Array(16),N=C=0;4>N;++N)for(var D=0;32>D;D+=8)V[C++]=this.g[N]>>>D&255;return V};function u(V,N){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=N(V)}function h(V,N){this.h=N;for(var C=[],D=!0,k=V.length-1;0<=k;k--){var L=V[k]|0;D&&L==N||(C[k]=L,D=!1)}this.g=C}var m={};function p(V){return-128<=V&&128>V?u(V,function(N){return new h([N|0],0>N?-1:0)}):new h([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return S;if(0>V)return O(g(-V));for(var N=[],C=1,D=0;V>=C;D++)N[D]=V/C|0,C*=4294967296;return new h(N,0)}function E(V,N){if(V.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V.charAt(0)=="-")return O(E(V.substring(1),N));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(N,8)),D=S,k=0;k<V.length;k+=8){var L=Math.min(8,V.length-k),w=parseInt(V.substring(k,k+L),N);8>L?(L=g(Math.pow(N,L)),D=D.j(L).add(g(w))):(D=D.j(C),D=D.add(g(w)))}return D}var S=p(0),R=p(1),x=p(16777216);r=h.prototype,r.m=function(){if(j(this))return-O(this).m();for(var V=0,N=1,C=0;C<this.g.length;C++){var D=this.i(C);V+=(0<=D?D:4294967296+D)*N,N*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(M(this))return"0";if(j(this))return"-"+O(this).toString(V);for(var N=g(Math.pow(V,6)),C=this,D="";;){var k=ue(C,N).g;C=J(C,k.j(N));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=k,M(C))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function M(V){if(V.h!=0)return!1;for(var N=0;N<V.g.length;N++)if(V.g[N]!=0)return!1;return!0}function j(V){return V.h==-1}r.l=function(V){return V=J(this,V),j(V)?-1:M(V)?0:1};function O(V){for(var N=V.g.length,C=[],D=0;D<N;D++)C[D]=~V.g[D];return new h(C,~V.h).add(R)}r.abs=function(){return j(this)?O(this):this},r.add=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],D=0,k=0;k<=N;k++){var L=D+(this.i(k)&65535)+(V.i(k)&65535),w=(L>>>16)+(this.i(k)>>>16)+(V.i(k)>>>16);D=w>>>16,L&=65535,w&=65535,C[k]=w<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function J(V,N){return V.add(O(N))}r.j=function(V){if(M(this)||M(V))return S;if(j(this))return j(V)?O(this).j(O(V)):O(O(this).j(V));if(j(V))return O(this.j(O(V)));if(0>this.l(x)&&0>V.l(x))return g(this.m()*V.m());for(var N=this.g.length+V.g.length,C=[],D=0;D<2*N;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<V.g.length;k++){var L=this.i(D)>>>16,w=this.i(D)&65535,he=V.i(k)>>>16,De=V.i(k)&65535;C[2*D+2*k]+=w*De,ae(C,2*D+2*k),C[2*D+2*k+1]+=L*De,ae(C,2*D+2*k+1),C[2*D+2*k+1]+=w*he,ae(C,2*D+2*k+1),C[2*D+2*k+2]+=L*he,ae(C,2*D+2*k+2)}for(D=0;D<N;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=N;D<2*N;D++)C[D]=0;return new h(C,0)};function ae(V,N){for(;(V[N]&65535)!=V[N];)V[N+1]+=V[N]>>>16,V[N]&=65535,N++}function K(V,N){this.g=V,this.h=N}function ue(V,N){if(M(N))throw Error("division by zero");if(M(V))return new K(S,S);if(j(V))return N=ue(O(V),N),new K(O(N.g),O(N.h));if(j(N))return N=ue(V,O(N)),new K(O(N.g),N.h);if(30<V.g.length){if(j(V)||j(N))throw Error("slowDivide_ only works with positive integers.");for(var C=R,D=N;0>=D.l(V);)C=se(C),D=se(D);var k=me(C,1),L=me(D,1);for(D=me(D,2),C=me(C,2);!M(D);){var w=L.add(D);0>=w.l(V)&&(k=k.add(C),L=w),D=me(D,1),C=me(C,1)}return N=J(V,k.j(N)),new K(k,N)}for(k=S;0<=V.l(N);){for(C=Math.max(1,Math.floor(V.m()/N.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=g(C),w=L.j(N);j(w)||0<w.l(V);)C-=D,L=g(C),w=L.j(N);M(L)&&(L=R),k=k.add(L),V=J(V,w)}return new K(k,V)}r.A=function(V){return ue(this,V).h},r.and=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],D=0;D<N;D++)C[D]=this.i(D)&V.i(D);return new h(C,this.h&V.h)},r.or=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],D=0;D<N;D++)C[D]=this.i(D)|V.i(D);return new h(C,this.h|V.h)},r.xor=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],D=0;D<N;D++)C[D]=this.i(D)^V.i(D);return new h(C,this.h^V.h)};function se(V){for(var N=V.g.length+1,C=[],D=0;D<N;D++)C[D]=V.i(D)<<1|V.i(D-1)>>>31;return new h(C,V.h)}function me(V,N){var C=N>>5;N%=32;for(var D=V.g.length-C,k=[],L=0;L<D;L++)k[L]=0<N?V.i(L+C)>>>N|V.i(L+C+1)<<32-N:V.i(L+C);return new h(k,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,$s=h}).apply(typeof P0<"u"?P0:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,Hl,t1,ch,Zm,n1,r1,i1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in _))break e;_=_[z]}c=c[c.length-1],A=_[c],y=y(A),y!=A&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,A=!1,z={next:function(){if(!A&&_<c.length){var Y=_++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function S(c,y,_){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,R.apply(null,arguments)}function x(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var A=_.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function M(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(A,z,Y){for(var fe=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)fe[qe-2]=arguments[qe];return y.prototype[z].apply(A,fe)}}function j(c){const y=c.length;if(0<y){const _=Array(y);for(let A=0;A<y;A++)_[A]=c[A];return _}return[]}function O(c,y){for(let _=1;_<arguments.length;_++){const A=arguments[_];if(p(A)){const z=c.length||0,Y=A.length||0;c.length=z+Y;for(let fe=0;fe<Y;fe++)c[z+fe]=A[fe]}else c.push(A)}}class J{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function me(c,y,_){for(const A in c)y.call(_,c[A],A,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function N(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let _,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(_ in A)c[_]=A[_];for(let Y=0;Y<C.length;Y++)_=C[Y],Object.prototype.hasOwnProperty.call(A,_)&&(c[_]=A[_])}}function k(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function w(){var c=Me;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class he{constructor(){this.h=this.g=null}add(y,_){const A=De.get();A.set(y,_),this.h?this.h.next=A:this.g=A,this.h=A}}var De=new J(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,Me=new he,P=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(ee)}};var ee=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(_){L(_)}var y=De;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Z(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}Z.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function we(c,y){if(Z.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(se){e:{try{ue(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&we.aa.h.call(this)}}M(we,Z);var Ee={2:"touch",3:"pen",4:"mouse"};we.prototype.h=function(){we.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),re=0;function be(c,y,_,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!A,this.ha=z,this.key=++re,this.da=this.fa=!1}function ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Xe(c){this.src=c,this.g={},this.h=0}Xe.prototype.add=function(c,y,_,A,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var fe=tn(c,y,A,z);return-1<fe?(y=c[fe],_||(y.fa=!1)):(y=new be(y,this.src,Y,!!A,z),y.fa=_,c.push(y)),y};function ut(c,y){var _=y.type;if(_ in c.g){var A=c.g[_],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(ze(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function tn(c,y,_,A){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!_&&Y.ha==A)return z}return-1}var hn="closure_lm_"+(1e6*Math.random()|0),Xn={};function Vr(c,y,_,A,z){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Vr(c,y[Y],_,A,z);return null}return _=Cu(_),c&&c[at]?c.K(y,_,g(A)?!!A.capture:!1,z):vn(c,y,_,!1,A,z)}function vn(c,y,_,A,z,Y){if(!y)throw Error("Invalid event type");var fe=g(z)?!!z.capture:!!z,qe=da(c);if(qe||(c[hn]=qe=new Xe(c)),_=qe.add(y,_,A,fe,Y),_.proxy)return _;if(A=vf(),_.proxy=A,A.src=c,A.listener=_,c.addEventListener)de||(z=fe),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(cs(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return _}function vf(){function c(_){return y.call(c.src,c.listener,_)}const y=_f;return c}function Do(c,y,_,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Do(c,y[Y],_,A,z);else A=g(A)?!!A.capture:!!A,_=Cu(_),c&&c[at]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],_=tn(Y,_,A,z),-1<_&&(ze(Y[_]),Array.prototype.splice.call(Y,_,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=da(c))&&(y=c.g[y.toString()],c=-1,y&&(c=tn(y,_,A,z)),(_=-1<c?y[c]:null)&&fa(_))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[at])ut(y.i,c);else{var _=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(_,A,c.capture):y.detachEvent?y.detachEvent(cs(_),A):y.addListener&&y.removeListener&&y.removeListener(A),(_=da(y))?(ut(_,c),_.h==0&&(_.src=null,y[hn]=null)):ze(c)}}}function cs(c){return c in Xn?Xn[c]:Xn[c]="on"+c}function _f(c,y){if(c.da)c=!0;else{y=new we(y,this);var _=c.listener,A=c.ha||c.src;c.fa&&fa(c),c=_.call(A,y)}return c}function da(c){return c=c[hn],c instanceof Xe?c:null}var Oo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[Oo]||(c[Oo]=function(y){return c.handleEvent(y)}),c[Oo])}function gt(){W.call(this),this.i=new Xe(this),this.M=this,this.F=null}M(gt,W),gt.prototype[at]=!0,gt.prototype.removeEventListener=function(c,y,_,A){Do(this,c,y,_,A)};function We(c,y){var _,A=c.F;if(A)for(_=[];A;A=A.F)_.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new Z(y,c);else if(y instanceof Z)y.target=y.target||c;else{var z=y;y=new Z(A,c),D(y,z)}if(z=!0,_)for(var Y=_.length-1;0<=Y;Y--){var fe=y.g=_[Y];z=An(fe,A,!0,y)&&z}if(fe=y.g=c,z=An(fe,A,!0,y)&&z,z=An(fe,A,!1,y)&&z,_)for(Y=0;Y<_.length;Y++)fe=y.g=_[Y],z=An(fe,A,!1,y)&&z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],A=0;A<_.length;A++)ze(_[A]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,_,A){return this.i.add(String(c),y,!1,_,A)},gt.prototype.L=function(c,y,_,A){return this.i.add(String(c),y,!0,_,A)};function An(c,y,_,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Y=0;Y<y.length;++Y){var fe=y[Y];if(fe&&!fe.da&&fe.capture==_){var qe=fe.listener,kt=fe.ha||fe.src;fe.fa&&ut(c.i,fe),z=qe.call(kt,A)!==!1&&z}}return z&&!A.defaultPrevented}function nn(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Iu(c){c.g=nn(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends W{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){W.call(this),this.h=c,this.g={}}M(hs,W);var fs=[];function ds(c){me(c.g,function(y,_){this.g.hasOwnProperty(_)&&fa(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),ds(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,ma=m.JSON.parse,ms=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function Po(c){return c.h||(c.h=c.i())}function Vo(){}var kr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ur(){Z.call(this,"d")}M(Ur,Z);function ko(){Z.call(this,"c")}M(ko,Z);var lr={},Uo=null;function vi(){return Uo=Uo||new gt}lr.La="serverreachability";function pa(c){Z.call(this,lr.La,c)}M(pa,Z);function _i(c){const y=vi();We(y,new pa(y))}lr.STAT_EVENT="statevent";function xu(c,y){Z.call(this,lr.STAT_EVENT,c),this.stat=y}M(xu,Z);function ht(c){const y=vi();We(y,new xu(y,c))}lr.Ma="timingevent";function Vt(c,y){Z.call(this,lr.Ma,c),this.size=y}M(Vt,Z);function It(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function jo(c,y,_,A,z,Y){c.info(function(){if(c.g)if(Y)for(var fe="",qe=Y.split("&"),kt=0;kt<qe.length;kt++){var Fe=qe[kt].split("=");if(1<Fe.length){var zt=Fe[0];Fe=Fe[1];var Ut=zt.split("_");fe=2<=Ut.length&&Ut[1]=="type"?fe+(zt+"="+Fe+"&"):fe+(zt+"=redacted&")}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+_+`
`+fe})}function Tf(c,y,_,A,z,Y,fe){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+_+`
`+Y+" "+fe})}function Ei(c,y,_,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ps(c,_)+(A?" "+A:"")})}function Du(c,y){c.info(function(){return"TIMEOUT: "+y})}Un.prototype.info=function(){};function ps(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var A=_[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var fe=1;fe<z.length;fe++)z[fe]=""}}}}return Wn(_)}catch{return y}}var Ti={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ur;function cr(){}M(cr,Mo),cr.prototype.g=function(){return new XMLHttpRequest},cr.prototype.i=function(){return{}},ur=new cr;function fn(c,y,_,A){this.j=c,this.i=y,this.l=_,this.R=A||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Lo={},ga={};function Jn(c,y,_){c.L=1,c.v=Es(wn(y)),c.m=_,c.P=!0,Lr(c,null)}function Lr(c,y){c.F=Date.now(),gs(c),c.A=wn(c.v);var _=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Go(_.i,"t",A),c.C=0,_=c.j.J,c.h=new At,c.g=Qu(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ef(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(fs[0]=z.toString()),z=fs);for(var Y=0;Y<z.length;Y++){var fe=Vr(_,z[Y],A||y.handleEvent,!1,y.h||y);if(!fe)break;y.g[fe.key]=fe}y=c.H?N(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),_i(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}fn.prototype.ca=function(c){c=c.target;const y=this.M;y&&zn(c)==3?y.j():this.Y(c)},fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ut=zn(this.g);var y=this.g.Ba();const Qr=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=Qr?_i(3):_i(2)),bi(this);var _=this.g.Z();this.X=_;t:if(Ou(this)){var A=Lu(this.g);c="";var z=A.length,Y=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),hr(this);var fe="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=_==200,Tf(this.i,this.u,this.A,this.l,this.R,Ut,_),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,kt=this.g;if((qe=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(qe)){var Fe=qe;break t}}Fe=null}if(_=Fe)Ei(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,_);else{this.o=!1,this.s=3,ht(12),Kt(this),hr(this);break e}}if(this.P){_=!0;let Qt;for(;!this.J&&this.C<fe.length;)if(Qt=Mu(this,fe),Qt==ga){Ut==4&&(this.s=4,ht(14),_=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Lo){this.s=4,ht(15),Ei(this.i,this.l,fe,"[Invalid Chunk]"),_=!1;break}else Ei(this.i,this.l,Qt,null),ys(this,Qt);if(Ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||fe.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)Ei(this.i,this.l,fe,"[Invalid Chunked Response]"),Kt(this),hr(this);else if(0<fe.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Cs(zt),zt.M=!0,ht(11))}}else Ei(this.i,this.l,fe,null),ys(this,fe);Ut==4&&Kt(this),this.o&&!this.J&&(Ut==4?Hu(this.j,this):(this.o=!1,gs(this)))}else Rf(this.g),_==400&&0<fe.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Kt(this),hr(this)}}}catch{}finally{}};function Ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mu(c,y){var _=c.C,A=y.indexOf(`
`,_);return A==-1?ga:(_=Number(y.substring(_,A)),isNaN(_)?Lo:(A+=1,A+_>y.length?ga:(y=y.slice(A,A+_),c.C=A+_,y)))}fn.prototype.cancel=function(){this.J=!0,Kt(this)};function gs(c){c.S=Date.now()+c.I,Pu(c,c.I)}function Pu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=It(R(c.ba,c),y)}function bi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Du(this.i,this.A),this.L!=2&&(_i(),ht(17)),Kt(this),this.s=2,hr(this)):Pu(this,this.S-c)};function hr(c){c.j.G==0||c.J||Hu(c.j,c)}function Kt(c){bi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ds(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ys(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Bo(_.h,c))){if(!c.K&&Bo(_.h,c)&&_.G==3){try{var A=_.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Ca(_),Ra(_);else break e;Xo(_),ht(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=It(R(_.Za,_),6e3));if(1>=va(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Kr(_,11)}else if((c.K||_.g==c)&&Ca(_),!ae(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let Fe=z[y];if(_.T=Fe[0],Fe=Fe[1],_.G==2)if(Fe[0]=="c"){_.K=Fe[1],_.ia=Fe[2];const zt=Fe[3];zt!=null&&(_.la=zt,_.j.info("VER="+_.la));const Ut=Fe[4];Ut!=null&&(_.Aa=Ut,_.j.info("SVER="+_.Aa));const Qr=Fe[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(A=1.5*Qr,_.L=A,_.j.info("backChannelRequestTimeoutMs_="+A)),A=_;const Qt=c.g;if(Qt){const vr=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var Y=A.h;Y.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(_a(Y,Y.h),Y.h=null))}if(A.D){const Jo=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(A.ya=Jo,tt(A.I,A.D,Jo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),A=_;var fe=c;if(A.qa=Ku(A,A.J?A.ia:null,A.W),fe.K){dn(A.h,fe);var qe=fe,kt=A.L;kt&&(qe.I=kt),qe.B&&(bi(qe),gs(qe)),A.g=fe}else qu(A);0<_.i.length&&Na(_)}else Fe[0]!="stop"&&Fe[0]!="close"||Kr(_,7);else _.G==3&&(Fe[0]=="stop"||Fe[0]=="close"?Fe[0]=="stop"?Kr(_,7):Yo(_):Fe[0]!="noop"&&_.l&&_.l.ta(Fe),_.v=0)}}_i(4)}catch{}}var Vu=class{constructor(c,y){this.g=c,this.map=y}};function Br(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function va(c){return c.h?1:c.g?c.g.size:0}function Bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function _a(c,y){c.g?c.g.add(y):c.h=y}function dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Br.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return j(c.i)}function bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,A=0;A<_;A++)y.push(c[A]);return y}y=[],_=0;for(A in c)y[_++]=c[A];return y}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const A in c)y[_++]=A;return y}}}function qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Ea(c),A=bf(c),z=A.length,Y=0;Y<z;Y++)y.call(void 0,A[Y],_&&_[Y],c)}var vs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var A=c[_].indexOf("="),z=null;if(0<=A){var Y=c[_].substring(0,A);z=c[_].substring(A+1)}else Y=c[_];y(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function xt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,Si(this,c.s),this.l=c.l;var y=c.i,_=new qr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),zr(this,_),this.m=c.m}else c&&(y=String(c).match(vs))?(this.h=!1,_s(this,y[1]||"",!0),this.o=jn(y[2]||""),this.g=jn(y[3]||"",!0),Si(this,y[4]),this.l=jn(y[5]||"",!0),zr(this,y[6]||"",!0),this.m=jn(y[7]||"")):(this.h=!1,this.i=new qr(null,this.h))}xt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ts(y,Fo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,Fo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Ts(_,_.charAt(0)=="/"?Af:Ho,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Ts(_,Ta)),c.join("")};function wn(c){return new xt(c)}function _s(c,y,_){c.j=_?jn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Si(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function zr(c,y,_){y instanceof qr?(c.i=y,Uu(c.i,c.h)):(_||(y=Ts(y,wf)),c.i=new qr(y,c.h))}function tt(c,y,_){c.i.set(y,_)}function Es(c){return tt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,ku),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Ho=/[#\?:]/g,Af=/[#\?]/g,wf=/[#\?@]/g,Ta=/#/g;function qr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=qr.prototype,r.add=function(c,y){Ln(this),this.i=null,c=fr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Fr(c,y){Ln(c),y=fr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hr(c,y){return Ln(c),y=fr(c,y),c.g.has(y)}r.forEach=function(c,y){Ln(this),this.g.forEach(function(_,A){_.forEach(function(z){c.call(y,z,A,this)},this)},this)},r.na=function(){Ln(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let A=0;A<y.length;A++){const z=c[A];for(let Y=0;Y<z.length;Y++)_.push(y[A])}return _},r.V=function(c){Ln(this);let y=[];if(typeof c=="string")Hr(this,c)&&(y=y.concat(this.g.get(fr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return Ln(this),this.i=null,c=fr(this,c),Hr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Go(c,y,_){Fr(c,y),0<_.length&&(c.i=null,c.g.set(fr(c,y),j(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var A=y[_];const Y=encodeURIComponent(String(A)),fe=this.V(A);for(A=0;A<fe.length;A++){var z=Y;fe[A]!==""&&(z+="="+encodeURIComponent(String(fe[A]))),c.push(z)}}return this.i=c.join("&")};function fr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uu(c,y){y&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(_,A){var z=A.toLowerCase();A!=z&&(Fr(this,A),Go(this,z,_))},c)),c.j=y}function bs(c,y){const _=new Un;if(m.Image){const A=new Image;A.onload=x(Bn,_,"TestLoadImage: loaded",!0,y,A),A.onerror=x(Bn,_,"TestLoadImage: error",!1,y,A),A.onabort=x(Bn,_,"TestLoadImage: abort",!1,y,A),A.ontimeout=x(Bn,_,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Zn(c,y){const _=new Un,A=new AbortController,z=setTimeout(()=>{A.abort(),Bn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Bn(_,"TestPingServer: ok",!0,y):Bn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Bn(_,"TestPingServer: error",!1,y)})}function Bn(c,y,_,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(_)}catch{}}function Ss(){this.g=new ms}function dr(c,y,_){const A=_||"";try{qo(c,function(z,Y){let fe=z;g(z)&&(fe=Wn(z)),y.push(A+Y+"="+encodeURIComponent(fe))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Ai(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Ai,Mo),Ai.prototype.g=function(){return new Gr(this.l,this.j)},Ai.prototype.i=function(c){return function(){return c}}({});function Gr(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Gr,gt),r=Gr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pr(this)),this.g&&(this.readyState=3,pr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mr(this):pr(this),this.readyState==3&&Ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,mr(this))},r.Qa=function(c){this.g&&(this.response=c,mr(this))},r.ga=function(){this.g&&mr(this)};function mr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function pr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return me(c,function(_,A){y+=A,y+=":",y+=_,y+=`\r
`}),y}function Bt(c,y,_){e:{for(A in _){var A=!1;break e}A=!0}A||(_=Qo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):tt(c,y,_))}function $e(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M($e,gt);var ba=/^https?$/i,As=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ur.g(),this.v=this.o?Po(this.o):Po(ur),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ju(this,Y);return}if(c=_||"",_=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)_.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())_.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(_.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||A||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of _)this.g.setRequestHeader(Y,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ju(this,Y)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Sa(c),gr(c)}function Sa(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},r.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)nn(c.Ea,0,c);else if(We(c,"readystatechange"),zn(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var A;if(A=fe===0){var z=String(c.D).match(vs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!ba.test(z?z.toLowerCase():"")}_=A}if(_)We(c,"complete"),We(c,"success");else{c.m=6;try{var Y=2<zn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Sa(c)}}finally{gr(c)}}}}function gr(c,y){if(c.g){ws(c);const _=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{_.onreadystatechange=A}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ma(y)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Rf(c){const y={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ae(c[A]))continue;var _=k(c[A]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const Y=y[z]||[];y[z]=Y,Y.push(_)}V(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Br(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=wa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,A){ht(0),this.W=c,this.H=y||{},_&&A!==void 0&&(this.H.OSID=_,this.H.OAID=A),this.F=this.X,this.I=Ku(this,null,this.W),Na(this)};function Yo(c){if(Bu(c),c.G==3){var y=c.U++,_=wn(c.I);if(tt(_,"SID",c.K),tt(_,"RID",y),tt(_,"TYPE","terminate"),Ns(c,_),y=new fn(c,c.j,y),y.L=2,y.v=Es(wn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gs(y)}Gu(c)}function Ra(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Bu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ca(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!ya(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||P(),pe||(ce(),pe=!0),Me.add(y,c),c.B=0}}function Nf(c,y){return va(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=It(R(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new fn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=N(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var A=this.i[_];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=zu(this,z,y),_=wn(this.I),tt(_,"RID",c),tt(_,"CVER",22),this.D&&tt(_,"X-HTTP-Session-Id",this.D),Ns(this,_),Y&&(this.O?y="headers="+encodeURIComponent(String(Qo(Y)))+"&"+y:this.m&&Bt(_,this.m,Y)),_a(this.h,z),this.Ua&&tt(_,"TYPE","init"),this.P?(tt(_,"$req",y),tt(_,"SID","null"),z.T=!0,Jn(z,_,null)):Jn(z,_,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||ya(this.h)||$o(this))};function $o(c,y){var _;y?_=y.l:_=c.U++;const A=wn(c.I);tt(A,"SID",c.K),tt(A,"RID",_),tt(A,"AID",c.T),Ns(c,A),c.m&&c.o&&Bt(A,c.m,c.o),_=new fn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),_a(c.h,_),Jn(_,A,y)}function Ns(c,y){c.H&&me(c.H,function(_,A){tt(y,A,_)}),c.l&&qo({},function(_,A){tt(y,A,_)})}function zu(c,y,_){_=Math.min(c.i.length,_);var A=c.l?R(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const fe=["count="+_];Y==-1?0<_?(Y=z[0].g,fe.push("ofs="+Y)):Y=0:fe.push("ofs="+Y);let qe=!0;for(let kt=0;kt<_;kt++){let Fe=z[kt].g;const zt=z[kt].map;if(Fe-=Y,0>Fe)Y=Math.max(0,z[kt].g-100),qe=!1;else try{dr(zt,fe,"req"+Fe+"_")}catch{A&&A(zt)}}if(qe){A=fe.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,A}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||P(),pe||(ce(),pe=!0),Me.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=It(R(c.Fa,c),Wo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=It(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Ra(this),Fu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=wn(c.qa);tt(y,"RID","rpc"),tt(y,"SID",c.K),tt(y,"AID",c.T),tt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&tt(y,"TO",c.ja),tt(y,"TYPE","xmlhttp"),Ns(c,y),c.m&&c.o&&Bt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Es(wn(y)),_.m=null,_.P=!0,Lr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ra(this),Xo(this),ht(19))};function Ca(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var _=null;if(c.g==y){Ca(c),Cs(c),c.g=null;var A=2}else if(Bo(c.h,y))_=y.D,dn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=vi(),We(A,new Vt(A,_)),Na(c)}else qu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Nf(c,y)||A==2&&Xo(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:Kr(c,5);break;case 4:Kr(c,10);break;case 3:Kr(c,6);break;default:Kr(c,2)}}}function Wo(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function Kr(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),A=c.Xa;const z=!A;A=new xt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(A,"https"),Es(A),z?bs(A.toString(),_):Zn(A.toString(),_)}else ht(2);c.G=0,c.l&&c.l.sa(y),Gu(c),Bu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,_){var A=_ instanceof xt?wn(_):new xt(_);if(A.g!="")y&&(A.g=y+"."+A.g),Si(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Y=new xt(null);A&&_s(Y,A),y&&(Y.g=y),z&&Si(Y,z),_&&(Y.l=_),A=Y}return _=c.D,y=c.ya,_&&y&&tt(A,_,y),tt(A,"VER",c.la),Ns(c,A),A}function Qu(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Ai({eb:_})):new $e(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ia(){}Ia.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){gt.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ae(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yr(this)}M(mn,gt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yo(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Wn(c),c=_);y.i.push(new Vu(y.Ya++,c)),y.G==3&&Na(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,mn.aa.N.call(this)};function $u(c){Ur.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}M($u,Ur);function Xu(){ko.call(this),this.status=1}M(Xu,ko);function yr(c){this.g=c}M(yr,Yu),yr.prototype.ua=function(){We(this.g,"a")},yr.prototype.ta=function(c){We(this.g,new $u(c))},yr.prototype.sa=function(c){We(this.g,new Xu)},yr.prototype.ra=function(){We(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,i1=function(){return new Ia},r1=function(){return vi()},n1=lr,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,ch=Ti,jr.COMPLETE="complete",t1=jr,Vo.EventType=kr,kr.OPEN="a",kr.CLOSE="b",kr.ERROR="c",kr.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Hl=Vo,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,e1=$e}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const V0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Np("@firebase/firestore");function zl(){return ta.logLevel}function ve(r,...e){if(ta.logLevel<=Be.DEBUG){const t=e.map(zp);ta.debug(`Firestore (${wo}): ${r}`,...t)}}function pi(r,...e){if(ta.logLevel<=Be.ERROR){const t=e.map(zp);ta.error(`Firestore (${wo}): ${r}`,...t)}}function po(r,...e){if(ta.logLevel<=Be.WARN){const t=e.map(zp);ta.warn(`Firestore (${wo}): ${r}`,...t)}}function zp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(r="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+r;throw pi(e),new Error(e)}function et(r,e){r||Ce()}function xe(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Pr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class FN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HN{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new rs,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new rs)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string"),new s1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new on(e)}}class GN{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KN{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new GN(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){et(this.o===void 0);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new QN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=$N(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Qe(r,e){return r<e?-1:r>e?1:0}function go(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return _t.fromMillis(Date.now())}static fromDate(e){return _t.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new _t(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new _t(0,0))}static max(){return new Ie(new _t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ce(),s===void 0?s=e.length-t:s>e.length-t&&Ce(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return iu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends iu{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(oe.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const XN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends iu{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return XN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ct.fromString(e))}static fromName(e){return new Te(ct.fromString(e).popFirst(5))}static empty(){return new Te(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ct(e.slice()))}}function WN(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new _t(t+1,0):new _t(t,s));return new as(o,Te.empty(),e)}function JN(r){return new as(r.readTime,r.key,-1)}class as{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new as(Ie.min(),Te.empty(),-1)}static max(){return new as(Ie.max(),Te.empty(),-1)}}function ZN(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(r.documentKey,e.documentKey),t!==0?t:Qe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==eC)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new le((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function nC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qp.oe=-1;function Jh(r){return r==null}function Oh(r){return r===0&&1/r==-1/0}function rC(r){return typeof r=="number"&&Number.isInteger(r)&&!Oh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ca(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function o1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Zt(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l1("Invalid base64 string: "+u):u}}(e);return new en(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const iC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(et(!!r),typeof r=="string"){let e=0;const t=iC.exec(r);if(et(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Nt(r.seconds),nanos:Nt(r.nanos)}}function Nt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function na(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Hp(r){const e=r.mapValue.fields.__previous_value__;return Fp(e)?Hp(e):e}function su(r){const e=os(r.mapValue.fields.__local_write_time__.timestampValue);return new _t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,t,s,o,u,h,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}class au{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={mapValue:{}};function ra(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Fp(r)?4:oC(r)?9007199254740991:aC(r)?10:11:Ce()}function Mr(r,e){if(r===e)return!0;const t=ra(r);if(t!==ra(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=os(o.timestampValue),m=os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return Nt(o.geoPointValue.latitude)===Nt(u.geoPointValue.latitude)&&Nt(o.geoPointValue.longitude)===Nt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Nt(o.integerValue)===Nt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Nt(o.doubleValue),m=Nt(u.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return go(r.arrayValue.values||[],e.arrayValue.values||[],Mr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(k0(h)!==k0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Mr(h[p],m[p])))return!1;return!0}(r,e);default:return Ce()}}function ou(r,e){return(r.values||[]).find(t=>Mr(t,e))!==void 0}function yo(r,e){if(r===e)return 0;const t=ra(r),s=ra(e);if(t!==s)return Qe(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qe(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Nt(u.integerValue||u.doubleValue),p=Nt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return j0(r.timestampValue,e.timestampValue);case 4:return j0(su(r),su(e));case 5:return Qe(r.stringValue,e.stringValue);case 6:return function(u,h){const m=na(u),p=na(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Qe(m[g],p[g]);if(E!==0)return E}return Qe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Qe(Nt(u.latitude),Nt(h.latitude));return m!==0?m:Qe(Nt(u.longitude),Nt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return L0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const S=u.fields||{},R=h.fields||{},x=(m=S.value)===null||m===void 0?void 0:m.arrayValue,M=(p=R.value)===null||p===void 0?void 0:p.arrayValue,j=Qe(((g=x==null?void 0:x.values)===null||g===void 0?void 0:g.length)||0,((E=M==null?void 0:M.values)===null||E===void 0?void 0:E.length)||0);return j!==0?j:L0(x,M)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===eh.mapValue&&h===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(h===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const R=Qe(p[S],E[S]);if(R!==0)return R;const x=yo(m[p[S]],g[E[S]]);if(x!==0)return x}return Qe(p.length,E.length)}(r.mapValue,e.mapValue);default:throw Ce()}}function j0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Qe(r,e);const t=os(r),s=os(e),o=Qe(t.seconds,s.seconds);return o!==0?o:Qe(t.nanos,s.nanos)}function L0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=yo(t[o],s[o]);if(u)return u}return Qe(t.length,s.length)}function vo(r){return ep(r)}function ep(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=os(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return na(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Te.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ep(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ep(t.fields[h])}`;return o+"}"}(r.mapValue):Ce()}function B0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function tp(r){return!!r&&"integerValue"in r}function Gp(r){return!!r&&"arrayValue"in r}function z0(r){return!!r&&"nullValue"in r}function q0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function hh(r){return!!r&&"mapValue"in r}function aC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ca(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Yl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function oC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(t)}setAll(e){let t=Jt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ca(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new bn(Yl(this.value))}}function u1(r){const e=[];return ca(r.fields,(t,s)=>{const o=new Jt([t]);if(hh(s)){const u=u1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Ie.min(),Ie.min(),Ie.min(),bn.empty(),0)}static newFoundDocument(e,t,s,o){return new ln(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new ln(e,2,t,Ie.min(),Ie.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ie.min(),Ie.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.position=e,this.inclusive=t}}function F0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),t.key):s=yo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function H0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Mr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t="asc"){this.field=e,this.dir=t}}function lC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{}class Pt extends c1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new cC(e,t,s):t==="array-contains"?new dC(e,s):t==="in"?new mC(e,s):t==="not-in"?new pC(e,s):t==="array-contains-any"?new gC(e,s):new Pt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new hC(e,s):new fC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(yo(t,this.value)):t!==null&&ra(this.value)===ra(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ar extends c1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ar(e,t)}matches(e){return h1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h1(r){return r.op==="and"}function f1(r){return uC(r)&&h1(r)}function uC(r){for(const e of r.filters)if(e instanceof ar)return!1;return!0}function np(r){if(r instanceof Pt)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(f1(r))return r.filters.map(e=>np(e)).join(",");{const e=r.filters.map(t=>np(t)).join(",");return`${r.op}(${e})`}}function d1(r,e){return r instanceof Pt?function(s,o){return o instanceof Pt&&s.op===o.op&&s.field.isEqual(o.field)&&Mr(s.value,o.value)}(r,e):r instanceof ar?function(s,o){return o instanceof ar&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&d1(h,o.filters[m]),!0):!1}(r,e):void Ce()}function m1(r){return r instanceof Pt?function(t){return`${t.field.canonicalString()} ${t.op} ${vo(t.value)}`}(r):r instanceof ar?function(t){return t.op.toString()+" {"+t.getFilters().map(m1).join(" ,")+"}"}(r):"Filter"}class cC extends Pt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class hC extends Pt{constructor(e,t){super(e,"in",t),this.keys=p1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fC extends Pt{constructor(e,t){super(e,"not-in",t),this.keys=p1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p1(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class dC extends Pt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gp(t)&&ou(t.arrayValue,this.value)}}class mC extends Pt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ou(this.value.arrayValue,t)}}class pC extends Pt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ou(this.value.arrayValue,t)}}class gC extends Pt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function G0(r,e=null,t=[],s=[],o=null,u=null,h=null){return new yC(r,e,t,s,o,u,h)}function Kp(r){const e=xe(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>np(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>vo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>vo(s)).join(",")),e.ue=t}return e.ue}function Qp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!lC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!d1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!H0(r.startAt,e.startAt)&&H0(r.endAt,e.endAt)}function rp(r){return Te.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function vC(r,e,t,s,o,u,h,m){return new _u(r,e,t,s,o,u,h,m)}function g1(r){return new _u(r)}function K0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y1(r){return r.collectionGroup!==null}function $l(r){const e=xe(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Zt(Jt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Ph(u,s))}),t.has(Jt.keyField().canonicalString())||e.ce.push(new Ph(Jt.keyField(),s))}return e.ce}function xr(r){const e=xe(r);return e.le||(e.le=_C(e,$l(r))),e.le}function _C(r,e){if(r.limitType==="F")return G0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ph(o.field,u)});const t=r.endAt?new Mh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Mh(r.startAt.position,r.startAt.inclusive):null;return G0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function ip(r,e){const t=r.filters.concat([e]);return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function sp(r,e,t){return new _u(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Zh(r,e){return Qp(xr(r),xr(e))&&r.limitType===e.limitType}function v1(r){return`${Kp(xr(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>m1(o)).join(", ")}]`),Jh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>vo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>vo(o)).join(",")),`Target(${s})`}(xr(r))}; limitType=${r.limitType})`}function ef(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=F0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,$l(s),o)||s.endAt&&!function(h,m,p){const g=F0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,$l(s),o))}(r,e)}function EC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _1(r){return(e,t)=>{let s=!1;for(const o of $l(r)){const u=TC(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TC(r,e,t){const s=r.field.isKeyField()?Te.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ce()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new pt(Te.comparator);function gi(){return bC}const E1=new pt(Te.comparator);function Gl(...r){let e=E1;for(const t of r)e=e.insert(t.key,t);return e}function T1(r){let e=E1;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ks(){return Xl()}function b1(){return Xl()}function Xl(){return new Ro(r=>r.toString(),(r,e)=>r.isEqual(e))}const SC=new pt(Te.comparator),AC=new Zt(Te.comparator);function Le(...r){let e=AC;for(const t of r)e=e.add(t);return e}const wC=new Zt(Qe);function RC(){return wC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function S1(r){return{integerValue:""+r}}function NC(r,e){return rC(e)?S1(e):Yp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function CC(r,e,t){return r instanceof Vh?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=Hp(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):r instanceof lu?w1(r,e):r instanceof uu?R1(r,e):function(o,u){const h=A1(o,u),m=Q0(h)+Q0(o.Pe);return tp(h)&&tp(o.Pe)?S1(m):Yp(o.serializer,m)}(r,e)}function IC(r,e,t){return r instanceof lu?w1(r,e):r instanceof uu?R1(r,e):t}function A1(r,e){return r instanceof kh?function(s){return tp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Vh extends tf{}class lu extends tf{constructor(e){super(),this.elements=e}}function w1(r,e){const t=N1(e);for(const s of r.elements)t.some(o=>Mr(o,s))||t.push(s);return{arrayValue:{values:t}}}class uu extends tf{constructor(e){super(),this.elements=e}}function R1(r,e){let t=N1(e);for(const s of r.elements)t=t.filter(o=>!Mr(o,s));return{arrayValue:{values:t}}}class kh extends tf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Q0(r){return Nt(r.integerValue||r.doubleValue)}function N1(r){return Gp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function xC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?go(s.elements,o.elements,Mr):s instanceof kh&&o instanceof kh?Mr(s.Pe,o.Pe):s instanceof Vh&&o instanceof Vh}(r.transform,e.transform)}class DC{constructor(e,t){this.version=e,this.transformResults=t}}class sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new sr}static exists(e){return new sr(void 0,e)}static updateTime(e){return new sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class nf{}function C1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $p(r.key,sr.none()):new Eu(r.key,r.data,sr.none());{const t=r.data,s=bn.empty();let o=new Zt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new us(r.key,s,new Mn(o.toArray()),sr.none())}}function OC(r,e,t){r instanceof Eu?function(o,u,h){const m=o.value.clone(),p=$0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof us?function(o,u,h){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=$0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(I1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Wl(r,e,t,s){return r instanceof Eu?function(u,h,m,p){if(!fh(u.precondition,h))return m;const g=u.value.clone(),E=X0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof us?function(u,h,m,p){if(!fh(u.precondition,h))return m;const g=X0(u.fieldTransforms,p,h),E=h.data;return E.setAll(I1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(r,e,t,s):function(u,h,m){return fh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function MC(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=A1(s.transform,o||null);u!=null&&(t===null&&(t=bn.empty()),t.set(s.field,u))}return t||null}function Y0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,h)=>xC(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Eu extends nf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends nf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I1(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function $0(r,e,t){const s=new Map;et(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,IC(h,m,t[o]))}return s}function X0(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,CC(u,h,e))}return s}class $p extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PC extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&OC(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=b1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=C1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(t,s)=>Y0(t,s))&&go(this.baseMutations,e.baseMutations,(t,s)=>Y0(t,s))}}class Xp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){et(e.mutations.length===s.length);let o=function(){return SC}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Xp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,Ge;function jC(r){switch(r){default:return Ce();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function x1(r){if(r===void 0)return pi("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Mt.OK:return oe.OK;case Mt.CANCELLED:return oe.CANCELLED;case Mt.UNKNOWN:return oe.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return oe.INTERNAL;case Mt.UNAVAILABLE:return oe.UNAVAILABLE;case Mt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Mt.NOT_FOUND:return oe.NOT_FOUND;case Mt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Mt.ABORTED:return oe.ABORTED;case Mt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Mt.DATA_LOSS:return oe.DATA_LOSS;default:return Ce()}}(Ge=Mt||(Mt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=new $s([4294967295,4294967295],0);function W0(r){const e=LC().encode(r),t=new ZT;return t.update(e),new Uint8Array(t.digest())}function J0(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $s([t,s],0),new $s([o,u],0)]}class Wp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Kl(`Invalid padding: ${t}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=$s.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply($s.fromNumber(s)));return o.compare(BC)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=W0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ie===0)return;const t=W0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new rf(Ie.min(),o,new pt(Qe),gi(),Le())}}class Tu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Tu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class D1{constructor(e,t){this.targetId=e,this.me=t}}class O1{constructor(e,t,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Z0{constructor(){this.fe=0,this.ge=tE(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),s=Le();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ce()}}),new Tu(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=tE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zC{constructor(e){this.Le=e,this.Be=new Map,this.ke=gi(),this.qe=eE(),this.Qe=new pt(Qe)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Ce()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(rp(u))if(s===0){const h=new Te(u.path);this.Ue(t,h,ln.newNoDocument(h,Ie.min()))}else et(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),p=m?this.Xe(m,e,h):1;if(p!==0){this.je(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,g)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=na(s).toUint8Array()}catch(p){if(p instanceof l1)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wp(h,o,u)}catch(p){return po(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((u,h)=>{const m=this.Je(h);if(m){if(u.current&&rp(m.target)){const p=new Te(m.target.path);this.ke.get(p)!==null||this.it(h,p)||this.Ue(h,p,ln.newNoDocument(p,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Le();this.qe.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new rf(e,t,this.Qe,this.ke,s);return this.ke=gi(),this.qe=eE(),this.Qe=new pt(Qe),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Z0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Zt(Qe),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Z0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function eE(){return new pt(Te.comparator)}function tE(){return new pt(Te.comparator)}const qC={asc:"ASCENDING",desc:"DESCENDING"},FC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HC={and:"AND",or:"OR"};class GC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ap(r,e){return r.useProto3Json||Jh(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function KC(r,e){return Uh(r,e.toTimestamp())}function Dr(r){return et(!!r),Ie.fromTimestamp(function(t){const s=os(t);return new _t(s.seconds,s.nanos)}(r))}function Jp(r,e){return op(r,e).canonicalString()}function op(r,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function P1(r){const e=ct.fromString(r);return et(L1(e)),e}function lp(r,e){return Jp(r.databaseId,e.path)}function Om(r,e){const t=P1(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Te(k1(t))}function V1(r,e){return Jp(r.databaseId,e)}function QC(r){const e=P1(r);return e.length===4?ct.emptyPath():k1(e)}function up(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function k1(r){return et(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function nE(r,e,t){return{name:lp(r,e),fields:t.value.mapValue.fields}}function YC(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(et(E===void 0||typeof E=="string"),en.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array),en.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?oe.UNKNOWN:x1(g.code);return new ye(E,g.message||"")}(h);t=new O1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=Dr(s.document.updateTime),h=s.document.createTime?Dr(s.document.createTime):Ie.min(),m=new bn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?Dr(s.readTime):Ie.min(),h=ln.newNoDocument(o,u),m=s.removedTargetIds||[];t=new dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];t=new dh([],u,o,null)}else{if(!("filter"in e))return Ce();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new UC(o,u),m=s.targetId;t=new D1(m,h)}}return t}function $C(r,e){let t;if(e instanceof Eu)t={update:nE(r,e.key,e.value)};else if(e instanceof $p)t={delete:lp(r,e.key)};else if(e instanceof us)t={update:nE(r,e.key,e.data),updateMask:iI(e.fieldMask)};else{if(!(e instanceof PC))return Ce();t={verify:lp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Vh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw Ce()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:KC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ce()}(r,e.precondition)),t}function XC(r,e){return r&&r.length>0?(et(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Dr(o.updateTime):Dr(u);return h.isEqual(Ie.min())&&(h=Dr(u)),new DC(h,o.transformResults||[])}(t,e))):[]}function WC(r,e){return{documents:[V1(r,e.path)]}}function JC(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=V1(r,o);const u=function(g){if(g.length!==0)return j1(ar.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:so(R.field),direction:tI(R.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=ap(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:t,parent:o}}function ZC(r){let e=QC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){et(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const R=U1(S);return R instanceof ar&&f1(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(R=>function(M){return new Ph(ao(M.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(R))}(t.orderBy));let m=null;t.limit&&(m=function(S){let R;return R=typeof S=="object"?S.value:S,Jh(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(S){const R=!!S.before,x=S.values||[];return new Mh(x,R)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const R=!S.before,x=S.values||[];return new Mh(x,R)}(t.endAt)),vC(e,o,h,u,m,"F",p,g)}function eI(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function U1(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return Pt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(t.unaryFilter.field);return Pt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(t.unaryFilter.field);return Pt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(t.unaryFilter.field);return Pt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(r):r.fieldFilter!==void 0?function(t){return Pt.create(ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return ar.create(t.compositeFilter.filters.map(s=>U1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ce()}}(t.compositeFilter.op))}(r):Ce()}function tI(r){return qC[r]}function nI(r){return FC[r]}function rI(r){return HC[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Jt.fromServerFormat(r.fieldPath)}function j1(r){return r instanceof Pt?function(t){if(t.op==="=="){if(q0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(z0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(q0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(z0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:nI(t.op),value:t.value}}}(r):r instanceof ar?function(t){const s=t.getFilters().map(o=>j1(o));return s.length===1?s[0]:{compositeFilter:{op:rI(t.op),filters:s}}}(r):Ce()}function iI(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function L1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t,s,o,u=Ie.min(),h=Ie.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Ji(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ji(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.ct=e}}function aI(r){const e=ZC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.un=new lI}addToCollectionParentIndex(e,t){return this.un.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(as.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class lI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Zt(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Zt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new _o(0)}static kn(){return new _o(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.changes=new Ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Wl(s.mutation,o,Mn.empty(),_t.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Gl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=gi();const h=Xl(),m=function(){return Xl()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof us)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),_t.now())):h.set(g.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var S;return m.set(g,new cI(E,(S=h.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Xl();let o=new pt((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Mn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=b1();E.forEach(R=>{if(!u.has(R)){const x=C1(t.get(R),s.get(R));x!==null&&S.set(R,x),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return le.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):y1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):le.resolve(Ks());let m=-1,p=u;return h.next(g=>le.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:T1(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>le.forEach(m,p=>{const g=function(S,R){return new _u(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,ln.newInvalidDocument(E)))});let m=Gl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Mn.empty(),_t.now()),ef(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return le.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Dr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:aI(o.bundledQuery),readTime:Dr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.overlays=new pt(Te.comparator),this.Ir=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ks();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.ht(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Ks(),u=t.length+1,h=new Te(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new pt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ks(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return le.resolve(m)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new kC(t,s));let u=this.Ir.get(t);u===void 0&&(u=Le(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Tr=new Zt(Gt.Er),this.dr=new Zt(Gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new Gt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Vr(new Gt(e,t))}mr(e,t){e.forEach(s=>this.removeReference(s,t))}gr(e){const t=new Te(new ct([])),s=new Gt(t,e),o=new Gt(t,e+1),u=[];return this.dr.forEachInRange([s,o],h=>{this.Vr(h),u.push(h.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Te(new ct([])),s=new Gt(t,e),o=new Gt(t,e+1);let u=Le();return this.dr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Gt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Te.comparator(e.key,t.key)||Qe(e.wr,t.wr)}static Ar(e,t){return Qe(e.wr,t.wr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Gt.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new VC(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.br=this.br.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],h=>{const m=this.Dr(h.wr);u.push(m)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Zt(Qe);return t.forEach(o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],m=>{s=s.add(m.wr)})}),le.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new Te(u),0);let m=new Zt(Qe);return this.br.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.wr)),!0)},h),le.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){et(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return le.forEach(t.mutations,o=>{const u=new Gt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,t){const s=new Gt(t,0),o=this.br.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.Mr=e,this.docs=function(){return new pt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let s=gi();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=gi();const h=t.path,m=new Te(h.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||ZN(JN(E),s)<=0||(o.has(E.key)||ef(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ce()}Or(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new yI(this)}getSize(e){return le.resolve(this.size)}}class yI extends uI{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.persistence=e,this.Nr=new Ro(t=>Kp(t),Qp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zp,this.targetCount=0,this.kr=_o.Bn()}forEachTarget(e,t){return this.Nr.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),le.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new _o(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Kn(t),le.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.qr={},this.overlays={},this.Qr=new qp(0),this.Kr=!1,this.Kr=!0,this.$r=new mI,this.referenceDelegate=e(this),this.Ur=new vI(this),this.indexManager=new oI,this.remoteDocumentCache=function(o){return new gI(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new sI(t),this.Gr=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new pI(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const o=new EI(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,t){return le.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,t)))}}class EI extends tC{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Jr=new Zp,this.Yr=null}static Zr(e){return new eg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ce()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),le.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,s=>{const o=Te.fromPath(s);return this.ei(e,o).next(u=>{u||t.removeEntry(o,Ie.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return le.or([()=>le.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return S2()?8:nC(cn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Zi(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new TI;return this.Xi(e,t,h).next(m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)})}).next(()=>u.result)}es(e,t,s,o){return s.documentReadCount<this.ji?(zl()<=Be.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(zl()<=Be.DEBUG&&ve("QueryEngine","Query:",io(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(zl()<=Be.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xr(t))):le.resolve())}Yi(e,t){if(K0(t))return le.resolve(null);let s=xr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sp(t,null,"F"),s=xr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.Ji.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ts(t,m);return this.ns(t,g,h,p.readTime)?this.Yi(e,sp(t,null,"F")):this.rs(e,g,t,p)}))})))}Zi(e,t,s,o){return K0(t)||o.isEqual(Ie.min())?le.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const h=this.ts(t,u);return this.ns(t,h,s,o)?le.resolve(null):(zl()<=Be.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(t)),this.rs(e,h,t,WN(o,-1)).next(m=>m))})}ts(e,t){let s=new Zt(_1(e));return t.forEach((o,u)=>{ef(e,u)&&(s=s.add(u))}),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return zl()<=Be.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",io(t)),this.Ji.getDocumentsMatchingQuery(e,t,as.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new pt(Qe),this._s=new Ro(u=>Kp(u),Qp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function AI(r,e,t,s){return new SI(r,e,t,s)}async function B1(r,e){const t=xe(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({hs:g,removedBatchIds:h,addedBatchIds:m}))})})}function wI(r,e){const t=xe(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,R=S.keys();let x=le.resolve();return R.forEach(M=>{x=x.next(()=>E.getEntry(p,M)).next(j=>{const O=g.docVersions.get(M);et(O!==null),j.version.compareTo(O)<0&&(S.applyToRemoteDocument(j,g),j.isValidDocument()&&(j.setReadTime(g.commitVersion),E.addEntry(j)))})}),x.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function z1(r){const e=xe(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function RI(r,e){const t=xe(r),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach((E,S)=>{const R=o.get(S);if(!R)return;m.push(t.Ur.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Ur.addMatchingKeys(u,E.addedDocuments,S)));let x=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?x=x.withResumeToken(en.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),o=o.insert(S,x),function(j,O,J){return j.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0}(R,x,E)&&m.push(t.Ur.updateTargetData(u,x))});let p=gi(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(NI(u,h,e.documentUpdates).next(E=>{p=E.Ps,g=E.Is})),!s.isEqual(Ie.min())){const E=t.Ur.getLastRemoteSnapshotVersion(u).next(S=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return le.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.os=o,u))}function NI(r,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=gi();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ve("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ps:h,Is:o}})}function CI(r,e){const t=xe(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function II(r,e){const t=xe(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ur.getTargetData(s,e).next(u=>u?(o=u,le.resolve(o)):t.Ur.allocateTargetId(s).next(h=>(o=new Ji(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s})}async function cp(r,e,t){const s=xe(r),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!vu(h))throw h;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function rE(r,e,t){const s=xe(r);let o=Ie.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const S=xe(p),R=S._s.get(E);return R!==void 0?le.resolve(S.os.get(R)):S.Ur.getTargetData(g,E)}(s,h,xr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?u:Le())).next(m=>(xI(s,EC(e),m),{documents:m,Ts:u})))}function xI(r,e,t){let s=r.us.get(e)||Ie.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.us.set(e,s)}class iE{constructor(){this.activeTargetIds=RC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DI{constructor(){this.so=new iE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new iE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Mm(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class VI extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,h){const m=Mm(),p=this.xo(t,s.toUriEncodedString());ve("RestConnection",`Sending RPC '${t}' ${m}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,u,h),this.No(t,p,g,o).then(E=>(ve("RestConnection",`Received RPC '${t}' ${m}: `,E),E),E=>{throw po("RestConnection",`RPC '${t}' ${m} failed with error: `,E,"url: ",p,"request:",o),E})}Lo(t,s,o,u,h,m){return this.Mo(t,s,o,u,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}xo(t,s){const o=MI[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=Mm();return new Promise((h,m)=>{const p=new e1;p.setWithCredentials(!0),p.listenOnce(t1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const E=p.getResponseJson();ve(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ch.TIMEOUT:ve(an,`RPC '${e}' ${u} timed out`),m(new ye(oe.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const S=p.getStatus();if(ve(an,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const x=R==null?void 0:R.error;if(x&&x.status&&x.message){const M=function(O){const J=O.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(J)>=0?J:oe.UNKNOWN}(x.status);m(new ye(M,x.message))}else m(new ye(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(oe.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{ve(an,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ve(an,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Bo(e,t,s){const o=Mm(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=i1(),m=r1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(an,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);let R=!1,x=!1;const M=new PI({Io:O=>{x?ve(an,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(R||(ve(an,`Opening RPC '${e}' stream ${o} transport.`),S.open(),R=!0),ve(an,`RPC '${e}' stream ${o} sending:`,O),S.send(O))},To:()=>S.close()}),j=(O,J,ae)=>{O.listen(J,K=>{try{ae(K)}catch(ue){setTimeout(()=>{throw ue},0)}})};return j(S,Hl.EventType.OPEN,()=>{x||(ve(an,`RPC '${e}' stream ${o} transport opened.`),M.yo())}),j(S,Hl.EventType.CLOSE,()=>{x||(x=!0,ve(an,`RPC '${e}' stream ${o} transport closed`),M.So())}),j(S,Hl.EventType.ERROR,O=>{x||(x=!0,po(an,`RPC '${e}' stream ${o} transport errored:`,O),M.So(new ye(oe.UNAVAILABLE,"The operation could not be completed")))}),j(S,Hl.EventType.MESSAGE,O=>{var J;if(!x){const ae=O.data[0];et(!!ae);const K=ae,ue=K.error||((J=K[0])===null||J===void 0?void 0:J.error);if(ue){ve(an,`RPC '${e}' stream ${o} received error:`,ue);const se=ue.status;let me=function(C){const D=Mt[C];if(D!==void 0)return x1(D)}(se),V=ue.message;me===void 0&&(me=oe.INTERNAL,V="Unknown error status: "+se+" with message "+ue.message),x=!0,M.So(new ye(me,V)),S.close()}else ve(an,`RPC '${e}' stream ${o} received:`,ae),M.bo(ae)}}),j(m,n1.STAT_EVENT,O=>{O.stat===Zm.PROXY?ve(an,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Zm.NOPROXY&&ve(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(r){return new GC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t,s,o,u,h,m,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new q1(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===t&&this.P_(s,o)},s=>{e(()=>{const o=new ye(oe.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kI extends F1{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=YC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Dr(h.readTime):Ie.min()}(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=up(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=rp(p)?{documents:WC(u,p)}:{query:JC(u,p)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=M1(u,h.resumeToken);const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=eI(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.a_(t)}}class UI extends F1{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=XC(e.writeResults,e.commitTime),s=Dr(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=up(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$C(this.serializer,s))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Mo(e,op(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(oe.UNKNOWN,u.toString())})}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Lo(e,op(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(oe.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class LI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pi(t),this.D_=!1):ve("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(h=>{s.enqueueAndForget(async()=>{ha(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.L_.add(4),await bu(g),g.q_.set("Unknown"),g.L_.delete(4),await af(g)}(this))})}),this.q_=new LI(s,o)}}async function af(r){if(ha(r))for(const e of r.B_)await e(!0)}async function bu(r){for(const e of r.B_)await e(!1)}function H1(r,e){const t=xe(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),sg(t)?ig(t):No(t).r_()&&rg(t,e))}function ng(r,e){const t=xe(r),s=No(t);t.N_.delete(e),s.r_()&&G1(t,e),t.N_.size===0&&(s.r_()?s.o_():ha(t)&&t.q_.set("Unknown"))}function rg(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}No(r).A_(e)}function G1(r,e){r.Q_.xe(e),No(r).R_(e)}function ig(r){r.Q_=new zC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),No(r).start(),r.q_.v_()}function sg(r){return ha(r)&&!No(r).n_()&&r.N_.size>0}function ha(r){return xe(r).L_.size===0}function K1(r){r.Q_=void 0}async function zI(r){r.q_.set("Online")}async function qI(r){r.N_.forEach((e,t)=>{rg(r,e)})}async function FI(r,e){K1(r),sg(r)?(r.q_.M_(e),ig(r)):r.q_.set("Unknown")}async function HI(r,e,t){if(r.q_.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.N_.delete(m),o.Q_.removeTarget(m))}(r,e)}catch(s){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof dh?r.Q_.Ke(e):e instanceof D1?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ie.min()))try{const s=await z1(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.N_.get(g);E&&u.N_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.N_.get(p);if(!E)return;u.N_.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),G1(u,p);const S=new Ji(E.target,p,g,E.sequenceNumber);rg(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ve("RemoteStore","Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,t){if(!vu(e))throw e;r.L_.add(1),await bu(r),r.q_.set("Offline"),t||(t=()=>z1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await af(r)})}function Q1(r,e){return e().catch(t=>jh(r,t,e))}async function of(r){const e=xe(r),t=ls(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GI(e);)try{const o=await CI(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,KI(e,o)}catch(o){await jh(e,o)}Y1(e)&&$1(e)}function GI(r){return ha(r)&&r.O_.length<10}function KI(r,e){r.O_.push(e);const t=ls(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Y1(r){return ha(r)&&!ls(r).n_()&&r.O_.length>0}function $1(r){ls(r).start()}async function QI(r){ls(r).p_()}async function YI(r){const e=ls(r);for(const t of r.O_)e.m_(t.mutations)}async function $I(r,e,t){const s=r.O_.shift(),o=Xp.from(s,e,t);await Q1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await of(r)}async function XI(r,e){e&&ls(r).V_&&await async function(s,o){if(function(h){return jC(h)&&h!==oe.ABORTED}(o.code)){const u=s.O_.shift();ls(s).s_(),await Q1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(s)}}(r,e),Y1(r)&&$1(r)}async function aE(r,e){const t=xe(r);t.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const s=ha(t);t.L_.add(3),await bu(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await af(t)}async function WI(r,e){const t=xe(r);e?(t.L_.delete(2),await af(t)):e||(t.L_.add(2),await bu(t),t.q_.set("Unknown"))}function No(r){return r.K_||(r.K_=function(t,s,o){const u=xe(t);return u.w_(),new kI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:zI.bind(null,r),Ro:qI.bind(null,r),mo:FI.bind(null,r),d_:HI.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),sg(r)?ig(r):r.q_.set("Unknown")):(await r.K_.stop(),K1(r))})),r.K_}function ls(r){return r.U_||(r.U_=function(t,s,o){const u=xe(t);return u.w_(),new UI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QI.bind(null,r),mo:XI.bind(null,r),f_:YI.bind(null,r),g_:$I.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await of(r)):(await r.U_.stop(),r.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new ag(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(r,e){if(pi("AsyncQueue",`${e}: ${r}`),vu(r))return new ye(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Gl(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.W_=new pt(Te.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ce():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Eo{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Eo(e,t,co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ZI{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=xe(t),u=o.queries;o.queries=lE(),u.forEach((h,m)=>{for(const p of m.j_)p.onError(s)})})(this,new ye(oe.ABORTED,"Firestore shutting down"))}}function lE(){return new Ro(r=>v1(r),Zh)}async function ex(r,e){const t=xe(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new JI,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=og(h,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&lg(t)}async function tx(r,e){const t=xe(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function nx(r,e){const t=xe(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(o)&&(s=!0);h.z_=o}}s&&lg(t)}function rx(r,e,t){const s=xe(r),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function lg(r){r.Y_.forEach(e=>{e.next()})}var hp,uE;(uE=hp||(hp={})).ea="default",uE.Cache="cache";class ix{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.key=e}}class W1{constructor(e){this.key=e}}class sx{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=_1(e),this.Ra=new co(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new oE,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const R=o.get(E),x=ef(this.query,S)?S:null,M=!!R&&this.mutatedKeys.has(R.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let O=!1;R&&x?R.data.isEqual(x.data)?M!==j&&(s.track({type:3,doc:x}),O=!0):this.ga(R,x)||(s.track({type:2,doc:x}),O=!0,(p&&this.Aa(x,p)>0||g&&this.Aa(x,g)<0)&&(m=!0)):!R&&x?(s.track({type:0,doc:x}),O=!0):R&&!x&&(s.track({type:1,doc:R}),O=!0,(p||g)&&(m=!0)),O&&(x?(h=h.add(x),u=j?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort((E,S)=>function(x,M){const j=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return j(x)-j(M)}(E.type,S.type)||this.Aa(E.doc,S.doc)),this.pa(s),o=o!=null&&o;const m=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,h.length!==0||g?{snapshot:new Eo(this.query,e.Ra,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new oE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const t=[];return e.forEach(s=>{this.da.has(s)||t.push(new W1(s))}),this.da.forEach(s=>{e.has(s)||t.push(new X1(s))}),t}ba(e){this.Ta=e.Ts,this.da=Le();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ax{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ox{constructor(e){this.key=e,this.va=!1}}class lx{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Ro(m=>v1(m),Zh),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(Te.comparator),this.Na=new Map,this.La=new Zp,this.Ba={},this.ka=new Map,this.qa=_o.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ux(r,e,t=!0){const s=rb(r);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await J1(s,e,t,!0),o}async function cx(r,e){const t=rb(r);await J1(t,e,!0,!1)}async function J1(r,e,t,s){const o=await II(r.localStore,xr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await hx(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&H1(r.remoteStore,o),m}async function hx(r,e,t,s,o){r.Ka=(S,R,x)=>async function(j,O,J,ae){let K=O.view.ma(J);K.ns&&(K=await rE(j.localStore,O.query,!1).then(({documents:V})=>O.view.ma(V,K)));const ue=ae&&ae.targetChanges.get(O.targetId),se=ae&&ae.targetMismatches.get(O.targetId)!=null,me=O.view.applyChanges(K,j.isPrimaryClient,ue,se);return hE(j,O.targetId,me.wa),me.snapshot}(r,S,R,x);const u=await rE(r.localStore,e,!0),h=new sx(e,u.Ts),m=h.ma(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);hE(r,t,g.wa);const E=new ax(e,t,h);return r.Fa.set(e,E),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),g.snapshot}async function fx(r,e,t){const s=xe(r),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter(h=>!Zh(h,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ng(s.remoteStore,o.targetId),fp(s,o.targetId)}).catch(yu)):(fp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function dx(r,e){const t=xe(r),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ng(t.remoteStore,s.targetId))}async function mx(r,e,t){const s=Tx(r);try{const o=await function(h,m){const p=xe(h),g=_t.now(),E=m.reduce((x,M)=>x.add(M.key),Le());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",x=>{let M=gi(),j=Le();return p.cs.getEntries(x,E).next(O=>{M=O,M.forEach((J,ae)=>{ae.isValidDocument()||(j=j.add(J))})}).next(()=>p.localDocuments.getOverlayedDocuments(x,M)).next(O=>{S=O;const J=[];for(const ae of m){const K=MC(ae,S.get(ae.key).overlayedDocument);K!=null&&J.push(new us(ae.key,K,u1(K.value.mapValue),sr.exists(!0)))}return p.mutationQueue.addMutationBatch(x,g,J,m)}).next(O=>{R=O;const J=O.applyToLocalDocumentSet(S,j);return p.documentOverlayCache.saveOverlays(x,O.batchId,J)})}).then(()=>({batchId:R.batchId,changes:T1(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ba[h.currentUser.toKey()];g||(g=new pt(Qe)),g=g.insert(m,p),h.Ba[h.currentUser.toKey()]=g}(s,o.batchId,t),await Su(s,o.changes),await of(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");t.reject(u)}}async function Z1(r,e){const t=xe(r);try{const s=await RI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Na.get(u);h&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?et(h.va):o.removedDocuments.size>0&&(et(h.va),h.va=!1))}),await Su(t,s,e)}catch(s){await yu(s)}}function cE(r,e,t){const s=xe(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach((u,h)=>{const m=h.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=xe(h);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const R of S.j_)R.Z_(m)&&(g=!0)}),g&&lg(p)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function px(r,e,t){const s=xe(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let h=new pt(Te.comparator);h=h.insert(u,ln.newNoDocument(u,Ie.min()));const m=Le().add(u),p=new rf(Ie.min(),new Map,new pt(Qe),h,m);await Z1(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),ug(s)}else await cp(s.localStore,e,!1).then(()=>fp(s,e,t)).catch(yu)}async function gx(r,e){const t=xe(r),s=e.batch.batchId;try{const o=await wI(t.localStore,e);tb(t,s,null),eb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Su(t,o)}catch(o){await yu(o)}}async function yx(r,e,t){const s=xe(r);try{const o=await function(h,m){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(et(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);tb(s,e,t),eb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Su(s,o)}catch(o){await yu(o)}}function eb(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function tb(r,e,t){const s=xe(r);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function fp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(s=>{r.La.containsKey(s)||nb(r,s)})}function nb(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(ng(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),ug(r))}function hE(r,e,t){for(const s of t)s instanceof X1?(r.La.addReference(s.key,e),vx(r,s)):s instanceof W1?(ve("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||nb(r,s.key)):Ce()}function vx(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(ve("SyncEngine","New document in limbo: "+t),r.xa.add(s),ug(r))}function ug(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Te(ct.fromString(e)),s=r.qa.next();r.Na.set(s,new ox(t)),r.Oa=r.Oa.insert(t,s),H1(r.remoteStore,new Ji(xr(g1(t.path)),s,"TargetPurposeLimboResolution",qp.oe))}}async function Su(r,e,t){const s=xe(r),o=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach((m,p)=>{h.push(s.Ka(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=tg.Wi(p.targetId,g);u.push(S)}}))}),await Promise.all(h),s.Ca.d_(o),await async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>le.forEach(g,R=>le.forEach(R.$i,x=>E.persistence.referenceDelegate.addReference(S,R.targetId,x)).next(()=>le.forEach(R.Ui,x=>E.persistence.referenceDelegate.removeReference(S,R.targetId,x)))))}catch(S){if(!vu(S))throw S;ve("LocalStore","Failed to update sequence numbers: "+S)}for(const S of g){const R=S.targetId;if(!S.fromCache){const x=E.os.get(R),M=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(M);E.os=E.os.insert(R,j)}}}(s.localStore,u))}async function _x(r,e){const t=xe(r);if(!t.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const s=await B1(t.localStore,e);t.currentUser=e,function(u,h){u.ka.forEach(m=>{m.forEach(p=>{p.reject(new ye(oe.CANCELLED,h))})}),u.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(t,s.hs)}}function Ex(r,e){const t=xe(r),s=t.Na.get(e);if(s&&s.va)return Le().add(s.key);{let o=Le();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const m=t.Fa.get(h);o=o.unionWith(m.view.Va)}return o}}function rb(r){const e=xe(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=px.bind(null,e),e.Ca.d_=nx.bind(null,e.eventManager),e.Ca.$a=rx.bind(null,e.eventManager),e}function Tx(r){const e=xe(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yx.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return AI(this.persistence,new bI,e.initialUser,this.serializer)}Ga(e){return new _I(eg.Zr,this.serializer)}Wa(e){return new DI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_x.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZI}()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),s=function(u){return new VI(u)}(e.databaseInfo);return function(u,h,m,p){return new jI(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new BI(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>cE(this.syncEngine,t,0),function(){return sE.D()?new sE:new OI}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const S=new lx(o,u,h,m,p,g);return E&&(S.Qa=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=xe(o);ve("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await bu(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ve("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ve("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=og(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await B1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function fE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Ax(r);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>aE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>aE(e.remoteStore,o)),r._onlineComponents=e}async function Ax(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await Vm(r,new Lh)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Vm(r,new Lh);return r._offlineComponents}async function ib(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await fE(r,r._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await fE(r,new dp))),r._onlineComponents}function wx(r){return ib(r).then(e=>e.syncEngine)}async function Rx(r){const e=await ib(r),t=e.eventManager;return t.onListen=ux.bind(null,e.syncEngine),t.onUnlisten=fx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dx.bind(null,e.syncEngine),t}function Nx(r,e,t={}){const s=new rs;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new bx({next:R=>{E.Za(),h.enqueueAndForget(()=>tx(u,S)),R.fromCache&&p.source==="server"?g.reject(new ye(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),S=new ix(m,E,{includeMetadataChanges:!0,_a:!0});return ex(u,S)}(await Rx(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,e,t){if(!t)throw new ye(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Cx(r,e,t,s){if(e===!0&&s===!0)throw new ye(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function mE(r){if(!Te.isDocumentKey(r))throw new ye(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pE(r){if(Te.isDocumentKey(r))throw new ye(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function lf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ce()}function ia(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lf(r);throw new ye(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qN;switch(s.type){case"firstParty":return new KN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=dE.get(t);s&&(ve("ComponentProvider","Removing Datastore"),dE.delete(t),s.terminate())}(this),Promise.resolve()}}function Ix(r,e,t,s={}){var o;const u=(r=ia(r,uf))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=on.MOCK_USER;else{m=pT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ye(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new on(g)}r._authCredentials=new FN(new s1(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Co(this.firestore,e,this._query)}}class Vn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class is extends Co{constructor(e,t,s){super(e,t,g1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new Te(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function wr(r,e,...t){if(r=Et(r),ab("collection","path",e),r instanceof uf){const s=ct.fromString(e,...t);return pE(s),new is(r,null,s)}{if(!(r instanceof Vn||r instanceof is))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...t));return pE(s),new is(r.firestore,null,s)}}function yn(r,e,...t){if(r=Et(r),arguments.length===1&&(e=a1.newId()),ab("doc","path",e),r instanceof uf){const s=ct.fromString(e,...t);return mE(s),new Vn(r,null,new Te(s))}{if(!(r instanceof Vn||r instanceof is))throw new ye(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...t));return mE(s),new Vn(r.firestore,r instanceof is?r.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new q1(this,"async_queue_retry"),this.Vu=()=>{const s=Pm();s&&ve("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new rs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!vu(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw pi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=ag.createAndSchedule(this,e,t,s,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&Ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Au extends uf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new yE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function xx(r,e){const t=typeof r=="object"?r:Ip(),s=typeof r=="string"?r:"(default)",o=Yh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=fT("firestore");u&&Ix(o,...u)}return o}function ob(r){if(r._terminated)throw new ye(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Dx(r),r._firestoreClient}function Dx(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new sC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,sb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Sx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(en.fromBase64String(e))}catch(t){throw new ye(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new To(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=/^__.*__$/;class Mx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eu(e,this.data,t,this.fieldTransforms)}}class lb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ub(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class dg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ub(this.Cu)&&Ox.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Px{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||sf(e)}Qu(e,t,s,o=!1){return new dg({Cu:e,methodName:t,qu:s,path:Jt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(r){const e=r._freezeSettings(),t=sf(r._databaseId);return new Px(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Vx(r,e,t,s,o,u={}){const h=r.Qu(u.merge||u.mergeFields?2:0,e,t,o);pg("Data must be an object, but it was:",h,s);const m=cb(s,h);let p,g;if(u.merge)p=new Mn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const R=mp(e,S,t);if(!h.contains(R))throw new ye(oe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);fb(E,R)||E.push(R)}p=new Mn(E),g=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=h.fieldTransforms;return new Mx(new bn(m),p,g)}class hf extends cg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}function kx(r,e,t,s){const o=r.Qu(1,e,t);pg("Data must be an object, but it was:",o,s);const u=[],h=bn.empty();ca(s,(p,g)=>{const E=gg(e,p,t);g=Et(g);const S=o.Nu(E);if(g instanceof hf)u.push(E);else{const R=wu(g,S);R!=null&&(u.push(E),h.set(E,R))}});const m=new Mn(u);return new lb(h,m,o.fieldTransforms)}function Ux(r,e,t,s,o,u){const h=r.Qu(1,e,t),m=[mp(e,s,t)],p=[o];if(u.length%2!=0)throw new ye(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(mp(e,u[R])),p.push(u[R+1]);const g=[],E=bn.empty();for(let R=m.length-1;R>=0;--R)if(!fb(g,m[R])){const x=m[R];let M=p[R];M=Et(M);const j=h.Nu(x);if(M instanceof hf)g.push(x);else{const O=wu(M,j);O!=null&&(g.push(x),E.set(x,O))}}const S=new Mn(g);return new lb(E,S,h.fieldTransforms)}function jx(r,e,t,s=!1){return wu(t,r.Qu(s?4:3,e))}function wu(r,e){if(hb(r=Et(r)))return pg("Unsupported field value:",e,r),cb(r,e);if(r instanceof cg)return function(s,o){if(!ub(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=wu(m,o.Lu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=_t.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof _t){const u=new _t(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof hg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:M1(o.serializer,s._byteString)};if(s instanceof Vn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fg)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Yp(m.serializer,p)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${lf(s)}`)}(r,e)}function cb(r,e){const t={};return o1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(r,(s,o)=>{const u=wu(o,e.Mu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function hb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof _t||r instanceof hg||r instanceof To||r instanceof Vn||r instanceof cg||r instanceof fg)}function pg(r,e,t){if(!hb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=lf(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function mp(r,e,t){if((e=Et(e))instanceof cf)return e._internalPath;if(typeof e=="string")return gg(r,e);throw Bh("Field path arguments must be of type string or ",r,!1,void 0,t)}const Lx=new RegExp("[~\\*/\\[\\]]");function gg(r,e,t){if(e.search(Lx)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new cf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function Bh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(oe.INVALID_ARGUMENT,m+r+p)}function fb(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Bx extends db{data(){return super.data()}}function mb(r,e){return typeof e=="string"?gg(r,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class qx extends yg{}function mh(r,e,...t){let s=[];e instanceof yg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof _g).length,m=u.filter(p=>p instanceof vg).length;if(h>1||h>0&&m>0)throw new ye(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class vg extends qx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new vg(e,t,s)}_apply(e){const t=this._parse(e);return pb(e._query,t),new Co(e.firestore,e.converter,ip(e._query,t))}_parse(e){const t=mg(e.firestore);return function(u,h,m,p,g,E,S){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){_E(S,E);const x=[];for(const M of S)x.push(vE(p,u,M));R={arrayValue:{values:x}}}else R=vE(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||_E(S,E),R=jx(m,h,S,E==="in"||E==="not-in");return Pt.create(g,E,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class _g extends yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _g(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ar.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)pb(h,p),h=ip(h,p)}(e._query,t),new Co(e.firestore,e.converter,ip(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function vE(r,e,t){if(typeof(t=Et(t))=="string"){if(t==="")throw new ye(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y1(e)&&t.indexOf("/")!==-1)throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ct.fromString(t));if(!Te.isDocumentKey(s))throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B0(r,new Te(s))}if(t instanceof Vn)return B0(r,t._key);throw new ye(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(t)}.`)}function _E(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Fx{convertValue(e,t="none"){switch(ra(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ca(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Nt(h.doubleValue));return new fg(u)}convertGeoPoint(e){return new hg(Nt(e.latitude),Nt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hp(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const t=os(e);return new _t(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);et(L1(s));const o=new au(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||pi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gx extends db{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ph extends Gx{data(e={}){return super.data(e)}}class Kx{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ph(this._firestore,this._userDataWriter,s.key,s,new nh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:Qx(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}class Yx extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,t)}}function Xs(r){r=ia(r,Co);const e=ia(r.firestore,Au),t=ob(e),s=new Yx(e);return zx(r._query),Nx(t,r._query).then(o=>new Kx(e,s,r,o))}function Jl(r,e,t,...s){r=ia(r,Vn);const o=ia(r.firestore,Au),u=mg(o);let h;return h=typeof(e=Et(e))=="string"||e instanceof cf?Ux(u,"updateDoc",r._key,e,t,s):kx(u,"updateDoc",r._key,e),bg(o,[h.toMutation(r._key,sr.exists(!0))])}function Eg(r){return bg(ia(r.firestore,Au),[new $p(r._key,sr.none())])}function Tg(r,e){const t=ia(r.firestore,Au),s=yn(r),o=Hx(r.converter,e);return bg(t,[Vx(mg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,sr.exists(!1))]).then(()=>s)}function bg(r,e){return function(s,o){const u=new rs;return s.asyncQueue.enqueueAndForget(async()=>mx(await wx(s),o,u)),u.promise}(ob(r),e)}(function(e,t=!0){(function(o){wo=o})(la),Zs(new ss("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Au(new HN(s.getProvider("auth-internal")),new YN(s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Cr(V0,"4.7.3",e),Cr(V0,"4.7.3","esm2017")})();const $x={apiKey:"AIzaSyDU9EPsYVmpwNWzQWifSdZIxJcpMo6Pk-I",authDomain:"booktracker-e1be7.firebaseapp.com",projectId:"booktracker-e1be7",storageBucket:"booktracker-e1be7.firebasestorage.app",messagingSenderId:"683431497366",appId:"1:683431497366:web:ea521a8fcd6b1eb83bbcb7"},gb=vT($x),Ct=BN(gb),$n=xx(gb),Xx=new oi;N4(Ct,FT).catch(r=>{console.error("Erro na persistncia:",r)});function Wx(){const r=Ct.currentUser,e=hu(),[t,s]=Q.useState(!1),[o,u]=Q.useState(window.innerWidth<=968);Q.useEffect(()=>{const p=()=>{u(window.innerWidth<=968),window.innerWidth>968&&s(!1)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const h=()=>{o&&s(!1)},m=async()=>{try{await x4(Ct),e("/login")}catch(p){console.error("Erro ao fazer logout:",p),alert("Erro ao sair da conta! Tente novamente.")}};return v.jsxs("div",{className:"app-container",children:[o&&v.jsx("button",{className:"menu-toggle",onClick:()=>s(!t),"aria-label":t?"Fechar menu":"Abrir menu",children:t?v.jsx(aT,{}):v.jsx(Ww,{})}),v.jsxs("aside",{className:`sidebar ${t?"open":""}`,children:[v.jsxs("div",{className:"user-info",children:[v.jsx("img",{src:(r==null?void 0:r.photoURL)||"/default-user.png",alt:"Foto do usurio",className:"user-photo"}),v.jsxs("div",{className:"user-details",children:[v.jsx("span",{className:"user-name",children:(r==null?void 0:r.displayName)||"Usurio"}),v.jsxs("button",{onClick:m,className:"logout-button",children:[v.jsx(s2,{})," Sair"]})]})]}),v.jsxs("nav",{className:"nav-menu",children:[v.jsxs(Bl,{to:"/dashboard",className:"nav-item",onClick:h,children:[v.jsx(n2,{className:"nav-icon"}),v.jsx("span",{children:"Dashboard"})]}),v.jsxs(Bl,{to:"/add-book",className:"nav-item",onClick:h,children:[v.jsx(ho,{className:"nav-icon"}),v.jsx("span",{children:"Adicionar Livro"})]}),v.jsxs(Bl,{to:"/collection",className:"nav-item",onClick:h,children:[v.jsx(Nr,{className:"nav-icon"}),v.jsx("span",{children:"Coleo"})]}),v.jsxs(Bl,{to:"/folders",className:"nav-item",onClick:h,children:[v.jsx(sh,{className:"nav-icon"}),v.jsx("span",{children:"Pastas"})]}),v.jsxs(Bl,{to:"/profile",className:"nav-item",onClick:h,children:[v.jsx(oT,{className:"nav-icon"}),v.jsx("span",{children:"Perfil"})]})]})]}),v.jsx("main",{className:"main-content",children:v.jsx(XE,{})})]})}function Jx(){return v.jsxs("div",{className:"landing-container",children:[v.jsxs("nav",{className:"landing-nav",children:[v.jsxs("div",{className:"logo",children:[v.jsx("span",{className:"book-icon",children:""})," BookTracker"]}),v.jsx("div",{className:"nav-links",children:v.jsx(es,{to:"/login",className:"login-link",children:"Login"})})]}),v.jsxs("header",{className:"landing-header",children:[v.jsxs("div",{className:"header-content",children:[v.jsx("h1",{children:"BookTracker"}),v.jsx("p",{className:"tagline",children:"Organize, acompanhe e descubra sua jornada literria"}),v.jsx(es,{to:"/login",className:"cta-button",children:"Comear Agora"})]}),v.jsx("div",{className:"header-image",children:v.jsx("div",{className:"header-image",children:v.jsx("div",{className:"book-shelf",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",children:[v.jsx("path",{fill:"#5f6c7b",d:"M20 280h360v20H20z"}),v.jsxs("g",{transform:"translate(50 80)",children:[v.jsx("path",{fill:"#4361ee",d:"M0 0h40v200H0z"}),v.jsx("path",{fill:"#3f37c9",d:"M0 0h40v20H0z"}),v.jsx("path",{fill:"#4cc9f0",transform:"translate(60)",d:"M0 0h35v180H0z"}),v.jsx("path",{fill:"#3a86ff",d:"M60 0h35v15H60z"}),v.jsx("path",{fill:"#ff6b6b",transform:"translate(110)",d:"M0 0h30v220H0z"}),v.jsx("path",{fill:"#d62828",d:"M110 0h30v18H110z"}),v.jsxs("g",{transform:"rotate(-5 280 100)",children:[v.jsx("path",{fill:"#94d2bd",d:"M180 20h40v190h-40z"}),v.jsx("path",{fill:"#0a9396",d:"M180 20h40v15h-40z"})]}),v.jsxs("g",{transform:"translate(240 30)",children:[v.jsx("path",{fill:"#f4a261",d:"M0 0h50v160H0z"}),v.jsx("path",{fill:"#e76f51",d:"M0 0h50v20H0z"}),v.jsx("path",{fill:"#e9c46a",d:"M25 0h25v160H25z"})]})]}),v.jsx("path",{fill:"#4a4e69",d:"M50 260h300v10H50z",opacity:"0.5"}),v.jsx("circle",{cx:"380",cy:"270",r:"8",fill:"#4cc9f0"})]})})})})]}),v.jsxs("section",{className:"features",children:[v.jsxs("div",{className:"feature-card",children:[v.jsx("div",{className:"feature-icon",children:v.jsx(Nr,{})}),v.jsx("h2",{children:"Organize sua coleo"}),v.jsx("p",{children:"Cadastre todos os seus livros em um s lugar e acompanhe seu progresso de leitura com facilidade."})]}),v.jsxs("div",{className:"feature-card",children:[v.jsx("div",{className:"feature-icon",children:v.jsx(nT,{})}),v.jsx("h2",{children:"Estatsticas detalhadas"}),v.jsx("p",{children:"Visualize seus hbitos de leitura com grficos interativos e descubra padres interessantes."})]}),v.jsxs("div",{className:"feature-card",children:[v.jsx("div",{className:"feature-icon",children:v.jsx(r2,{})}),v.jsx("h2",{children:"Acesso em qualquer lugar"}),v.jsx("p",{children:"Use em qualquer dispositivo com sincronizao automtica para nunca perder seus dados."})]})]}),v.jsxs("footer",{className:"landing-footer",children:[v.jsxs("div",{className:"cta-section",children:[v.jsx("h2",{children:"Pronto para organizar sua biblioteca?"}),v.jsx(es,{to:"/login",className:"cta-button",children:"Criar conta grtis"})]}),v.jsx("div",{className:"footer-info",children:v.jsx("p",{children:" 2025 BookTracker. Todos os direitos reservados."})})]})]})}function Zx(){const r=hu(),e=async()=>{try{await $4(Ct,Xx),r("/dashboard")}catch(t){console.error("Erro no login:",t)}};return v.jsx("div",{className:"login-container",children:v.jsxs("div",{className:"login-card",children:[v.jsxs("div",{className:"app-logo",children:[v.jsx("span",{className:"book-icon",children:""}),v.jsx("h1",{children:"BookTracker"})]}),v.jsx("h2",{children:"Bem-vindo de volta"}),v.jsx("p",{className:"login-subtitle",children:"Continue sua jornada literria"}),v.jsxs("button",{className:"google-login-btn",onClick:e,children:[v.jsx(Xw,{className:"google-icon"}),v.jsx("span",{children:"Entrar com Google"})]}),v.jsxs(es,{to:"/",className:"back-link",children:[v.jsx(tT,{})," Voltar para a pgina inicial"]})]})})}function eD(){var L;const[r,e]=Q.useState([]),[t,s]=Q.useState({total:0,read:0,favoriteGenre:"Nenhum",avgRating:0,fastestBook:"Nenhum",mostReadAuthor:"Nenhum",booksThisYear:0,bestReadingMonth:"Nenhum",totalPages:0,booksThisMonth:0}),[o,u]=Q.useState({title:"",value:""}),[h,m]=Q.useState(0),[p,g]=Q.useState(!0),[E,S]=Q.useState([]),[R,x]=Q.useState(!1),[M,j]=Q.useState(null),[O,J]=Q.useState({type:"annual",target:"",progress:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}),[ae,K]=Q.useState(!1),[ue,se]=Q.useState(null);Q.useEffect(()=>{(async()=>{try{const he=Ct.currentUser;if(he){const De=yn($n,"users",he.uid),$=wr(De,"books"),pe=(await Xs(mh($))).docs.map(W=>({id:W.id,...W.data()}));e(pe),me(pe);const Me=wr(De,"goals"),ee=(await Xs(mh(Me))).docs.map(W=>{var de,we,Ee,at;const Z=W.data();return{id:W.id,...Z,endDate:((we=(de=Z.endDate)==null?void 0:de.toDate)==null?void 0:we.call(de).toISOString().split("T")[0])||"",createdAt:((at=(Ee=Z.createdAt)==null?void 0:Ee.toDate)==null?void 0:at.call(Ee).toISOString().split("T")[0])||""}});S(ee)}}catch(he){console.error("Erro ao carregar dados:",he)}finally{g(!1)}})()},[]),Q.useEffect(()=>{const w=[{title:"Livro Mais Rpido",value:t.fastestBook},{title:"Autor Mais Lido",value:t.mostReadAuthor},{title:"Livros Lidos Este Ano",value:t.booksThisYear},{title:"Ms de Maior Leitura",value:t.bestReadingMonth},{title:"Pginas Lidas Total",value:`${t.totalPages} pginas`}],he=setInterval(()=>{m(De=>(De+1)%w.length),u(w[h])},5e3);return()=>clearInterval(he)},[h,t]);const me=w=>{const he=w.filter(W=>W.status==="Concludo"),De=w.map(W=>W.rating).filter(W=>W>0),$=new Date().getFullYear(),ce=new Date().getMonth()+1,pe=w.reduce((W,Z)=>(W[Z.genre]=(W[Z.genre]||0)+1,W),{}),Me=he.reduce((W,Z)=>{if(Z.startDate&&Z.endDate&&Z.pages){const de=new Date(Z.startDate),we=new Date(Z.endDate),Ee=Math.max(1,(we-de)/(1e3*3600*24)),at=Math.round(Z.pages/Ee);return at>W.speed?{title:Z.title,speed:at}:W}return W},{title:"Nenhum",speed:0}),P=he.reduce((W,Z)=>(W[Z.author]=(W[Z.author]||0)+1,W),{}),ee=he.reduce((W,Z)=>{if(Z.endDate){const de=new Date(Z.endDate).toLocaleString("pt-BR",{month:"long"});W[de]=(W[de]||0)+1}return W},{});s({total:w.length,read:he.length,favoriteGenre:Object.keys(pe).reduce((W,Z)=>pe[W]>pe[Z]?W:Z,"Nenhum"),avgRating:De.length?(De.reduce((W,Z)=>W+Z,0)/De.length).toFixed(1):0,fastestBook:Me.title!=="Nenhum"?`${Me.title} (${Me.speed} pgs/dia)`:"Nenhum",mostReadAuthor:Object.keys(P).reduce((W,Z)=>P[W]>P[Z]?W:Z,"Nenhum"),booksThisYear:he.filter(W=>W.endDate&&new Date(W.endDate).getFullYear()===$).length,bestReadingMonth:Object.keys(ee).reduce((W,Z)=>ee[W]>ee[Z]?W:Z,"Nenhum"),totalPages:he.reduce((W,Z)=>W+(Z.pages||0),0),booksThisMonth:he.filter(W=>W.endDate&&new Date(W.endDate).getMonth()+1===ce).length})},V=async w=>{w.preventDefault();try{const he=Ct.currentUser;if(!he)throw new Error("Usurio no autenticado");const De=yn($n,"users",he.uid),$=wr(De,"goals"),ce={...O,target:Number(O.target),progress:Number(O.progress),endDate:_t.fromDate(new Date(O.endDate)),createdAt:M?_t.fromDate(new Date(M.createdAt)):_t.now(),description:O.description};if(M){const P=yn($,M.id);await Jl(P,ce)}else await Tg($,ce);const Me=(await Xs(mh($))).docs.map(P=>{var W,Z,de,we;const ee=P.data();return{id:P.id,...ee,endDate:((Z=(W=ee.endDate)==null?void 0:W.toDate)==null?void 0:Z.call(W).toISOString().split("T")[0])||"",createdAt:((we=(de=ee.createdAt)==null?void 0:de.toDate)==null?void 0:we.call(de).toISOString().split("T")[0])||""}});S(Me),x(!1),j(null),J({type:"annual",target:"",progress:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""})}catch(he){console.error("Erro ao salvar meta:",he),alert(`Erro: ${he.message}`)}},N=w=>{j(w),J({type:w.type,target:w.target,progress:w.progress,startDate:w.startDate,endDate:w.endDate,description:w.description}),x(!0)},C=async()=>{try{const w=Ct.currentUser;if(!w)throw new Error("Usurio no autenticado");const he=yn($n,"users",w.uid),De=yn(wr(he,"goals"),ue);await Eg(De),S($=>$.filter(ce=>ce.id!==ue)),K(!1)}catch(w){console.error("Erro ao excluir meta:",w),alert(`Erro: ${w.message}`)}},D=w=>{switch(w.type){case"annual":return Math.min(t.booksThisYear/w.target*100,100).toFixed(0);case"monthly":return Math.min(t.booksThisMonth/w.target*100,100).toFixed(0);default:return Math.min(w.progress/w.target*100,100).toFixed(0)}},k=()=>v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h3",{children:"Confirmar Excluso"}),v.jsx("p",{children:"Tem certeza que deseja excluir esta meta permanentemente?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"modal-button cancel",onClick:()=>K(!1),children:"Cancelar"}),v.jsx("button",{className:"modal-button confirm",onClick:C,children:"Confirmar"})]})]})});return p?v.jsxs("div",{className:"loading-container",children:[v.jsx(iT,{className:"loading-spinner"}),v.jsx("p",{children:"Carregando estatsticas..."})]}):v.jsxs("div",{className:"dashboard-container",children:[v.jsxs("header",{className:"dashboard-header",children:[v.jsxs("h1",{children:["Bem-vindo, ",((L=Ct.currentUser)==null?void 0:L.displayName)||"Leitor","!"]}),v.jsxs("div",{className:"quick-actions",children:[v.jsxs(es,{to:"/add-book",className:"action-button",children:[v.jsx(ho,{})," Adicionar Livro"]}),v.jsxs(es,{to:"/collection",className:"action-button",children:[v.jsx(Nr,{})," Minha Coleo"]})]})]}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-card purple",children:[v.jsx(Nr,{className:"stat-icon"}),v.jsx("h3",{children:"Total de Livros"}),v.jsx("p",{children:t.total})]}),v.jsxs("div",{className:"stat-card dark-purple",children:[v.jsx(Jw,{className:"stat-icon"}),v.jsx("h3",{children:"Livros Lidos"}),v.jsx("p",{children:t.read})]}),v.jsxs("div",{className:"stat-card purple",children:[v.jsx(rT,{className:"stat-icon"}),v.jsx("h3",{children:"Gnero Favorito"}),v.jsx("p",{children:t.favoriteGenre})]}),v.jsxs("div",{className:"stat-card dark-purple",children:[v.jsx(nu,{className:"stat-icon"}),v.jsx("h3",{children:"Nota Mdia"}),v.jsxs("p",{children:[t.avgRating,"/5"]})]}),v.jsxs("div",{className:"stat-card animated-card",children:[v.jsx(nT,{className:"stat-icon"}),v.jsx("h3",{children:o.title}),v.jsx("p",{children:o.value})]})]}),v.jsxs("div",{className:"goals-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx("h2",{children:"Metas de Leitura"}),v.jsxs("button",{className:"add-goal-button",onClick:()=>x(!0),children:[v.jsx(ho,{})," Nova Meta"]})]}),E.map(w=>v.jsx("div",{className:"goal-container",children:v.jsxs("div",{className:"goal-card",children:[v.jsxs("div",{className:"goal-header",children:[v.jsx(Zw,{className:"goal-icon"}),v.jsx("h3",{children:w.description||`Meta ${w.type}`}),v.jsx("span",{className:"goal-type",children:w.type}),v.jsxs("div",{className:"goal-actions",children:[v.jsx("button",{className:"icon-button edit",onClick:()=>N(w),children:v.jsx(Kh,{})}),v.jsx("button",{className:"icon-button delete",onClick:()=>{se(w.id),K(!0)},children:v.jsx(Rp,{})})]})]}),v.jsx("div",{className:"progress-container",children:v.jsxs("div",{className:"progress-bar",style:{width:`${D(w)}%`},children:[D(w),"%"]})}),v.jsxs("div",{className:"goal-details",children:[v.jsxs("div",{children:[v.jsx("span",{children:"Progresso: "}),v.jsx("strong",{children:Math.min(w.type==="annual"?t.booksThisYear:w.type==="monthly"?t.booksThisMonth:w.progress,w.target)}),v.jsxs("span",{children:["/",w.target]})]}),v.jsxs("div",{children:[v.jsx("span",{children:"Prazo: "}),w.endDate&&new Date(w.endDate).toLocaleDateString("pt-BR")]})]})]})},w.id))]}),R&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h3",{children:M?"Editar Meta":"Criar Nova Meta"}),v.jsxs("form",{onSubmit:V,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Tipo de Meta"}),v.jsxs("select",{value:O.type,onChange:w=>J({...O,type:w.target.value}),className:"form-input",required:!0,children:[v.jsx("option",{value:"annual",children:"Anual"}),v.jsx("option",{value:"monthly",children:"Mensal"}),v.jsx("option",{value:"custom",children:"Personalizada"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Descrio (opcional)"}),v.jsx("input",{type:"text",value:O.description,onChange:w=>J({...O,description:w.target.value}),className:"form-input",placeholder:"Ex.: Meta de Vero 2025"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Objetivo (nmero de livros)"}),v.jsx("input",{type:"number",min:"1",value:O.target,onChange:w=>J({...O,target:w.target.value}),className:"form-input",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Prazo Final"}),v.jsx("input",{type:"date",value:O.endDate,min:new Date().toISOString().split("T")[0],onChange:w=>J({...O,endDate:w.target.value}),className:"form-input",required:!0})]}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",className:"modal-button cancel",onClick:()=>{x(!1),j(null)},children:"Cancelar"}),v.jsx("button",{type:"submit",className:"modal-button confirm",children:M?"Salvar Alteraes":"Criar Meta"})]})]})]})}),ae&&v.jsx(k,{}),v.jsxs("div",{className:"recent-books",children:[v.jsx("h2",{children:"ltimas Adies"}),r.slice(0,3).map(w=>v.jsxs("div",{className:"book-item",children:[v.jsx("img",{src:w.cover||"default-book.png",alt:w.title}),v.jsxs("div",{children:[v.jsx("h4",{children:w.title}),v.jsx("p",{children:w.author})]})]},w.id))]})]})}const tD=async(r,e)=>{try{const t=yn($n,"users",r),s=wr(t,"books");return(await Tg(s,{...e,createdAt:new Date,updatedAt:new Date})).id}catch(t){throw console.error("Erro ao adicionar livro:",t),t}};function nD(r,e,t){var s=this,o=Q.useRef(null),u=Q.useRef(0),h=Q.useRef(null),m=Q.useRef([]),p=Q.useRef(),g=Q.useRef(),E=Q.useRef(r),S=Q.useRef(!0);E.current=r;var R=typeof window<"u",x=!e&&e!==0&&R;if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var M=!!(t=t||{}).leading,j=!("trailing"in t)||!!t.trailing,O="maxWait"in t,J="debounceOnServer"in t&&!!t.debounceOnServer,ae=O?Math.max(+t.maxWait||0,e):null;Q.useEffect(function(){return S.current=!0,function(){S.current=!1}},[]);var K=Q.useMemo(function(){var ue=function(D){var k=m.current,L=p.current;return m.current=p.current=null,u.current=D,g.current=E.current.apply(L,k)},se=function(D,k){x&&cancelAnimationFrame(h.current),h.current=x?requestAnimationFrame(D):setTimeout(D,k)},me=function(D){if(!S.current)return!1;var k=D-o.current;return!o.current||k>=e||k<0||O&&D-u.current>=ae},V=function(D){return h.current=null,j&&m.current?ue(D):(m.current=p.current=null,g.current)},N=function D(){var k=Date.now();if(me(k))return V(k);if(S.current){var L=e-(k-o.current),w=O?Math.min(L,ae-(k-u.current)):L;se(D,w)}},C=function(){if(R||J){var D=Date.now(),k=me(D);if(m.current=[].slice.call(arguments),p.current=s,o.current=D,k){if(!h.current&&S.current)return u.current=o.current,se(N,e),M?ue(o.current):g.current;if(O)return se(N,e),ue(o.current)}return h.current||se(N,e),g.current}};return C.cancel=function(){h.current&&(x?cancelAnimationFrame(h.current):clearTimeout(h.current)),u.current=0,m.current=o.current=p.current=h.current=null},C.isPending=function(){return!!h.current},C.flush=function(){return h.current?V(Date.now()):g.current},C},[M,O,e,ae,j,x,R,J]);return K}function rD(r,e){return r===e}function iD(r,e,t){var s=rD,o=Q.useRef(r),u=Q.useState({})[1],h=nD(Q.useCallback(function(p){o.current=p,u({})},[u]),e,t),m=Q.useRef(r);return s(m.current,r)||(h(r),m.current=r),[o.current,h]}function yb(r,e){return function(){return r.apply(e,arguments)}}const{toString:sD}=Object.prototype,{getPrototypeOf:Sg}=Object,ff=(r=>e=>{const t=sD.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),or=r=>(r=r.toLowerCase(),e=>ff(e)===r),df=r=>e=>typeof e===r,{isArray:Io}=Array,cu=df("undefined");function aD(r){return r!==null&&!cu(r)&&r.constructor!==null&&!cu(r.constructor)&&kn(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const vb=or("ArrayBuffer");function oD(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&vb(r.buffer),e}const lD=df("string"),kn=df("function"),_b=df("number"),mf=r=>r!==null&&typeof r=="object",uD=r=>r===!0||r===!1,gh=r=>{if(ff(r)!=="object")return!1;const e=Sg(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},cD=or("Date"),hD=or("File"),fD=or("Blob"),dD=or("FileList"),mD=r=>mf(r)&&kn(r.pipe),pD=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||kn(r.append)&&((e=ff(r))==="formdata"||e==="object"&&kn(r.toString)&&r.toString()==="[object FormData]"))},gD=or("URLSearchParams"),[yD,vD,_D,ED]=["ReadableStream","Request","Response","Headers"].map(or),TD=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ru(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,o;if(typeof r!="object"&&(r=[r]),Io(r))for(s=0,o=r.length;s<o;s++)e.call(null,r[s],s,r);else{const u=t?Object.getOwnPropertyNames(r):Object.keys(r),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,r[m],m,r)}}function Eb(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tb=r=>!cu(r)&&r!==Qs;function pp(){const{caseless:r}=Tb(this)&&this||{},e={},t=(s,o)=>{const u=r&&Eb(e,o)||o;gh(e[u])&&gh(s)?e[u]=pp(e[u],s):gh(s)?e[u]=pp({},s):Io(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ru(arguments[s],t);return e}const bD=(r,e,t,{allOwnKeys:s}={})=>(Ru(e,(o,u)=>{t&&kn(o)?r[u]=yb(o,t):r[u]=o},{allOwnKeys:s}),r),SD=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),AD=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},wD=(r,e,t,s)=>{let o,u,h;const m={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)h=o[u],(!s||s(h,r,e))&&!m[h]&&(e[h]=r[h],m[h]=!0);r=t!==!1&&Sg(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},RD=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},ND=r=>{if(!r)return null;if(Io(r))return r;let e=r.length;if(!_b(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},CD=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&Sg(Uint8Array)),ID=(r,e)=>{const s=(r&&r[Symbol.iterator]).call(r);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(r,u[0],u[1])}},xD=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},DD=or("HTMLFormElement"),OD=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),EE=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),MD=or("RegExp"),bb=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Ru(t,(o,u)=>{let h;(h=e(o,u,r))!==!1&&(s[u]=h||o)}),Object.defineProperties(r,s)},PD=r=>{bb(r,(e,t)=>{if(kn(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(kn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},VD=(r,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Io(r)?s(r):s(String(r).split(e)),t},kD=()=>{},UD=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function jD(r){return!!(r&&kn(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const LD=r=>{const e=new Array(10),t=(s,o)=>{if(mf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Io(s)?[]:{};return Ru(s,(h,m)=>{const p=t(h,o+1);!cu(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return t(r,0)},BD=or("AsyncFunction"),zD=r=>r&&(mf(r)||kn(r))&&kn(r.then)&&kn(r.catch),Sb=((r,e)=>r?setImmediate:e?((t,s)=>(Qs.addEventListener("message",({source:o,data:u})=>{o===Qs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Qs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",kn(Qs.postMessage)),qD=typeof queueMicrotask<"u"?queueMicrotask.bind(Qs):typeof process<"u"&&process.nextTick||Sb,X={isArray:Io,isArrayBuffer:vb,isBuffer:aD,isFormData:pD,isArrayBufferView:oD,isString:lD,isNumber:_b,isBoolean:uD,isObject:mf,isPlainObject:gh,isReadableStream:yD,isRequest:vD,isResponse:_D,isHeaders:ED,isUndefined:cu,isDate:cD,isFile:hD,isBlob:fD,isRegExp:MD,isFunction:kn,isStream:mD,isURLSearchParams:gD,isTypedArray:CD,isFileList:dD,forEach:Ru,merge:pp,extend:bD,trim:TD,stripBOM:SD,inherits:AD,toFlatObject:wD,kindOf:ff,kindOfTest:or,endsWith:RD,toArray:ND,forEachEntry:ID,matchAll:xD,isHTMLForm:DD,hasOwnProperty:EE,hasOwnProp:EE,reduceDescriptors:bb,freezeMethods:PD,toObjectSet:VD,toCamelCase:OD,noop:kD,toFiniteNumber:UD,findKey:Eb,global:Qs,isContextDefined:Tb,isSpecCompliantForm:jD,toJSONObject:LD,isAsyncFn:BD,isThenable:zD,setImmediate:Sb,asap:qD};function Oe(r,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Ab=Oe.prototype,wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{wb[r]={value:r}});Object.defineProperties(Oe,wb);Object.defineProperty(Ab,"isAxiosError",{value:!0});Oe.from=(r,e,t,s,o,u)=>{const h=Object.create(Ab);return X.toFlatObject(r,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Oe.call(h,r.message,e,t,s,o),h.cause=r,h.name=r.name,u&&Object.assign(h,u),h};const FD=null;function gp(r){return X.isPlainObject(r)||X.isArray(r)}function Rb(r){return X.endsWith(r,"[]")?r.slice(0,-2):r}function TE(r,e,t){return r?r.concat(e).map(function(o,u){return o=Rb(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function HD(r){return X.isArray(r)&&!r.some(gp)}const GD=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function pf(r,e,t){if(!X.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(j,O){return!X.isUndefined(O[j])});const s=t.metaTokens,o=t.visitor||E,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function g(M){if(M===null)return"";if(X.isDate(M))return M.toISOString();if(!p&&X.isBlob(M))throw new Oe("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(M)||X.isTypedArray(M)?p&&typeof Blob=="function"?new Blob([M]):Buffer.from(M):M}function E(M,j,O){let J=M;if(M&&!O&&typeof M=="object"){if(X.endsWith(j,"{}"))j=s?j:j.slice(0,-2),M=JSON.stringify(M);else if(X.isArray(M)&&HD(M)||(X.isFileList(M)||X.endsWith(j,"[]"))&&(J=X.toArray(M)))return j=Rb(j),J.forEach(function(K,ue){!(X.isUndefined(K)||K===null)&&e.append(h===!0?TE([j],ue,u):h===null?j:j+"[]",g(K))}),!1}return gp(M)?!0:(e.append(TE(O,j,u),g(M)),!1)}const S=[],R=Object.assign(GD,{defaultVisitor:E,convertValue:g,isVisitable:gp});function x(M,j){if(!X.isUndefined(M)){if(S.indexOf(M)!==-1)throw Error("Circular reference detected in "+j.join("."));S.push(M),X.forEach(M,function(J,ae){(!(X.isUndefined(J)||J===null)&&o.call(e,J,X.isString(ae)?ae.trim():ae,j,R))===!0&&x(J,j?j.concat(ae):[ae])}),S.pop()}}if(!X.isObject(r))throw new TypeError("data must be an object");return x(r),e}function bE(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ag(r,e){this._pairs=[],r&&pf(r,this,e)}const Nb=Ag.prototype;Nb.append=function(e,t){this._pairs.push([e,t])};Nb.toString=function(e){const t=e?function(s){return e.call(this,s,bE)}:bE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function KD(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cb(r,e,t){if(!e)return r;const s=t&&t.encode||KD;X.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=X.isURLSearchParams(e)?e.toString():new Ag(e,t).toString(s),u){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class SE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Ib={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QD=typeof URLSearchParams<"u"?URLSearchParams:Ag,YD=typeof FormData<"u"?FormData:null,$D=typeof Blob<"u"?Blob:null,XD={isBrowser:!0,classes:{URLSearchParams:QD,FormData:YD,Blob:$D},protocols:["http","https","file","blob","url","data"]},wg=typeof window<"u"&&typeof document<"u",yp=typeof navigator=="object"&&navigator||void 0,WD=wg&&(!yp||["ReactNative","NativeScript","NS"].indexOf(yp.product)<0),JD=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZD=wg&&window.location.href||"http://localhost",eO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wg,hasStandardBrowserEnv:WD,hasStandardBrowserWebWorkerEnv:JD,navigator:yp,origin:ZD},Symbol.toStringTag,{value:"Module"})),un={...eO,...XD};function tO(r,e){return pf(r,new un.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return un.isNode&&X.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function nO(r){return X.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rO(r){const e={},t=Object.keys(r);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=r[u];return e}function xb(r){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=t.length;return h=!h&&X.isArray(o)?o.length:h,p?(X.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!X.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&X.isArray(o[h])&&(o[h]=rO(o[h])),!m)}if(X.isFormData(r)&&X.isFunction(r.entries)){const t={};return X.forEachEntry(r,(s,o)=>{e(nO(s),o,t,0)}),t}return null}function iO(r,e,t){if(X.isString(r))try{return(e||JSON.parse)(r),X.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const Nu={transitional:Ib,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=X.isObject(e);if(u&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return o?JSON.stringify(xb(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tO(e,this.formSerializer).toString();if((m=X.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return pf(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),iO(e)):e}],transformResponse:[function(e){const t=this.transitional||Nu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Oe.from(m,Oe.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:un.classes.FormData,Blob:un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],r=>{Nu.headers[r]={}});const sO=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aO=r=>{const e={};let t,s,o;return r&&r.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&sO[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},AE=Symbol("internals");function ql(r){return r&&String(r).trim().toLowerCase()}function yh(r){return r===!1||r==null?r:X.isArray(r)?r.map(yh):String(r)}function oO(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const lO=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function km(r,e,t,s,o){if(X.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!X.isString(e)){if(X.isString(s))return e.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(e)}}function uO(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function cO(r,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let Sn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,p,g){const E=ql(p);if(!E)throw new Error("header name must be a non-empty string");const S=X.findKey(o,E);(!S||o[S]===void 0||g===!0||g===void 0&&o[S]!==!1)&&(o[S||p]=yh(m))}const h=(m,p)=>X.forEach(m,(g,E)=>u(g,E,p));if(X.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(X.isString(e)&&(e=e.trim())&&!lO(e))h(aO(e),t);else if(X.isHeaders(e))for(const[m,p]of e.entries())u(p,m,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=ql(e),e){const s=X.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return oO(o);if(X.isFunction(t))return t.call(this,o,s);if(X.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ql(e),e){const s=X.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||km(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=ql(h),h){const m=X.findKey(s,h);m&&(!t||km(s,s[m],m,t))&&(delete s[m],o=!0)}}return X.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||km(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return X.forEach(this,(o,u)=>{const h=X.findKey(s,u);if(h){t[h]=yh(o),delete t[u];return}const m=e?uO(u):String(u).trim();m!==u&&delete t[u],t[m]=yh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&X.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[AE]=this[AE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=ql(h);s[m]||(cO(o,h),s[m]=!0)}return X.isArray(e)?e.forEach(u):u(e),this}};Sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Sn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});X.freezeMethods(Sn);function Um(r,e){const t=this||Nu,s=e||t,o=Sn.from(s.headers);let u=s.data;return X.forEach(r,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function Db(r){return!!(r&&r.__CANCEL__)}function xo(r,e,t){Oe.call(this,r??"canceled",Oe.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(xo,Oe,{__CANCEL__:!0});function Ob(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Oe("Request failed with status code "+t.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hO(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function fO(r,e){r=r||10;const t=new Array(r),s=new Array(r);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),E=s[u];h||(h=g),t[o]=p,s[o]=g;let S=u,R=0;for(;S!==o;)R+=t[S++],S=S%r;if(o=(o+1)%r,o===u&&(u=(u+1)%r),g-h<e)return;const x=E&&g-E;return x?Math.round(R*1e3/x):void 0}}function dO(r,e){let t=0,s=1e3/e,o,u;const h=(g,E=Date.now())=>{t=E,o=null,u&&(clearTimeout(u),u=null),r.apply(null,g)};return[(...g)=>{const E=Date.now(),S=E-t;S>=s?h(g,E):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-S)))},()=>o&&h(o)]}const zh=(r,e,t=3)=>{let s=0;const o=fO(50,250);return dO(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),E=h<=m;s=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&E?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};r(S)},t)},wE=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},RE=r=>(...e)=>X.asap(()=>r(...e)),mO=un.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,un.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(un.origin),un.navigator&&/(msie|trident)/i.test(un.navigator.userAgent)):()=>!0,pO=un.hasStandardBrowserEnv?{write(r,e,t,s,o,u){const h=[r+"="+encodeURIComponent(e)];X.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),X.isString(s)&&h.push("path="+s),X.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gO(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function yO(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Mb(r,e,t){let s=!gO(e);return r&&(s||t==!1)?yO(r,e):e}const NE=r=>r instanceof Sn?{...r}:r;function sa(r,e){e=e||{};const t={};function s(g,E,S,R){return X.isPlainObject(g)&&X.isPlainObject(E)?X.merge.call({caseless:R},g,E):X.isPlainObject(E)?X.merge({},E):X.isArray(E)?E.slice():E}function o(g,E,S,R){if(X.isUndefined(E)){if(!X.isUndefined(g))return s(void 0,g,S,R)}else return s(g,E,S,R)}function u(g,E){if(!X.isUndefined(E))return s(void 0,E)}function h(g,E){if(X.isUndefined(E)){if(!X.isUndefined(g))return s(void 0,g)}else return s(void 0,E)}function m(g,E,S){if(S in e)return s(g,E);if(S in r)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,E,S)=>o(NE(g),NE(E),S,!0)};return X.forEach(Object.keys(Object.assign({},r,e)),function(E){const S=p[E]||o,R=S(r[E],e[E],E);X.isUndefined(R)&&S!==m||(t[E]=R)}),t}const Pb=r=>{const e=sa({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=Sn.from(h),e.url=Cb(Mb(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if(X.isFormData(t)){if(un.hasStandardBrowserEnv||un.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...E]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...E].join("; "))}}if(un.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(e)),s||s!==!1&&mO(e.url))){const g=o&&u&&pO.read(u);g&&h.set(o,g)}return e},vO=typeof XMLHttpRequest<"u",_O=vO&&function(r){return new Promise(function(t,s){const o=Pb(r);let u=o.data;const h=Sn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,E,S,R,x,M;function j(){x&&x(),M&&M(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let O=new XMLHttpRequest;O.open(o.method.toUpperCase(),o.url,!0),O.timeout=o.timeout;function J(){if(!O)return;const K=Sn.from("getAllResponseHeaders"in O&&O.getAllResponseHeaders()),se={data:!m||m==="text"||m==="json"?O.responseText:O.response,status:O.status,statusText:O.statusText,headers:K,config:r,request:O};Ob(function(V){t(V),j()},function(V){s(V),j()},se),O=null}"onloadend"in O?O.onloadend=J:O.onreadystatechange=function(){!O||O.readyState!==4||O.status===0&&!(O.responseURL&&O.responseURL.indexOf("file:")===0)||setTimeout(J)},O.onabort=function(){O&&(s(new Oe("Request aborted",Oe.ECONNABORTED,r,O)),O=null)},O.onerror=function(){s(new Oe("Network Error",Oe.ERR_NETWORK,r,O)),O=null},O.ontimeout=function(){let ue=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const se=o.transitional||Ib;o.timeoutErrorMessage&&(ue=o.timeoutErrorMessage),s(new Oe(ue,se.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,r,O)),O=null},u===void 0&&h.setContentType(null),"setRequestHeader"in O&&X.forEach(h.toJSON(),function(ue,se){O.setRequestHeader(se,ue)}),X.isUndefined(o.withCredentials)||(O.withCredentials=!!o.withCredentials),m&&m!=="json"&&(O.responseType=o.responseType),g&&([R,M]=zh(g,!0),O.addEventListener("progress",R)),p&&O.upload&&([S,x]=zh(p),O.upload.addEventListener("progress",S),O.upload.addEventListener("loadend",x)),(o.cancelToken||o.signal)&&(E=K=>{O&&(s(!K||K.type?new xo(null,r,O):K),O.abort(),O=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const ae=hO(o.url);if(ae&&un.protocols.indexOf(ae)===-1){s(new Oe("Unsupported protocol "+ae+":",Oe.ERR_BAD_REQUEST,r));return}O.send(u||null)})},EO=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const E=g instanceof Error?g:this.reason;s.abort(E instanceof Oe?E:new xo(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new Oe(`timeout ${e} of ms exceeded`,Oe.ETIMEDOUT))},e);const m=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),r=null)};r.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>X.asap(m),p}},TO=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,o;for(;s<t;)o=s+e,yield r.slice(s,o),s=o},bO=async function*(r,e){for await(const t of SO(r))yield*TO(t,e)},SO=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},CE=(r,e,t,s)=>{const o=bO(r,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:E}=await o.next();if(g){m(),p.close();return}let S=E.byteLength;if(t){let R=u+=S;t(R)}p.enqueue(new Uint8Array(E))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},gf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vb=gf&&typeof ReadableStream=="function",AO=gf&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),kb=(r,...e)=>{try{return!!r(...e)}catch{return!1}},wO=Vb&&kb(()=>{let r=!1;const e=new Request(un.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),IE=64*1024,vp=Vb&&kb(()=>X.isReadableStream(new Response("").body)),qh={stream:vp&&(r=>r.body)};gf&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qh[e]&&(qh[e]=X.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Oe(`Response type '${e}' is not supported`,Oe.ERR_NOT_SUPPORT,s)})})})(new Response);const RO=async r=>{if(r==null)return 0;if(X.isBlob(r))return r.size;if(X.isSpecCompliantForm(r))return(await new Request(un.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(X.isArrayBufferView(r)||X.isArrayBuffer(r))return r.byteLength;if(X.isURLSearchParams(r)&&(r=r+""),X.isString(r))return(await AO(r)).byteLength},NO=async(r,e)=>{const t=X.toFiniteNumber(r.getContentLength());return t??RO(e)},CO=gf&&(async r=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:E,withCredentials:S="same-origin",fetchOptions:R}=Pb(r);g=g?(g+"").toLowerCase():"text";let x=EO([o,u&&u.toAbortSignal()],h),M;const j=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let O;try{if(p&&wO&&t!=="get"&&t!=="head"&&(O=await NO(E,s))!==0){let se=new Request(e,{method:"POST",body:s,duplex:"half"}),me;if(X.isFormData(s)&&(me=se.headers.get("content-type"))&&E.setContentType(me),se.body){const[V,N]=wE(O,zh(RE(p)));s=CE(se.body,IE,V,N)}}X.isString(S)||(S=S?"include":"omit");const J="credentials"in Request.prototype;M=new Request(e,{...R,signal:x,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:J?S:void 0});let ae=await fetch(M);const K=vp&&(g==="stream"||g==="response");if(vp&&(m||K&&j)){const se={};["status","statusText","headers"].forEach(C=>{se[C]=ae[C]});const me=X.toFiniteNumber(ae.headers.get("content-length")),[V,N]=m&&wE(me,zh(RE(m),!0))||[];ae=new Response(CE(ae.body,IE,V,()=>{N&&N(),j&&j()}),se)}g=g||"text";let ue=await qh[X.findKey(qh,g)||"text"](ae,r);return!K&&j&&j(),await new Promise((se,me)=>{Ob(se,me,{data:ue,headers:Sn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:r,request:M})})}catch(J){throw j&&j(),J&&J.name==="TypeError"&&/fetch/i.test(J.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,r,M),{cause:J.cause||J}):Oe.from(J,J&&J.code,r,M)}}),_p={http:FD,xhr:_O,fetch:CO};X.forEach(_p,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const xE=r=>`- ${r}`,IO=r=>X.isFunction(r)||r===null||r===!1,Ub={getAdapter:r=>{r=X.isArray(r)?r:[r];const{length:e}=r;let t,s;const o={};for(let u=0;u<e;u++){t=r[u];let h;if(s=t,!IO(t)&&(s=_p[(h=String(t)).toLowerCase()],s===void 0))throw new Oe(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(xE).join(`
`):" "+xE(u[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:_p};function jm(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new xo(null,r)}function DE(r){return jm(r),r.headers=Sn.from(r.headers),r.data=Um.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),Ub.getAdapter(r.adapter||Nu.adapter)(r).then(function(s){return jm(r),s.data=Um.call(r,r.transformResponse,s),s.headers=Sn.from(s.headers),s},function(s){return Db(s)||(jm(r),s&&s.response&&(s.response.data=Um.call(r,r.transformResponse,s.response),s.response.headers=Sn.from(s.response.headers))),Promise.reject(s)})}const jb="1.8.4",yf={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{yf[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const OE={};yf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+jb+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Oe(o(h," has been removed"+(t?" in "+t:"")),Oe.ERR_DEPRECATED);return t&&!OE[h]&&(OE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};yf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function xO(r,e,t){if(typeof r!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=r[u],p=m===void 0||h(m,u,r);if(p!==!0)throw new Oe("option "+u+" must be "+p,Oe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Oe("Unknown option "+u,Oe.ERR_BAD_OPTION)}}const vh={assertOptions:xO,validators:yf},Ar=vh.validators;let Ws=class{constructor(e){this.defaults=e,this.interceptors={request:new SE,response:new SE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=sa(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&vh.assertOptions(s,{silentJSONParsing:Ar.transitional(Ar.boolean),forcedJSONParsing:Ar.transitional(Ar.boolean),clarifyTimeoutError:Ar.transitional(Ar.boolean)},!1),o!=null&&(X.isFunction(o)?t.paramsSerializer={serialize:o}:vh.assertOptions(o,{encode:Ar.function,serialize:Ar.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),vh.assertOptions(t,{baseUrl:Ar.spelling("baseURL"),withXsrfToken:Ar.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&X.merge(u.common,u[t.method]);u&&X.forEach(["delete","get","head","post","put","patch","common"],M=>{delete u[M]}),t.headers=Sn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(j){typeof j.runWhen=="function"&&j.runWhen(t)===!1||(p=p&&j.synchronous,m.unshift(j.fulfilled,j.rejected))});const g=[];this.interceptors.response.forEach(function(j){g.push(j.fulfilled,j.rejected)});let E,S=0,R;if(!p){const M=[DE.bind(this),void 0];for(M.unshift.apply(M,m),M.push.apply(M,g),R=M.length,E=Promise.resolve(t);S<R;)E=E.then(M[S++],M[S++]);return E}R=m.length;let x=t;for(S=0;S<R;){const M=m[S++],j=m[S++];try{x=M(x)}catch(O){j.call(this,O);break}}try{E=DE.call(this,x)}catch(M){return Promise.reject(M)}for(S=0,R=g.length;S<R;)E=E.then(g[S++],g[S++]);return E}getUri(e){e=sa(this.defaults,e);const t=Mb(e.baseURL,e.url,e.allowAbsoluteUrls);return Cb(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Ws.prototype[e]=function(t,s){return this.request(sa(s||{},{method:e,url:t,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(sa(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Ws.prototype[e]=t(),Ws.prototype[e+"Form"]=t(!0)});let DO=class Lb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new xo(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lb(function(o){e=o}),cancel:e}}};function OO(r){return function(t){return r.apply(null,t)}}function MO(r){return X.isObject(r)&&r.isAxiosError===!0}const Ep={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ep).forEach(([r,e])=>{Ep[e]=r});function Bb(r){const e=new Ws(r),t=yb(Ws.prototype.request,e);return X.extend(t,Ws.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Bb(sa(r,o))},t}const Tt=Bb(Nu);Tt.Axios=Ws;Tt.CanceledError=xo;Tt.CancelToken=DO;Tt.isCancel=Db;Tt.VERSION=jb;Tt.toFormData=pf;Tt.AxiosError=Oe;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=OO;Tt.isAxiosError=MO;Tt.mergeConfig=sa;Tt.AxiosHeaders=Sn;Tt.formToJSON=r=>xb(X.isHTMLForm(r)?new FormData(r):r);Tt.getAdapter=Ub.getAdapter;Tt.HttpStatusCode=Ep;Tt.default=Tt;const{Axios:c3,AxiosError:h3,CanceledError:f3,isCancel:d3,CancelToken:m3,VERSION:p3,all:g3,Cancel:y3,isAxiosError:v3,spread:_3,toFormData:E3,AxiosHeaders:T3,HttpStatusCode:b3,formToJSON:S3,getAdapter:A3,mergeConfig:w3}=Tt,PO="https://www.googleapis.com/books/v1/volumes?q=",VO="https://openlibrary.org/search.json?q=";async function zb(r){var e,t,s,o,u,h;try{const[m,p]=await Promise.allSettled([Tt.get(`${PO}${encodeURIComponent(r)}`),Tt.get(`${VO}${encodeURIComponent(r)}&limit=5`)]),g=((t=(e=m.value)==null?void 0:e.data)==null?void 0:t.items)||[],E=((o=(s=p.value)==null?void 0:s.data)==null?void 0:o.docs)||[],S=g.filter(j=>{var J,ae;return(((ae=(J=j.volumeInfo)==null?void 0:J.title)==null?void 0:ae.toLowerCase())||"").includes(r.toLowerCase())});let R={};if(S.length>0)R=S[0].volumeInfo;else if(E.length>0){const j=E[0];R={title:j.title||"",authors:j.author_name||[],categories:((u=j.subject)==null?void 0:u.slice(0,5))||[],description:Array.isArray(j.first_sentence)?j.first_sentence.join(" "):j.first_sentence||"",pageCount:j.number_of_pages_median||null,averageRating:0}}const x=S.map(j=>{var O,J,ae;return(ae=(J=(O=j.volumeInfo)==null?void 0:O.imageLinks)==null?void 0:J.thumbnail)==null?void 0:ae.replace("http://","https://")}).filter(Boolean),M=E.map(j=>j.cover_edition_key?`https://covers.openlibrary.org/b/olid/${j.cover_edition_key}-L.jpg`:null).filter(Boolean);return{title:R.title||"",authors:R.authors?R.authors.join(", "):"",genres:R.categories?R.categories.join(", "):"",description:R.description||"",pageCount:Number.isInteger(R.pageCount)?R.pageCount:null,averageRating:typeof R.averageRating=="number"?R.averageRating:((h=g.find(j=>{var O;return typeof((O=j.volumeInfo)==null?void 0:O.averageRating)=="number"}))==null?void 0:h.volumeInfo.averageRating)||0,images:[...new Set([...x,...M])]}}catch(m){return console.error("Erro ao buscar dados do livro:",m),null}}function kO({onSubmit:r,loading:e}){const[t,s]=Q.useState(""),[o]=iD(t,500),[u,h]=Q.useState({title:"",author:"",genre:"",pages:0,synopsis:"",cover:"",status:"No iniciado",rating:0,averageRating:0,startDate:"",endDate:"",progress:0}),[m,p]=Q.useState(!1),[g,E]=Q.useState([]);Q.useEffect(()=>{(async()=>{var M;if(o){p(!0);try{const j=await zb(o);if(j){const O=((M=j.images)==null?void 0:M.map(J=>J.replace("http://","https://").replace("http:","https:")))||[];h(J=>({...J,title:j.title||J.title,author:j.authors||J.author,genre:j.genres||J.genre,synopsis:j.description||"Sem descrio disponvel",pages:j.pageCount||0,cover:O[0]||J.cover,averageRating:j.averageRating||0})),E(O)}}catch(j){console.error("Erro na busca:",j)}p(!1)}})()},[o]);const S=x=>{var M;if(x.preventDefault(),!u.title){alert("Por favor, insira pelo menos o ttulo do livro");return}r({...u,userId:(M=Ct.currentUser)==null?void 0:M.uid,pages:Number(u.pages),progress:Number(u.progress)})},R=x=>{const M=Math.min(Math.max(Number(x)||0,0),5),j=Math.floor(M),O=M%1>=.5,J=Math.max(5-j-(O?1:0),0);return v.jsxs("div",{className:"rating-container",children:[[...Array(j)].map((ae,K)=>v.jsx(nu,{className:"rating-star filled"},`full-${K}`)),O&&v.jsx(sT,{className:"rating-star half-filled"}),[...Array(J)].map((ae,K)=>v.jsx(nu,{className:"rating-star empty"},`empty-${K}`))]})};return v.jsxs("form",{onSubmit:S,className:"book-form",children:[v.jsx("div",{className:"search-container",children:v.jsxs("div",{className:"search-box",children:[v.jsx("input",{type:"text",placeholder:"Digite o nome do livro para buscar",value:t,onChange:x=>s(x.target.value),className:"search-input"}),m?v.jsx("div",{className:"loading-spinner"}):v.jsx(i2,{className:"search-icon"})]})}),v.jsxs("div",{className:"form-container",children:[v.jsxs("div",{className:"book-preview",children:[v.jsxs("div",{className:"cover-container",children:[u.cover?v.jsx("img",{src:u.cover,alt:"Capa do livro",className:"book-cover"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Nr,{className:"placeholder-icon"})}),g.length>0&&v.jsxs("div",{className:"cover-options-grid",children:[v.jsx("h4",{children:"Selecione uma capa:"}),v.jsx("div",{className:"cover-options",children:g.map((x,M)=>v.jsx("img",{src:x,alt:`Opo de capa ${M+1}`,className:`cover-option ${u.cover===x?"selected":""}`,onClick:()=>h({...u,cover:x})},M))})]})]}),v.jsxs("div",{className:"book-details",children:[v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Ttulo",v.jsx("input",{type:"text",value:u.title,onChange:x=>h({...u,title:x.target.value}),className:"text-input",required:!0})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Autor",v.jsx("input",{type:"text",value:u.author,onChange:x=>h({...u,author:x.target.value}),className:"text-input"})]})}),v.jsxs("div",{className:"form-row",children:[v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Gnero",v.jsx("input",{type:"text",value:u.genre,onChange:x=>h({...u,genre:x.target.value}),className:"text-input"})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Pginas",v.jsx("input",{type:"number",value:u.pages||"",onChange:x=>h({...u,pages:parseInt(x.target.value)||0}),className:"number-input"})]})})]}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Sinopse",v.jsx("textarea",{value:u.synopsis,onChange:x=>h({...u,synopsis:x.target.value}),className:"synopsis-textarea",rows:"5"})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Nota Mdia",R(u.averageRating)]})})]})]}),v.jsxs("div",{className:"form-controls",children:[v.jsxs("div",{className:"status-rating-container",children:[v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Status",v.jsxs("select",{value:u.status,onChange:x=>{const M=x.target.value,j={status:M};M==="Concludo"&&(j.progress=u.pages),h({...u,...j})},className:"status-select",children:[v.jsx("option",{value:"No iniciado",children:"No Iniciado"}),v.jsx("option",{value:"Em andamento",children:"Em Andamento"}),v.jsx("option",{value:"Concludo",children:"Concludo"}),v.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]})}),(u.status==="Em andamento"||u.status==="Abandonado"||u.status==="Concludo")&&v.jsxs("div",{className:"input-group",children:[v.jsxs("label",{className:"input-label",children:["Pgina Atual",v.jsxs("div",{className:"progress-input-container",children:[v.jsx("input",{type:"number",min:"0",max:u.pages,value:u.progress,onChange:x=>h({...u,progress:Math.min(parseInt(x.target.value)||0,u.pages)}),className:"progress-input",placeholder:"Pgina atual"}),v.jsxs("span",{className:"pages-total",children:["/ ",u.pages]})]})]}),v.jsx("div",{className:"progress-container",children:v.jsx("div",{className:"progress-bar",style:{width:`${u.progress/(u.pages||1)*100}%`}})}),v.jsxs("div",{className:"progress-info",children:["Progresso: ",Math.round(u.progress/(u.pages||1)*100||0),"%"]})]}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Data de Incio",v.jsx("input",{type:"date",value:u.startDate,onChange:x=>h({...u,startDate:x.target.value}),className:"text-input"})]})}),u.status==="Concludo"&&v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Data de Trmino",v.jsx("input",{type:"date",value:u.endDate,onChange:x=>h({...u,endDate:x.target.value}),className:"text-input"})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Sua Avaliao",v.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:u.rating,onChange:x=>h({...u,rating:parseFloat(x.target.value)}),className:"number-input"}),R(u.rating)]})})]}),v.jsx("button",{type:"submit",className:"submit-button",disabled:e||m,children:e?v.jsxs(v.Fragment,{children:[v.jsx(iT,{className:"button-spinner"})," Salvando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(ho,{className:"button-icon"})," Adicionar  Coleo"]})})]})]})]})}function UO(){const[r,e]=Q.useState(!1),t=hu(),s=async o=>{e(!0);try{await tD(Ct.currentUser.uid,o),t("/dashboard")}catch(u){alert("Erro ao salvar livro: "+u.message)}e(!1)};return v.jsx("div",{className:"add-book-container",children:v.jsxs("div",{className:"form-card",children:[v.jsxs("div",{className:"header-section",children:[v.jsxs("button",{className:"back-button",onClick:()=>t(-1),children:[v.jsx(tT,{})," Voltar"]}),v.jsxs("h1",{className:"form-title",children:[v.jsx(ho,{})," Adicionar Novo Livro"]})]}),v.jsx(kO,{onSubmit:s,loading:r})]})})}function jO(){const[r,e]=Q.useState([]),[t,s]=Q.useState(!0),[o,u]=Q.useState(null),[h,m]=Q.useState("all"),[p,g]=Q.useState("all"),[E,S]=Q.useState("title"),[R,x]=Q.useState("asc"),[M,j]=Q.useState([]),[O,J]=Q.useState(!1),[ae,K]=Q.useState(null),[ue,se]=Q.useState(!1),[me,V]=Q.useState(null),[N,C]=Q.useState(!1),[D,k]=Q.useState([]),[L,w]=Q.useState(!1),[he,De]=Q.useState({title:"",author:"",genre:"",status:"",rating:0,averageRating:0,notes:"",cover:"",synopsis:"",pages:0,progress:0,startDate:"",endDate:""});Q.useEffect(()=>{const re=async()=>{try{const ze=Ct.currentUser;if(!ze)throw new Error("Usurio no autenticado");const Xe=yn($n,"users",ze.uid),ut=wr(Xe,"books"),tn=mh(ut),Xn=(await Xs(tn)).docs.map(Vr=>({id:Vr.id,...Vr.data()}));e(Xn),be(Xn)}catch(ze){u(ze.message)}finally{s(!1)}},be=ze=>{const Xe=[...new Set(ze.map(ut=>ut.genre))];j(Xe.filter(ut=>ut&&ut!==""))};re()},[]);const $=async()=>{var re;try{w(!0);const be=await zb(he.title),ze=((re=be==null?void 0:be.images)==null?void 0:re.map(Xe=>Xe.replace("http://","https://").replace("http:","https:")).filter(Xe=>Xe.startsWith("https://")&&(Xe.includes("googleapis")||Xe.includes("openlibrary.org"))))||[];k(ze)}catch(be){console.error("Erro na busca de capas:",be),k([])}finally{w(!1)}},ce=re=>{De(be=>({...be,cover:re})),C(!1)},pe=async re=>{try{const be=Ct.currentUser;if(!be)return;const ze=yn($n,"users",be.uid,"books",re),Xe=r.find(ut=>ut.id===re);await Jl(ze,{favorite:!Xe.favorite}),e(r.map(ut=>ut.id===re?{...ut,favorite:!ut.favorite}:ut))}catch(be){u(be.message)}},Me=async()=>{try{const re=Ct.currentUser;if(!re)return;const be=yn($n,"users",re.uid,"books",ae),ze=wr($n,"users",re.uid,"folders"),ut=(await Xs(ze)).docs.map(async tn=>{var Xn;const hn=tn.data();if((Xn=hn.books)!=null&&Xn.includes(ae)){const Vr=hn.books.filter(vn=>vn!==ae);await Jl(tn.ref,{books:Vr})}});await Promise.all(ut),await Eg(be),e(r.filter(tn=>tn.id!==ae)),J(!1)}catch(re){u(re.message),J(!1)}},P=re=>{V(re),De({title:re.title,author:re.author,genre:re.genre,status:re.status,rating:re.rating||0,averageRating:re.averageRating||0,notes:re.notes||"",cover:re.cover||"",synopsis:re.synopsis||"",pages:re.pages||0,progress:re.progress||0,startDate:re.startDate||"",endDate:re.endDate||""}),se(!0)},ee=re=>{De({...he,[re.target.name]:re.target.value})},W=re=>{De({...he,rating:re})},Z=async re=>{re.preventDefault();try{const be=Ct.currentUser;if(!be||!me)return;const ze=yn($n,"users",be.uid,"books",me.id);await Jl(ze,{...he,cover:he.cover,pages:Number(he.pages),progress:Number(he.progress)}),e(r.map(Xe=>Xe.id===me.id?{...Xe,...he}:Xe)),se(!1)}catch(be){u(be.message),se(!1)}},de=re=>{const be=Math.min(Math.max(Number(re)||0,0),5),ze=Math.floor(be),Xe=be%1>=.5&&be<5,ut=Math.max(5-ze-(Xe?1:0),0);return v.jsxs("div",{className:"rating-container",children:[[...Array(ze)].map((tn,hn)=>v.jsx(nu,{className:"rating-star filled"},`full-${hn}`)),Xe&&v.jsx(sT,{className:"rating-star half-filled"}),[...Array(ut)].map((tn,hn)=>v.jsx(nu,{className:"rating-star empty"},`empty-${hn}`))]})},we=r.filter(re=>(h==="all"||re.status===h)&&(p==="all"||re.genre===p)).sort((re,be)=>E==="title"?R==="asc"?re.title.localeCompare(be.title):be.title.localeCompare(re.title):E==="rating"?R==="asc"?re.rating-be.rating:be.rating-re.rating:0),Ee=()=>v.jsx("div",{className:"delete-modal",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h3",{children:"Confirmar excluso"}),v.jsx("p",{children:"Tem certeza que deseja remover este livro da sua coleo?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"modal-button confirm",onClick:Me,children:"Confirmar"}),v.jsx("button",{className:"modal-button cancel",onClick:()=>J(!1),children:"Cancelar"})]})]})}),at=()=>v.jsx("div",{className:"edit-modal",children:v.jsxs("div",{className:"edit-form",children:[v.jsx("h3",{className:"edit-form-title",children:"Editar Livro"}),v.jsxs("div",{className:"book-info-header",children:[he.cover?v.jsx("img",{src:he.cover,alt:"Capa",className:"book-info-cover"}):v.jsx("div",{className:"cover-placeholder book-info-cover",children:v.jsx(Nr,{size:24})}),v.jsxs("div",{className:"book-info-text",children:[v.jsx("h4",{className:"book-title",children:he.title}),v.jsxs("p",{className:"book-author",children:["por ",he.author]}),v.jsxs("div",{className:"book-meta-info",children:[v.jsxs("p",{className:"book-genre",children:["Gnero: ",he.genre||"No informado"]}),v.jsxs("div",{className:"book-rating",children:[v.jsx("span",{children:"Nota Mdia:"}),de(he.averageRating),v.jsxs("span",{className:"rating-value",children:["(",parseFloat(he.averageRating).toFixed(1),")"]})]})]})]})]}),v.jsxs("form",{onSubmit:Z,children:[v.jsxs("div",{className:"form-grid",children:[v.jsxs("div",{className:"form-group full-width",children:[v.jsx("label",{children:"Capa do Livro"}),v.jsxs("div",{className:"cover-preview-container",children:[he.cover?v.jsx("img",{src:he.cover,alt:"Capa atual",className:"current-cover"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Nr,{})}),v.jsx("button",{type:"button",className:"change-cover-button",onClick:()=>{C(!N),N||$()},children:N?"Fechar Opes":"Alterar Capa"})]}),N&&v.jsx("div",{className:"cover-selector-modal",children:L?v.jsx("div",{className:"loading-spinner"}):v.jsxs(v.Fragment,{children:[v.jsx("h4",{children:"Selecione uma nova capa:"}),v.jsx("div",{className:"cover-options-grid",children:D.map((re,be)=>v.jsx("img",{src:re,alt:`Opo de capa ${be+1}`,className:`cover-option ${he.cover===re?"selected":""}`,onClick:()=>ce(re)},be))}),D.length===0&&v.jsx("p",{children:"Nenhuma capa alternativa encontrada."})]})})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Ttulo"}),v.jsx("input",{type:"text",name:"title",value:he.title,onChange:ee,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Autor"}),v.jsx("input",{type:"text",name:"author",value:he.author,onChange:ee,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Gnero"}),v.jsx("input",{type:"text",name:"genre",value:he.genre,onChange:ee,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Total de Pginas"}),v.jsx("input",{type:"number",name:"pages",value:he.pages,onChange:ee,className:"form-input",min:"0"})]}),v.jsxs("div",{className:"form-group full-width",children:[v.jsx("label",{children:"Sinopse"}),v.jsx("div",{className:"synopsis-display",children:he.synopsis||"Nenhuma sinopse disponvel"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Status"}),v.jsxs("select",{value:he.status,onChange:re=>{const be=re.target.value,ze={status:be};be==="Concludo"&&(ze.progress=he.pages),De({...he,...ze})},className:"status-select",children:[v.jsx("option",{value:"No iniciado",children:"No Iniciado"}),v.jsx("option",{value:"Em andamento",children:"Em Andamento"}),v.jsx("option",{value:"Concludo",children:"Concludo"}),v.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Data de Incio"}),v.jsx("input",{type:"date",name:"startDate",value:he.startDate,onChange:ee,className:"form-input",placeholder:"dd/mm/aaaa"})]}),he.status==="Concludo"&&v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Data de Trmino"}),v.jsx("input",{type:"date",name:"endDate",value:he.endDate,onChange:ee,className:"form-input",placeholder:"dd/mm/aaaa"})]}),(he.status==="Em andamento"||he.status==="Abandonado"||he.status==="Concludo")&&v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Pgina Atual"}),v.jsxs("div",{className:"progress-input-container",children:[v.jsx("input",{type:"number",value:he.pages||"",onChange:re=>{const be=parseInt(re.target.value)||0,ze={pages:be};he.status==="Concludo"&&(ze.progress=be),De({...he,...ze})},className:"number-input"}),v.jsxs("span",{className:"pages-total",children:["/ ",he.pages]})]}),v.jsx("div",{className:"progress-container",children:v.jsx("div",{className:"progress-bar",style:{width:`${Math.round(he.progress/he.pages*100)||0}%`}})}),v.jsxs("div",{className:"progress-info",children:["Progresso: ",Math.round(he.progress/he.pages*100||0),"%"]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Avaliao"}),v.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:he.rating,onChange:re=>{const be=parseFloat(re.target.value),ze=Math.min(Math.max(isNaN(be)?0:be,0),5);W(ze)},className:"rating-input"}),v.jsx("div",{className:"rating-display",children:de(he.rating)})]})]}),v.jsxs("div",{className:"form-group full-width",children:[v.jsx("label",{children:"Anotaes"}),v.jsx("textarea",{name:"notes",value:he.notes,onChange:ee,className:"form-input form-textarea",placeholder:"Adicione suas anotaes..."})]}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",className:"modal-button cancel",onClick:()=>se(!1),children:"Cancelar"}),v.jsx("button",{type:"submit",className:"modal-button confirm",children:"Salvar Alteraes"})]})]})]})});return t?v.jsx("div",{className:"loading-screen",children:"Carregando..."}):o?v.jsxs("div",{className:"error-screen",children:[v.jsx("h2",{children:"Erro ao carregar dados"}),v.jsx("p",{children:o})]}):v.jsxs("div",{className:"collection-container",children:[v.jsx("h1",{className:"collection-title",children:" Sua Coleo"}),v.jsxs("div",{className:"controls",children:[v.jsxs("div",{className:"filter-group",children:[v.jsx(t2,{className:"filter-icon"}),v.jsxs("select",{value:h,onChange:re=>m(re.target.value),className:"filter-select",children:[v.jsx("option",{value:"all",children:"Todos os Status"}),v.jsx("option",{value:"No iniciado",children:"No Iniciado"}),v.jsx("option",{value:"Em andamento",children:"Em Andamento"}),v.jsx("option",{value:"Concludo",children:"Concludo"}),v.jsx("option",{value:"Abandonado",children:"Abandonado"})]}),v.jsxs("select",{value:p,onChange:re=>g(re.target.value),className:"filter-select",children:[v.jsx("option",{value:"all",children:"Todos os Gneros"}),M.map(re=>v.jsx("option",{value:re,children:re},re))]})]}),v.jsxs("div",{className:"sort-group",children:[v.jsx(a2,{className:"sort-icon"}),v.jsxs("select",{value:E,onChange:re=>S(re.target.value),className:"sort-select",children:[v.jsx("option",{value:"title",children:"Ordenar por Ttulo"}),v.jsx("option",{value:"rating",children:"Ordenar por Avaliao"})]}),v.jsx("button",{onClick:()=>x(R==="asc"?"desc":"asc"),className:"sort-order",children:R==="asc"?"A-Z":"Z-A"})]})]}),v.jsx("div",{className:"books-table",children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Capa"}),v.jsx("th",{children:"Ttulo"}),v.jsx("th",{children:"Autor"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Avaliao"}),v.jsx("th",{children:"Progresso"}),v.jsx("th",{children:"Aes"})]})}),v.jsx("tbody",{children:we.length>0?we.map(re=>v.jsxs("tr",{children:[v.jsx("td",{children:re.cover?v.jsx("img",{src:re.cover,alt:re.title,className:"book-cover"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Nr,{})})}),v.jsx("td",{children:re.title}),v.jsx("td",{children:re.author}),v.jsx("td",{children:v.jsx("span",{className:`status-badge ${re.status.toLowerCase().replace(" ","-")}`,children:re.status})}),v.jsx("td",{children:de(re.rating)}),v.jsx("td",{children:(re.status==="Em andamento"||re.status==="Abandonado"||re.status==="Concludo")&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"progress-container",children:v.jsx("div",{className:"progress-bar",style:{width:`${Math.round(re.progress/re.pages*100)||0}%`}})}),v.jsxs("div",{className:"progress-info",children:[Math.round(re.progress/re.pages*100)||0,"%"]})]})}),v.jsxs("td",{className:"actions-cell",children:[v.jsx("button",{onClick:()=>pe(re.id),className:"icon-button",title:"Favoritar",children:re.favorite?v.jsx(rT,{}):v.jsx(l2,{})}),v.jsx("button",{onClick:()=>P(re),className:"icon-button",title:"Editar",children:v.jsx(Kh,{})}),v.jsx("button",{onClick:()=>{K(re.id),J(!0)},className:"icon-button",title:"Remover",children:v.jsx(Rp,{})})]})]},re.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:"7",className:"no-books-message",children:"Nenhum livro encontrado com os filtros selecionados."})})})]})}),O&&Ee(),ue&&at()]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebasestorage.googleapis.com",Fb="storageBucket",LO=2*60*1e3,BO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends Pr{constructor(e,t,s=0){super(Lm(e),`Firebase Storage: ${t} (${Lm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function Lm(r){return"storage/"+r}function Rg(){const r="An unknown error occurred, please check the error payload for server response.";return new St(bt.UNKNOWN,r)}function zO(r){return new St(bt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function qO(r){return new St(bt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(bt.UNAUTHENTICATED,r)}function HO(){return new St(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GO(r){return new St(bt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function KO(){return new St(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QO(){return new St(bt.CANCELED,"User canceled the upload/download.")}function YO(r){return new St(bt.INVALID_URL,"Invalid URL '"+r+"'.")}function $O(r){return new St(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function XO(){return new St(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fb+"' property when initializing the app?")}function WO(){return new St(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JO(){return new St(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZO(r){return new St(bt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tp(r){return new St(bt.INVALID_ARGUMENT,r)}function Hb(){return new St(bt.APP_DELETED,"The Firebase app was deleted.")}function e6(r){return new St(bt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(r,e){return new St(bt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Fl(r){throw new St(bt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Pn.makeFromUrl(e,t)}catch{return new Pn(e,"")}if(s.path==="")return s;throw $O(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",x=new RegExp(`^https?://${S}/${E}/b/${o}/o${R}`,"i"),M={bucket:1,path:3},j=t===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",J=new RegExp(`^https?://${j}/${o}/${O}`,"i"),K=[{regex:m,indices:p,postModify:u},{regex:x,indices:M,postModify:g},{regex:J,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<K.length;ue++){const se=K[ue],me=se.regex.exec(e);if(me){const V=me[se.indices.bucket];let N=me[se.indices.path];N||(N=""),s=new Pn(V,N),se.postModify(s);break}}if(s==null)throw YO(e);return s}}class t6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(r,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...O){g||(g=!0,e.apply(null,O))}function S(O){o=setTimeout(()=>{o=null,r(x,p())},O)}function R(){u&&clearTimeout(u)}function x(O,...J){if(g){R();return}if(O){R(),E.call(null,O,...J);return}if(p()||h){R(),E.call(null,O,...J);return}s<64&&(s*=2);let K;m===1?(m=2,K=0):K=(s+Math.random())*1e3,S(K)}let M=!1;function j(O){M||(M=!0,R(),!g&&(o!==null?(O||(m=2),clearTimeout(o),S(0)):O||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,j(!0)},t),j}function r6(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(r){return r!==void 0}function s6(r){return typeof r=="object"&&!Array.isArray(r)}function Ng(r){return typeof r=="string"||r instanceof String}function ME(r){return Cg()&&r instanceof Blob}function Cg(){return typeof Blob<"u"}function PE(r,e,t,s){if(s<e)throw Tp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Tp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function Gb(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Js;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(Js||(Js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,t,s,o,u,h,m,p,g,E,S,R=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,M)=>{this.resolve_=x,this.reject_=M,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new rh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Js.NO_ERROR,p=u.getStatus();if(!m||a6(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Js.ABORT;s(!1,new rh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new rh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());i6(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Rg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Hb():QO();h(p)}else{const p=KO();h(p)}};this.canceled_?t(!1,new rh(!1,null,!0)):this.backoffId_=n6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class rh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function l6(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function u6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function h6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function f6(r,e,t,s,o,u,h=!0){const m=Gb(r.urlParams),p=r.url+m,g=Object.assign({},r.headers);return c6(g,e),l6(g,t),u6(g,u),h6(g,s),new o6(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m6(...r){const e=d6();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(Cg())return new Blob(r);throw new St(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p6(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(r){if(typeof atob>"u")throw ZO("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bm{constructor(e,t){this.data=e,this.contentType=t||null}}function y6(r,e){switch(r){case Rr.RAW:return new Bm(Kb(e));case Rr.BASE64:case Rr.BASE64URL:return new Bm(Qb(r,e));case Rr.DATA_URL:return new Bm(_6(e),E6(e))}throw Rg()}function Kb(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function v6(r){let e;try{e=decodeURIComponent(r)}catch{throw Zl(Rr.DATA_URL,"Malformed data URL.")}return Kb(e)}function Qb(r,e){switch(r){case Rr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Zl(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Rr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Zl(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g6(e)}catch(o){throw o.message.includes("polyfill")?o:Zl(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Yb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Zl(Rr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=T6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function _6(r){const e=new Yb(r);return e.base64?Qb(Rr.BASE64,e.rest):v6(e.rest)}function E6(r){return new Yb(r).contentType}function T6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,t){let s=0,o="";ME(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(ME(this.data_)){const s=this.data_,o=p6(s,e,t);return o===null?null:new Xi(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Xi(s,!0)}}static getBlob(...e){if(Cg()){const t=e.map(s=>s instanceof Xi?s.data_:s);return new Xi(m6.apply(null,t))}else{const t=e.map(h=>Ng(h)?y6(Rr.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Xi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){let e;try{e=JSON.parse(r)}catch{return null}return s6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function S6(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function Xb(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(r,e){return e}class gn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||A6}}let ih=null;function w6(r){return!Ng(r)||r.length<2?r:Xb(r)}function Wb(){if(ih)return ih;const r=[];r.push(new gn("bucket")),r.push(new gn("generation")),r.push(new gn("metageneration")),r.push(new gn("name","fullPath",!0));function e(u,h){return w6(h)}const t=new gn("name");t.xform=e,r.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new gn("size");return o.xform=s,r.push(o),r.push(new gn("timeCreated")),r.push(new gn("updated")),r.push(new gn("md5Hash",null,!0)),r.push(new gn("cacheControl",null,!0)),r.push(new gn("contentDisposition",null,!0)),r.push(new gn("contentEncoding",null,!0)),r.push(new gn("contentLanguage",null,!0)),r.push(new gn("contentType",null,!0)),r.push(new gn("metadata","customMetadata",!0)),ih=r,ih}function R6(r,e){function t(){const s=r.bucket,o=r.fullPath,u=new Pn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function N6(r,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return R6(s,r),s}function Jb(r,e,t){const s=$b(e);return s===null?null:N6(r,s,t)}function C6(r,e,t,s){const o=$b(e);if(o===null||!Ng(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,S=r.fullPath,R="/b/"+h(E)+"/o/"+h(S),x=Ig(R,t,s),M=Gb({alt:"media",token:g});return x+M})[0]}function I6(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class Zb{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(r){if(!r)throw Rg()}function x6(r,e){function t(s,o){const u=Jb(r,o,e);return eS(u!==null),u}return t}function D6(r,e){function t(s,o){const u=Jb(r,o,e);return eS(u!==null),C6(u,o,r.host,r._protocol)}return t}function tS(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=HO():o=FO():t.getStatus()===402?o=qO(r.bucket):t.getStatus()===403?o=GO(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function O6(r){const e=tS(r);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=zO(r.path)),u.serverResponse=o.serverResponse,u}return t}function M6(r,e,t){const s=e.fullServerUrl(),o=Ig(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Zb(o,u,D6(r,t),h);return m.errorHandler=O6(e),m}function P6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function V6(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=P6(null,e)),s}function k6(r,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let K="";for(let ue=0;ue<2;ue++)K=K+Math.random().toString().slice(2);return K}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=V6(e,s,o),E=I6(g,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+p+"--",x=Xi.getBlob(S,s,R);if(x===null)throw WO();const M={name:g.fullPath},j=Ig(u,r.host,r._protocol),O="POST",J=r.maxUploadRetryTime,ae=new Zb(j,O,x6(r,t),J);return ae.urlParams=M,ae.headers=h,ae.body=x.uploadData(),ae.errorHandler=tS(e),ae}class U6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class j6 extends U6{initXhr(){this.xhr_.responseType="text"}}function nS(){return new j6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this._service=e,t instanceof Pn?this._location=t:this._location=Pn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new aa(e,t)}get root(){const e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xb(this._location.path)}get storage(){return this._service}get parent(){const e=b6(this._location.path);if(e===null)return null;const t=new Pn(this._location.bucket,e);return new aa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw e6(e)}}function L6(r,e,t){r._throwIfRoot("uploadBytes");const s=k6(r.storage,r._location,Wb(),new Xi(e,!0),t);return r.storage.makeRequestWithTokens(s,nS).then(o=>({metadata:o,ref:r}))}function B6(r){r._throwIfRoot("getDownloadURL");const e=M6(r.storage,r._location,Wb());return r.storage.makeRequestWithTokens(e,nS).then(t=>{if(t===null)throw JO();return t})}function z6(r,e){const t=S6(r._location.path,e),s=new Pn(r._location.bucket,t);return new aa(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(r){return/^[A-Za-z]+:\/\//.test(r)}function F6(r,e){return new aa(r,e)}function rS(r,e){if(r instanceof xg){const t=r;if(t._bucket==null)throw XO();const s=new aa(t,t._bucket);return e!=null?rS(s,e):s}else return e!==void 0?z6(r,e):r}function H6(r,e){if(e&&q6(e)){if(r instanceof xg)return F6(r,e);throw Tp("To use ref(service, url), the first argument must be a Storage instance.")}else return rS(r,e)}function VE(r,e){const t=e==null?void 0:e[Fb];return t==null?null:Pn.makeFromBucketSpec(t,r)}function G6(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:pT(o,r.app.options.projectId))}class xg{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LO,this._maxUploadRetryTime=BO,this._requests=new Set,o!=null?this._bucket=Pn.makeFromBucketSpec(o,this._host):this._bucket=VE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=VE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){PE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aa(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new t6(Hb());{const h=f6(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const kE="@firebase/storage",UE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function K6(r,e,t){return r=Et(r),L6(r,e,t)}function Q6(r){return r=Et(r),B6(r)}function Y6(r,e){return r=Et(r),H6(r,e)}function $6(r=Ip(),e){r=Et(r);const s=Yh(r,iS).getImmediate({identifier:e}),o=fT("storage");return o&&X6(s,...o),s}function X6(r,e,t,s={}){G6(r,e,t,s)}function W6(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new xg(t,s,o,e,la)}function J6(){Zs(new ss(iS,W6,"PUBLIC").setMultipleInstances(!0)),Cr(kE,UE,""),Cr(kE,UE,"esm2017")}J6();function Z6(){const[r,e]=Q.useState(""),[t,s]=Q.useState(null),[o,u]=Q.useState(!1),h=Q.useRef(null),m=Ct.currentUser,p=(S,R)=>{s({type:S,message:R}),setTimeout(()=>s(null),3e3)},g=async S=>{if(S.preventDefault(),!r.trim()){p("error","O nome no pode estar vazio!");return}try{u(!0),await A0(m,{displayName:r.trim()}),e(""),p("success","Nome atualizado com sucesso!")}catch(R){p("error",`Erro ao atualizar nome: ${R.message}`)}finally{u(!1)}},E=async S=>{const R=S.target.files[0];if(R)try{u(!0);const x=$6(),M=Y6(x,`profilePhotos/${m.uid}`);await K6(M,R);const j=await Q6(M);await A0(m,{photoURL:j}),p("success","Foto atualizada com sucesso!")}catch(x){p("error",`Erro ao atualizar foto: ${x.message}`)}finally{u(!1),h.current.value=""}};return v.jsxs("div",{className:"profile-container",children:[t&&v.jsxs("div",{className:`custom-alert ${t.type}`,children:[v.jsx("div",{className:"alert-icon",children:t.type==="success"?v.jsx(e2,{}):v.jsx(o2,{})}),v.jsx("span",{children:t.message})]}),v.jsxs("div",{className:"profile-card",children:[v.jsxs("h1",{children:[v.jsx(oT,{className:"header-icon"}),"Configuraes do Perfil"]}),v.jsxs("div",{className:"profile-section",children:[v.jsxs("div",{className:"photo-section",children:[v.jsx("img",{src:(m==null?void 0:m.photoURL)||"/default-user.png",alt:"Foto do usurio",className:"profile-photo"}),v.jsx("input",{type:"file",ref:h,onChange:E,accept:"image/*",hidden:!0}),v.jsxs("button",{className:"change-photo-btn",onClick:()=>h.current.click(),disabled:o,children:[v.jsx(Kh,{className:"btn-icon"}),o?"Atualizando...":"Alterar Foto"]})]}),v.jsxs("div",{className:"info-section",children:[v.jsxs("form",{onSubmit:g,className:"name-form",children:[v.jsxs("label",{children:["Nome:",v.jsx("input",{type:"text",value:r,onChange:S=>e(S.target.value),placeholder:"Digite seu novo nome",disabled:o})]}),v.jsx("button",{type:"submit",className:"update-btn",disabled:o||!r.trim(),children:o?"Atualizando...":"Atualizar Nome"})]}),v.jsx("div",{className:"user-info",children:v.jsxs("h3",{children:[v.jsx("strong",{children:"Email:"})," ",m==null?void 0:m.email]})})]})]})]})]})}function e3(){const[r,e]=Q.useState([]),[t,s]=Q.useState([]),[o,u]=Q.useState(!1),[h,m]=Q.useState(!1),[p,g]=Q.useState(null),[E,S]=Q.useState(null),[R,x]=Q.useState({name:"",description:"",books:[]});Q.useEffect(()=>{(async()=>{const ue=Ct.currentUser;if(ue)try{const se=yn($n,"users",ue.uid),me=wr(se,"folders"),V=await Xs(me);e(V.docs.map(D=>({id:D.id,...D.data()})));const N=wr(se,"books"),C=await Xs(N);s(C.docs.map(D=>({id:D.id,...D.data(),cover:D.data().cover||"",title:D.data().title||"Livro sem ttulo"})))}catch(se){console.error("Erro ao carregar dados:",se)}})()},[]);const M=async K=>{K.preventDefault();const ue=Ct.currentUser;if(!(!ue||!R.name))try{const se=yn($n,"users",ue.uid),me=wr(se,"folders");if(p){const V=yn(me,p.id);await Jl(V,R),e(r.map(N=>N.id===p.id?{...R,id:N.id}:N))}else{const V=await Tg(me,{...R,createdAt:new Date});e([...r,{id:V.id,...R}])}u(!1),g(null),x({name:"",description:"",books:[]})}catch(se){console.error("Erro ao salvar pasta:",se),alert("Erro ao salvar! Verifique suas permisses e conexo.")}},j=async()=>{const K=Ct.currentUser;if(K)try{const ue=yn($n,"users",K.uid,"folders",E);await Eg(ue),e(r.filter(se=>se.id!==E)),m(!1)}catch(ue){console.error("Erro ao excluir pasta:",ue),m(!1)}},O=K=>{g(K),x({name:K.name,description:K.description,books:K.books||[]}),u(!0)},J=K=>{x(ue=>({...ue,books:ue.books.includes(K)?ue.books.filter(se=>se!==K):[...ue.books,K]}))},ae=()=>v.jsx("div",{className:"delete-modal",children:v.jsxs("div",{className:"delete-modal-content",children:[v.jsx("h3",{children:"Confirmar Excluso"}),v.jsx("p",{children:"Tem certeza que deseja excluir esta pasta permanentemente?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"btn-confirm",onClick:j,children:"Confirmar"}),v.jsx("button",{className:"btn-cancel",onClick:()=>m(!1),children:"Cancelar"})]})]})});return v.jsxs("div",{className:"folders-container",children:[v.jsxs("div",{className:"folders-header",children:[v.jsxs("h1",{children:[v.jsx(sh,{})," Minhas Pastas"]}),v.jsxs("button",{onClick:()=>u(!0),className:"btn-primary","aria-label":"Criar nova pasta",children:[v.jsx(ho,{})," Nova Pasta"]})]}),o&&v.jsx("div",{className:"folder-form-modal",children:v.jsxs("div",{className:"folder-form-content",children:[v.jsxs("div",{className:"form-header",children:[v.jsx("h2",{children:p?"Editar Pasta":"Nova Pasta"}),v.jsx("button",{onClick:()=>{u(!1),g(null),x({name:"",description:"",books:[]})},className:"close-btn","aria-label":"Fechar",children:v.jsx(aT,{})})]}),v.jsxs("form",{onSubmit:M,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"folder-name",children:"Nome da Pasta *"}),v.jsx("input",{id:"folder-name",type:"text",value:R.name,onChange:K=>x({...R,name:K.target.value}),required:!0,maxLength:"50",placeholder:"Digite o nome da pasta"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"folder-description",children:"Descrio"}),v.jsx("textarea",{id:"folder-description",value:R.description,onChange:K=>x({...R,description:K.target.value}),maxLength:"200",placeholder:"Adicione uma descrio para a pasta"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Selecionar Livros"}),v.jsx("div",{className:"books-selection",children:t.length>0?t.map(K=>v.jsxs("label",{className:"book-selection-item",children:[v.jsx("input",{type:"checkbox",checked:R.books.includes(K.id),onChange:()=>J(K.id),className:"hidden-checkbox"}),v.jsxs("div",{className:"book-select-card",children:[K.cover?v.jsx("img",{src:K.cover,alt:K.title,className:"book-select-cover",loading:"lazy"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Nr,{className:"placeholder-icon"})}),v.jsx("span",{className:"book-select-title",children:K.title})]})]},K.id)):v.jsx("p",{children:"Nenhum livro disponvel para adicionar  pasta."})})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>{u(!1),g(null),x({name:"",description:"",books:[]})},children:"Cancelar"}),v.jsx("button",{type:"submit",className:"btn-confirm",children:p?"Salvar Alteraes":"Criar Pasta"})]})]})]})}),v.jsx("div",{className:"folders-grid",children:r.map(K=>{var ue;return v.jsxs("div",{className:"folder-card",children:[v.jsxs("div",{className:"folder-header",children:[v.jsx(sh,{className:"folder-icon"}),v.jsxs("h3",{children:[K.name," (",((ue=K.books)==null?void 0:ue.length)||0,")"]})]}),K.description&&v.jsx("p",{className:"folder-description",children:K.description}),v.jsx("div",{className:"folder-books",children:v.jsx("div",{className:"books-list",children:t.filter(se=>{var me;return(me=K.books)==null?void 0:me.includes(se.id)}).map(se=>v.jsx("div",{className:"book-item",children:se.cover?v.jsx("img",{src:se.cover,alt:se.title,className:"book-thumbnail"}):v.jsx("div",{className:"thumbnail-placeholder",children:v.jsx(Nr,{})})},se.id))})}),v.jsxs("div",{className:"folder-actions",children:[v.jsxs("button",{onClick:()=>O(K),className:"btn-primary",children:[v.jsx(Kh,{})," Editar"]}),v.jsxs("button",{onClick:()=>{S(K.id),m(!0)},className:"btn-primary",title:"Remover",children:[v.jsx(Rp,{})," Excluir"]})]})]},K.id)})}),r.length===0&&!o&&v.jsxs("div",{className:"empty-state",children:[v.jsx(sh,{size:64}),v.jsx("p",{children:"Nenhuma pasta criada ainda"})]}),h&&v.jsx(ae,{})]})}function t3(){return v.jsx(JE,{children:v.jsxs(xw,{children:[v.jsx(rr,{path:"/",element:v.jsx(Jx,{})}),v.jsx(rr,{path:"/login",element:v.jsx(Zx,{})}),v.jsx(rr,{element:v.jsx(n3,{}),children:v.jsxs(rr,{element:v.jsx(Wx,{}),children:[v.jsx(rr,{path:"/dashboard",element:v.jsx(eD,{})}),v.jsx(rr,{path:"/collection",element:v.jsx(jO,{})}),v.jsx(rr,{path:"/folders",element:v.jsx(e3,{})}),v.jsx(rr,{path:"/add-book",element:v.jsx(UO,{})}),v.jsx(rr,{path:"/profile",element:v.jsx(Z6,{})})]})}),v.jsx(rr,{path:"*",element:v.jsx($E,{to:"/"})})]})})}function n3(){const[r,e]=Q.useState(!1);return Q.useEffect(()=>{const t=Ct.onAuthStateChanged(s=>{console.log("Status de autenticao:",s?"Autenticado":"No autenticado"),e(!0)});return()=>t()},[]),r?Ct.currentUser?v.jsx(JE,{children:v.jsx(XE,{})}):(console.log("Redirecionando para login"),v.jsx($E,{to:"/login",replace:!0})):v.jsx("div",{className:"loading",children:"Carregando..."})}function r3({children:r}){const[e,t]=Q.useState(null),[s,o]=Q.useState(!0);return Q.useEffect(()=>{const u=Ct.onAuthStateChanged(h=>{t(h),o(!1)});return()=>u()},[]),v.jsx("div",{children:s?v.jsx("div",{className:"loading-screen",children:"Carregando..."}):r})}qA.createRoot(document.getElementById("root")).render(v.jsx(fi.StrictMode,{children:v.jsx(Uw,{basename:"/booktracker",children:v.jsx(r3,{children:v.jsx(t3,{})})})}));
