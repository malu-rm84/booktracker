var xA=Object.defineProperty;var IA=(r,e,t)=>e in r?xA(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var F_=(r,e,t)=>IA(r,typeof e!="symbol"?e+"":e,t);function DA(r,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in r)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(r,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function BE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var vm={exports:{}},ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function OA(){if(H_)return ql;H_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:h,ref:o!==void 0?o:null,props:u}}return ql.Fragment=e,ql.jsx=t,ql.jsxs=t,ql}var G_;function MA(){return G_||(G_=1,vm.exports=OA()),vm.exports}var v=MA(),_m={exports:{}},Pe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function PA(){if(K_)return Pe;K_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),A=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,k={};function M(O,ne,W){this.props=O,this.context=ne,this.refs=k,this.updater=W||D}M.prototype.isReactComponent={},M.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},M.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Z(){}Z.prototype=M.prototype;function ae(O,ne,W){this.props=O,this.context=ne,this.refs=k,this.updater=W||D}var re=ae.prototype=new Z;re.constructor=ae,x(re,M.prototype),re.isPureReactComponent=!0;var ce=Array.isArray,ue={H:null,A:null,T:null,S:null,V:null},_e=Object.prototype.hasOwnProperty;function V(O,ne,W,J,me,Re){return W=Re.ref,{$$typeof:r,type:O,key:ne,ref:W!==void 0?W:null,props:Re}}function N(O,ne){return V(O.type,ne,void 0,void 0,void 0,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function P(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(W){return ne[W]})}var j=/\/+/g;function L(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):ne.toString(36)}function S(){}function fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(S,S):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function pe(O,ne,W,J,me){var Re=typeof O;(Re==="undefined"||Re==="boolean")&&(O=null);var Te=!1;if(O===null)Te=!0;else switch(Re){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(O.$$typeof){case r:case e:Te=!0;break;case E:return Te=O._init,pe(Te(O._payload),ne,W,J,me)}}if(Te)return me=me(O),Te=J===""?"."+L(O,0):J,ce(me)?(W="",Te!=null&&(W=Te.replace(j,"$&/")+"/"),pe(me,ne,W,"",function(Ln){return Ln})):me!=null&&(C(me)&&(me=N(me,W+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(j,"$&/")+"/")+Te)),ne.push(me)),1;Te=0;var tt=J===""?".":J+":";if(ce(O))for(var Xe=0;Xe<O.length;Xe++)J=O[Xe],Re=tt+L(J,Xe),Te+=pe(J,ne,W,Re,me);else if(Xe=R(O),typeof Xe=="function")for(O=Xe.call(O),Xe=0;!(J=O.next()).done;)J=J.value,Re=tt+L(J,Xe++),Te+=pe(J,ne,W,Re,me);else if(Re==="object"){if(typeof O.then=="function")return pe(fe(O),ne,W,J,me);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Te}function Q(O,ne,W){if(O==null)return O;var J=[],me=0;return pe(O,J,"","",function(Re){return ne.call(W,Re,me++)}),J}function Y(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(W){(O._status===0||O._status===-1)&&(O._status=1,O._result=W)},function(W){(O._status===0||O._status===-1)&&(O._status=2,O._result=W)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var de=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Oe(){}return Pe.Children={map:Q,forEach:function(O,ne,W){Q(O,function(){ne.apply(this,arguments)},W)},count:function(O){var ne=0;return Q(O,function(){ne++}),ne},toArray:function(O){return Q(O,function(ne){return ne})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Pe.Component=M,Pe.Fragment=t,Pe.Profiler=o,Pe.PureComponent=ae,Pe.StrictMode=s,Pe.Suspense=p,Pe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Pe.__COMPILER_RUNTIME={__proto__:null,c:function(O){return ue.H.useMemoCache(O)}},Pe.cache=function(O){return function(){return O.apply(null,arguments)}},Pe.cloneElement=function(O,ne,W){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var J=x({},O.props),me=O.key,Re=void 0;if(ne!=null)for(Te in ne.ref!==void 0&&(Re=void 0),ne.key!==void 0&&(me=""+ne.key),ne)!_e.call(ne,Te)||Te==="key"||Te==="__self"||Te==="__source"||Te==="ref"&&ne.ref===void 0||(J[Te]=ne[Te]);var Te=arguments.length-2;if(Te===1)J.children=W;else if(1<Te){for(var tt=Array(Te),Xe=0;Xe<Te;Xe++)tt[Xe]=arguments[Xe+2];J.children=tt}return V(O.type,me,void 0,void 0,Re,J)},Pe.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Pe.createElement=function(O,ne,W){var J,me={},Re=null;if(ne!=null)for(J in ne.key!==void 0&&(Re=""+ne.key),ne)_e.call(ne,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(me[J]=ne[J]);var Te=arguments.length-2;if(Te===1)me.children=W;else if(1<Te){for(var tt=Array(Te),Xe=0;Xe<Te;Xe++)tt[Xe]=arguments[Xe+2];me.children=tt}if(O&&O.defaultProps)for(J in Te=O.defaultProps,Te)me[J]===void 0&&(me[J]=Te[J]);return V(O,Re,void 0,void 0,null,me)},Pe.createRef=function(){return{current:null}},Pe.forwardRef=function(O){return{$$typeof:m,render:O}},Pe.isValidElement=C,Pe.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:Y}},Pe.memo=function(O,ne){return{$$typeof:g,type:O,compare:ne===void 0?null:ne}},Pe.startTransition=function(O){var ne=ue.T,W={};ue.T=W;try{var J=O(),me=ue.S;me!==null&&me(W,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Oe,de)}catch(Re){de(Re)}finally{ue.T=ne}},Pe.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Pe.use=function(O){return ue.H.use(O)},Pe.useActionState=function(O,ne,W){return ue.H.useActionState(O,ne,W)},Pe.useCallback=function(O,ne){return ue.H.useCallback(O,ne)},Pe.useContext=function(O){return ue.H.useContext(O)},Pe.useDebugValue=function(){},Pe.useDeferredValue=function(O,ne){return ue.H.useDeferredValue(O,ne)},Pe.useEffect=function(O,ne,W){var J=ue.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(O,ne)},Pe.useId=function(){return ue.H.useId()},Pe.useImperativeHandle=function(O,ne,W){return ue.H.useImperativeHandle(O,ne,W)},Pe.useInsertionEffect=function(O,ne){return ue.H.useInsertionEffect(O,ne)},Pe.useLayoutEffect=function(O,ne){return ue.H.useLayoutEffect(O,ne)},Pe.useMemo=function(O,ne){return ue.H.useMemo(O,ne)},Pe.useOptimistic=function(O,ne){return ue.H.useOptimistic(O,ne)},Pe.useReducer=function(O,ne,W){return ue.H.useReducer(O,ne,W)},Pe.useRef=function(O){return ue.H.useRef(O)},Pe.useState=function(O){return ue.H.useState(O)},Pe.useSyncExternalStore=function(O,ne,W){return ue.H.useSyncExternalStore(O,ne,W)},Pe.useTransition=function(){return ue.H.useTransition()},Pe.version="19.1.0",Pe}var Q_;function Ap(){return Q_||(Q_=1,_m.exports=PA()),_m.exports}var G=Ap();const pi=BE(G),VA=DA({__proto__:null,default:pi},[G]);var Em={exports:{}},Fl={},Tm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function jA(){return Y_||(Y_=1,function(r){function e(Q,Y){var de=Q.length;Q.push(Y);e:for(;0<de;){var Oe=de-1>>>1,O=Q[Oe];if(0<o(O,Y))Q[Oe]=Y,Q[de]=O,de=Oe;else break e}}function t(Q){return Q.length===0?null:Q[0]}function s(Q){if(Q.length===0)return null;var Y=Q[0],de=Q.pop();if(de!==Y){Q[0]=de;e:for(var Oe=0,O=Q.length,ne=O>>>1;Oe<ne;){var W=2*(Oe+1)-1,J=Q[W],me=W+1,Re=Q[me];if(0>o(J,de))me<O&&0>o(Re,J)?(Q[Oe]=Re,Q[me]=de,Oe=me):(Q[Oe]=J,Q[W]=de,Oe=W);else if(me<O&&0>o(Re,de))Q[Oe]=Re,Q[me]=de,Oe=me;else break e}}return Y}function o(Q,Y){var de=Q.sortIndex-Y.sortIndex;return de!==0?de:Q.id-Y.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();r.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,A=null,R=3,D=!1,x=!1,k=!1,M=!1,Z=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function ce(Q){for(var Y=t(g);Y!==null;){if(Y.callback===null)s(g);else if(Y.startTime<=Q)s(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=t(g)}}function ue(Q){if(k=!1,ce(Q),!x)if(t(p)!==null)x=!0,_e||(_e=!0,L());else{var Y=t(g);Y!==null&&pe(ue,Y.startTime-Q)}}var _e=!1,V=-1,N=5,C=-1;function P(){return M?!0:!(r.unstable_now()-C<N)}function j(){if(M=!1,_e){var Q=r.unstable_now();C=Q;var Y=!0;try{e:{x=!1,k&&(k=!1,ae(V),V=-1),D=!0;var de=R;try{t:{for(ce(Q),A=t(p);A!==null&&!(A.expirationTime>Q&&P());){var Oe=A.callback;if(typeof Oe=="function"){A.callback=null,R=A.priorityLevel;var O=Oe(A.expirationTime<=Q);if(Q=r.unstable_now(),typeof O=="function"){A.callback=O,ce(Q),Y=!0;break t}A===t(p)&&s(p),ce(Q)}else s(p);A=t(p)}if(A!==null)Y=!0;else{var ne=t(g);ne!==null&&pe(ue,ne.startTime-Q),Y=!1}}break e}finally{A=null,R=de,D=!1}Y=void 0}}finally{Y?L():_e=!1}}}var L;if(typeof re=="function")L=function(){re(j)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,fe=S.port2;S.port1.onmessage=j,L=function(){fe.postMessage(null)}}else L=function(){Z(j,0)};function pe(Q,Y){V=Z(function(){Q(r.unstable_now())},Y)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Q){Q.callback=null},r.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<Q?Math.floor(1e3/Q):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_next=function(Q){switch(R){case 1:case 2:case 3:var Y=3;break;default:Y=R}var de=R;R=Y;try{return Q()}finally{R=de}},r.unstable_requestPaint=function(){M=!0},r.unstable_runWithPriority=function(Q,Y){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var de=R;R=Q;try{return Y()}finally{R=de}},r.unstable_scheduleCallback=function(Q,Y,de){var Oe=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?Oe+de:Oe):de=Oe,Q){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=de+O,Q={id:E++,callback:Y,priorityLevel:Q,startTime:de,expirationTime:O,sortIndex:-1},de>Oe?(Q.sortIndex=de,e(g,Q),t(p)===null&&Q===t(g)&&(k?(ae(V),V=-1):k=!0,pe(ue,de-Oe))):(Q.sortIndex=O,e(p,Q),x||D||(x=!0,_e||(_e=!0,L()))),Q},r.unstable_shouldYield=P,r.unstable_wrapCallback=function(Q){var Y=R;return function(){var de=R;R=Y;try{return Q.apply(this,arguments)}finally{R=de}}}}(bm)),bm}var $_;function kA(){return $_||($_=1,Tm.exports=jA()),Tm.exports}var Sm={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function UA(){if(X_)return an;X_=1;var r=Ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,an.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},an.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},an.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},an.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},an.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},an.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,A=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},an.requestFormReset=function(p){s.d.r(p)},an.unstable_batchedUpdates=function(p,g){return p(g)},an.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},an.useFormStatus=function(){return h.H.useHostTransitionStatus()},an.version="19.1.0",an}var W_;function zE(){if(W_)return Sm.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Sm.exports=UA(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function LA(){if(J_)return Fl;J_=1;var r=kA(),e=Ap(),t=zE();function s(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var i=n,a=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(a=i.return),n=i.return;while(n)}return i.tag===3?a:null}function h(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var i=n.alternate;if(!i){if(i=u(n),i===null)throw Error(s(188));return i!==n?null:n}for(var a=n,l=i;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=d;break}if(b===l){T=!0,l=f,a=d;break}b=b.sibling}if(!T){for(b=d.child;b;){if(b===a){T=!0,a=d,l=f;break}if(b===l){T=!0,l=d,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:i}function g(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=g(n),i!==null)return i;n=n.sibling}return null}var E=Object.assign,A=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),re=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=j&&n[j]||n["@@iterator"],typeof n=="function"?n:null)}var S=Symbol.for("react.client.reference");function fe(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===S?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case M:return"Profiler";case k:return"StrictMode";case ue:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case re:return(n.displayName||"Context")+".Provider";case ae:return(n._context.displayName||"Context")+".Consumer";case ce:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return i=n.displayName||null,i!==null?i:fe(n.type)||"Memo";case N:i=n._payload,n=n._init;try{return fe(n(i))}catch{}}return null}var pe=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},Oe=[],O=-1;function ne(n){return{current:n}}function W(n){0>O||(n.current=Oe[O],Oe[O]=null,O--)}function J(n,i){O++,Oe[O]=n.current,n.current=i}var me=ne(null),Re=ne(null),Te=ne(null),tt=ne(null);function Xe(n,i){switch(J(Te,i),J(Re,n),J(me,null),i.nodeType){case 9:case 11:n=(n=i.documentElement)&&(n=n.namespaceURI)?y_(n):0;break;default:if(n=i.tagName,i=i.namespaceURI)i=y_(i),n=v_(i,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(me),J(me,n)}function Ln(){W(me),W(Re),W(Te)}function cr(n){n.memoizedState!==null&&J(tt,n);var i=me.current,a=v_(i,n.type);i!==a&&(J(Re,n),J(me,a))}function oe(n){Re.current===n&&(W(me),W(Re)),tt.current===n&&(W(tt),kl._currentValue=de)}var we=Object.prototype.hasOwnProperty,Ye=r.unstable_scheduleCallback,at=r.unstable_cancelCallback,dt=r.unstable_shouldYield,Sn=r.unstable_requestPaint,It=r.unstable_now,hr=r.unstable_getCurrentPriorityLevel,An=r.unstable_ImmediatePriority,fr=r.unstable_UserBlockingPriority,ms=r.unstable_NormalPriority,_f=r.unstable_LowPriority,ya=r.unstable_IdlePriority,jo=r.log,Iu=r.unstable_setDisableYieldValue,yt=null,We=null;function wn(n){if(typeof jo=="function"&&Iu(n),We&&typeof We.setStrictMode=="function")try{We.setStrictMode(yt,n)}catch{}}var rn=Math.clz32?Math.clz32:ps,Du=Math.log,Ef=Math.LN2;function ps(n){return n>>>=0,n===0?32:31-(Du(n)/Ef|0)|0}var gs=256,ys=4194304;function Zn(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function va(n,i,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Zn(l):(T&=b,T!==0?f=Zn(T):a||(a=b&~n,a!==0&&(f=Zn(a))))):(b=l&~d,b!==0?f=Zn(b):T!==0?f=Zn(T):a||(a=l&~n,a!==0&&(f=Zn(a)))),f===0?0:i!==0&&i!==f&&(i&d)===0&&(d=f&-f,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:f}function vs(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ko(n,i){switch(n){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var n=gs;return gs<<=1,(gs&4194048)===0&&(gs=256),n}function Lo(){var n=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),n}function Lr(n){for(var i=[],a=0;31>a;a++)i.push(n);return i}function Br(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bo(n,i,a,l,f,d){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,I=n.expirationTimes,F=n.hiddenUpdates;for(a=T&~a;0<a;){var ee=31-rn(a),ie=1<<ee;b[ee]=0,I[ee]=-1;var H=F[ee];if(H!==null)for(F[ee]=null,ee=0;ee<H.length;ee++){var K=H[ee];K!==null&&(K.lane&=-536870913)}a&=~ie}l!==0&&dr(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(T&~i))}function dr(n,i,a){n.pendingLanes|=i,n.suspendedLanes&=~i;var l=31-rn(i);n.entangledLanes|=i,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function zo(n,i){var a=n.entangledLanes|=i;for(n=n.entanglements;a;){var l=31-rn(a),f=1<<l;f&i|n[l]&i&&(n[l]|=i),a&=~f}}function Ti(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function _a(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function bi(){var n=Y.p;return n!==0?n:(n=window.event,n===void 0?32:k_(n.type))}function Ou(n,i){var a=Y.p;try{return Y.p=n,i()}finally{Y.p=a}}var ht=Math.random().toString(36).slice(2),kt="__reactFiber$"+ht,Dt="__reactProps$"+ht,Bn="__reactContainer$"+ht,qo="__reactEvents$"+ht,Tf="__reactListeners$"+ht,Si="__reactHandles$"+ht,Mu="__reactResources$"+ht,_s="__reactMarker$"+ht;function Ai(n){delete n[kt],delete n[Dt],delete n[qo],delete n[Tf],delete n[Si]}function zr(n){var i=n[kt];if(i)return i;for(var a=n.parentNode;a;){if(i=a[Bn]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(n=b_(n);n!==null;){if(a=n[kt])return a;n=b_(n)}return i}n=a,a=n.parentNode}return null}function mr(n){if(n=n[kt]||n[Bn]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function pr(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(s(33))}function dn(n){var i=n[Mu];return i||(i=n[Mu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Rt(n){n[_s]=!0}var Fo=new Set,Ea={};function er(n,i){qr(n,i),qr(n+"Capture",i)}function qr(n,i){for(Ea[n]=i,n=0;n<i.length;n++)Fo.add(i[n])}var Pu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vu={},Es={};function ju(n){return we.call(Es,n)?!0:we.call(Vu,n)?!1:Pu.test(n)?Es[n]=!0:(Vu[n]=!0,!1)}function wi(n,i,a){if(ju(i))if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+a)}}function gr(n,i,a){if(a===null)n.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+a)}}function Yt(n,i,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(i,a,""+l)}}var Ts,ku;function Fr(n){if(Ts===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ts=i&&i[1]||"",ku=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ts+n+ku}var Ta=!1;function ba(n,i){if(!n||Ta)return"";Ta=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(K){var H=K}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(K){H=K}n.call(ie.prototype)}}else{try{throw Error()}catch(K){H=K}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],b=d[1];if(T&&b){var I=T.split(`
`),F=b.split(`
`);for(f=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===I.length||f===F.length)for(l=I.length-1,f=F.length-1;1<=l&&0<=f&&I[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(I[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||I[l]!==F[f]){var ee=`
`+I[l].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=l&&0<=f);break}}}finally{Ta=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Fr(a):""}function Ho(n){switch(n.tag){case 26:case 27:case 5:return Fr(n.type);case 16:return Fr("Lazy");case 13:return Fr("Suspense");case 19:return Fr("SuspenseList");case 0:case 15:return ba(n.type,!1);case 11:return ba(n.type.render,!1);case 1:return ba(n.type,!0);case 31:return Fr("Activity");default:return""}}function Sa(n){try{var i="";do i+=Ho(n),n=n.return;while(n);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Go(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function bf(n){var i=Go(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),l=""+n[i];if(!n.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(n,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function Aa(n){n._valueTracker||(n._valueTracker=bf(n))}function Ko(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return n&&(l=Go(n)?n.checked?"true":"false":n.value),n=l,n!==a?(i.setValue(n),!0):!1}function bs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sf=/[\n"\\]/g;function Ot(n){return n.replace(Sf,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Rn(n,i,a,l,f,d,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),i!=null?T==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+mn(i)):n.value!==""+mn(i)&&(n.value=""+mn(i)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),i!=null?Ri(n,T,mn(i)):a!=null?Ri(n,T,mn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+mn(b):n.removeAttribute("name")}function Ss(n,i,a,l,f,d,T,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+mn(a):"",i=i!=null?""+mn(i):a,b||i===n.value||(n.value=i),n.defaultValue=i}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Ri(n,i,a){i==="number"&&bs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Hr(n,i,a,l){if(n=n.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=i.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+mn(a),i=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function nt(n,i,a){if(i!=null&&(i=""+mn(i),i!==n.value&&(n.value=i),a==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=a!=null?""+mn(a):""}function As(n,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(pe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=mn(i),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function zn(n,i){if(i){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=i;return}}n.textContent=i}var ws=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uu(n,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":l?n.setProperty(i,a):typeof a!="number"||a===0||ws.has(i)?i==="float"?n.cssFloat=a:n[i]=(""+a).trim():n[i]=a+"px"}function Qo(n,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in i)l=i[f],i.hasOwnProperty(f)&&a[f]!==l&&Uu(n,f,l)}else for(var d in i)i.hasOwnProperty(d)&&Uu(n,d,i[d])}function Yo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wa(n){return wf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Gr=null;function qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Kr=null,Qr=null;function $o(n){var i=mr(n);if(i&&(n=i.stateNode)){var a=n[Dt]||null;e:switch(n=i.stateNode,i.type){case"input":if(Rn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Ot(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==n&&l.form===n.form){var f=l[Dt]||null;if(!f)throw Error(s(90));Rn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===n.form&&Ko(l)}break e;case"textarea":nt(n,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Hr(n,!!a.multiple,i,!1)}}}var yr=!1;function Lu(n,i,a){if(yr)return n(i,a);yr=!0;try{var l=n(i);return l}finally{if(yr=!1,(Kr!==null||Qr!==null)&&(Oc(),Kr&&(i=Kr,n=Qr,Qr=Kr=null,$o(i),n)))for(i=0;i<n.length;i++)$o(n[i])}}function Rs(n,i){var a=n.stateNode;if(a===null)return null;var l=a[Dt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fn=!1;if(tr)try{var Ns={};Object.defineProperty(Ns,"passive",{get:function(){Fn=!0}}),window.addEventListener("test",Ns,Ns),window.removeEventListener("test",Ns,Ns)}catch{Fn=!1}var vr=null,Ni=null,Yr=null;function Xo(){if(Yr)return Yr;var n,i=Ni,a=i.length,l,f="value"in vr?vr.value:vr.textContent,d=f.length;for(n=0;n<a&&i[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&i[a-l]===f[d-l];l++);return Yr=f.slice(n,1<l?1-l:void 0)}function _r(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function Er(){return!0}function Wo(){return!1}function qt(n){function i(a,l,f,d,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Er:Wo,this.isPropagationStopped=Wo,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Er)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Er)},persist:function(){},isPersistent:Er}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=qt($e),Cs=E({},$e,{view:0,detail:0}),Bu=qt(Cs),Na,Ca,Tr,xs=E({},Cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Os,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Tr&&(Tr&&n.type==="mousemove"?(Na=n.screenX-Tr.screenX,Ca=n.screenY-Tr.screenY):Ca=Na=0,Tr=n),Na)},movementY:function(n){return"movementY"in n?n.movementY:Ca}}),Hn=qt(xs),zu=E({},xs,{dataTransfer:0}),Rf=qt(zu),Is=E({},Cs,{relatedTarget:0}),xa=qt(Is),Jo=E({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=qt(Jo),qu=E({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Da=qt(qu),Nf=E({},$e,{data:0}),Zo=qt(Nf),Ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=Hu[n])?!!i[n]:!1}function Os(){return el}var Gu=E({},Cs,{key:function(n){if(n.key){var i=Ds[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=_r(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Fu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Os,charCode:function(n){return n.type==="keypress"?_r(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?_r(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Oa=qt(Gu),Ku=E({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=qt(Ku),$r=E({},Cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Os}),Qu=qt($r),Yu=E({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),$u=qt(Yu),Xu=E({},xs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=qt(Xu),pn=E({},$e,{newState:0,oldState:0}),Wu=qt(pn),Ju=[9,13,27,32],br=tr&&"CompositionEvent"in window,c=null;tr&&"documentMode"in document&&(c=document.documentMode);var y=tr&&"TextEvent"in window&&!c,_=tr&&(!br||c&&8<c&&11>=c),w=" ",z=!1;function $(n,i){switch(n){case"keyup":return Ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function Ut(n,i){switch(n){case"compositionend":return he(i);case"keypress":return i.which!==32?null:(z=!0,w);case"textInput":return n=i.data,n===w&&z?null:n;default:return null}}function qe(n,i){if(ze)return n==="compositionend"||!br&&$(n,i)?(n=Xo(),Yr=Ni=vr=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var Ft={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!Ft[n.type]:i==="textarea"}function Xr(n,i,a,l){Kr?Qr?Qr.push(l):Qr=[l]:Kr=l,i=Uc(i,"onChange"),0<i.length&&(a=new Ra("onChange","change",null,a,l),n.push({event:a,listeners:i}))}var $t=null,Sr=null;function nl(n){f_(n,0)}function Zu(n){var i=pr(n);if(Ko(i))return n}function Mg(n,i){if(n==="change")return i}var Pg=!1;if(tr){var Cf;if(tr){var xf="oninput"in document;if(!xf){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),xf=typeof Vg.oninput=="function"}Cf=xf}else Cf=!1;Pg=Cf&&(!document.documentMode||9<document.documentMode)}function jg(){$t&&($t.detachEvent("onpropertychange",kg),Sr=$t=null)}function kg(n){if(n.propertyName==="value"&&Zu(Sr)){var i=[];Xr(i,Sr,n,qn(n)),Lu(nl,i)}}function sS(n,i,a){n==="focusin"?(jg(),$t=i,Sr=a,$t.attachEvent("onpropertychange",kg)):n==="focusout"&&jg()}function aS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zu(Sr)}function oS(n,i){if(n==="click")return Zu(i)}function lS(n,i){if(n==="input"||n==="change")return Zu(i)}function uS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Nn=typeof Object.is=="function"?Object.is:uS;function rl(n,i){if(Nn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var a=Object.keys(n),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!we.call(i,f)||!Nn(n[f],i[f]))return!1}return!0}function Ug(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Lg(n,i){var a=Ug(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=i&&l>=i)return{node:a,offset:i-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Ug(a)}}function Bg(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?Bg(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function zg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=bs(n.document);i instanceof n.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)n=i.contentWindow;else break;i=bs(n.document)}return i}function If(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}var cS=tr&&"documentMode"in document&&11>=document.documentMode,Pa=null,Df=null,il=null,Of=!1;function qg(n,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Of||Pa==null||Pa!==bs(l)||(l=Pa,"selectionStart"in l&&If(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&rl(il,l)||(il=l,l=Uc(Df,"onSelect"),0<l.length&&(i=new Ra("onSelect","select",null,i,a),n.push({event:i,listeners:l}),i.target=Pa)))}function Ms(n,i){var a={};return a[n.toLowerCase()]=i.toLowerCase(),a["Webkit"+n]="webkit"+i,a["Moz"+n]="moz"+i,a}var Va={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Mf={},Fg={};tr&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Ps(n){if(Mf[n])return Mf[n];if(!Va[n])return n;var i=Va[n],a;for(a in i)if(i.hasOwnProperty(a)&&a in Fg)return Mf[n]=i[a];return n}var Hg=Ps("animationend"),Gg=Ps("animationiteration"),Kg=Ps("animationstart"),hS=Ps("transitionrun"),fS=Ps("transitionstart"),dS=Ps("transitioncancel"),Qg=Ps("transitionend"),Yg=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function nr(n,i){Yg.set(n,i),er(i,[n])}var $g=new WeakMap;function Gn(n,i){if(typeof n=="object"&&n!==null){var a=$g.get(n);return a!==void 0?a:(i={value:n,source:i,stack:Sa(i)},$g.set(n,i),i)}return{value:n,source:i,stack:Sa(i)}}var Kn=[],ja=0,Vf=0;function ec(){for(var n=ja,i=Vf=ja=0;i<n;){var a=Kn[i];Kn[i++]=null;var l=Kn[i];Kn[i++]=null;var f=Kn[i];Kn[i++]=null;var d=Kn[i];if(Kn[i++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&Xg(a,f,d)}}function tc(n,i,a,l){Kn[ja++]=n,Kn[ja++]=i,Kn[ja++]=a,Kn[ja++]=l,Vf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function jf(n,i,a,l){return tc(n,i,a,l),nc(n)}function ka(n,i){return tc(n,null,null,i),nc(n)}function Xg(n,i,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&i!==null&&(f=31-rn(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[i]:l.push(i),i.lane=a|536870912),d):null}function nc(n){if(50<xl)throw xl=0,qd=null,Error(s(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var Ua={};function mS(n,i,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,i,a,l){return new mS(n,i,a,l)}function kf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Wr(n,i){var a=n.alternate;return a===null?(a=Cn(n.tag,i,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=i,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,i=n.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Wg(n,i){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,i=a.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function rc(n,i,a,l,f,d){var T=0;if(l=n,typeof n=="function")kf(n)&&(T=1);else if(typeof n=="string")T=gA(n,a,me.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=Cn(31,a,i,f),n.elementType=C,n.lanes=d,n;case x:return Vs(a.children,f,d,i);case k:T=8,f|=24;break;case M:return n=Cn(12,a,i,f|2),n.elementType=M,n.lanes=d,n;case ue:return n=Cn(13,a,i,f),n.elementType=ue,n.lanes=d,n;case _e:return n=Cn(19,a,i,f),n.elementType=_e,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:case re:T=10;break e;case ae:T=9;break e;case ce:T=11;break e;case V:T=14;break e;case N:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return i=Cn(T,a,i,f),i.elementType=n,i.type=l,i.lanes=d,i}function Vs(n,i,a,l){return n=Cn(7,n,l,i),n.lanes=a,n}function Uf(n,i,a){return n=Cn(6,n,null,i),n.lanes=a,n}function Lf(n,i,a){return i=Cn(4,n.children!==null?n.children:[],n.key,i),i.lanes=a,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}var La=[],Ba=0,ic=null,sc=0,Qn=[],Yn=0,js=null,Jr=1,Zr="";function ks(n,i){La[Ba++]=sc,La[Ba++]=ic,ic=n,sc=i}function Jg(n,i,a){Qn[Yn++]=Jr,Qn[Yn++]=Zr,Qn[Yn++]=js,js=n;var l=Jr;n=Zr;var f=32-rn(l)-1;l&=~(1<<f),a+=1;var d=32-rn(i)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,Jr=1<<32-rn(i)+f|a<<f|l,Zr=d+n}else Jr=1<<d|a<<f|l,Zr=n}function Bf(n){n.return!==null&&(ks(n,1),Jg(n,1,0))}function zf(n){for(;n===ic;)ic=La[--Ba],La[Ba]=null,sc=La[--Ba],La[Ba]=null;for(;n===js;)js=Qn[--Yn],Qn[Yn]=null,Zr=Qn[--Yn],Qn[Yn]=null,Jr=Qn[--Yn],Qn[Yn]=null}var gn=null,vt=null,Qe=!1,Us=null,Ar=!1,qf=Error(s(519));function Ls(n){var i=Error(s(418,""));throw ol(Gn(i,n)),qf}function Zg(n){var i=n.stateNode,a=n.type,l=n.memoizedProps;switch(i[kt]=n,i[Dt]=l,a){case"dialog":Ue("cancel",i),Ue("close",i);break;case"iframe":case"object":case"embed":Ue("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Ue(Dl[a],i);break;case"source":Ue("error",i);break;case"img":case"image":case"link":Ue("error",i),Ue("load",i);break;case"details":Ue("toggle",i);break;case"input":Ue("invalid",i),Ss(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Aa(i);break;case"select":Ue("invalid",i);break;case"textarea":Ue("invalid",i),As(i,l.value,l.defaultValue,l.children),Aa(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||g_(i.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",i),Ue("toggle",i)),l.onScroll!=null&&Ue("scroll",i),l.onScrollEnd!=null&&Ue("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||Ls(n)}function ey(n){for(gn=n.return;gn;)switch(gn.tag){case 5:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:gn=gn.return}}function sl(n){if(n!==gn)return!1;if(!Qe)return ey(n),Qe=!0,!1;var i=n.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||im(n.type,n.memoizedProps)),a=!a),a&&vt&&Ls(n),ey(n),i===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(i===0){vt=ir(n.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;n=n.nextSibling}vt=null}}else i===27?(i=vt,Fi(n.type)?(n=lm,lm=null,vt=n):vt=i):vt=gn?ir(n.stateNode.nextSibling):null;return!0}function al(){vt=gn=null,Qe=!1}function ty(){var n=Us;return n!==null&&(En===null?En=n:En.push.apply(En,n),Us=null),n}function ol(n){Us===null?Us=[n]:Us.push(n)}var Ff=ne(null),Bs=null,ei=null;function Ci(n,i,a){J(Ff,i._currentValue),i._currentValue=a}function ti(n){n._currentValue=Ff.current,W(Ff)}function Hf(n,i,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),n===a)break;n=n.return}}function Gf(n,i,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var I=0;I<i.length;I++)if(b.context===i[I]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Hf(d.return,a,n),l||(T=null);break e}d=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),Hf(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function ll(n,i,a,l){n=null;for(var f=i,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;Nn(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===tt.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(kl):n=[kl])}f=f.return}n!==null&&Gf(i,n,a,l),i.flags|=262144}function ac(n){for(n=n.firstContext;n!==null;){if(!Nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function zs(n){Bs=n,ei=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function sn(n){return ny(Bs,n)}function oc(n,i){return Bs===null&&zs(n),ny(n,i)}function ny(n,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ei===null){if(n===null)throw Error(s(308));ei=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else ei=ei.next=i;return a}var pS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){i.aborted=!0,n.forEach(function(a){return a()})}},gS=r.unstable_scheduleCallback,yS=r.unstable_NormalPriority,Bt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new pS,data:new Map,refCount:0}}function ul(n){n.refCount--,n.refCount===0&&gS(yS,function(){n.controller.abort()})}var cl=null,Qf=0,za=0,qa=null;function vS(n,i){if(cl===null){var a=cl=[];Qf=0,za=$d(),qa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,i.then(ry,ry),i}function ry(){if(--Qf===0&&cl!==null){qa!==null&&(qa.status="fulfilled");var n=cl;cl=null,za=0,qa=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function _S(n,i){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var iy=Q.S;Q.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&vS(n,i),iy!==null&&iy(n,i)};var qs=ne(null);function Yf(){var n=qs.current;return n!==null?n:lt.pooledCache}function lc(n,i){i===null?J(qs,qs.current):J(qs,i.pool)}function sy(){var n=Yf();return n===null?null:{parent:Bt._currentValue,pool:n}}var hl=Error(s(460)),ay=Error(s(474)),uc=Error(s(542)),$f={then:function(){}};function oy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function cc(){}function ly(n,i,a){switch(a=n[a],a===void 0?n.push(i):a!==i&&(i.then(cc,cc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,cy(n),n;default:if(typeof i.status=="string")i.then(cc,cc);else{if(n=lt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=i,n.status="pending",n.then(function(l){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=l}},function(l){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,cy(n),n}throw fl=i,hl}}var fl=null;function uy(){if(fl===null)throw Error(s(459));var n=fl;return fl=null,n}function cy(n){if(n===hl||n===uc)throw Error(s(483))}var xi=!1;function Xf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Ii(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Di(n,i,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Je&2)!==0){var f=l.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),l.pending=i,i=nc(n),Xg(n,null,a),i}return tc(n,l,i,a),nc(n)}function dl(n,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,zo(n,a)}}function Jf(n,i){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=i:d=d.next=i}else f=d=i;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=i:n.next=i,a.lastBaseUpdate=i}var Zf=!1;function ml(){if(Zf){var n=qa;if(n!==null)throw n}}function pl(n,i,a,l){Zf=!1;var f=n.updateQueue;xi=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var I=b,F=I.next;I.next=null,T===null?d=F:T.next=F,T=I;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==T&&(b===null?ee.firstBaseUpdate=F:b.next=F,ee.lastBaseUpdate=I))}if(d!==null){var ie=f.baseState;T=0,ee=F=I=null,b=d;do{var H=b.lane&-536870913,K=H!==b.lane;if(K?(Fe&H)===H:(l&H)===H){H!==0&&H===za&&(Zf=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ne=n,Se=b;H=i;var st=a;switch(Se.tag){case 1:if(Ne=Se.payload,typeof Ne=="function"){ie=Ne.call(st,ie,H);break e}ie=Ne;break e;case 3:Ne.flags=Ne.flags&-65537|128;case 0:if(Ne=Se.payload,H=typeof Ne=="function"?Ne.call(st,ie,H):Ne,H==null)break e;ie=E({},ie,H);break e;case 2:xi=!0}}H=b.callback,H!==null&&(n.flags|=64,K&&(n.flags|=8192),K=f.callbacks,K===null?f.callbacks=[H]:K.push(H))}else K={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(F=ee=K,I=ie):ee=ee.next=K,T|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;K=b,b=K.next,K.next=null,f.lastBaseUpdate=K,f.shared.pending=null}}while(!0);ee===null&&(I=ie),f.baseState=I,f.firstBaseUpdate=F,f.lastBaseUpdate=ee,d===null&&(f.shared.lanes=0),Li|=T,n.lanes=T,n.memoizedState=ie}}function hy(n,i){if(typeof n!="function")throw Error(s(191,n));n.call(i)}function fy(n,i){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)hy(a[n],i)}var Fa=ne(null),hc=ne(0);function dy(n,i){n=li,J(hc,n),J(Fa,i),li=n|i.baseLanes}function ed(){J(hc,li),J(Fa,Fa.current)}function td(){li=hc.current,W(Fa),W(hc)}var Oi=0,Ve=null,rt=null,Mt=null,fc=!1,Ha=!1,Fs=!1,dc=0,gl=0,Ga=null,ES=0;function Nt(){throw Error(s(321))}function nd(n,i){if(i===null)return!1;for(var a=0;a<i.length&&a<n.length;a++)if(!Nn(n[a],i[a]))return!1;return!0}function rd(n,i,a,l,f,d){return Oi=d,Ve=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Q.H=n===null||n.memoizedState===null?Xy:Wy,Fs=!1,d=a(l,f),Fs=!1,Ha&&(d=py(i,a,l,f)),my(n),d}function my(n){Q.H=_c;var i=rt!==null&&rt.next!==null;if(Oi=0,Mt=rt=Ve=null,fc=!1,gl=0,Ga=null,i)throw Error(s(300));n===null||Ht||(n=n.dependencies,n!==null&&ac(n)&&(Ht=!0))}function py(n,i,a,l){Ve=n;var f=0;do{if(Ha&&(Ga=null),gl=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,Mt=rt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Q.H=NS,d=i(a,l)}while(Ha);return d}function TS(){var n=Q.H,i=n.useState()[0];return i=typeof i.then=="function"?yl(i):i,n=n.useState()[0],(rt!==null?rt.memoizedState:null)!==n&&(Ve.flags|=1024),i}function id(){var n=dc!==0;return dc=0,n}function sd(n,i,a){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~a}function ad(n){if(fc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}fc=!1}Oi=0,Mt=rt=Ve=null,Ha=!1,gl=dc=0,Ga=null}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Ve.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function Pt(){if(rt===null){var n=Ve.alternate;n=n!==null?n.memoizedState:null}else n=rt.next;var i=Mt===null?Ve.memoizedState:Mt.next;if(i!==null)Mt=i,rt=n;else{if(n===null)throw Ve.alternate===null?Error(s(467)):Error(s(310));rt=n,n={memoizedState:rt.memoizedState,baseState:rt.baseState,baseQueue:rt.baseQueue,queue:rt.queue,next:null},Mt===null?Ve.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function yl(n){var i=gl;return gl+=1,Ga===null&&(Ga=[]),n=ly(Ga,n,i),i=Ve,(Mt===null?i.memoizedState:Mt.next)===null&&(i=i.alternate,Q.H=i===null||i.memoizedState===null?Xy:Wy),n}function mc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return yl(n);if(n.$$typeof===re)return sn(n)}throw Error(s(438,String(n)))}function ld(n){var i=null,a=Ve.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ve.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=od(),Ve.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(n),l=0;l<n;l++)a[l]=P;return i.index++,a}function ni(n,i){return typeof i=="function"?i(n):i}function pc(n){var i=Pt();return ud(i,rt,n)}function ud(n,i,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}i.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{i=f.next;var b=T=null,I=null,F=i,ee=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Fe&ie)===ie:(Oi&ie)===ie){var H=F.revertLane;if(H===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===za&&(ee=!0);else if((Oi&H)===H){F=F.next,H===za&&(ee=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=ie,T=d):I=I.next=ie,Ve.lanes|=H,Li|=H;ie=F.action,Fs&&a(d,ie),d=F.hasEagerState?F.eagerState:a(d,ie)}else H={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},I===null?(b=I=H,T=d):I=I.next=H,Ve.lanes|=ie,Li|=ie;F=F.next}while(F!==null&&F!==i);if(I===null?T=d:I.next=b,!Nn(d,n.memoizedState)&&(Ht=!0,ee&&(a=qa,a!==null)))throw a;n.memoizedState=d,n.baseState=T,n.baseQueue=I,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function cd(n){var i=Pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=i.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=n(d,T.action),T=T.next;while(T!==f);Nn(d,i.memoizedState)||(Ht=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function gy(n,i,a){var l=Ve,f=Pt(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var T=!Nn((rt||f).memoizedState,a);T&&(f.memoizedState=a,Ht=!0),f=f.queue;var b=_y.bind(null,l,f,n);if(vl(2048,8,b,[n]),f.getSnapshot!==i||T||Mt!==null&&Mt.memoizedState.tag&1){if(l.flags|=2048,Ka(9,gc(),vy.bind(null,l,f,a,i),null),lt===null)throw Error(s(349));d||(Oi&124)!==0||yy(l,i,a)}return a}function yy(n,i,a){n.flags|=16384,n={getSnapshot:i,value:a},i=Ve.updateQueue,i===null?(i=od(),Ve.updateQueue=i,i.stores=[n]):(a=i.stores,a===null?i.stores=[n]:a.push(n))}function vy(n,i,a,l){i.value=a,i.getSnapshot=l,Ey(i)&&Ty(n)}function _y(n,i,a){return a(function(){Ey(i)&&Ty(n)})}function Ey(n){var i=n.getSnapshot;n=n.value;try{var a=i();return!Nn(n,a)}catch{return!0}}function Ty(n){var i=ka(n,2);i!==null&&Mn(i,n,2)}function hd(n){var i=vn();if(typeof n=="function"){var a=n;if(n=a(),Fs){wn(!0);try{a()}finally{wn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:n},i}function by(n,i,a,l){return n.baseState=a,ud(n,rt,typeof l=="function"?l:ni)}function bS(n,i,a,l,f){if(vc(n))throw Error(s(485));if(n=i.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};Q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Sy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Sy(n,i){var a=i.action,l=i.payload,f=n.state;if(i.isTransition){var d=Q.T,T={};Q.T=T;try{var b=a(f,l),I=Q.S;I!==null&&I(T,b),Ay(n,i,b)}catch(F){fd(n,i,F)}finally{Q.T=d}}else try{d=a(f,l),Ay(n,i,d)}catch(F){fd(n,i,F)}}function Ay(n,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wy(n,i,l)},function(l){return fd(n,i,l)}):wy(n,i,a)}function wy(n,i,a){i.status="fulfilled",i.value=a,Ry(i),n.state=a,i=n.pending,i!==null&&(a=i.next,a===i?n.pending=null:(a=a.next,i.next=a,Sy(n,a)))}function fd(n,i,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Ry(i),i=i.next;while(i!==l)}n.action=null}function Ry(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Ny(n,i){return i}function Cy(n,i){if(Qe){var a=lt.formState;if(a!==null){e:{var l=Ve;if(Qe){if(vt){t:{for(var f=vt,d=Ar;f.nodeType!==8;){if(!d){f=null;break t}if(f=ir(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){vt=ir(f.nextSibling),l=f.data==="F!";break e}}Ls(l)}l=!1}l&&(i=a[0])}}return a=vn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:i},a.queue=l,a=Qy.bind(null,Ve,l),l.dispatch=a,l=hd(!1),d=yd.bind(null,Ve,!1,l.queue),l=vn(),f={state:i,dispatch:null,action:n,pending:null},l.queue=f,a=bS.bind(null,Ve,f,d,a),f.dispatch=a,l.memoizedState=n,[i,a,!1]}function xy(n){var i=Pt();return Iy(i,rt,n)}function Iy(n,i,a){if(i=ud(n,i,Ny)[0],n=pc(ni)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=yl(i)}catch(T){throw T===hl?uc:T}else l=i;i=Pt();var f=i.queue,d=f.dispatch;return a!==i.memoizedState&&(Ve.flags|=2048,Ka(9,gc(),SS.bind(null,f,a),null)),[l,d,n]}function SS(n,i){n.action=i}function Dy(n){var i=Pt(),a=rt;if(a!==null)return Iy(i,a,n);Pt(),i=i.memoizedState,a=Pt();var l=a.queue.dispatch;return a.memoizedState=n,[i,l,!1]}function Ka(n,i,a,l){return n={tag:n,create:a,deps:l,inst:i,next:null},i=Ve.updateQueue,i===null&&(i=od(),Ve.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,i.lastEffect=n),n}function gc(){return{destroy:void 0,resource:void 0}}function Oy(){return Pt().memoizedState}function yc(n,i,a,l){var f=vn();l=l===void 0?null:l,Ve.flags|=n,f.memoizedState=Ka(1|i,gc(),a,l)}function vl(n,i,a,l){var f=Pt();l=l===void 0?null:l;var d=f.memoizedState.inst;rt!==null&&l!==null&&nd(l,rt.memoizedState.deps)?f.memoizedState=Ka(i,d,a,l):(Ve.flags|=n,f.memoizedState=Ka(1|i,d,a,l))}function My(n,i){yc(8390656,8,n,i)}function Py(n,i){vl(2048,8,n,i)}function Vy(n,i){return vl(4,2,n,i)}function jy(n,i){return vl(4,4,n,i)}function ky(n,i){if(typeof i=="function"){n=n();var a=i(n);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Uy(n,i,a){a=a!=null?a.concat([n]):null,vl(4,4,ky.bind(null,i,n),a)}function dd(){}function Ly(n,i){var a=Pt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&nd(i,l[1])?l[0]:(a.memoizedState=[n,i],n)}function By(n,i){var a=Pt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&nd(i,l[1]))return l[0];if(l=n(),Fs){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,i],l}function md(n,i,a){return a===void 0||(Oi&1073741824)!==0?n.memoizedState=i:(n.memoizedState=a,n=Fv(),Ve.lanes|=n,Li|=n,a)}function zy(n,i,a,l){return Nn(a,i)?a:Fa.current!==null?(n=md(n,a,l),Nn(n,i)||(Ht=!0),n):(Oi&42)===0?(Ht=!0,n.memoizedState=a):(n=Fv(),Ve.lanes|=n,Li|=n,i)}function qy(n,i,a,l,f){var d=Y.p;Y.p=d!==0&&8>d?d:8;var T=Q.T,b={};Q.T=b,yd(n,!1,i,a);try{var I=f(),F=Q.S;if(F!==null&&F(b,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var ee=_S(I,l);_l(n,i,ee,On(n))}else _l(n,i,l,On(n))}catch(ie){_l(n,i,{then:function(){},status:"rejected",reason:ie},On())}finally{Y.p=d,Q.T=T}}function AS(){}function pd(n,i,a,l){if(n.tag!==5)throw Error(s(476));var f=Fy(n).queue;qy(n,f,i,de,a===null?AS:function(){return Hy(n),a(l)})}function Fy(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ni,lastRenderedState:a},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Hy(n){var i=Fy(n).next.queue;_l(n,i,{},On())}function gd(){return sn(kl)}function Gy(){return Pt().memoizedState}function Ky(){return Pt().memoizedState}function wS(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var a=On();n=Ii(a);var l=Di(i,n,a);l!==null&&(Mn(l,i,a),dl(l,i,a)),i={cache:Kf()},n.payload=i;return}i=i.return}}function RS(n,i,a){var l=On();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vc(n)?Yy(i,a):(a=jf(n,i,a,l),a!==null&&(Mn(a,n,l),$y(a,i,l)))}function Qy(n,i,a){var l=On();_l(n,i,a,l)}function _l(n,i,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vc(n))Yy(i,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var T=i.lastRenderedState,b=d(T,a);if(f.hasEagerState=!0,f.eagerState=b,Nn(b,T))return tc(n,i,f,0),lt===null&&ec(),!1}catch{}finally{}if(a=jf(n,i,f,l),a!==null)return Mn(a,n,l),$y(a,i,l),!0}return!1}function yd(n,i,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},vc(n)){if(i)throw Error(s(479))}else i=jf(n,a,l,2),i!==null&&Mn(i,n,2)}function vc(n){var i=n.alternate;return n===Ve||i!==null&&i===Ve}function Yy(n,i){Ha=fc=!0;var a=n.pending;a===null?i.next=i:(i.next=a.next,a.next=i),n.pending=i}function $y(n,i,a){if((a&4194048)!==0){var l=i.lanes;l&=n.pendingLanes,a|=l,i.lanes=a,zo(n,a)}}var _c={readContext:sn,use:mc,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},Xy={readContext:sn,use:mc,useCallback:function(n,i){return vn().memoizedState=[n,i===void 0?null:i],n},useContext:sn,useEffect:My,useImperativeHandle:function(n,i,a){a=a!=null?a.concat([n]):null,yc(4194308,4,ky.bind(null,i,n),a)},useLayoutEffect:function(n,i){return yc(4194308,4,n,i)},useInsertionEffect:function(n,i){yc(4,2,n,i)},useMemo:function(n,i){var a=vn();i=i===void 0?null:i;var l=n();if(Fs){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(n,i,a){var l=vn();if(a!==void 0){var f=a(i);if(Fs){wn(!0);try{a(i)}finally{wn(!1)}}}else f=i;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=RS.bind(null,Ve,n),[l.memoizedState,n]},useRef:function(n){var i=vn();return n={current:n},i.memoizedState=n},useState:function(n){n=hd(n);var i=n.queue,a=Qy.bind(null,Ve,i);return i.dispatch=a,[n.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(n,i){var a=vn();return md(a,n,i)},useTransition:function(){var n=hd(!1);return n=qy.bind(null,Ve,n.queue,!0,!1),vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,a){var l=Ve,f=vn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),lt===null)throw Error(s(349));(Fe&124)!==0||yy(l,i,a)}f.memoizedState=a;var d={value:a,getSnapshot:i};return f.queue=d,My(_y.bind(null,l,d,n),[n]),l.flags|=2048,Ka(9,gc(),vy.bind(null,l,d,a,i),null),a},useId:function(){var n=vn(),i=lt.identifierPrefix;if(Qe){var a=Zr,l=Jr;a=(l&~(1<<32-rn(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=dc++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=ES++,i="«"+i+"r"+a.toString(32)+"»";return n.memoizedState=i},useHostTransitionStatus:gd,useFormState:Cy,useActionState:Cy,useOptimistic:function(n){var i=vn();i.memoizedState=i.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=yd.bind(null,Ve,!0,a),a.dispatch=i,[n,i]},useMemoCache:ld,useCacheRefresh:function(){return vn().memoizedState=wS.bind(null,Ve)}},Wy={readContext:sn,use:mc,useCallback:Ly,useContext:sn,useEffect:Py,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:jy,useMemo:By,useReducer:pc,useRef:Oy,useState:function(){return pc(ni)},useDebugValue:dd,useDeferredValue:function(n,i){var a=Pt();return zy(a,rt.memoizedState,n,i)},useTransition:function(){var n=pc(ni)[0],i=Pt().memoizedState;return[typeof n=="boolean"?n:yl(n),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:gd,useFormState:xy,useActionState:xy,useOptimistic:function(n,i){var a=Pt();return by(a,rt,n,i)},useMemoCache:ld,useCacheRefresh:Ky},NS={readContext:sn,use:mc,useCallback:Ly,useContext:sn,useEffect:Py,useImperativeHandle:Uy,useInsertionEffect:Vy,useLayoutEffect:jy,useMemo:By,useReducer:cd,useRef:Oy,useState:function(){return cd(ni)},useDebugValue:dd,useDeferredValue:function(n,i){var a=Pt();return rt===null?md(a,n,i):zy(a,rt.memoizedState,n,i)},useTransition:function(){var n=cd(ni)[0],i=Pt().memoizedState;return[typeof n=="boolean"?n:yl(n),i]},useSyncExternalStore:gy,useId:Gy,useHostTransitionStatus:gd,useFormState:Dy,useActionState:Dy,useOptimistic:function(n,i){var a=Pt();return rt!==null?by(a,rt,n,i):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Ky},Qa=null,El=0;function Ec(n){var i=El;return El+=1,Qa===null&&(Qa=[]),ly(Qa,n,i)}function Tl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function Tc(n,i){throw i.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(i),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function Jy(n){var i=n._init;return i(n._payload)}function Zy(n){function i(B,U){if(n){var q=B.deletions;q===null?(B.deletions=[U],B.flags|=16):q.push(U)}}function a(B,U){if(!n)return null;for(;U!==null;)i(B,U),U=U.sibling;return null}function l(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function f(B,U){return B=Wr(B,U),B.index=0,B.sibling=null,B}function d(B,U,q){return B.index=q,n?(q=B.alternate,q!==null?(q=q.index,q<U?(B.flags|=67108866,U):q):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function T(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function b(B,U,q,te){return U===null||U.tag!==6?(U=Uf(q,B.mode,te),U.return=B,U):(U=f(U,q),U.return=B,U)}function I(B,U,q,te){var ge=q.type;return ge===x?ee(B,U,q.props.children,te,q.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Jy(ge)===U.type)?(U=f(U,q.props),Tl(U,q),U.return=B,U):(U=rc(q.type,q.key,q.props,null,B.mode,te),Tl(U,q),U.return=B,U)}function F(B,U,q,te){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Lf(q,B.mode,te),U.return=B,U):(U=f(U,q.children||[]),U.return=B,U)}function ee(B,U,q,te,ge){return U===null||U.tag!==7?(U=Vs(q,B.mode,te,ge),U.return=B,U):(U=f(U,q),U.return=B,U)}function ie(B,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Uf(""+U,B.mode,q),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return q=rc(U.type,U.key,U.props,null,B.mode,q),Tl(q,U),q.return=B,q;case D:return U=Lf(U,B.mode,q),U.return=B,U;case N:var te=U._init;return U=te(U._payload),ie(B,U,q)}if(pe(U)||L(U))return U=Vs(U,B.mode,q,null),U.return=B,U;if(typeof U.then=="function")return ie(B,Ec(U),q);if(U.$$typeof===re)return ie(B,oc(B,U),q);Tc(B,U)}return null}function H(B,U,q,te){var ge=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:b(B,U,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case R:return q.key===ge?I(B,U,q,te):null;case D:return q.key===ge?F(B,U,q,te):null;case N:return ge=q._init,q=ge(q._payload),H(B,U,q,te)}if(pe(q)||L(q))return ge!==null?null:ee(B,U,q,te,null);if(typeof q.then=="function")return H(B,U,Ec(q),te);if(q.$$typeof===re)return H(B,U,oc(B,q),te);Tc(B,q)}return null}function K(B,U,q,te,ge){if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return B=B.get(q)||null,b(U,B,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case R:return B=B.get(te.key===null?q:te.key)||null,I(U,B,te,ge);case D:return B=B.get(te.key===null?q:te.key)||null,F(U,B,te,ge);case N:var je=te._init;return te=je(te._payload),K(B,U,q,te,ge)}if(pe(te)||L(te))return B=B.get(q)||null,ee(U,B,te,ge,null);if(typeof te.then=="function")return K(B,U,q,Ec(te),ge);if(te.$$typeof===re)return K(B,U,q,oc(U,te),ge);Tc(U,te)}return null}function Ne(B,U,q,te){for(var ge=null,je=null,Ee=U,Ae=U=0,Kt=null;Ee!==null&&Ae<q.length;Ae++){Ee.index>Ae?(Kt=Ee,Ee=null):Kt=Ee.sibling;var Ge=H(B,Ee,q[Ae],te);if(Ge===null){Ee===null&&(Ee=Kt);break}n&&Ee&&Ge.alternate===null&&i(B,Ee),U=d(Ge,U,Ae),je===null?ge=Ge:je.sibling=Ge,je=Ge,Ee=Kt}if(Ae===q.length)return a(B,Ee),Qe&&ks(B,Ae),ge;if(Ee===null){for(;Ae<q.length;Ae++)Ee=ie(B,q[Ae],te),Ee!==null&&(U=d(Ee,U,Ae),je===null?ge=Ee:je.sibling=Ee,je=Ee);return Qe&&ks(B,Ae),ge}for(Ee=l(Ee);Ae<q.length;Ae++)Kt=K(Ee,B,Ae,q[Ae],te),Kt!==null&&(n&&Kt.alternate!==null&&Ee.delete(Kt.key===null?Ae:Kt.key),U=d(Kt,U,Ae),je===null?ge=Kt:je.sibling=Kt,je=Kt);return n&&Ee.forEach(function(Yi){return i(B,Yi)}),Qe&&ks(B,Ae),ge}function Se(B,U,q,te){if(q==null)throw Error(s(151));for(var ge=null,je=null,Ee=U,Ae=U=0,Kt=null,Ge=q.next();Ee!==null&&!Ge.done;Ae++,Ge=q.next()){Ee.index>Ae?(Kt=Ee,Ee=null):Kt=Ee.sibling;var Yi=H(B,Ee,Ge.value,te);if(Yi===null){Ee===null&&(Ee=Kt);break}n&&Ee&&Yi.alternate===null&&i(B,Ee),U=d(Yi,U,Ae),je===null?ge=Yi:je.sibling=Yi,je=Yi,Ee=Kt}if(Ge.done)return a(B,Ee),Qe&&ks(B,Ae),ge;if(Ee===null){for(;!Ge.done;Ae++,Ge=q.next())Ge=ie(B,Ge.value,te),Ge!==null&&(U=d(Ge,U,Ae),je===null?ge=Ge:je.sibling=Ge,je=Ge);return Qe&&ks(B,Ae),ge}for(Ee=l(Ee);!Ge.done;Ae++,Ge=q.next())Ge=K(Ee,B,Ae,Ge.value,te),Ge!==null&&(n&&Ge.alternate!==null&&Ee.delete(Ge.key===null?Ae:Ge.key),U=d(Ge,U,Ae),je===null?ge=Ge:je.sibling=Ge,je=Ge);return n&&Ee.forEach(function(CA){return i(B,CA)}),Qe&&ks(B,Ae),ge}function st(B,U,q,te){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case R:e:{for(var ge=q.key;U!==null;){if(U.key===ge){if(ge=q.type,ge===x){if(U.tag===7){a(B,U.sibling),te=f(U,q.props.children),te.return=B,B=te;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===N&&Jy(ge)===U.type){a(B,U.sibling),te=f(U,q.props),Tl(te,q),te.return=B,B=te;break e}a(B,U);break}else i(B,U);U=U.sibling}q.type===x?(te=Vs(q.props.children,B.mode,te,q.key),te.return=B,B=te):(te=rc(q.type,q.key,q.props,null,B.mode,te),Tl(te,q),te.return=B,B=te)}return T(B);case D:e:{for(ge=q.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(B,U.sibling),te=f(U,q.children||[]),te.return=B,B=te;break e}else{a(B,U);break}else i(B,U);U=U.sibling}te=Lf(q,B.mode,te),te.return=B,B=te}return T(B);case N:return ge=q._init,q=ge(q._payload),st(B,U,q,te)}if(pe(q))return Ne(B,U,q,te);if(L(q)){if(ge=L(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),Se(B,U,q,te)}if(typeof q.then=="function")return st(B,U,Ec(q),te);if(q.$$typeof===re)return st(B,U,oc(B,q),te);Tc(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(B,U.sibling),te=f(U,q),te.return=B,B=te):(a(B,U),te=Uf(q,B.mode,te),te.return=B,B=te),T(B)):a(B,U)}return function(B,U,q,te){try{El=0;var ge=st(B,U,q,te);return Qa=null,ge}catch(Ee){if(Ee===hl||Ee===uc)throw Ee;var je=Cn(29,Ee,null,B.mode);return je.lanes=te,je.return=B,je}finally{}}}var Ya=Zy(!0),ev=Zy(!1),$n=ne(null),wr=null;function Mi(n){var i=n.alternate;J(zt,zt.current&1),J($n,n),wr===null&&(i===null||Fa.current!==null||i.memoizedState!==null)&&(wr=n)}function tv(n){if(n.tag===22){if(J(zt,zt.current),J($n,n),wr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(wr=n)}}else Pi()}function Pi(){J(zt,zt.current),J($n,$n.current)}function ri(n){W($n),wr===n&&(wr=null),W(zt)}var zt=ne(0);function bc(n){for(var i=n;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||om(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function vd(n,i,a,l){i=n.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var _d={enqueueSetState:function(n,i,a){n=n._reactInternals;var l=On(),f=Ii(l);f.payload=i,a!=null&&(f.callback=a),i=Di(n,f,l),i!==null&&(Mn(i,n,l),dl(i,n,l))},enqueueReplaceState:function(n,i,a){n=n._reactInternals;var l=On(),f=Ii(l);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=Di(n,f,l),i!==null&&(Mn(i,n,l),dl(i,n,l))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var a=On(),l=Ii(a);l.tag=2,i!=null&&(l.callback=i),i=Di(n,l,a),i!==null&&(Mn(i,n,a),dl(i,n,a))}};function nv(n,i,a,l,f,d,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,T):i.prototype&&i.prototype.isPureReactComponent?!rl(a,l)||!rl(f,d):!0}function rv(n,i,a,l){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==n&&_d.enqueueReplaceState(i,i.state,null)}function Hs(n,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(n=n.defaultProps){a===i&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Sc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function iv(n){Sc(n)}function sv(n){console.error(n)}function av(n){Sc(n)}function Ac(n,i){try{var a=n.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function ov(n,i,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(n,i,a){return a=Ii(a),a.tag=3,a.payload={element:null},a.callback=function(){Ac(n,i)},a}function lv(n){return n=Ii(n),n.tag=3,n}function uv(n,i,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){ov(i,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){ov(i,a,l),typeof f!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function CS(n,i,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,f,!0),a=$n.current,a!==null){switch(a.tag){case 13:return wr===null?Hd():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===$f?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Kd(n,l,f)),!1;case 22:return a.flags|=65536,l===$f?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Kd(n,l,f)),!1}throw Error(s(435,a.tag))}return Kd(n,l,f),Hd(),!1}if(Qe)return i=$n.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,l!==qf&&(n=Error(s(422),{cause:l}),ol(Gn(n,a)))):(l!==qf&&(i=Error(s(423),{cause:l}),ol(Gn(i,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Gn(l,a),f=Ed(n.stateNode,l,f),Jf(n,f),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:l});if(d=Gn(d,a),Cl===null?Cl=[d]:Cl.push(d),_t!==4&&(_t=2),i===null)return!0;l=Gn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ed(a.stateNode,l,n),Jf(a,n),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Bi===null||!Bi.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=lv(f),uv(f,n,a,l),Jf(a,f),!1}a=a.return}while(a!==null);return!1}var cv=Error(s(461)),Ht=!1;function Xt(n,i,a,l){i.child=n===null?ev(i,null,a,l):Ya(i,n.child,a,l)}function hv(n,i,a,l,f){a=a.render;var d=i.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return zs(i),l=rd(n,i,a,T,d,f),b=id(),n!==null&&!Ht?(sd(n,i,f),ii(n,i,f)):(Qe&&b&&Bf(i),i.flags|=1,Xt(n,i,l,f),i.child)}function fv(n,i,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!kf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,dv(n,i,d,l,f)):(n=rc(a.type,null,l,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(d=n.child,!Cd(n,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(T,l)&&n.ref===i.ref)return ii(n,i,f)}return i.flags|=1,n=Wr(d,l),n.ref=i.ref,n.return=i,i.child=n}function dv(n,i,a,l,f){if(n!==null){var d=n.memoizedProps;if(rl(d,l)&&n.ref===i.ref)if(Ht=!1,i.pendingProps=l=d,Cd(n,f))(n.flags&131072)!==0&&(Ht=!0);else return i.lanes=n.lanes,ii(n,i,f)}return Td(n,i,a,l,f)}function mv(n,i,a){var l=i.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=i.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return pv(n,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&lc(i,d!==null?d.cachePool:null),d!==null?dy(i,d):ed(),tv(i);else return i.lanes=i.childLanes=536870912,pv(n,i,d!==null?d.baseLanes|a:a,a)}else d!==null?(lc(i,d.cachePool),dy(i,d),Pi(),i.memoizedState=null):(n!==null&&lc(i,null),ed(),Pi());return Xt(n,i,f,a),i.child}function pv(n,i,a,l){var f=Yf();return f=f===null?null:{parent:Bt._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},n!==null&&lc(i,null),ed(),tv(i),n!==null&&ll(n,i,l,!0),null}function wc(n,i){var a=i.ref;if(a===null)n!==null&&n.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(i.flags|=4194816)}}function Td(n,i,a,l,f){return zs(i),a=rd(n,i,a,l,void 0,f),l=id(),n!==null&&!Ht?(sd(n,i,f),ii(n,i,f)):(Qe&&l&&Bf(i),i.flags|=1,Xt(n,i,a,f),i.child)}function gv(n,i,a,l,f,d){return zs(i),i.updateQueue=null,a=py(i,l,a,f),my(n),l=id(),n!==null&&!Ht?(sd(n,i,d),ii(n,i,d)):(Qe&&l&&Bf(i),i.flags|=1,Xt(n,i,a,d),i.child)}function yv(n,i,a,l,f){if(zs(i),i.stateNode===null){var d=Ua,T=a.contextType;typeof T=="object"&&T!==null&&(d=sn(T)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=_d,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Xf(i),T=a.contextType,d.context=typeof T=="object"&&T!==null?sn(T):Ua,d.state=i.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(vd(i,a,T,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&_d.enqueueReplaceState(d,d.state,null),pl(i,l,d,f),ml(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(n===null){d=i.stateNode;var b=i.memoizedProps,I=Hs(a,b);d.props=I;var F=d.context,ee=a.contextType;T=Ua,typeof ee=="object"&&ee!==null&&(T=sn(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==T)&&rv(i,d,l,T),xi=!1;var H=i.memoizedState;d.state=H,pl(i,l,d,f),ml(),F=i.memoizedState,b||H!==F||xi?(typeof ie=="function"&&(vd(i,a,ie,l),F=i.memoizedState),(I=xi||nv(i,a,I,l,H,F,T))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=T,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Wf(n,i),T=i.memoizedProps,ee=Hs(a,T),d.props=ee,ie=i.pendingProps,H=d.context,F=a.contextType,I=Ua,typeof F=="object"&&F!==null&&(I=sn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ie||H!==I)&&rv(i,d,l,I),xi=!1,H=i.memoizedState,d.state=H,pl(i,l,d,f),ml();var K=i.memoizedState;T!==ie||H!==K||xi||n!==null&&n.dependencies!==null&&ac(n.dependencies)?(typeof b=="function"&&(vd(i,a,b,l),K=i.memoizedState),(ee=xi||nv(i,a,ee,l,H,K,I)||n!==null&&n.dependencies!==null&&ac(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=I,l=ee):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(i.flags|=1024),l=!1)}return d=l,wc(n,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,n!==null&&l?(i.child=Ya(i,n.child,null,f),i.child=Ya(i,null,a,f)):Xt(n,i,a,f),i.memoizedState=d.state,n=i.child):n=ii(n,i,f),n}function vv(n,i,a,l){return al(),i.flags|=256,Xt(n,i,a,l),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(n){return{baseLanes:n,cachePool:sy()}}function Ad(n,i,a){return n=n!==null?n.childLanes&~a:0,i&&(n|=Xn),n}function _v(n,i,a){var l=i.pendingProps,f=!1,d=(i.flags&128)!==0,T;if((T=d)||(T=n!==null&&n.memoizedState===null?!1:(zt.current&2)!==0),T&&(f=!0,i.flags&=-129),T=(i.flags&32)!==0,i.flags&=-33,n===null){if(Qe){if(f?Mi(i):Pi(),Qe){var b=vt,I;if(I=b){e:{for(I=b,b=Ar;I.nodeType!==8;){if(!b){b=null;break e}if(I=ir(I.nextSibling),I===null){b=null;break e}}b=I}b!==null?(i.memoizedState={dehydrated:b,treeContext:js!==null?{id:Jr,overflow:Zr}:null,retryLane:536870912,hydrationErrors:null},I=Cn(18,null,null,0),I.stateNode=b,I.return=i,i.child=I,gn=i,vt=null,I=!0):I=!1}I||Ls(i)}if(b=i.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return om(b)?i.lanes=32:i.lanes=536870912,null;ri(i)}return b=l.children,l=l.fallback,f?(Pi(),f=i.mode,b=Rc({mode:"hidden",children:b},f),l=Vs(l,f,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,f=i.child,f.memoizedState=Sd(a),f.childLanes=Ad(n,T,a),i.memoizedState=bd,l):(Mi(i),wd(i,b))}if(I=n.memoizedState,I!==null&&(b=I.dehydrated,b!==null)){if(d)i.flags&256?(Mi(i),i.flags&=-257,i=Rd(n,i,a)):i.memoizedState!==null?(Pi(),i.child=n.child,i.flags|=128,i=null):(Pi(),f=l.fallback,b=i.mode,l=Rc({mode:"visible",children:l.children},b),f=Vs(f,b,a,null),f.flags|=2,l.return=i,f.return=i,l.sibling=f,i.child=l,Ya(i,n.child,null,a),l=i.child,l.memoizedState=Sd(a),l.childLanes=Ad(n,T,a),i.memoizedState=bd,i=f);else if(Mi(i),om(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(s(419)),l.stack="",l.digest=T,ol({value:l,source:null,stack:null}),i=Rd(n,i,a)}else if(Ht||ll(n,i,a,!1),T=(a&n.childLanes)!==0,Ht||T){if(T=lt,T!==null&&(l=a&-a,l=(l&42)!==0?1:Ti(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ka(n,l),Mn(T,n,l),cv;b.data==="$?"||Hd(),i=Rd(n,i,a)}else b.data==="$?"?(i.flags|=192,i.child=n.child,i=null):(n=I.treeContext,vt=ir(b.nextSibling),gn=i,Qe=!0,Us=null,Ar=!1,n!==null&&(Qn[Yn++]=Jr,Qn[Yn++]=Zr,Qn[Yn++]=js,Jr=n.id,Zr=n.overflow,js=i),i=wd(i,l.children),i.flags|=4096);return i}return f?(Pi(),f=l.fallback,b=i.mode,I=n.child,F=I.sibling,l=Wr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,F!==null?f=Wr(F,f):(f=Vs(f,b,a,null),f.flags|=2),f.return=i,l.return=i,l.sibling=f,i.child=l,l=f,f=i.child,b=n.child.memoizedState,b===null?b=Sd(a):(I=b.cachePool,I!==null?(F=Bt._currentValue,I=I.parent!==F?{parent:F,pool:F}:I):I=sy(),b={baseLanes:b.baseLanes|a,cachePool:I}),f.memoizedState=b,f.childLanes=Ad(n,T,a),i.memoizedState=bd,l):(Mi(i),a=n.child,n=a.sibling,a=Wr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,n!==null&&(T=i.deletions,T===null?(i.deletions=[n],i.flags|=16):T.push(n)),i.child=a,i.memoizedState=null,a)}function wd(n,i){return i=Rc({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Rc(n,i){return n=Cn(22,n,null,i),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Rd(n,i,a){return Ya(i,n.child,null,a),n=wd(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function Ev(n,i,a){n.lanes|=i;var l=n.alternate;l!==null&&(l.lanes|=i),Hf(n.return,i,a)}function Nd(n,i,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Tv(n,i,a){var l=i.pendingProps,f=l.revealOrder,d=l.tail;if(Xt(n,i,l.children,a),l=zt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Ev(n,a,i);else if(n.tag===19)Ev(n,a,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(J(zt,l),f){case"forwards":for(a=i.child,f=null;a!==null;)n=a.alternate,n!==null&&bc(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),Nd(i,!1,f,a,d);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&bc(n)===null){i.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Nd(i,!0,a,null,d);break;case"together":Nd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ii(n,i,a){if(n!==null&&(i.dependencies=n.dependencies),Li|=i.lanes,(a&i.childLanes)===0)if(n!==null){if(ll(n,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(s(153));if(i.child!==null){for(n=i.child,a=Wr(n,n.pendingProps),i.child=a,a.return=i;n.sibling!==null;)n=n.sibling,a=a.sibling=Wr(n,n.pendingProps),a.return=i;a.sibling=null}return i.child}function Cd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&ac(n)))}function xS(n,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),Ci(i,Bt,n.memoizedState.cache),al();break;case 27:case 5:cr(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:Ci(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Mi(i),i.flags|=128,null):(a&i.child.childLanes)!==0?_v(n,i,a):(Mi(i),n=ii(n,i,a),n!==null?n.sibling:null);Mi(i);break;case 19:var f=(n.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ll(n,i,a,!1),l=(a&i.childLanes)!==0),f){if(l)return Tv(n,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(zt,zt.current),l)break;return null;case 22:case 23:return i.lanes=0,mv(n,i,a);case 24:Ci(i,Bt,n.memoizedState.cache)}return ii(n,i,a)}function bv(n,i,a){if(n!==null)if(n.memoizedProps!==i.pendingProps)Ht=!0;else{if(!Cd(n,a)&&(i.flags&128)===0)return Ht=!1,xS(n,i,a);Ht=(n.flags&131072)!==0}else Ht=!1,Qe&&(i.flags&1048576)!==0&&Jg(i,sc,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var l=i.elementType,f=l._init;if(l=f(l._payload),i.type=l,typeof l=="function")kf(l)?(n=Hs(l,n),i.tag=1,i=yv(null,i,l,n,a)):(i.tag=0,i=Td(null,i,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ce){i.tag=11,i=hv(null,i,l,n,a);break e}else if(f===V){i.tag=14,i=fv(null,i,l,n,a);break e}}throw i=fe(l)||l,Error(s(306,i,""))}}return i;case 0:return Td(n,i,i.type,i.pendingProps,a);case 1:return l=i.type,f=Hs(l,i.pendingProps),yv(n,i,l,f,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),n===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;f=d.element,Wf(n,i),pl(i,l,null,a);var T=i.memoizedState;if(l=T.cache,Ci(i,Bt,l),l!==d.cache&&Gf(i,[Bt],a,!0),ml(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=vv(n,i,l,a);break e}else if(l!==f){f=Gn(Error(s(424)),i),ol(f),i=vv(n,i,l,a);break e}else{switch(n=i.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(vt=ir(n.firstChild),gn=i,Qe=!0,Us=null,Ar=!0,a=ev(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(al(),l===f){i=ii(n,i,a);break e}Xt(n,i,l,a)}i=i.child}return i;case 26:return wc(n,i),n===null?(a=R_(i.type,null,i.pendingProps,null))?i.memoizedState=a:Qe||(a=i.type,n=i.pendingProps,l=Bc(Te.current).createElement(a),l[kt]=i,l[Dt]=n,Jt(l,a,n),Rt(l),i.stateNode=l):i.memoizedState=R_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return cr(i),n===null&&Qe&&(l=i.stateNode=S_(i.type,i.pendingProps,Te.current),gn=i,Ar=!0,f=vt,Fi(i.type)?(lm=f,vt=ir(l.firstChild)):vt=f),Xt(n,i,i.pendingProps.children,a),wc(n,i),n===null&&(i.flags|=4194304),i.child;case 5:return n===null&&Qe&&((f=l=vt)&&(l=rA(l,i.type,i.pendingProps,Ar),l!==null?(i.stateNode=l,gn=i,vt=ir(l.firstChild),Ar=!1,f=!0):f=!1),f||Ls(i)),cr(i),f=i.type,d=i.pendingProps,T=n!==null?n.memoizedProps:null,l=d.children,im(f,d)?l=null:T!==null&&im(f,T)&&(i.flags|=32),i.memoizedState!==null&&(f=rd(n,i,TS,null,null,a),kl._currentValue=f),wc(n,i),Xt(n,i,l,a),i.child;case 6:return n===null&&Qe&&((n=a=vt)&&(a=iA(a,i.pendingProps,Ar),a!==null?(i.stateNode=a,gn=i,vt=null,n=!0):n=!1),n||Ls(i)),null;case 13:return _v(n,i,a);case 4:return Xe(i,i.stateNode.containerInfo),l=i.pendingProps,n===null?i.child=Ya(i,null,l,a):Xt(n,i,l,a),i.child;case 11:return hv(n,i,i.type,i.pendingProps,a);case 7:return Xt(n,i,i.pendingProps,a),i.child;case 8:return Xt(n,i,i.pendingProps.children,a),i.child;case 12:return Xt(n,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ci(i,i.type,l.value),Xt(n,i,l.children,a),i.child;case 9:return f=i.type._context,l=i.pendingProps.children,zs(i),f=sn(f),l=l(f),i.flags|=1,Xt(n,i,l,a),i.child;case 14:return fv(n,i,i.type,i.pendingProps,a);case 15:return dv(n,i,i.type,i.pendingProps,a);case 19:return Tv(n,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},n===null?(a=Rc(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Wr(n.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return mv(n,i,a);case 24:return zs(i),l=sn(Bt),n===null?(f=Yf(),f===null&&(f=lt,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),i.memoizedState={parent:l,cache:f},Xf(i),Ci(i,Bt,f)):((n.lanes&a)!==0&&(Wf(n,i),pl(i,null,null,a),ml()),f=n.memoizedState,d=i.memoizedState,f.parent!==l?(f={parent:l,cache:l},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Ci(i,Bt,l)):(l=d.cache,Ci(i,Bt,l),l!==f.cache&&Gf(i,[Bt],a,!0))),Xt(n,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function si(n){n.flags|=4}function Sv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!D_(i)){if(i=$n.current,i!==null&&((Fe&4194048)===Fe?wr!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||i!==wr))throw fl=$f,ay;n.flags|=8192}}function Nc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?Lo():536870912,n.lanes|=i,Ja|=i)}function bl(n,i){if(!Qe)switch(n.tailMode){case"hidden":i=n.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function mt(n){var i=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(i)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,i}function IS(n,i,a){var l=i.pendingProps;switch(zf(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(i),null;case 1:return mt(i),null;case 3:return a=i.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ti(Bt),Ln(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(sl(i)?si(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ty())),mt(i),null;case 26:return a=i.memoizedState,n===null?(si(i),a!==null?(mt(i),Sv(i,a)):(mt(i),i.flags&=-16777217)):a?a!==n.memoizedState?(si(i),mt(i),Sv(i,a)):(mt(i),i.flags&=-16777217):(n.memoizedProps!==l&&si(i),mt(i),i.flags&=-16777217),null;case 27:oe(i),a=Te.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==l&&si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}n=me.current,sl(i)?Zg(i):(n=S_(f,l,a),i.stateNode=n,si(i))}return mt(i),null;case 5:if(oe(i),a=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==l&&si(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return mt(i),null}if(n=me.current,sl(i))Zg(i);else{switch(f=Bc(Te.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[kt]=i,n[Dt]=l;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(Jt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&si(i)}}return mt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==l&&si(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(n=Te.current,sl(i)){if(n=i.stateNode,a=i.memoizedProps,l=null,f=gn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[kt]=i,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||g_(n.nodeValue,a)),n||Ls(i)}else n=Bc(n).createTextNode(l),n[kt]=i,i.stateNode=n}return mt(i),null;case 13:if(l=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=sl(i),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[kt]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;mt(i),f=!1}else f=ty(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(ri(i),i):(ri(i),null)}if(ri(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=i.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(i.child.flags|=8192),Nc(i,i.updateQueue),mt(i),null;case 4:return Ln(),n===null&&Zd(i.stateNode.containerInfo),mt(i),null;case 10:return ti(i.type),mt(i),null;case 19:if(W(zt),f=i.memoizedState,f===null)return mt(i),null;if(l=(i.flags&128)!==0,d=f.rendering,d===null)if(l)bl(f,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(d=bc(n),d!==null){for(i.flags|=128,bl(f,!1),n=d.updateQueue,i.updateQueue=n,Nc(i,n),i.subtreeFlags=0,n=a,a=i.child;a!==null;)Wg(a,n),a=a.sibling;return J(zt,zt.current&1|2),i.child}n=n.sibling}f.tail!==null&&It()>Ic&&(i.flags|=128,l=!0,bl(f,!1),i.lanes=4194304)}else{if(!l)if(n=bc(d),n!==null){if(i.flags|=128,l=!0,n=n.updateQueue,i.updateQueue=n,Nc(i,n),bl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Qe)return mt(i),null}else 2*It()-f.renderingStartTime>Ic&&a!==536870912&&(i.flags|=128,l=!0,bl(f,!1),i.lanes=4194304);f.isBackwards?(d.sibling=i.child,i.child=d):(n=f.last,n!==null?n.sibling=d:i.child=d,f.last=d)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=It(),i.sibling=null,n=zt.current,J(zt,l?n&1|2:n&1),i):(mt(i),null);case 22:case 23:return ri(i),td(),l=i.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(mt(i),i.subtreeFlags&6&&(i.flags|=8192)):mt(i),a=i.updateQueue,a!==null&&Nc(i,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),n!==null&&W(qs),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ti(Bt),mt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function DS(n,i){switch(zf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return ti(Bt),Ln(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return oe(i),null;case 13:if(ri(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(s(340));al()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return W(zt),null;case 4:return Ln(),null;case 10:return ti(i.type),null;case 22:case 23:return ri(i),td(),n!==null&&W(qs),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return ti(Bt),null;case 25:return null;default:return null}}function Av(n,i){switch(zf(i),i.tag){case 3:ti(Bt),Ln();break;case 26:case 27:case 5:oe(i);break;case 4:Ln();break;case 13:ri(i);break;case 19:W(zt);break;case 10:ti(i.type);break;case 22:case 23:ri(i),td(),n!==null&&W(qs);break;case 24:ti(Bt)}}function Sl(n,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){ot(i,i.return,b)}}function Vi(n,i,a){try{var l=i.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=i;var I=a,F=b;try{F()}catch(ee){ot(f,I,ee)}}}l=l.next}while(l!==d)}}catch(ee){ot(i,i.return,ee)}}function wv(n){var i=n.updateQueue;if(i!==null){var a=n.stateNode;try{fy(i,a)}catch(l){ot(n,n.return,l)}}}function Rv(n,i,a){a.props=Hs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){ot(n,i,l)}}function Al(n,i){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){ot(n,i,f)}}function Rr(n,i){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){ot(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){ot(n,i,f)}else a.current=null}function Nv(n){var i=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){ot(n,n.return,f)}}function xd(n,i,a){try{var l=n.stateNode;JS(l,n.type,a,i),l[Dt]=i}catch(f){ot(n,n.return,f)}}function Cv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Fi(n.type)||n.tag===4}function Id(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Cv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Fi(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dd(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(n),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&(l===27&&Fi(n.type)&&(a=n.stateNode,i=null),n=n.child,n!==null))for(Dd(n,i,a),n=n.sibling;n!==null;)Dd(n,i,a),n=n.sibling}function Cc(n,i,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,i?a.insertBefore(n,i):a.appendChild(n);else if(l!==4&&(l===27&&Fi(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Cc(n,i,a),n=n.sibling;n!==null;)Cc(n,i,a),n=n.sibling}function xv(n){var i=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);Jt(i,l,a),i[kt]=n,i[Dt]=a}catch(d){ot(n,n.return,d)}}var ai=!1,Ct=!1,Od=!1,Iv=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function OS(n,i){if(n=n.containerInfo,nm=Kc,n=zg(n),If(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,b=-1,I=-1,F=0,ee=0,ie=n,H=null;t:for(;;){for(var K;ie!==a||f!==0&&ie.nodeType!==3||(b=T+f),ie!==d||l!==0&&ie.nodeType!==3||(I=T+l),ie.nodeType===3&&(T+=ie.nodeValue.length),(K=ie.firstChild)!==null;)H=ie,ie=K;for(;;){if(ie===n)break t;if(H===a&&++F===f&&(b=T),H===d&&++ee===l&&(I=T),(K=ie.nextSibling)!==null)break;ie=H,H=ie.parentNode}ie=K}a=b===-1||I===-1?null:{start:b,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:n,selectionRange:a},Kc=!1,Gt=i;Gt!==null;)if(i=Gt,n=i.child,(i.subtreeFlags&1024)!==0&&n!==null)n.return=i,Gt=n;else for(;Gt!==null;){switch(i=Gt,d=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=i,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ne=Hs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ne,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Se){ot(a,a.return,Se)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,a=n.nodeType,a===9)am(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=i.sibling,n!==null){n.return=i.return,Gt=n;break}Gt=i.return}}function Dv(n,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ji(n,a),l&4&&Sl(5,a);break;case 1:if(ji(n,a),l&4)if(n=a.stateNode,i===null)try{n.componentDidMount()}catch(T){ot(a,a.return,T)}else{var f=Hs(a.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(T){ot(a,a.return,T)}}l&64&&wv(a),l&512&&Al(a,a.return);break;case 3:if(ji(n,a),l&64&&(n=a.updateQueue,n!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{fy(n,i)}catch(T){ot(a,a.return,T)}}break;case 27:i===null&&l&4&&xv(a);case 26:case 5:ji(n,a),i===null&&l&4&&Nv(a),l&512&&Al(a,a.return);break;case 12:ji(n,a);break;case 13:ji(n,a),l&4&&Pv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=zS.bind(null,a),sA(n,a))));break;case 22:if(l=a.memoizedState!==null||ai,!l){i=i!==null&&i.memoizedState!==null||Ct,f=ai;var d=Ct;ai=l,(Ct=i)&&!d?ki(n,a,(a.subtreeFlags&8772)!==0):ji(n,a),ai=f,Ct=d}break;case 30:break;default:ji(n,a)}}function Ov(n){var i=n.alternate;i!==null&&(n.alternate=null,Ov(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Ai(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ft=null,_n=!1;function oi(n,i,a){for(a=a.child;a!==null;)Mv(n,i,a),a=a.sibling}function Mv(n,i,a){if(We&&typeof We.onCommitFiberUnmount=="function")try{We.onCommitFiberUnmount(yt,a)}catch{}switch(a.tag){case 26:Ct||Rr(a,i),oi(n,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Rr(a,i);var l=ft,f=_n;Fi(a.type)&&(ft=a.stateNode,_n=!1),oi(n,i,a),Ml(a.stateNode),ft=l,_n=f;break;case 5:Ct||Rr(a,i);case 6:if(l=ft,f=_n,ft=null,oi(n,i,a),ft=l,_n=f,ft!==null)if(_n)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){ot(a,i,d)}else try{ft.removeChild(a.stateNode)}catch(d){ot(a,i,d)}break;case 18:ft!==null&&(_n?(n=ft,T_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),zl(n)):T_(ft,a.stateNode));break;case 4:l=ft,f=_n,ft=a.stateNode.containerInfo,_n=!0,oi(n,i,a),ft=l,_n=f;break;case 0:case 11:case 14:case 15:Ct||Vi(2,a,i),Ct||Vi(4,a,i),oi(n,i,a);break;case 1:Ct||(Rr(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Rv(a,i,l)),oi(n,i,a);break;case 21:oi(n,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,oi(n,i,a),Ct=l;break;default:oi(n,i,a)}}function Pv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{zl(n)}catch(a){ot(i,i.return,a)}}function MS(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Iv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Iv),i;default:throw Error(s(435,n.tag))}}function Md(n,i){var a=MS(n);i.forEach(function(l){var f=qS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function xn(n,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,T=i,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Fi(b.type)){ft=b.stateNode,_n=!1;break e}break;case 5:ft=b.stateNode,_n=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,_n=!0;break e}b=b.return}if(ft===null)throw Error(s(160));Mv(d,T,f),ft=null,_n=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vv(i,n),i=i.sibling}var rr=null;function Vv(n,i){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:xn(i,n),In(n),l&4&&(Vi(3,n,n.return),Sl(3,n),Vi(5,n,n.return));break;case 1:xn(i,n),In(n),l&512&&(Ct||a===null||Rr(a,a.return)),l&64&&ai&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=rr;if(xn(i,n),In(n),l&512&&(Ct||a===null||Rr(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[_s]||d[kt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Jt(d,l,a),d[kt]=n,Rt(d),l=d;break e;case"link":var T=x_("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(d=T[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;case"meta":if(T=x_("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(d=T[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}d=f.createElement(l),Jt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[kt]=n,Rt(d),l=d}n.stateNode=l}else I_(f,n.type,n.stateNode);else n.stateNode=C_(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?I_(f,n.type,n.stateNode):C_(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&xd(n,n.memoizedProps,a.memoizedProps)}break;case 27:xn(i,n),In(n),l&512&&(Ct||a===null||Rr(a,a.return)),a!==null&&l&4&&xd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(xn(i,n),In(n),l&512&&(Ct||a===null||Rr(a,a.return)),n.flags&32){f=n.stateNode;try{zn(f,"")}catch(K){ot(n,n.return,K)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,xd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Od=!0);break;case 6:if(xn(i,n),In(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(K){ot(n,n.return,K)}}break;case 3:if(Fc=null,f=rr,rr=zc(i.containerInfo),xn(i,n),rr=f,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(i.containerInfo)}catch(K){ot(n,n.return,K)}Od&&(Od=!1,jv(n));break;case 4:l=rr,rr=zc(n.stateNode.containerInfo),xn(i,n),In(n),rr=l;break;case 12:xn(i,n),In(n);break;case 13:xn(i,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=It()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 22:f=n.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,F=ai,ee=Ct;if(ai=F||f,Ct=ee||I,xn(i,n),Ct=ee,ai=F,In(n),l&8192)e:for(i=n.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||I||ai||Ct||Gs(n)),a=null,i=n;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=I.stateNode;var ie=I.memoizedProps.style,H=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(K){ot(I,I.return,K)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=f?"":I.memoizedProps}catch(K){ot(I,I.return,K)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Md(n,a))));break;case 19:xn(i,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 30:break;case 21:break;default:xn(i,n),In(n)}}function In(n){var i=n.flags;if(i&2){try{for(var a,l=n.return;l!==null;){if(Cv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Id(n);Cc(n,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(zn(T,""),a.flags&=-33);var b=Id(n);Cc(n,b,T);break;case 3:case 4:var I=a.stateNode.containerInfo,F=Id(n);Dd(n,F,I);break;default:throw Error(s(161))}}catch(ee){ot(n,n.return,ee)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function jv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;jv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function ji(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Dv(n,i.alternate,i),i=i.sibling}function Gs(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:Vi(4,i,i.return),Gs(i);break;case 1:Rr(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Rv(i,i.return,a),Gs(i);break;case 27:Ml(i.stateNode);case 26:case 5:Rr(i,i.return),Gs(i);break;case 22:i.memoizedState===null&&Gs(i);break;case 30:Gs(i);break;default:Gs(i)}n=n.sibling}}function ki(n,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,f=n,d=i,T=d.flags;switch(d.tag){case 0:case 11:case 15:ki(f,d,a),Sl(4,d);break;case 1:if(ki(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){ot(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var I=f.shared.hiddenCallbacks;if(I!==null)for(f.shared.hiddenCallbacks=null,f=0;f<I.length;f++)hy(I[f],b)}catch(F){ot(l,l.return,F)}}a&&T&64&&wv(d),Al(d,d.return);break;case 27:xv(d);case 26:case 5:ki(f,d,a),a&&l===null&&T&4&&Nv(d),Al(d,d.return);break;case 12:ki(f,d,a);break;case 13:ki(f,d,a),a&&T&4&&Pv(f,d);break;case 22:d.memoizedState===null&&ki(f,d,a),Al(d,d.return);break;case 30:break;default:ki(f,d,a)}i=i.sibling}}function Pd(n,i){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&ul(a))}function Vd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n))}function Nr(n,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kv(n,i,a,l),i=i.sibling}function kv(n,i,a,l){var f=i.flags;switch(i.tag){case 0:case 11:case 15:Nr(n,i,a,l),f&2048&&Sl(9,i);break;case 1:Nr(n,i,a,l);break;case 3:Nr(n,i,a,l),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&ul(n)));break;case 12:if(f&2048){Nr(n,i,a,l),n=i.stateNode;try{var d=i.memoizedProps,T=d.id,b=d.onPostCommit;typeof b=="function"&&b(T,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(I){ot(i,i.return,I)}}else Nr(n,i,a,l);break;case 13:Nr(n,i,a,l);break;case 23:break;case 22:d=i.stateNode,T=i.alternate,i.memoizedState!==null?d._visibility&2?Nr(n,i,a,l):wl(n,i):d._visibility&2?Nr(n,i,a,l):(d._visibility|=2,$a(n,i,a,l,(i.subtreeFlags&10256)!==0)),f&2048&&Pd(T,i);break;case 24:Nr(n,i,a,l),f&2048&&Vd(i.alternate,i);break;default:Nr(n,i,a,l)}}function $a(n,i,a,l,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=n,T=i,b=a,I=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:$a(d,T,b,I,f),Sl(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?$a(d,T,b,I,f):wl(d,T):(ee._visibility|=2,$a(d,T,b,I,f)),f&&F&2048&&Pd(T.alternate,T);break;case 24:$a(d,T,b,I,f),f&&F&2048&&Vd(T.alternate,T);break;default:$a(d,T,b,I,f)}i=i.sibling}}function wl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=n,l=i,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Pd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Vd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Rl=8192;function Xa(n){if(n.subtreeFlags&Rl)for(n=n.child;n!==null;)Uv(n),n=n.sibling}function Uv(n){switch(n.tag){case 26:Xa(n),n.flags&Rl&&n.memoizedState!==null&&vA(rr,n.memoizedState,n.memoizedProps);break;case 5:Xa(n);break;case 3:case 4:var i=rr;rr=zc(n.stateNode.containerInfo),Xa(n),rr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Rl,Rl=16777216,Xa(n),Rl=i):Xa(n));break;default:Xa(n)}}function Lv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Nl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,zv(l,n)}Lv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Bv(n),n=n.sibling}function Bv(n){switch(n.tag){case 0:case 11:case 15:Nl(n),n.flags&2048&&Vi(9,n,n.return);break;case 3:Nl(n);break;case 12:Nl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&2&&(n.return===null||n.return.tag!==13)?(i._visibility&=-3,xc(n)):Nl(n);break;default:Nl(n)}}function xc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Gt=l,zv(l,n)}Lv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:Vi(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}n=n.sibling}}function zv(n,i){for(;Gt!==null;){var a=Gt;switch(a.tag){case 0:case 11:case 15:Vi(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Gt=l;else e:for(a=n;Gt!==null;){l=Gt;var f=l.sibling,d=l.return;if(Ov(l),l===a){Gt=null;break e}if(f!==null){f.return=d,Gt=f;break e}Gt=d}}}var PS={getCacheForType:function(n){var i=sn(Bt),a=i.data.get(n);return a===void 0&&(a=n(),i.data.set(n,a)),a}},VS=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,ke=null,Fe=0,Ze=0,Dn=null,Ui=!1,Wa=!1,jd=!1,li=0,_t=0,Li=0,Ks=0,kd=0,Xn=0,Ja=0,Cl=null,En=null,Ud=!1,Ld=0,Ic=1/0,Dc=null,Bi=null,Wt=0,zi=null,Za=null,eo=0,Bd=0,zd=null,qv=null,xl=0,qd=null;function On(){if((Je&2)!==0&&Fe!==0)return Fe&-Fe;if(Q.T!==null){var n=za;return n!==0?n:$d()}return bi()}function Fv(){Xn===0&&(Xn=(Fe&536870912)===0||Qe?Uo():536870912);var n=$n.current;return n!==null&&(n.flags|=32),Xn}function Mn(n,i,a){(n===lt&&(Ze===2||Ze===9)||n.cancelPendingCommit!==null)&&(to(n,0),qi(n,Fe,Xn,!1)),Br(n,a),((Je&2)===0||n!==lt)&&(n===lt&&((Je&2)===0&&(Ks|=a),_t===4&&qi(n,Fe,Xn,!1)),Cr(n))}function Hv(n,i,a){if((Je&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&n.expiredLanes)===0||vs(n,i),f=l?US(n,i):Gd(n,i,!0),d=l;do{if(f===0){Wa&&!l&&qi(n,i,0,!1);break}else{if(a=n.current.alternate,d&&!jS(a)){f=Gd(n,i,!1),d=!1;continue}if(f===2){if(d=i,n.errorRecoveryDisabledLanes&d)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){i=T;e:{var b=n;f=Cl;var I=b.current.memoizedState.isDehydrated;if(I&&(to(b,T).flags|=256),T=Gd(b,T,!1),T!==2){if(jd&&!I){b.errorRecoveryDisabledLanes|=d,Ks|=d,f=4;break e}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){to(n,0),qi(n,i,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qi(l,i,Xn,!Ui);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(f=Ld+300-It(),10<f)){if(qi(l,i,Xn,!Ui),va(l,0,!0)!==0)break e;l.timeoutHandle=__(Gv.bind(null,l,a,En,Dc,Ud,i,Xn,Ks,Ja,Ui,d,2,-0,0),f);break e}Gv(l,a,En,Dc,Ud,i,Xn,Ks,Ja,Ui,d,0,-0,0)}}break}while(!0);Cr(n)}function Gv(n,i,a,l,f,d,T,b,I,F,ee,ie,H,K){if(n.timeoutHandle=-1,ie=i.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:yA},Uv(i),ie=_A(),ie!==null)){n.cancelPendingCommit=ie(Jv.bind(null,n,i,d,a,l,f,T,b,I,ee,1,H,K)),qi(n,d,T,!F);return}Jv(n,i,d,a,l,f,T,b,I)}function jS(n){for(var i=n;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Nn(d(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qi(n,i,a,l){i&=~kd,i&=~Ks,n.suspendedLanes|=i,n.pingedLanes&=~i,l&&(n.warmLanes|=i),l=n.expirationTimes;for(var f=i;0<f;){var d=31-rn(f),T=1<<d;l[d]=-1,f&=~T}a!==0&&dr(n,a,i)}function Oc(){return(Je&6)===0?(Il(0),!1):!0}function Fd(){if(ke!==null){if(Ze===0)var n=ke.return;else n=ke,ei=Bs=null,ad(n),Qa=null,El=0,n=ke;for(;n!==null;)Av(n.alternate,n),n=n.return;ke=null}}function to(n,i){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,eA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fd(),lt=n,ke=a=Wr(n.current,null),Fe=i,Ze=0,Dn=null,Ui=!1,Wa=vs(n,i),jd=!1,Ja=Xn=kd=Ks=Li=_t=0,En=Cl=null,Ud=!1,(i&8)!==0&&(i|=i&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=i;0<l;){var f=31-rn(l),d=1<<f;i|=n[f],l&=~d}return li=i,ec(),a}function Kv(n,i){Ve=null,Q.H=_c,i===hl||i===uc?(i=uy(),Ze=3):i===ay?(i=uy(),Ze=4):Ze=i===cv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Dn=i,ke===null&&(_t=1,Ac(n,Gn(i,n.current)))}function Qv(){var n=Q.H;return Q.H=_c,n===null?_c:n}function Yv(){var n=Q.A;return Q.A=PS,n}function Hd(){_t=4,Ui||(Fe&4194048)!==Fe&&$n.current!==null||(Wa=!0),(Li&134217727)===0&&(Ks&134217727)===0||lt===null||qi(lt,Fe,Xn,!1)}function Gd(n,i,a){var l=Je;Je|=2;var f=Qv(),d=Yv();(lt!==n||Fe!==i)&&(Dc=null,to(n,i)),i=!1;var T=_t;e:do try{if(Ze!==0&&ke!==null){var b=ke,I=Dn;switch(Ze){case 8:Fd(),T=6;break e;case 3:case 2:case 9:case 6:$n.current===null&&(i=!0);var F=Ze;if(Ze=0,Dn=null,no(n,b,I,F),a&&Wa){T=0;break e}break;default:F=Ze,Ze=0,Dn=null,no(n,b,I,F)}}kS(),T=_t;break}catch(ee){Kv(n,ee)}while(!0);return i&&n.shellSuspendCounter++,ei=Bs=null,Je=l,Q.H=f,Q.A=d,ke===null&&(lt=null,Fe=0,ec()),T}function kS(){for(;ke!==null;)$v(ke)}function US(n,i){var a=Je;Je|=2;var l=Qv(),f=Yv();lt!==n||Fe!==i?(Dc=null,Ic=It()+500,to(n,i)):Wa=vs(n,i);e:do try{if(Ze!==0&&ke!==null){i=ke;var d=Dn;t:switch(Ze){case 1:Ze=0,Dn=null,no(n,i,d,1);break;case 2:case 9:if(oy(d)){Ze=0,Dn=null,Xv(i);break}i=function(){Ze!==2&&Ze!==9||lt!==n||(Ze=7),Cr(n)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:oy(d)?(Ze=0,Dn=null,Xv(i)):(Ze=0,Dn=null,no(n,i,d,7));break;case 5:var T=null;switch(ke.tag){case 26:T=ke.memoizedState;case 5:case 27:var b=ke;if(!T||D_(T)){Ze=0,Dn=null;var I=b.sibling;if(I!==null)ke=I;else{var F=b.return;F!==null?(ke=F,Mc(F)):ke=null}break t}}Ze=0,Dn=null,no(n,i,d,5);break;case 6:Ze=0,Dn=null,no(n,i,d,6);break;case 8:Fd(),_t=6;break e;default:throw Error(s(462))}}LS();break}catch(ee){Kv(n,ee)}while(!0);return ei=Bs=null,Q.H=l,Q.A=f,Je=a,ke!==null?0:(lt=null,Fe=0,ec(),_t)}function LS(){for(;ke!==null&&!dt();)$v(ke)}function $v(n){var i=bv(n.alternate,n,li);n.memoizedProps=n.pendingProps,i===null?Mc(n):ke=i}function Xv(n){var i=n,a=i.alternate;switch(i.tag){case 15:case 0:i=gv(a,i,i.pendingProps,i.type,void 0,Fe);break;case 11:i=gv(a,i,i.pendingProps,i.type.render,i.ref,Fe);break;case 5:ad(i);default:Av(a,i),i=ke=Wg(i,li),i=bv(a,i,li)}n.memoizedProps=n.pendingProps,i===null?Mc(n):ke=i}function no(n,i,a,l){ei=Bs=null,ad(i),Qa=null,El=0;var f=i.return;try{if(CS(n,f,i,a,Fe)){_t=1,Ac(n,Gn(a,n.current)),ke=null;return}}catch(d){if(f!==null)throw ke=f,d;_t=1,Ac(n,Gn(a,n.current)),ke=null;return}i.flags&32768?(Qe||l===1?n=!0:Wa||(Fe&536870912)!==0?n=!1:(Ui=n=!0,(l===2||l===9||l===3||l===6)&&(l=$n.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wv(i,n)):Mc(i)}function Mc(n){var i=n;do{if((i.flags&32768)!==0){Wv(i,Ui);return}n=i.return;var a=IS(i.alternate,i,li);if(a!==null){ke=a;return}if(i=i.sibling,i!==null){ke=i;return}ke=i=n}while(i!==null);_t===0&&(_t=5)}function Wv(n,i){do{var a=DS(n.alternate,n);if(a!==null){a.flags&=32767,ke=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(n=n.sibling,n!==null)){ke=n;return}ke=n=a}while(n!==null);_t=6,ke=null}function Jv(n,i,a,l,f,d,T,b,I){n.cancelPendingCommit=null;do Pc();while(Wt!==0);if((Je&6)!==0)throw Error(s(327));if(i!==null){if(i===n.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Vf,Bo(n,a,d,T,b,I),n===lt&&(ke=lt=null,Fe=0),Za=i,zi=n,eo=a,Bd=d,zd=f,qv=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,FS(ms,function(){return r_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null,f=Y.p,Y.p=2,T=Je,Je|=4;try{OS(n,i,a)}finally{Je=T,Y.p=f,Q.T=l}}Wt=1,Zv(),e_(),t_()}}function Zv(){if(Wt===1){Wt=0;var n=zi,i=Za,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var l=Y.p;Y.p=2;var f=Je;Je|=4;try{Vv(i,n);var d=rm,T=zg(n.containerInfo),b=d.focusedElem,I=d.selectionRange;if(T!==b&&b&&b.ownerDocument&&Bg(b.ownerDocument.documentElement,b)){if(I!==null&&If(b)){var F=I.start,ee=I.end;if(ee===void 0&&(ee=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(ee,b.value.length);else{var ie=b.ownerDocument||document,H=ie&&ie.defaultView||window;if(H.getSelection){var K=H.getSelection(),Ne=b.textContent.length,Se=Math.min(I.start,Ne),st=I.end===void 0?Se:Math.min(I.end,Ne);!K.extend&&Se>st&&(T=st,st=Se,Se=T);var B=Lg(b,Se),U=Lg(b,st);if(B&&U&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var q=ie.createRange();q.setStart(B.node,B.offset),K.removeAllRanges(),Se>st?(K.addRange(q),K.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),K.addRange(q))}}}}for(ie=[],K=b;K=K.parentNode;)K.nodeType===1&&ie.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var te=ie[b];te.element.scrollLeft=te.left,te.element.scrollTop=te.top}}Kc=!!nm,rm=nm=null}finally{Je=f,Y.p=l,Q.T=a}}n.current=i,Wt=2}}function e_(){if(Wt===2){Wt=0;var n=zi,i=Za,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var l=Y.p;Y.p=2;var f=Je;Je|=4;try{Dv(n,i.alternate,i)}finally{Je=f,Y.p=l,Q.T=a}}Wt=3}}function t_(){if(Wt===4||Wt===3){Wt=0,Sn();var n=zi,i=Za,a=eo,l=qv;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Wt=5:(Wt=0,Za=zi=null,n_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Bi=null),_a(a),i=i.stateNode,We&&typeof We.onCommitFiberRoot=="function")try{We.onCommitFiberRoot(yt,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Q.T,f=Y.p,Y.p=2,Q.T=null;try{for(var d=n.onRecoverableError,T=0;T<l.length;T++){var b=l[T];d(b.value,{componentStack:b.stack})}}finally{Q.T=i,Y.p=f}}(eo&3)!==0&&Pc(),Cr(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===qd?xl++:(xl=0,qd=n):xl=0,Il(0)}}function n_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,ul(i)))}function Pc(n){return Zv(),e_(),t_(),r_()}function r_(){if(Wt!==5)return!1;var n=zi,i=Bd;Bd=0;var a=_a(eo),l=Q.T,f=Y.p;try{Y.p=32>a?32:a,Q.T=null,a=zd,zd=null;var d=zi,T=eo;if(Wt=0,Za=zi=null,eo=0,(Je&6)!==0)throw Error(s(331));var b=Je;if(Je|=4,Bv(d.current),kv(d,d.current,T,a),Je=b,Il(0,!1),We&&typeof We.onPostCommitFiberRoot=="function")try{We.onPostCommitFiberRoot(yt,d)}catch{}return!0}finally{Y.p=f,Q.T=l,n_(n,i)}}function i_(n,i,a){i=Gn(a,i),i=Ed(n.stateNode,i,2),n=Di(n,i,2),n!==null&&(Br(n,2),Cr(n))}function ot(n,i,a){if(n.tag===3)i_(n,n,a);else for(;i!==null;){if(i.tag===3){i_(i,n,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Bi===null||!Bi.has(l))){n=Gn(a,n),a=lv(2),l=Di(i,a,2),l!==null&&(uv(a,l,i,n),Br(l,2),Cr(l));break}}i=i.return}}function Kd(n,i,a){var l=n.pingCache;if(l===null){l=n.pingCache=new VS;var f=new Set;l.set(i,f)}else f=l.get(i),f===void 0&&(f=new Set,l.set(i,f));f.has(a)||(jd=!0,f.add(a),n=BS.bind(null,n,i,a),i.then(n,n))}function BS(n,i,a){var l=n.pingCache;l!==null&&l.delete(i),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,lt===n&&(Fe&a)===a&&(_t===4||_t===3&&(Fe&62914560)===Fe&&300>It()-Ld?(Je&2)===0&&to(n,0):kd|=a,Ja===Fe&&(Ja=0)),Cr(n)}function s_(n,i){i===0&&(i=Lo()),n=ka(n,i),n!==null&&(Br(n,i),Cr(n))}function zS(n){var i=n.memoizedState,a=0;i!==null&&(a=i.retryLane),s_(n,a)}function qS(n,i){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),s_(n,a)}function FS(n,i){return Ye(n,i)}var Vc=null,ro=null,Qd=!1,jc=!1,Yd=!1,Qs=0;function Cr(n){n!==ro&&n.next===null&&(ro===null?Vc=ro=n:ro=ro.next=n),jc=!0,Qd||(Qd=!0,GS())}function Il(n,i){if(!Yd&&jc){Yd=!0;do for(var a=!1,l=Vc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-rn(42|n)+1)-1,d&=f&~(T&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,u_(l,d))}else d=Fe,d=va(l,l===lt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||vs(l,d)||(a=!0,u_(l,d));l=l.next}while(a);Yd=!1}}function HS(){a_()}function a_(){jc=Qd=!1;var n=0;Qs!==0&&(ZS()&&(n=Qs),Qs=0);for(var i=It(),a=null,l=Vc;l!==null;){var f=l.next,d=o_(l,i);d===0?(l.next=null,a===null?Vc=f:a.next=f,f===null&&(ro=a)):(a=l,(n!==0||(d&3)!==0)&&(jc=!0)),l=f}Il(n)}function o_(n,i){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var T=31-rn(d),b=1<<T,I=f[T];I===-1?((b&a)===0||(b&l)!==0)&&(f[T]=ko(b,i)):I<=i&&(n.expiredLanes|=b),d&=~b}if(i=lt,a=Fe,a=va(n,n===i?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===i&&(Ze===2||Ze===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&at(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||vs(n,a)){if(i=a&-a,i===n.callbackPriority)return i;switch(l!==null&&at(l),_a(a)){case 2:case 8:a=fr;break;case 32:a=ms;break;case 268435456:a=ya;break;default:a=ms}return l=l_.bind(null,n),a=Ye(a,l),n.callbackPriority=i,n.callbackNode=a,i}return l!==null&&l!==null&&at(l),n.callbackPriority=2,n.callbackNode=null,2}function l_(n,i){if(Wt!==0&&Wt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Pc()&&n.callbackNode!==a)return null;var l=Fe;return l=va(n,n===lt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Hv(n,l,i),o_(n,It()),n.callbackNode!=null&&n.callbackNode===a?l_.bind(null,n):null)}function u_(n,i){if(Pc())return null;Hv(n,i,!0)}function GS(){tA(function(){(Je&6)!==0?Ye(An,HS):a_()})}function $d(){return Qs===0&&(Qs=Uo()),Qs}function c_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:wa(""+n)}function h_(n,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,n.id&&a.setAttribute("form",n.id),i.parentNode.insertBefore(a,i),n=new FormData(n),a.parentNode.removeChild(a),n}function KS(n,i,a,l,f){if(i==="submit"&&a&&a.stateNode===f){var d=c_((f[Dt]||null).action),T=l.submitter;T&&(i=(i=T[Dt]||null)?c_(i.formAction):T.getAttribute("formAction"),i!==null&&(d=i,T=null));var b=new Ra("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Qs!==0){var I=T?h_(f,T):new FormData(f);pd(a,{pending:!0,data:I,method:f.method,action:d},null,I)}}else typeof d=="function"&&(b.preventDefault(),I=T?h_(f,T):new FormData(f),pd(a,{pending:!0,data:I,method:f.method,action:d},d,I))},currentTarget:f}]})}}for(var Xd=0;Xd<Pf.length;Xd++){var Wd=Pf[Xd],QS=Wd.toLowerCase(),YS=Wd[0].toUpperCase()+Wd.slice(1);nr(QS,"on"+YS)}nr(Hg,"onAnimationEnd"),nr(Gg,"onAnimationIteration"),nr(Kg,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(hS,"onTransitionRun"),nr(fS,"onTransitionStart"),nr(dS,"onTransitionCancel"),nr(Qg,"onTransitionEnd"),qr("onMouseEnter",["mouseout","mouseover"]),qr("onMouseLeave",["mouseout","mouseover"]),qr("onPointerEnter",["pointerout","pointerover"]),qr("onPointerLeave",["pointerout","pointerover"]),er("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),er("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),er("onBeforeInput",["compositionend","keypress","textInput","paste"]),er("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),er("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function f_(n,i){i=(i&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var T=l.length-1;0<=T;T--){var b=l[T],I=b.instance,F=b.currentTarget;if(b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(ee){Sc(ee)}f.currentTarget=null,d=I}else for(T=0;T<l.length;T++){if(b=l[T],I=b.instance,F=b.currentTarget,b=b.listener,I!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(ee){Sc(ee)}f.currentTarget=null,d=I}}}}function Ue(n,i){var a=i[qo];a===void 0&&(a=i[qo]=new Set);var l=n+"__bubble";a.has(l)||(d_(i,n,2,!1),a.add(l))}function Jd(n,i,a){var l=0;i&&(l|=4),d_(a,n,l,i)}var kc="_reactListening"+Math.random().toString(36).slice(2);function Zd(n){if(!n[kc]){n[kc]=!0,Fo.forEach(function(a){a!=="selectionchange"&&($S.has(a)||Jd(a,!1,n),Jd(a,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[kc]||(i[kc]=!0,Jd("selectionchange",!1,i))}}function d_(n,i,a,l){switch(k_(i)){case 2:var f=bA;break;case 8:f=SA;break;default:f=dm}a=f.bind(null,i,a,n),f=void 0,!Fn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(i,a,{capture:!0,passive:f}):n.addEventListener(i,a,!0):f!==void 0?n.addEventListener(i,a,{passive:f}):n.addEventListener(i,a,!1)}function em(n,i,a,l,f){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var I=T.tag;if((I===3||I===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=zr(b),T===null)return;if(I=T.tag,I===5||I===6||I===26||I===27){l=d=T;continue e}b=b.parentNode}}l=l.return}Lu(function(){var F=d,ee=qn(a),ie=[];e:{var H=Yg.get(n);if(H!==void 0){var K=Ra,Ne=n;switch(n){case"keypress":if(_r(a)===0)break e;case"keydown":case"keyup":K=Oa;break;case"focusin":Ne="focus",K=xa;break;case"focusout":Ne="blur",K=xa;break;case"beforeblur":case"afterblur":K=xa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Qu;break;case Hg:case Gg:case Kg:K=Ia;break;case Qg:K=$u;break;case"scroll":case"scrollend":K=Bu;break;case"wheel":K=Ma;break;case"copy":case"cut":case"paste":K=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=tl;break;case"toggle":case"beforetoggle":K=Wu}var Se=(i&4)!==0,st=!Se&&(n==="scroll"||n==="scrollend"),B=Se?H!==null?H+"Capture":null:H;Se=[];for(var U=F,q;U!==null;){var te=U;if(q=te.stateNode,te=te.tag,te!==5&&te!==26&&te!==27||q===null||B===null||(te=Rs(U,B),te!=null&&Se.push(Ol(U,te,q))),st)break;U=U.return}0<Se.length&&(H=new K(H,Ne,null,a,ee),ie.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",H&&a!==Gr&&(Ne=a.relatedTarget||a.fromElement)&&(zr(Ne)||Ne[Bn]))break e;if((K||H)&&(H=ee.window===ee?ee:(H=ee.ownerDocument)?H.defaultView||H.parentWindow:window,K?(Ne=a.relatedTarget||a.toElement,K=F,Ne=Ne?zr(Ne):null,Ne!==null&&(st=u(Ne),Se=Ne.tag,Ne!==st||Se!==5&&Se!==27&&Se!==6)&&(Ne=null)):(K=null,Ne=F),K!==Ne)){if(Se=Hn,te="onMouseLeave",B="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Se=tl,te="onPointerLeave",B="onPointerEnter",U="pointer"),st=K==null?H:pr(K),q=Ne==null?H:pr(Ne),H=new Se(te,U+"leave",K,a,ee),H.target=st,H.relatedTarget=q,te=null,zr(ee)===F&&(Se=new Se(B,U+"enter",Ne,a,ee),Se.target=q,Se.relatedTarget=st,te=Se),st=te,K&&Ne)t:{for(Se=K,B=Ne,U=0,q=Se;q;q=io(q))U++;for(q=0,te=B;te;te=io(te))q++;for(;0<U-q;)Se=io(Se),U--;for(;0<q-U;)B=io(B),q--;for(;U--;){if(Se===B||B!==null&&Se===B.alternate)break t;Se=io(Se),B=io(B)}Se=null}else Se=null;K!==null&&m_(ie,H,K,Se,!1),Ne!==null&&st!==null&&m_(ie,st,Ne,Se,!0)}}e:{if(H=F?pr(F):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var ge=Mg;else if(Lt(H))if(Pg)ge=lS;else{ge=aS;var je=sS}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Yo(F.elementType)&&(ge=Mg):ge=oS;if(ge&&(ge=ge(n,F))){Xr(ie,ge,a,ee);break e}je&&je(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Ri(H,"number",H.value)}switch(je=F?pr(F):window,n){case"focusin":(Lt(je)||je.contentEditable==="true")&&(Pa=je,Df=F,il=null);break;case"focusout":il=Df=Pa=null;break;case"mousedown":Of=!0;break;case"contextmenu":case"mouseup":case"dragend":Of=!1,qg(ie,a,ee);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":qg(ie,a,ee)}var Ee;if(br)e:{switch(n){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else ze?$(n,a)&&(Ae="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Ae="onCompositionStart");Ae&&(_&&a.locale!=="ko"&&(ze||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&ze&&(Ee=Xo()):(vr=ee,Ni="value"in vr?vr.value:vr.textContent,ze=!0)),je=Uc(F,Ae),0<je.length&&(Ae=new Zo(Ae,n,null,a,ee),ie.push({event:Ae,listeners:je}),Ee?Ae.data=Ee:(Ee=he(a),Ee!==null&&(Ae.data=Ee)))),(Ee=y?Ut(n,a):qe(n,a))&&(Ae=Uc(F,"onBeforeInput"),0<Ae.length&&(je=new Zo("onBeforeInput","beforeinput",null,a,ee),ie.push({event:je,listeners:Ae}),je.data=Ee)),KS(ie,n,F,a,ee)}f_(ie,i)})}function Ol(n,i,a){return{instance:n,listener:i,currentTarget:a}}function Uc(n,i){for(var a=i+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Rs(n,a),f!=null&&l.unshift(Ol(n,f,d)),f=Rs(n,i),f!=null&&l.push(Ol(n,f,d))),n.tag===3)return l;n=n.return}return[]}function io(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function m_(n,i,a,l,f){for(var d=i._reactName,T=[];a!==null&&a!==l;){var b=a,I=b.alternate,F=b.stateNode;if(b=b.tag,I!==null&&I===l)break;b!==5&&b!==26&&b!==27||F===null||(I=F,f?(F=Rs(a,d),F!=null&&T.unshift(Ol(a,F,I))):f||(F=Rs(a,d),F!=null&&T.push(Ol(a,F,I)))),a=a.return}T.length!==0&&n.push({event:i,listeners:T})}var XS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function p_(n){return(typeof n=="string"?n:""+n).replace(XS,`
`).replace(WS,"")}function g_(n,i){return i=p_(i),p_(n)===i}function Lc(){}function it(n,i,a,l,f,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||zn(n,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&zn(n,""+l);break;case"className":gr(n,"class",l);break;case"tabIndex":gr(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gr(n,a,l);break;case"style":Qo(n,l,d);break;case"data":if(i!=="object"){gr(n,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wa(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&it(n,i,"name",f.name,f,null),it(n,i,"formEncType",f.formEncType,f,null),it(n,i,"formMethod",f.formMethod,f,null),it(n,i,"formTarget",f.formTarget,f,null)):(it(n,i,"encType",f.encType,f,null),it(n,i,"method",f.method,f,null),it(n,i,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=wa(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=wa(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":Ue("beforetoggle",n),Ue("toggle",n),wi(n,"popover",l);break;case"xlinkActuate":Yt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Yt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Yt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Yt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Yt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Yt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Yt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wi(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,wi(n,a,l))}}function tm(n,i,a,l,f,d){switch(a){case"style":Qo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?zn(n,l):(typeof l=="number"||typeof l=="bigint")&&zn(n,""+l);break;case"onScroll":l!=null&&Ue("scroll",n);break;case"onScrollEnd":l!=null&&Ue("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ea.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),d=n[Dt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(i,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(i,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):wi(n,a,l)}}}function Jt(n,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",n),Ue("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(n,i,d,T,a,null)}}f&&it(n,i,"srcSet",a.srcSet,a,null),l&&it(n,i,"src",a.src,a,null);return;case"input":Ue("invalid",n);var b=d=T=f=null,I=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":f=ee;break;case"type":T=ee;break;case"checked":I=ee;break;case"defaultChecked":F=ee;break;case"value":d=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,i));break;default:it(n,i,l,ee,a,null)}}Ss(n,d,b,I,F,T,f,!1),Aa(n);return;case"select":Ue("invalid",n),l=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:it(n,i,f,b,a,null)}i=d,a=T,n.multiple=!!l,i!=null?Hr(n,!!l,i,!1):a!=null&&Hr(n,!!l,a,!0);return;case"textarea":Ue("invalid",n),d=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:it(n,i,T,b,a,null)}As(n,l,f,d),Aa(n);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(n,i,I,l,a,null)}return;case"dialog":Ue("beforetoggle",n),Ue("toggle",n),Ue("cancel",n),Ue("close",n);break;case"iframe":case"object":Ue("load",n);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Ue(Dl[l],n);break;case"image":Ue("error",n),Ue("load",n);break;case"details":Ue("toggle",n);break;case"embed":case"source":case"link":Ue("error",n),Ue("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:it(n,i,F,l,a,null)}return;default:if(Yo(i)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&tm(n,i,ee,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&it(n,i,b,l,a,null))}function JS(n,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,b=null,I=null,F=null,ee=null;for(K in a){var ie=a[K];if(a.hasOwnProperty(K)&&ie!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ie;default:l.hasOwnProperty(K)||it(n,i,K,null,l,ie)}}for(var H in l){var K=l[H];if(ie=a[H],l.hasOwnProperty(H)&&(K!=null||ie!=null))switch(H){case"type":d=K;break;case"name":f=K;break;case"checked":F=K;break;case"defaultChecked":ee=K;break;case"value":T=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ie&&it(n,i,H,K,l,ie)}}Rn(n,T,b,I,F,ee,d,f);return;case"select":K=T=b=H=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||it(n,i,d,null,l,I)}for(f in l)if(d=l[f],I=a[f],l.hasOwnProperty(f)&&(d!=null||I!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":T=d;default:d!==I&&it(n,i,f,d,l,I)}i=b,a=T,l=K,H!=null?Hr(n,!!a,H,!1):!!l!=!!a&&(i!=null?Hr(n,!!a,i,!0):Hr(n,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:it(n,i,b,null,l,f)}for(T in l)if(f=l[T],d=a[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":H=f;break;case"defaultValue":K=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&it(n,i,T,f,l,d)}nt(n,H,K);return;case"option":for(var Ne in a)if(H=a[Ne],a.hasOwnProperty(Ne)&&H!=null&&!l.hasOwnProperty(Ne))switch(Ne){case"selected":n.selected=!1;break;default:it(n,i,Ne,null,l,H)}for(I in l)if(H=l[I],K=a[I],l.hasOwnProperty(I)&&H!==K&&(H!=null||K!=null))switch(I){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:it(n,i,I,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&it(n,i,Se,null,l,H);for(F in l)if(H=l[F],K=a[F],l.hasOwnProperty(F)&&H!==K&&(H!=null||K!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:it(n,i,F,H,l,K)}return;default:if(Yo(i)){for(var st in a)H=a[st],a.hasOwnProperty(st)&&H!==void 0&&!l.hasOwnProperty(st)&&tm(n,i,st,void 0,l,H);for(ee in l)H=l[ee],K=a[ee],!l.hasOwnProperty(ee)||H===K||H===void 0&&K===void 0||tm(n,i,ee,H,l,K);return}}for(var B in a)H=a[B],a.hasOwnProperty(B)&&H!=null&&!l.hasOwnProperty(B)&&it(n,i,B,null,l,H);for(ie in l)H=l[ie],K=a[ie],!l.hasOwnProperty(ie)||H===K||H==null&&K==null||it(n,i,ie,H,l,K)}var nm=null,rm=null;function Bc(n){return n.nodeType===9?n:n.ownerDocument}function y_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function im(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var sm=null;function ZS(){var n=window.event;return n&&n.type==="popstate"?n===sm?!1:(sm=n,!0):(sm=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(n){return E_.resolve(null).then(n).catch(nA)}:__;function nA(n){setTimeout(function(){throw n})}function Fi(n){return n==="head"}function T_(n,i){var a=i,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Ml(T.documentElement),a&2&&Ml(T.body),a&4)for(a=T.head,Ml(a),T=a.firstChild;T;){var b=T.nextSibling,I=T.nodeName;T[_s]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){n.removeChild(d),zl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);zl(i)}function am(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Ai(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function rA(n,i,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[_s])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ir(n.nextSibling),n===null)break}return null}function iA(n,i,a){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ir(n.nextSibling),n===null))return null;return n}function om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function sA(n,i){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ir(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}var lm=null;function b_(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return n;i--}else a==="/$"&&i++}n=n.previousSibling}return null}function S_(n,i,a){switch(i=Bc(a),n){case"html":if(n=i.documentElement,!n)throw Error(s(452));return n;case"head":if(n=i.head,!n)throw Error(s(453));return n;case"body":if(n=i.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Ml(n){for(var i=n.attributes;i.length;)n.removeAttributeNode(i[0]);Ai(n)}var Wn=new Map,A_=new Set;function zc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ui=Y.d;Y.d={f:aA,r:oA,D:lA,C:uA,L:cA,m:hA,X:dA,S:fA,M:mA};function aA(){var n=ui.f(),i=Oc();return n||i}function oA(n){var i=mr(n);i!==null&&i.tag===5&&i.type==="form"?Hy(i):ui.r(n)}var so=typeof document>"u"?null:document;function w_(n,i,a){var l=so;if(l&&typeof i=="string"&&i){var f=Ot(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),A_.has(f)||(A_.add(f),n={rel:n,crossOrigin:a,href:i},l.querySelector(f)===null&&(i=l.createElement("link"),Jt(i,"link",n),Rt(i),l.head.appendChild(i)))}}function lA(n){ui.D(n),w_("dns-prefetch",n,null)}function uA(n,i){ui.C(n,i),w_("preconnect",n,i)}function cA(n,i,a){ui.L(n,i,a);var l=so;if(l&&n&&i){var f='link[rel="preload"][as="'+Ot(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Ot(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Ot(a.imageSizes)+'"]')):f+='[href="'+Ot(n)+'"]';var d=f;switch(i){case"style":d=ao(n);break;case"script":d=oo(n)}Wn.has(d)||(n=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:n,as:i},a),Wn.set(d,n),l.querySelector(f)!==null||i==="style"&&l.querySelector(Pl(d))||i==="script"&&l.querySelector(Vl(d))||(i=l.createElement("link"),Jt(i,"link",n),Rt(i),l.head.appendChild(i)))}}function hA(n,i){ui.m(n,i);var a=so;if(a&&n){var l=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Ot(l)+'"][href="'+Ot(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(n)}if(!Wn.has(d)&&(n=E({rel:"modulepreload",href:n},i),Wn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Vl(d)))return}l=a.createElement("link"),Jt(l,"link",n),Rt(l),a.head.appendChild(l)}}}function fA(n,i,a){ui.S(n,i,a);var l=so;if(l&&n){var f=dn(l).hoistableStyles,d=ao(n);i=i||"default";var T=f.get(d);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(Pl(d)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":i},a),(a=Wn.get(d))&&um(n,a);var I=T=l.createElement("link");Rt(I),Jt(I,"link",n),I._p=new Promise(function(F,ee){I.onload=F,I.onerror=ee}),I.addEventListener("load",function(){b.loading|=1}),I.addEventListener("error",function(){b.loading|=2}),b.loading|=4,qc(T,i,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(d,T)}}}function dA(n,i){ui.X(n,i);var a=so;if(a&&n){var l=dn(a).hoistableScripts,f=oo(n),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(n=E({src:n,async:!0},i),(i=Wn.get(f))&&cm(n,i),d=a.createElement("script"),Rt(d),Jt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function mA(n,i){ui.M(n,i);var a=so;if(a&&n){var l=dn(a).hoistableScripts,f=oo(n),d=l.get(f);d||(d=a.querySelector(Vl(f)),d||(n=E({src:n,async:!0,type:"module"},i),(i=Wn.get(f))&&cm(n,i),d=a.createElement("script"),Rt(d),Jt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function R_(n,i,a,l){var f=(f=Te.current)?zc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=dn(f).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=ao(a.href);var d=dn(f).hoistableStyles,T=d.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,T),(d=f.querySelector(Pl(n)))&&!d._p&&(T.instance=d,T.state.loading=5),Wn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Wn.set(n,a),d||pA(f,n,a,T.state))),i&&l===null)throw Error(s(528,""));return T}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=dn(f).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function ao(n){return'href="'+Ot(n)+'"'}function Pl(n){return'link[rel="stylesheet"]['+n+"]"}function N_(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function pA(n,i,a,l){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=n.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Jt(i,"link",a),Rt(i),n.head.appendChild(i))}function oo(n){return'[src="'+Ot(n)+'"]'}function Vl(n){return"script[async]"+n}function C_(n,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=n.querySelector('style[data-href~="'+Ot(a.href)+'"]');if(l)return i.instance=l,Rt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),Rt(l),Jt(l,"style",f),qc(l,a.precedence,n),i.instance=l;case"stylesheet":f=ao(a.href);var d=n.querySelector(Pl(f));if(d)return i.state.loading|=4,i.instance=d,Rt(d),d;l=N_(a),(f=Wn.get(f))&&um(l,f),d=(n.ownerDocument||n).createElement("link"),Rt(d);var T=d;return T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Jt(d,"link",l),i.state.loading|=4,qc(d,a.precedence,n),i.instance=d;case"script":return d=oo(a.src),(f=n.querySelector(Vl(d)))?(i.instance=f,Rt(f),f):(l=a,(f=Wn.get(d))&&(l=E({},a),cm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),Rt(f),Jt(f,"link",l),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,qc(l,a.precedence,n));return i.instance}function qc(n,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===i)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(n,i.firstChild))}function um(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function cm(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var Fc=null;function x_(n,i,a){if(Fc===null){var l=new Map,f=Fc=new Map;f.set(a,l)}else f=Fc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[_s]||d[kt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(i)||"";T=n+T;var b=l.get(T);b?b.push(d):l.set(T,[d])}}return l}function I_(n,i,a){n=n.ownerDocument||n,n.head.insertBefore(a,i==="title"?n.querySelector("head > title"):null)}function gA(n,i,a){if(a===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function D_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var jl=null;function yA(){}function vA(n,i,a){if(jl===null)throw Error(s(475));var l=jl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ao(a.href),d=n.querySelector(Pl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Hc.bind(l),n.then(l,l)),i.state.loading|=4,i.instance=d,Rt(d);return}d=n.ownerDocument||n,a=N_(a),(f=Wn.get(f))&&um(a,f),d=d.createElement("link"),Rt(d);var T=d;T._p=new Promise(function(b,I){T.onload=b,T.onerror=I}),Jt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Hc.bind(l),n.addEventListener("load",i),n.addEventListener("error",i))}}function _A(){if(jl===null)throw Error(s(475));var n=jl;return n.stylesheets&&n.count===0&&hm(n,n.stylesheets),0<n.count?function(i){var a=setTimeout(function(){if(n.stylesheets&&hm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Gc=null;function hm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Gc=new Map,i.forEach(EA,n),Gc=null,Hc.call(n))}function EA(n,i){if(!(i.state.loading&4)){var a=Gc.get(n);if(a)var l=a.get(null);else{a=new Map,Gc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=i.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,f),a.set(T,f),this.count++,l=Hc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var kl={$$typeof:re,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function TA(n,i,a,l,f,d,T,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Lr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Lr(0),this.hiddenUpdates=Lr(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function O_(n,i,a,l,f,d,T,b,I,F,ee,ie){return n=new TA(n,i,a,T,b,I,F,ie),i=1,d===!0&&(i|=24),d=Cn(3,null,null,i),n.current=d,d.stateNode=n,i=Kf(),i.refCount++,n.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Xf(d),n}function M_(n){return n?(n=Ua,n):Ua}function P_(n,i,a,l,f,d){f=M_(f),l.context===null?l.context=f:l.pendingContext=f,l=Ii(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Di(n,l,i),a!==null&&(Mn(a,n,i),dl(a,n,i))}function V_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<i?a:i}}function fm(n,i){V_(n,i),(n=n.alternate)&&V_(n,i)}function j_(n){if(n.tag===13){var i=ka(n,67108864);i!==null&&Mn(i,n,67108864),fm(n,67108864)}}var Kc=!0;function bA(n,i,a,l){var f=Q.T;Q.T=null;var d=Y.p;try{Y.p=2,dm(n,i,a,l)}finally{Y.p=d,Q.T=f}}function SA(n,i,a,l){var f=Q.T;Q.T=null;var d=Y.p;try{Y.p=8,dm(n,i,a,l)}finally{Y.p=d,Q.T=f}}function dm(n,i,a,l){if(Kc){var f=mm(l);if(f===null)em(n,i,l,Qc,a),U_(n,l);else if(wA(f,n,i,a,l))l.stopPropagation();else if(U_(n,l),i&4&&-1<AA.indexOf(n)){for(;f!==null;){var d=mr(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Zn(d.pendingLanes);if(T!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var I=1<<31-rn(T);b.entanglements[1]|=I,T&=~I}Cr(d),(Je&6)===0&&(Ic=It()+500,Il(0))}}break;case 13:b=ka(d,2),b!==null&&Mn(b,d,2),Oc(),fm(d,2)}if(d=mm(l),d===null&&em(n,i,l,Qc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else em(n,i,l,null,a)}}function mm(n){return n=qn(n),pm(n)}var Qc=null;function pm(n){if(Qc=null,n=zr(n),n!==null){var i=u(n);if(i===null)n=null;else{var a=i.tag;if(a===13){if(n=h(i),n!==null)return n;n=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return Qc=n,null}function k_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case An:return 2;case fr:return 8;case ms:case _f:return 32;case ya:return 268435456;default:return 32}default:return 32}}var gm=!1,Hi=null,Gi=null,Ki=null,Ul=new Map,Ll=new Map,Qi=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(n,i){switch(n){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":Ul.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Bl(n,i,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},i!==null&&(i=mr(i),i!==null&&j_(i)),n):(n.eventSystemFlags|=l,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function wA(n,i,a,l,f){switch(i){case"focusin":return Hi=Bl(Hi,n,i,a,l,f),!0;case"dragenter":return Gi=Bl(Gi,n,i,a,l,f),!0;case"mouseover":return Ki=Bl(Ki,n,i,a,l,f),!0;case"pointerover":var d=f.pointerId;return Ul.set(d,Bl(Ul.get(d)||null,n,i,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ll.set(d,Bl(Ll.get(d)||null,n,i,a,l,f)),!0}return!1}function L_(n){var i=zr(n.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=h(a),i!==null){n.blockedOn=i,Ou(n.priority,function(){if(a.tag===13){var l=On();l=Ti(l);var f=ka(a,l);f!==null&&Mn(f,a,l),fm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Yc(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var a=mm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Gr=l,a.target.dispatchEvent(l),Gr=null}else return i=mr(a),i!==null&&j_(i),n.blockedOn=a,!1;i.shift()}return!0}function B_(n,i,a){Yc(n)&&a.delete(i)}function RA(){gm=!1,Hi!==null&&Yc(Hi)&&(Hi=null),Gi!==null&&Yc(Gi)&&(Gi=null),Ki!==null&&Yc(Ki)&&(Ki=null),Ul.forEach(B_),Ll.forEach(B_)}function $c(n,i){n.blockedOn===i&&(n.blockedOn=null,gm||(gm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,RA)))}var Xc=null;function z_(n){Xc!==n&&(Xc=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===n&&(Xc=null);for(var i=0;i<n.length;i+=3){var a=n[i],l=n[i+1],f=n[i+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=mr(a);d!==null&&(n.splice(i,3),i-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function zl(n){function i(I){return $c(I,n)}Hi!==null&&$c(Hi,n),Gi!==null&&$c(Gi,n),Ki!==null&&$c(Ki,n),Ul.forEach(i),Ll.forEach(i);for(var a=0;a<Qi.length;a++){var l=Qi[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Qi.length&&(a=Qi[0],a.blockedOn===null);)L_(a),a.blockedOn===null&&Qi.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],T=f[Dt]||null;if(typeof d=="function")T||z_(a);else if(T){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[Dt]||null)b=T.formAction;else if(pm(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),z_(a)}}}function ym(n){this._internalRoot=n}Wc.prototype.render=ym.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=On();P_(a,l,n,i,null,null)},Wc.prototype.unmount=ym.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;P_(n.current,2,null,n,null,null),Oc(),i[Bn]=null}};function Wc(n){this._internalRoot=n}Wc.prototype.unstable_scheduleHydration=function(n){if(n){var i=bi();n={blockedOn:null,target:n,priority:i};for(var a=0;a<Qi.length&&i!==0&&i<Qi[a].priority;a++);Qi.splice(a,0,n),a===0&&L_(n)}};var q_=e.version;if(q_!=="19.1.0")throw Error(s(527,q_,"19.1.0"));Y.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(i),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var NA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{yt=Jc.inject(NA),We=Jc}catch{}}return Fl.createRoot=function(n,i){if(!o(n))throw Error(s(299));var a=!1,l="",f=iv,d=sv,T=av,b=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(T=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(b=i.unstable_transitionCallbacks)),i=O_(n,1,!1,null,null,a,l,f,d,T,b,null),n[Bn]=i.current,Zd(n),new ym(i)},Fl.hydrateRoot=function(n,i,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=iv,T=sv,b=av,I=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),i=O_(n,1,!0,i,a??null,l,f,d,T,b,I,F),i.context=M_(null),a=i.current,l=On(),l=Ti(l),f=Ii(l),f.callback=null,Di(a,f,l),a=l,i.current.lanes=a,Br(i,a),Cr(i),n[Bn]=i.current,Zd(n),new Wc(i)},Fl.version="19.1.0",Fl}var Z_;function BA(){if(Z_)return Em.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Em.exports=LA(),Em.exports}var zA=BA();const qA=BE(zA);zE();/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function iu(){return iu=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},iu.apply(this,arguments)}var es;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(es||(es={}));const e0="popstate";function FA(r){r===void 0&&(r={});function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return zm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:Eh(o)}return GA(e,t,null,r)}function pt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function wp(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HA(){return Math.random().toString(36).substr(2,8)}function t0(r,e){return{usr:r.state,key:r.key,idx:e}}function zm(r,e,t,s){return t===void 0&&(t=null),iu({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Co(e):e,{state:t,key:e&&e.key||s||HA()})}function Eh(r){let{pathname:e="/",search:t="",hash:s=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Co(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let s=r.indexOf("?");s>=0&&(e.search=r.substr(s),r=r.substr(0,s)),r&&(e.pathname=r)}return e}function GA(r,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m=es.Pop,p=null,g=E();g==null&&(g=0,h.replaceState(iu({},h.state,{idx:g}),""));function E(){return(h.state||{idx:null}).idx}function A(){m=es.Pop;let M=E(),Z=M==null?null:M-g;g=M,p&&p({action:m,location:k.location,delta:Z})}function R(M,Z){m=es.Push;let ae=zm(k.location,M,Z);g=E()+1;let re=t0(ae,g),ce=k.createHref(ae);try{h.pushState(re,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ce)}u&&p&&p({action:m,location:k.location,delta:1})}function D(M,Z){m=es.Replace;let ae=zm(k.location,M,Z);g=E();let re=t0(ae,g),ce=k.createHref(ae);h.replaceState(re,"",ce),u&&p&&p({action:m,location:k.location,delta:0})}function x(M){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,ae=typeof M=="string"?M:Eh(M);return pt(Z,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,Z)}let k={get action(){return m},get location(){return r(o,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(e0,A),p=M,()=>{o.removeEventListener(e0,A),p=null}},createHref(M){return e(o,M)},createURL:x,encodeLocation(M){let Z=x(M);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:R,replace:D,go(M){return h.go(M)}};return k}var n0;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(n0||(n0={}));function KA(r,e,t){t===void 0&&(t="/");let s=typeof e=="string"?Co(e):e,o=su(s.pathname||"/",t);if(o==null)return null;let u=qE(r);QA(u);let h=null;for(let m=0;h==null&&m<u.length;++m)h=nw(u[m],iw(o));return h}function qE(r,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(pt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=ns([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(pt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),qE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:ew(g,u.index),routesMeta:E})};return r.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of FE(u.path))o(u,h,p)}),e}function FE(r){let e=r.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=FE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function QA(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const YA=/^:\w+$/,$A=3,XA=2,WA=1,JA=10,ZA=-2,r0=r=>r==="*";function ew(r,e){let t=r.split("/"),s=t.length;return t.some(r0)&&(s+=ZA),e&&(s+=XA),t.filter(o=>!r0(o)).reduce((o,u)=>o+(YA.test(u)?$A:u===""?WA:JA),s)}function tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nw(r,e){let{routesMeta:t}=r,s={},o="/",u=[];for(let h=0;h<t.length;++h){let m=t[h],p=h===t.length-1,g=o==="/"?e:e.slice(o.length)||"/",E=qm({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g);if(!E)return null;Object.assign(s,E.params);let A=m.route;u.push({params:s,pathname:ns([o,E.pathname]),pathnameBase:lw(ns([o,E.pathnameBase])),route:A}),E.pathnameBase!=="/"&&(o=ns([o,E.pathnameBase]))}return u}function qm(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,s]=rw(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,E,A)=>{let{paramName:R,isOptional:D}=E;if(R==="*"){let k=m[A]||"";h=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const x=m[A];return D&&!x?g[R]=void 0:g[R]=sw(x||"",R),g},{}),pathname:u,pathnameBase:h,pattern:r}}function rw(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),wp(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function iw(r){try{return decodeURI(r)}catch(e){return wp(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function sw(r,e){try{return decodeURIComponent(r)}catch(t){return wp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+r+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),r}}function su(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=r.charAt(t);return s&&s!=="/"?null:r.slice(t)||"/"}function aw(r,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof r=="string"?Co(r):r;return{pathname:t?t.startsWith("/")?t:ow(t,e):e,search:uw(s),hash:cw(o)}}function ow(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Am(r,e,t,s){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Rp(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Np(r,e,t,s){s===void 0&&(s=!1);let o;typeof r=="string"?o=Co(r):(o=iu({},r),pt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),pt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),pt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=r===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else if(s){let A=e[e.length-1].replace(/^\//,"").split("/");if(h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),A.pop();o.pathname=R.join("/")}m="/"+A.join("/")}else{let A=e.length-1;if(h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let p=aw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}const ns=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const HE=["post","put","patch","delete"];new Set(HE);const fw=["get",...HE];new Set(fw);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Th.apply(this,arguments)}const Hh=G.createContext(null),GE=G.createContext(null),ha=G.createContext(null),Gh=G.createContext(null),Ei=G.createContext({outlet:null,matches:[],isDataRoute:!1}),KE=G.createContext(null);function dw(r,e){let{relative:t}=e===void 0?{}:e;xo()||pt(!1);let{basename:s,navigator:o}=G.useContext(ha),{hash:u,pathname:h,search:m}=Kh(r,{relative:t}),p=h;return s!=="/"&&(p=h==="/"?s:ns([s,h])),o.createHref({pathname:p,search:m,hash:u})}function xo(){return G.useContext(Gh)!=null}function fa(){return xo()||pt(!1),G.useContext(Gh).location}function QE(r){G.useContext(ha).static||G.useLayoutEffect(r)}function fs(){let{isDataRoute:r}=G.useContext(Ei);return r?Cw():mw()}function mw(){xo()||pt(!1);let r=G.useContext(Hh),{basename:e,navigator:t}=G.useContext(ha),{matches:s}=G.useContext(Ei),{pathname:o}=fa(),u=JSON.stringify(Rp(s).map(p=>p.pathnameBase)),h=G.useRef(!1);return QE(()=>{h.current=!0}),G.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=Np(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ns([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,r])}const pw=G.createContext(null);function gw(r){let e=G.useContext(Ei).outlet;return e&&G.createElement(pw.Provider,{value:r},e)}function Kh(r,e){let{relative:t}=e===void 0?{}:e,{matches:s}=G.useContext(Ei),{pathname:o}=fa(),u=JSON.stringify(Rp(s).map(h=>h.pathnameBase));return G.useMemo(()=>Np(r,JSON.parse(u),o,t==="path"),[r,u,o,t])}function yw(r,e){return vw(r,e)}function vw(r,e,t){xo()||pt(!1);let{navigator:s}=G.useContext(ha),{matches:o}=G.useContext(Ei),u=o[o.length-1],h=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=fa(),g;if(e){var E;let k=typeof e=="string"?Co(e):e;m==="/"||(E=k.pathname)!=null&&E.startsWith(m)||pt(!1),g=k}else g=p;let A=g.pathname||"/",R=m==="/"?A:A.slice(m.length)||"/",D=KA(r,{pathname:R}),x=Sw(D&&D.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:ns([m,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?m:ns([m,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),o,t);return e&&x?G.createElement(Gh.Provider,{value:{location:Th({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:es.Pop}},x):x}function _w(){let r=Nw(),e=hw(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,null)}const Ew=G.createElement(_w,null);class Tw extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?G.createElement(Ei.Provider,{value:this.props.routeContext},G.createElement(KE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bw(r){let{routeContext:e,match:t,children:s}=r,o=G.useContext(Hh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Ei.Provider,{value:e},s)}function Sw(r,e,t){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),r==null){var o;if((o=t)!=null&&o.errors)r=t.matches;else return null}let u=r,h=(s=t)==null?void 0:s.errors;if(h!=null){let m=u.findIndex(p=>p.route.id&&(h==null?void 0:h[p.route.id]));m>=0||pt(!1),u=u.slice(0,Math.min(u.length,m+1))}return u.reduceRight((m,p,g)=>{let E=p.route.id?h==null?void 0:h[p.route.id]:null,A=null;t&&(A=p.route.errorElement||Ew);let R=e.concat(u.slice(0,g+1)),D=()=>{let x;return E?x=A:p.route.Component?x=G.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=m,G.createElement(bw,{match:p,routeContext:{outlet:m,matches:R,isDataRoute:t!=null},children:x})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?G.createElement(Tw,{location:t.location,revalidation:t.revalidation,component:A,error:E,children:D(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):D()},null)}var YE=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(YE||{}),$E=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}($E||{});function Aw(r){let e=G.useContext(Hh);return e||pt(!1),e}function ww(r){let e=G.useContext(GE);return e||pt(!1),e}function Rw(r){let e=G.useContext(Ei);return e||pt(!1),e}function XE(r){let e=Rw(),t=e.matches[e.matches.length-1];return t.route.id||pt(!1),t.route.id}function Nw(){var r;let e=G.useContext(KE),t=ww(),s=XE();return e||((r=t.errors)==null?void 0:r[s])}function Cw(){let{router:r}=Aw(YE.UseNavigateStable),e=XE($E.UseNavigateStable),t=G.useRef(!1);return QE(()=>{t.current=!0}),G.useCallback(function(o,u){u===void 0&&(u={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,Th({fromRouteId:e},u)))},[r,e])}function WE(r){let{to:e,replace:t,state:s,relative:o}=r;xo()||pt(!1);let{matches:u}=G.useContext(Ei),{pathname:h}=fa(),m=fs(),p=Np(e,Rp(u).map(E=>E.pathnameBase),h,o==="path"),g=JSON.stringify(p);return G.useEffect(()=>m(JSON.parse(g),{replace:t,state:s,relative:o}),[m,g,o,t,s]),null}function JE(r){return gw(r.context)}function sr(r){pt(!1)}function xw(r){let{basename:e="/",children:t=null,location:s,navigationType:o=es.Pop,navigator:u,static:h=!1}=r;xo()&&pt(!1);let m=e.replace(/^\/*/,"/"),p=G.useMemo(()=>({basename:m,navigator:u,static:h}),[m,u,h]);typeof s=="string"&&(s=Co(s));let{pathname:g="/",search:E="",hash:A="",state:R=null,key:D="default"}=s,x=G.useMemo(()=>{let k=su(g,m);return k==null?null:{location:{pathname:k,search:E,hash:A,state:R,key:D},navigationType:o}},[m,g,E,A,R,D,o]);return x==null?null:G.createElement(ha.Provider,{value:p},G.createElement(Gh.Provider,{children:t,value:x}))}function Iw(r){let{children:e,location:t}=r;return yw(Fm(e),t)}new Promise(()=>{});function Fm(r,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){t.push.apply(t,Fm(s.props.children,u));return}s.type!==sr&&pt(!1),!s.props.index||!s.props.children||pt(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fm(s.props.children,u)),t.push(h)}),t}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bh(){return bh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},bh.apply(this,arguments)}function ZE(r,e){if(r==null)return{};var t={},s=Object.keys(r),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function Dw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Ow(r,e){return r.button===0&&(!e||e==="_self")&&!Dw(r)}function Hm(r){return r===void 0&&(r=""),new URLSearchParams(typeof r=="string"||Array.isArray(r)||r instanceof URLSearchParams?r:Object.keys(r).reduce((e,t)=>{let s=r[t];return e.concat(Array.isArray(s)?s.map(o=>[t,o]):[[t,s]])},[]))}function Mw(r,e){let t=Hm(r);return e&&e.forEach((s,o)=>{t.has(o)||e.getAll(o).forEach(u=>{t.append(o,u)})}),t}const Pw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Vw=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],jw=G.createContext({isTransitioning:!1}),kw="startTransition",i0=VA[kw];function Uw(r){let{basename:e,children:t,future:s,window:o}=r,u=G.useRef();u.current==null&&(u.current=FA({window:o,v5Compat:!0}));let h=u.current,[m,p]=G.useState({action:h.action,location:h.location}),{v7_startTransition:g}=s||{},E=G.useCallback(A=>{g&&i0?i0(()=>p(A)):p(A)},[p,g]);return G.useLayoutEffect(()=>h.listen(E),[h,E]),G.createElement(xw,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h})}const Lw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Bw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rs=G.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,unstable_viewTransition:A}=e,R=ZE(e,Pw),{basename:D}=G.useContext(ha),x,k=!1;if(typeof g=="string"&&Bw.test(g)&&(x=g,Lw))try{let re=new URL(window.location.href),ce=g.startsWith("//")?new URL(re.protocol+g):new URL(g),ue=su(ce.pathname,D);ce.origin===re.origin&&ue!=null?g=ue+ce.search+ce.hash:k=!0}catch{}let M=dw(g,{relative:o}),Z=qw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,unstable_viewTransition:A});function ae(re){s&&s(re),re.defaultPrevented||Z(re)}return G.createElement("a",bh({},R,{href:x||M,onClick:k||u?s:ae,ref:t,target:p}))}),Hl=G.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:u="",end:h=!1,style:m,to:p,unstable_viewTransition:g,children:E}=e,A=ZE(e,Vw),R=Kh(p,{relative:A.relative}),D=fa(),x=G.useContext(GE),{navigator:k}=G.useContext(ha),M=x!=null&&Hw(R)&&g===!0,Z=k.encodeLocation?k.encodeLocation(R).pathname:R.pathname,ae=D.pathname,re=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;o||(ae=ae.toLowerCase(),re=re?re.toLowerCase():null,Z=Z.toLowerCase());const ce=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ue=ae===Z||!h&&ae.startsWith(Z)&&ae.charAt(ce)==="/",_e=re!=null&&(re===Z||!h&&re.startsWith(Z)&&re.charAt(Z.length)==="/"),V={isActive:ue,isPending:_e,isTransitioning:M},N=ue?s:void 0,C;typeof u=="function"?C=u(V):C=[u,ue?"active":null,_e?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let P=typeof m=="function"?m(V):m;return G.createElement(rs,bh({},A,{"aria-current":N,className:C,ref:t,style:P,to:p,unstable_viewTransition:g}),typeof E=="function"?E(V):E)});var Gm;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Gm||(Gm={}));var s0;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(s0||(s0={}));function zw(r){let e=G.useContext(Hh);return e||pt(!1),e}function qw(r,e){let{target:t,replace:s,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m}=e===void 0?{}:e,p=fs(),g=fa(),E=Kh(r,{relative:h});return G.useCallback(A=>{if(Ow(A,t)){A.preventDefault();let R=s!==void 0?s:Eh(g)===Eh(E);p(r,{replace:R,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m})}},[g,p,E,s,o,t,r,u,h,m])}function Fw(r){let e=G.useRef(Hm(r)),t=G.useRef(!1),s=fa(),o=G.useMemo(()=>Mw(s.search,t.current?null:e.current),[s.search]),u=fs(),h=G.useCallback((m,p)=>{const g=Hm(typeof m=="function"?m(o):m);t.current=!0,u("?"+g,p)},[u,o]);return[o,h]}function Hw(r,e){e===void 0&&(e={});let t=G.useContext(jw);t==null&&pt(!1);let{basename:s}=zw(Gm.useViewTransitionState),o=Kh(r,{relative:e.relative});if(!t.isTransitioning)return!1;let u=su(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=su(t.nextLocation.pathname,s)||t.nextLocation.pathname;return qm(o.pathname,h)!=null||qm(o.pathname,u)!=null}class Gw extends G.Component{constructor(){super(...arguments);F_(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Error Boundary:",t,s)}render(){return this.state.hasError?v.jsxs("div",{className:"error-boundary",children:[v.jsx("h2",{children:"Algo deu errado!"}),v.jsx("p",{children:this.state.error.message}),v.jsx(rs,{to:"/",className:"retry-button",children:"Voltar para a página inicial"})]}):this.props.children}}var eT={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a0=pi.createContext&&pi.createContext(eT),Kw=["attr","size","title"];function Qw(r,e){if(r==null)return{};var t=Yw(r,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(t[s]=r[s])}return t}function Yw(r,e){if(r==null)return{};var t={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;t[s]=r[s]}return t}function Sh(){return Sh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=t[s])}return r},Sh.apply(this,arguments)}function o0(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,s)}return t}function Ah(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?o0(Object(t),!0).forEach(function(s){$w(r,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):o0(Object(t)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(t,s))})}return r}function $w(r,e,t){return e=Xw(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function Xw(r){var e=Ww(r,"string");return typeof e=="symbol"?e:e+""}function Ww(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var s=t.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function tT(r){return r&&r.map((e,t)=>pi.createElement(e.tag,Ah({key:t},e.attr),tT(e.child)))}function ut(r){return e=>pi.createElement(Jw,Sh({attr:Ah({},r.attr)},e),tT(r.child))}function Jw(r){var e=t=>{var{attr:s,size:o,title:u}=r,h=Qw(r,Kw),m=o||t.size||"1em",p;return t.className&&(p=t.className),r.className&&(p=(p?p+" ":"")+r.className),pi.createElement("svg",Sh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Ah(Ah({color:r.color||t.color},t.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&pi.createElement("title",null,u),r.children)};return a0!==void 0?pi.createElement(a0.Consumer,null,t=>e(t)):e(eT)}function Zw(r){return ut({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(r)}function nT(r){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(r)}function e2(r){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(r)}function t2(r){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(r)}function Jn(r){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(r)}function n2(r){return ut({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(r)}function rT(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(r)}function r2(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(r)}function Qh(r){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(r)}function i2(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(r)}function Yl(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(r)}function iT(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(r)}function s2(r){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(r)}function a2(r){return ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(r)}function yo(r){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(r)}function o2(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(r)}function l2(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(r)}function u2(r){return ut({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(r)}function sT(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(r)}function aT(r){return ut({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(r)}function vo(r){return ut({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(r)}function c2(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(r)}function Km(r){return ut({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(r)}function Cp(r){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(r)}function oT(r){return ut({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function h2(r){return ut({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(r)}var l0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(r){const e=[];let t=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},f2=function(r){const e=[];let t=0,s=0;for(;t<r.length;){const o=r[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[t++],h=r[t++],m=r[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[t++],h=r[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],h=o+1<r.length,m=h?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,E=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(R=64)),s.push(t[E],t[A],t[R],t[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(lT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):f2(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=t[r.charAt(o++)],m=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const A=o<r.length?t[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new d2;const R=u<<2|m>>4;if(s.push(R),g!==64){const D=m<<4&240|g>>2;if(s.push(D),A!==64){const x=g<<6&192|A;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class d2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const m2=function(r){const e=lT(r);return uT.encodeByteArray(e,!0)},wh=function(r){return m2(r).replace(/\./g,"")},cT=function(r){try{return uT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=()=>p2().__FIREBASE_DEFAULTS__,y2=()=>{if(typeof process>"u"||typeof l0>"u")return;const r=l0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},v2=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&cT(r[1]);return e&&JSON.parse(e)},Yh=()=>{try{return g2()||y2()||v2()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},hT=r=>{var e,t;return(t=(e=Yh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},fT=r=>{const e=hT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},dT=()=>{var r;return(r=Yh())===null||r===void 0?void 0:r.config},mT=r=>{var e;return(e=Yh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[wh(JSON.stringify(t)),wh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function E2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function T2(){var r;const e=(r=Yh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function b2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function S2(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function A2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function w2(){const r=fn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function R2(){return!T2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return typeof indexedDB=="object"}catch{return!1}}function C2(){return new Promise((r,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2="FirebaseError";class Ur extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=x2,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?I2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Ur(o,m,s)}}function I2(r,e){return r.replace(D2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const D2=/\{\$([^}]+)}/g;function O2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Rh(r,e){if(r===e)return!0;const t=Object.keys(r),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=r[o],h=e[o];if(u0(u)&&u0(h)){if(!Rh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function u0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(r){const e=[];for(const[t,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function M2(r,e){const t=new P2(r,e);return t.subscribe.bind(t)}class P2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");V2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function V2(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(r){return r&&r._delegate?r._delegate:r}class ls{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new _2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U2(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:k2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k2(r){return r===Ys?void 0:r}function U2(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new j2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Be||(Be={}));const B2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},z2=Be.INFO,q2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},F2=(r,e,...t)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=q2[e];if(o)console[o](`[${s}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xp{constructor(e){this.name=e,this._logLevel=z2,this._logHandler=F2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?B2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const H2=(r,e)=>e.some(t=>r instanceof t);let c0,h0;function G2(){return c0||(c0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K2(){return h0||(h0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Qm=new WeakMap,yT=new WeakMap,Rm=new WeakMap,Ip=new WeakMap;function Q2(r){const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",h)},u=()=>{t(is(r.result)),o()},h=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,r)}).catch(()=>{}),Ip.set(e,r),e}function Y2(r){if(Qm.has(r))return;const e=new Promise((t,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",h),r.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",h),r.addEventListener("abort",h)});Qm.set(r,e)}let Ym={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||yT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return is(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function $2(r){Ym=r(Ym)}function X2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=r.call(Nm(this),e,...t);return yT.set(s,e.sort?e.sort():[e]),is(s)}:K2().includes(r)?function(...e){return r.apply(Nm(this),e),is(gT.get(this))}:function(...e){return is(r.apply(Nm(this),e))}}function W2(r){return typeof r=="function"?X2(r):(r instanceof IDBTransaction&&Y2(r),H2(r,G2())?new Proxy(r,Ym):r)}function is(r){if(r instanceof IDBRequest)return Q2(r);if(Rm.has(r))return Rm.get(r);const e=W2(r);return e!==r&&(Rm.set(r,e),Ip.set(e,r)),e}const Nm=r=>Ip.get(r);function J2(r,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(r,e),m=is(h);return s&&h.addEventListener("upgradeneeded",p=>{s(is(h.result),p.oldVersion,p.newVersion,is(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const Z2=["get","getKey","getAll","getAllKeys","count"],eR=["put","add","delete","clear"],Cm=new Map;function f0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=eR.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Z2.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Cm.set(e,u),u}$2(r=>({...r,get:(e,t,s)=>f0(e,t)||r.get(e,t,s),has:(e,t)=>!!f0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(nR(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function nR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const $m="@firebase/app",d0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi=new xp("@firebase/app"),rR="@firebase/app-compat",iR="@firebase/analytics-compat",sR="@firebase/analytics",aR="@firebase/app-check-compat",oR="@firebase/app-check",lR="@firebase/auth",uR="@firebase/auth-compat",cR="@firebase/database",hR="@firebase/data-connect",fR="@firebase/database-compat",dR="@firebase/functions",mR="@firebase/functions-compat",pR="@firebase/installations",gR="@firebase/installations-compat",yR="@firebase/messaging",vR="@firebase/messaging-compat",_R="@firebase/performance",ER="@firebase/performance-compat",TR="@firebase/remote-config",bR="@firebase/remote-config-compat",SR="@firebase/storage",AR="@firebase/storage-compat",wR="@firebase/firestore",RR="@firebase/vertexai-preview",NR="@firebase/firestore-compat",CR="firebase",xR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="[DEFAULT]",IR={[$m]:"fire-core",[rR]:"fire-core-compat",[sR]:"fire-analytics",[iR]:"fire-analytics-compat",[oR]:"fire-app-check",[aR]:"fire-app-check-compat",[lR]:"fire-auth",[uR]:"fire-auth-compat",[cR]:"fire-rtdb",[hR]:"fire-data-connect",[fR]:"fire-rtdb-compat",[dR]:"fire-fn",[mR]:"fire-fn-compat",[pR]:"fire-iid",[gR]:"fire-iid-compat",[yR]:"fire-fcm",[vR]:"fire-fcm-compat",[_R]:"fire-perf",[ER]:"fire-perf-compat",[TR]:"fire-rc",[bR]:"fire-rc-compat",[SR]:"fire-gcs",[AR]:"fire-gcs-compat",[wR]:"fire-fst",[NR]:"fire-fst-compat",[RR]:"fire-vertex","fire-js":"fire-js",[CR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh=new Map,DR=new Map,Wm=new Map;function m0(r,e){try{r.container.addComponent(e)}catch(t){gi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function ra(r){const e=r.name;if(Wm.has(e))return gi.debug(`There were multiple attempts to register component ${e}.`),!1;Wm.set(e,r);for(const t of Nh.values())m0(t,r);for(const t of DR.values())m0(t,r);return!0}function $h(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function hi(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new mu("app","Firebase",OR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=xR;function vT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Xm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(t||(t=dT()),!t)throw ss.create("no-options");const u=Nh.get(o);if(u){if(Rh(t,u.options)&&Rh(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const h=new L2(o);for(const p of Wm.values())h.addComponent(p);const m=new MR(t,s,h);return Nh.set(o,m),m}function Dp(r=Xm){const e=Nh.get(r);if(!e&&r===Xm&&dT())return vT();if(!e)throw ss.create("no-app",{appName:r});return e}function Or(r,e,t){var s;let o=(s=IR[r])!==null&&s!==void 0?s:r;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),gi.warn(m.join(" "));return}ra(new ls(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="firebase-heartbeat-database",VR=1,au="firebase-heartbeat-store";let xm=null;function _T(){return xm||(xm=J2(PR,VR,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(au)}catch(t){console.warn(t)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),xm}async function jR(r){try{const t=(await _T()).transaction(au),s=await t.objectStore(au).get(ET(r));return await t.done,s}catch(e){if(e instanceof Ur)gi.warn(e.message);else{const t=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});gi.warn(t.message)}}}async function p0(r,e){try{const s=(await _T()).transaction(au,"readwrite");await s.objectStore(au).put(e,ET(r)),await s.done}catch(t){if(t instanceof Ur)gi.warn(t.message);else{const s=ss.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});gi.warn(s.message)}}}function ET(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR=1024,UR=30*24*60*60*1e3;class LR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new zR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=g0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=UR}),this._storage.overwrite(this._heartbeatsCache))}catch(s){gi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=g0(),{heartbeatsToSend:s,unsentEntries:o}=BR(this._heartbeatsCache.heartbeats),u=wh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return gi.warn(t),""}}}function g0(){return new Date().toISOString().substring(0,10)}function BR(r,e=kR){const t=[];let s=r.slice();for(const o of r){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),y0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),y0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class zR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N2()?C2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await jR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return p0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function y0(r){return wh(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(r){ra(new ls("platform-logger",e=>new tR(e),"PRIVATE")),ra(new ls("heartbeat",e=>new LR(e),"PRIVATE")),Or($m,d0,r),Or($m,d0,"esm2017"),Or("fire-js","")}qR("");var FR="firebase",HR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(FR,HR,"app");function Op(r,e){var t={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(t[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(t[s[o]]=r[s[o]]);return t}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GR=TT,bT=new mu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new xp("@firebase/auth");function KR(r,...e){Ch.logLevel<=Be.WARN&&Ch.warn(`Auth (${da}): ${r}`,...e)}function oh(r,...e){Ch.logLevel<=Be.ERROR&&Ch.error(`Auth (${da}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(r,...e){throw Pp(r,...e)}function ar(r,...e){return Pp(r,...e)}function Mp(r,e,t){const s=Object.assign(Object.assign({},GR()),{[e]:t});return new mu("auth","Firebase",s).create(e,{appName:r.name})}function Js(r){return Mp(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function QR(r,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&jr(r,"argument-error"),Mp(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Pp(r,...e){if(typeof r!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(t,...s)}return bT.create(r,...e)}function Ce(r,e,...t){if(!r)throw Pp(e,...t)}function fi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function yi(r,e){r||fi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function YR(){return v0()==="http:"||v0()==="https:"}function v0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||S2()||"connection"in navigator)?navigator.onLine:!0}function XR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.shortDelay=e,this.longDelay=t,yi(t>e,"Short delay should be less than long delay!"),this.isMobile=E2()||A2()}get(){return $R()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r,e){yi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new gu(3e4,6e4);function jp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function ma(r,e,t,s,o={}){return AT(r,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=pu(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return b2()||(g.referrerPolicy="no-referrer"),ST.fetch()(wT(r,r.config.apiHost,t,m),g)})}async function AT(r,e,t){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},WR),e);try{const o=new eN(r),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Zc(r,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Zc(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw Zc(r,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Mp(r,E,g);jr(r,E)}}catch(o){if(o instanceof Ur)throw o;jr(r,"network-request-failed",{message:String(o)})}}async function ZR(r,e,t,s,o={}){const u=await ma(r,e,t,s,o);return"mfaPendingCredential"in u&&jr(r,"multi-factor-auth-required",{_serverResponse:u}),u}function wT(r,e,t,s){const o=`${e}${t}?${s}`;return r.config.emulator?Vp(r.config,o):`${r.config.apiScheme}://${o}`}class eN{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ar(this.auth,"network-request-failed")),JR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(r,e,t){const s={appName:r.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ar(r,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tN(r,e){return ma(r,"POST","/v1/accounts:delete",e)}async function RT(r,e){return ma(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function nN(r,e=!1){const t=bt(r),s=await t.getIdToken(e),o=kp(s);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Im(o.auth_time)),issuedAtTime:Jl(Im(o.iat)),expirationTime:Jl(Im(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Im(r){return Number(r)*1e3}function kp(r){const[e,t,s]=r.split(".");if(e===void 0||t===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(t);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _0(r){const e=kp(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Ur&&rN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function rN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var e;const t=r.auth,s=await r.getIdToken(),o=await _o(r,RT(t,{idToken:s}));Ce(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?NT(u.providerUserInfo):[],m=aN(r.providerData,h),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Zm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,A)}async function sN(r){const e=bt(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function aN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function NT(r){return r.map(e=>{var{providerId:t}=e,s=Op(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oN(r,e){const t=await AT(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,h=wT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ST.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function lN(r,e){return ma(r,"POST","/v2/accounts:revokeToken",jp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=_0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await oN(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new ho;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ce(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class di{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await _o(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return nN(this,e)}reload(){return sN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new di(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(Js(this.auth));const e=await this.getIdToken();return await _o(this,tN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,E;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,k=(m=t.tenantId)!==null&&m!==void 0?m:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ae=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:re,emailVerified:ce,isAnonymous:ue,providerData:_e,stsTokenManager:V}=t;Ce(re&&V,e,"internal-error");const N=ho.fromJSON(this.name,V);Ce(typeof re=="string",e,"internal-error"),$i(A,e.name),$i(R,e.name),Ce(typeof ce=="boolean",e,"internal-error"),Ce(typeof ue=="boolean",e,"internal-error"),$i(D,e.name),$i(x,e.name),$i(k,e.name),$i(M,e.name),$i(Z,e.name),$i(ae,e.name);const C=new di({uid:re,auth:e,email:R,emailVerified:ce,displayName:A,isAnonymous:ue,photoURL:x,phoneNumber:D,tenantId:k,stsTokenManager:N,createdAt:Z,lastLoginAt:ae});return _e&&Array.isArray(_e)&&(C.providerData=_e.map(P=>Object.assign({},P))),M&&(C._redirectEventId=M),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new ho;o.updateFromServerResponse(t);const u=new di({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?NT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ho;m.updateFromIdToken(s);const p=new di({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=new Map;function mi(r){yi(r instanceof Function,"Expected a class definition");let e=E0.get(r);return e?(yi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,E0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}CT.type="NONE";const T0=CT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,e,t){return`firebase:${r}:${e}:${t}`}class fo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?di._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new fo(mi(T0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||mi(T0);const h=lh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){const A=di._fromJSON(e,E);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(OT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(xT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(VT(e))return"Webos";if(IT(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function xT(r=fn()){return/firefox\//i.test(r)}function IT(r=fn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(r=fn()){return/crios\//i.test(r)}function OT(r=fn()){return/iemobile/i.test(r)}function MT(r=fn()){return/android/i.test(r)}function PT(r=fn()){return/blackberry/i.test(r)}function VT(r=fn()){return/webos/i.test(r)}function Up(r=fn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function uN(r=fn()){var e;return Up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function cN(){return w2()&&document.documentMode===10}function jT(r=fn()){return Up(r)||MT(r)||VT(r)||PT(r)||/windows phone/i.test(r)||OT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r,e=[]){let t;switch(r){case"Browser":t=b0(fn());break;case"Worker":t=`${b0(fn())}-${r}`;break;default:t=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${da}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fN(r,e={}){return ma(r,"GET","/v2/passwordPolicy",jp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=6;class mN{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:dN,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S0(this),this.idTokenSubscription=new S0(this),this.beforeStateQueue=new hN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=mi(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RT(this,{idToken:e}),s=await di._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(hi(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=XR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(hi(this.app))return Promise.reject(Js(this));const t=e?bt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(Js(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return hi(this.app)?Promise.reject(Js(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(mi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await fN(this),t=new mN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await lN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&mi(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[mi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=kT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&KR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xh(r){return bt(r)}class S0{constructor(e){this.auth=e,this.observer=null,this.addObserver=M2(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gN(r){Lp=r}function yN(r){return Lp.loadJS(r)}function vN(){return Lp.gapiScript}function _N(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(r,e){const t=$h(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(Rh(u,e??{}))return o;jr(o,"already-initialized")}return t.initialize({options:e})}function TN(r,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(mi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function bN(r,e,t){const s=Xh(r);Ce(s._canInitEmulator,s,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=UT(e),{host:h,port:m}=SN(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),AN()}function UT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function SN(r){const e=UT(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:A0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:A0(h)}}}function A0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function AN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return fi("not implemented")}_getIdTokenResponse(e){return fi("not implemented")}_linkToIdToken(e,t){return fi("not implemented")}_getReauthenticationResolver(e){return fi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e){return ZR(r,"POST","/v1/accounts:signInWithIdp",jp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN="http://localhost";class ia extends LT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):jr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Op(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return mo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,mo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,mo(e,t)}buildRequest(){const e={requestUri:wN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=pu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends Bp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends yu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ia._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ci.credential(t,s)}catch{return null}}}ci.GOOGLE_SIGN_IN_METHOD="google.com";ci.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends yu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wi.credential(e.oauthAccessToken)}catch{return null}}}Wi.GITHUB_SIGN_IN_METHOD="github.com";Wi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends yu{constructor(){super("twitter.com")}static credential(e,t){return ia._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Ji.credential(t,s)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await di._fromIdTokenResponse(e,s,o),h=w0(s);return new Eo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=w0(s);return new Eo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function w0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Ur{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ih(e,t,s,o)}}function BT(r,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(r,u,e,s):u})}async function RN(r,e,t=!1){const s=await _o(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Eo._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(r,e,t=!1){const{auth:s}=r;if(hi(s.app))return Promise.reject(Js(s));const o="reauthenticate";try{const u=await _o(r,BT(s,o,e,r),t);Ce(u.idToken,s,"internal-error");const h=kp(u.idToken);Ce(h,s,"internal-error");const{sub:m}=h;return Ce(r.uid===m,s,"user-mismatch"),Eo._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&jr(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,e,t=!1){if(hi(r.app))return Promise.reject(Js(r));const s="signIn",o=await BT(r,s,e),u=await Eo._fromIdTokenResponse(r,s,o);return t||await r._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(r,e){return ma(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=bt(r),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await _o(s,xN(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(r,e){return bt(r).setPersistence(e)}function DN(r,e,t,s){return bt(r).onIdTokenChanged(e,t,s)}function ON(r,e,t){return bt(r).beforeAuthStateChanged(e,t)}function MN(r){return bt(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=1e3,VN=10;class qT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=jT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);cN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,VN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},PN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const FT=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HT.type="SESSION";const GT=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Wh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await jN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=zp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function UN(r){Mr().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function LN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function BN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zN(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",qN=1,Oh="firebaseLocalStorage",YT="fbase_key";class vu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jh(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function FN(){const r=indexedDB.deleteDatabase(QT);return new vu(r).toPromise()}function ep(){const r=indexedDB.open(QT,qN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:YT})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await FN(),e(await ep()))})})}async function N0(r,e,t){const s=Jh(r,!0).put({[YT]:e,value:t});return new vu(s).toPromise()}async function HN(r,e){const t=Jh(r,!1).get(e),s=await new vu(t).toPromise();return s===void 0?null:s.value}function C0(r,e){const t=Jh(r,!0).delete(e);return new vu(t).toPromise()}const GN=800,KN=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>KN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wh._getInstance(zN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await LN(),!this.activeServiceWorker)return;this.sender=new kN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||BN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await N0(e,Dh,"1"),await C0(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>N0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>HN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>C0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new vu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),GN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const QN=$T;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(r,e){return e?mi(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp extends LT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YN(r){return CN(r.auth,new qp(r),r.bypassAuthState)}function $N(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),NN(t,new qp(r),r.bypassAuthState)}async function XN(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),RN(t,new qp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return $N;default:jr(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new gu(2e3,1e4);async function JN(r,e,t){if(hi(r.app))return Promise.reject(ar(r,"operation-not-supported-in-this-environment"));const s=Xh(r);QR(r,e,Bp);const o=XT(s,t);return new $s(s,"signInViaPopup",e,o).executeNotNull()}class $s extends WT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="pendingRedirect",uh=new Map;class e4 extends WT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await t4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function t4(r,e){const t=i4(e),s=r4(r);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function n4(r,e){uh.set(r._key(),e)}function r4(r){return mi(r._redirectPersistence)}function i4(r){return lh(ZN,r.config.apiKey,r.name)}async function s4(r,e,t=!1){if(hi(r.app))return Promise.reject(Js(r));const s=Xh(r),o=XT(s,e),h=await new e4(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=10*60*1e3;class o4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!l4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!JT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ar(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=a4&&this.cachedEventUids.clear(),this.cachedEventUids.has(x0(e))}saveEventToCache(e){this.cachedEventUids.add(x0(e)),this.lastProcessedEventTime=Date.now()}}function x0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function JT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function l4(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(r,e={}){return ma(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,h4=/^https?/;async function f4(r){if(r.config.emulator)return;const{authorizedDomains:e}=await u4(r);for(const t of e)try{if(d4(t))return}catch{}jr(r,"unauthorized-domain")}function d4(r){const e=Jm(),{protocol:t,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&s===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!h4.test(t))return!1;if(c4.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=new gu(3e4,6e4);function I0(){const r=Mr().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function p4(r){return new Promise((e,t)=>{var s,o,u;function h(){I0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{I0(),t(ar(r,"network-request-failed"))},timeout:m4.get()})}if(!((o=(s=Mr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Mr().gapi)===null||u===void 0)&&u.load)h();else{const m=_N("iframefcb");return Mr()[m]=()=>{gapi.load?h():t(ar(r,"network-request-failed"))},yN(`${vN()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function g4(r){return ch=ch||p4(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new gu(5e3,15e3),v4="__/auth/iframe",_4="emulator/auth/iframe",E4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function b4(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Vp(e,_4):`https://${r.config.authDomain}/${v4}`,s={apiKey:e.apiKey,appName:r.name,v:da},o=T4.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${pu(s).slice(1)}`}async function S4(r){const e=await g4(r),t=Mr().gapi;return Ce(t,r,"internal-error"),e.open({where:document.body,url:b4(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ar(r,"network-request-failed"),m=Mr().setTimeout(()=>{u(h)},y4.get());function p(){Mr().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},w4=500,R4=600,N4="_blank",C4="http://localhost";class D0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function x4(r,e,t,s=w4,o=R4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},A4),{width:s.toString(),height:o.toString(),top:u,left:h}),g=fn().toLowerCase();t&&(m=DT(g)?N4:t),xT(g)&&(e=e||C4,p.scrollbars="yes");const E=Object.entries(p).reduce((R,[D,x])=>`${R}${D}=${x},`,"");if(uN(g)&&m!=="_self")return I4(e||"",m),new D0(null);const A=window.open(e||"",m,E);Ce(A,r,"popup-blocked");try{A.focus()}catch{}return new D0(A)}function I4(r,e){const t=document.createElement("a");t.href=r,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4="__/auth/handler",O4="emulator/auth/handler",M4=encodeURIComponent("fac");async function O0(r,e,t,s,o,u){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:s,v:da,eventId:o};if(e instanceof Bp){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",O2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,A]of Object.entries({}))h[E]=A}if(e instanceof yu){const E=e.getScopes().filter(A=>A!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await r._getAppCheckToken(),g=p?`#${M4}=${encodeURIComponent(p)}`:"";return`${P4(r)}?${pu(m).slice(1)}${g}`}function P4({config:r}){return r.emulator?Vp(r,O4):`https://${r.authDomain}/${D4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class V4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=s4,this._overrideRedirectResult=n4}async _openPopup(e,t,s,o){var u;yi((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await O0(e,t,s,Jm(),o);return x4(e,h,zp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await O0(e,t,s,Jm(),o);return UN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(yi(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await S4(e),s=new o4(e);return t.register("authEvent",o=>(Ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Dm,{type:Dm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Dm];h!==void 0&&t(!!h),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=f4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return jT()||IT()||Up()}}const j4=V4;var M0="@firebase/auth",P0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U4(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function L4(r){ra(new ls("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ce(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kT(r)},g=new pN(s,o,u,p);return TN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ra(new ls("auth-internal",e=>{const t=Xh(e.getProvider("auth").getImmediate());return(s=>new k4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(M0,P0,U4(r)),Or(M0,P0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B4=5*60,z4=mT("authIdTokenMaxAge")||B4;let V0=null;const q4=r=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>z4)return;const o=t==null?void 0:t.token;V0!==o&&(V0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function F4(r=Dp()){const e=$h(r,"auth");if(e.isInitialized())return e.getImmediate();const t=EN(r,{popupRedirectResolver:j4,persistence:[QN,FT,GT]}),s=mT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=q4(u.toString());ON(t,h,()=>h(t.currentUser)),DN(t,m=>h(m))}}const o=hT("auth");return o&&bN(t,`http://${o}`),t}function H4(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}gN({loadJS(r){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=ar("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",H4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});L4("Browser");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zs,ZT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,N){function C(){}C.prototype=N.prototype,V.D=N.prototype,V.prototype=new C,V.prototype.constructor=V,V.C=function(P,j,L){for(var S=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)S[fe-2]=arguments[fe];return N.prototype[j].apply(P,S)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,N,C){C||(C=0);var P=Array(16);if(typeof N=="string")for(var j=0;16>j;++j)P[j]=N.charCodeAt(C++)|N.charCodeAt(C++)<<8|N.charCodeAt(C++)<<16|N.charCodeAt(C++)<<24;else for(j=0;16>j;++j)P[j]=N[C++]|N[C++]<<8|N[C++]<<16|N[C++]<<24;N=V.g[0],C=V.g[1],j=V.g[2];var L=V.g[3],S=N+(L^C&(j^L))+P[0]+3614090360&4294967295;N=C+(S<<7&4294967295|S>>>25),S=L+(j^N&(C^j))+P[1]+3905402710&4294967295,L=N+(S<<12&4294967295|S>>>20),S=j+(C^L&(N^C))+P[2]+606105819&4294967295,j=L+(S<<17&4294967295|S>>>15),S=C+(N^j&(L^N))+P[3]+3250441966&4294967295,C=j+(S<<22&4294967295|S>>>10),S=N+(L^C&(j^L))+P[4]+4118548399&4294967295,N=C+(S<<7&4294967295|S>>>25),S=L+(j^N&(C^j))+P[5]+1200080426&4294967295,L=N+(S<<12&4294967295|S>>>20),S=j+(C^L&(N^C))+P[6]+2821735955&4294967295,j=L+(S<<17&4294967295|S>>>15),S=C+(N^j&(L^N))+P[7]+4249261313&4294967295,C=j+(S<<22&4294967295|S>>>10),S=N+(L^C&(j^L))+P[8]+1770035416&4294967295,N=C+(S<<7&4294967295|S>>>25),S=L+(j^N&(C^j))+P[9]+2336552879&4294967295,L=N+(S<<12&4294967295|S>>>20),S=j+(C^L&(N^C))+P[10]+4294925233&4294967295,j=L+(S<<17&4294967295|S>>>15),S=C+(N^j&(L^N))+P[11]+2304563134&4294967295,C=j+(S<<22&4294967295|S>>>10),S=N+(L^C&(j^L))+P[12]+1804603682&4294967295,N=C+(S<<7&4294967295|S>>>25),S=L+(j^N&(C^j))+P[13]+4254626195&4294967295,L=N+(S<<12&4294967295|S>>>20),S=j+(C^L&(N^C))+P[14]+2792965006&4294967295,j=L+(S<<17&4294967295|S>>>15),S=C+(N^j&(L^N))+P[15]+1236535329&4294967295,C=j+(S<<22&4294967295|S>>>10),S=N+(j^L&(C^j))+P[1]+4129170786&4294967295,N=C+(S<<5&4294967295|S>>>27),S=L+(C^j&(N^C))+P[6]+3225465664&4294967295,L=N+(S<<9&4294967295|S>>>23),S=j+(N^C&(L^N))+P[11]+643717713&4294967295,j=L+(S<<14&4294967295|S>>>18),S=C+(L^N&(j^L))+P[0]+3921069994&4294967295,C=j+(S<<20&4294967295|S>>>12),S=N+(j^L&(C^j))+P[5]+3593408605&4294967295,N=C+(S<<5&4294967295|S>>>27),S=L+(C^j&(N^C))+P[10]+38016083&4294967295,L=N+(S<<9&4294967295|S>>>23),S=j+(N^C&(L^N))+P[15]+3634488961&4294967295,j=L+(S<<14&4294967295|S>>>18),S=C+(L^N&(j^L))+P[4]+3889429448&4294967295,C=j+(S<<20&4294967295|S>>>12),S=N+(j^L&(C^j))+P[9]+568446438&4294967295,N=C+(S<<5&4294967295|S>>>27),S=L+(C^j&(N^C))+P[14]+3275163606&4294967295,L=N+(S<<9&4294967295|S>>>23),S=j+(N^C&(L^N))+P[3]+4107603335&4294967295,j=L+(S<<14&4294967295|S>>>18),S=C+(L^N&(j^L))+P[8]+1163531501&4294967295,C=j+(S<<20&4294967295|S>>>12),S=N+(j^L&(C^j))+P[13]+2850285829&4294967295,N=C+(S<<5&4294967295|S>>>27),S=L+(C^j&(N^C))+P[2]+4243563512&4294967295,L=N+(S<<9&4294967295|S>>>23),S=j+(N^C&(L^N))+P[7]+1735328473&4294967295,j=L+(S<<14&4294967295|S>>>18),S=C+(L^N&(j^L))+P[12]+2368359562&4294967295,C=j+(S<<20&4294967295|S>>>12),S=N+(C^j^L)+P[5]+4294588738&4294967295,N=C+(S<<4&4294967295|S>>>28),S=L+(N^C^j)+P[8]+2272392833&4294967295,L=N+(S<<11&4294967295|S>>>21),S=j+(L^N^C)+P[11]+1839030562&4294967295,j=L+(S<<16&4294967295|S>>>16),S=C+(j^L^N)+P[14]+4259657740&4294967295,C=j+(S<<23&4294967295|S>>>9),S=N+(C^j^L)+P[1]+2763975236&4294967295,N=C+(S<<4&4294967295|S>>>28),S=L+(N^C^j)+P[4]+1272893353&4294967295,L=N+(S<<11&4294967295|S>>>21),S=j+(L^N^C)+P[7]+4139469664&4294967295,j=L+(S<<16&4294967295|S>>>16),S=C+(j^L^N)+P[10]+3200236656&4294967295,C=j+(S<<23&4294967295|S>>>9),S=N+(C^j^L)+P[13]+681279174&4294967295,N=C+(S<<4&4294967295|S>>>28),S=L+(N^C^j)+P[0]+3936430074&4294967295,L=N+(S<<11&4294967295|S>>>21),S=j+(L^N^C)+P[3]+3572445317&4294967295,j=L+(S<<16&4294967295|S>>>16),S=C+(j^L^N)+P[6]+76029189&4294967295,C=j+(S<<23&4294967295|S>>>9),S=N+(C^j^L)+P[9]+3654602809&4294967295,N=C+(S<<4&4294967295|S>>>28),S=L+(N^C^j)+P[12]+3873151461&4294967295,L=N+(S<<11&4294967295|S>>>21),S=j+(L^N^C)+P[15]+530742520&4294967295,j=L+(S<<16&4294967295|S>>>16),S=C+(j^L^N)+P[2]+3299628645&4294967295,C=j+(S<<23&4294967295|S>>>9),S=N+(j^(C|~L))+P[0]+4096336452&4294967295,N=C+(S<<6&4294967295|S>>>26),S=L+(C^(N|~j))+P[7]+1126891415&4294967295,L=N+(S<<10&4294967295|S>>>22),S=j+(N^(L|~C))+P[14]+2878612391&4294967295,j=L+(S<<15&4294967295|S>>>17),S=C+(L^(j|~N))+P[5]+4237533241&4294967295,C=j+(S<<21&4294967295|S>>>11),S=N+(j^(C|~L))+P[12]+1700485571&4294967295,N=C+(S<<6&4294967295|S>>>26),S=L+(C^(N|~j))+P[3]+2399980690&4294967295,L=N+(S<<10&4294967295|S>>>22),S=j+(N^(L|~C))+P[10]+4293915773&4294967295,j=L+(S<<15&4294967295|S>>>17),S=C+(L^(j|~N))+P[1]+2240044497&4294967295,C=j+(S<<21&4294967295|S>>>11),S=N+(j^(C|~L))+P[8]+1873313359&4294967295,N=C+(S<<6&4294967295|S>>>26),S=L+(C^(N|~j))+P[15]+4264355552&4294967295,L=N+(S<<10&4294967295|S>>>22),S=j+(N^(L|~C))+P[6]+2734768916&4294967295,j=L+(S<<15&4294967295|S>>>17),S=C+(L^(j|~N))+P[13]+1309151649&4294967295,C=j+(S<<21&4294967295|S>>>11),S=N+(j^(C|~L))+P[4]+4149444226&4294967295,N=C+(S<<6&4294967295|S>>>26),S=L+(C^(N|~j))+P[11]+3174756917&4294967295,L=N+(S<<10&4294967295|S>>>22),S=j+(N^(L|~C))+P[2]+718787259&4294967295,j=L+(S<<15&4294967295|S>>>17),S=C+(L^(j|~N))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+N&4294967295,V.g[1]=V.g[1]+(j+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+j&4294967295,V.g[3]=V.g[3]+L&4294967295}s.prototype.u=function(V,N){N===void 0&&(N=V.length);for(var C=N-this.blockSize,P=this.B,j=this.h,L=0;L<N;){if(j==0)for(;L<=C;)o(this,V,L),L+=this.blockSize;if(typeof V=="string"){for(;L<N;)if(P[j++]=V.charCodeAt(L++),j==this.blockSize){o(this,P),j=0;break}}else for(;L<N;)if(P[j++]=V[L++],j==this.blockSize){o(this,P),j=0;break}}this.h=j,this.o+=N},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var N=1;N<V.length-8;++N)V[N]=0;var C=8*this.o;for(N=V.length-8;N<V.length;++N)V[N]=C&255,C/=256;for(this.u(V),V=Array(16),N=C=0;4>N;++N)for(var P=0;32>P;P+=8)V[C++]=this.g[N]>>>P&255;return V};function u(V,N){var C=m;return Object.prototype.hasOwnProperty.call(C,V)?C[V]:C[V]=N(V)}function h(V,N){this.h=N;for(var C=[],P=!0,j=V.length-1;0<=j;j--){var L=V[j]|0;P&&L==N||(C[j]=L,P=!1)}this.g=C}var m={};function p(V){return-128<=V&&128>V?u(V,function(N){return new h([N|0],0>N?-1:0)}):new h([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return M(g(-V));for(var N=[],C=1,P=0;V>=C;P++)N[P]=V/C|0,C*=4294967296;return new h(N,0)}function E(V,N){if(V.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V.charAt(0)=="-")return M(E(V.substring(1),N));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(N,8)),P=A,j=0;j<V.length;j+=8){var L=Math.min(8,V.length-j),S=parseInt(V.substring(j,j+L),N);8>L?(L=g(Math.pow(N,L)),P=P.j(L).add(g(S))):(P=P.j(C),P=P.add(g(S)))}return P}var A=p(0),R=p(1),D=p(16777216);r=h.prototype,r.m=function(){if(k(this))return-M(this).m();for(var V=0,N=1,C=0;C<this.g.length;C++){var P=this.i(C);V+=(0<=P?P:4294967296+P)*N,N*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(x(this))return"0";if(k(this))return"-"+M(this).toString(V);for(var N=g(Math.pow(V,6)),C=this,P="";;){var j=ce(C,N).g;C=Z(C,j.j(N));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(V);if(C=j,x(C))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function x(V){if(V.h!=0)return!1;for(var N=0;N<V.g.length;N++)if(V.g[N]!=0)return!1;return!0}function k(V){return V.h==-1}r.l=function(V){return V=Z(this,V),k(V)?-1:x(V)?0:1};function M(V){for(var N=V.g.length,C=[],P=0;P<N;P++)C[P]=~V.g[P];return new h(C,~V.h).add(R)}r.abs=function(){return k(this)?M(this):this},r.add=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],P=0,j=0;j<=N;j++){var L=P+(this.i(j)&65535)+(V.i(j)&65535),S=(L>>>16)+(this.i(j)>>>16)+(V.i(j)>>>16);P=S>>>16,L&=65535,S&=65535,C[j]=S<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Z(V,N){return V.add(M(N))}r.j=function(V){if(x(this)||x(V))return A;if(k(this))return k(V)?M(this).j(M(V)):M(M(this).j(V));if(k(V))return M(this.j(M(V)));if(0>this.l(D)&&0>V.l(D))return g(this.m()*V.m());for(var N=this.g.length+V.g.length,C=[],P=0;P<2*N;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var j=0;j<V.g.length;j++){var L=this.i(P)>>>16,S=this.i(P)&65535,fe=V.i(j)>>>16,pe=V.i(j)&65535;C[2*P+2*j]+=S*pe,ae(C,2*P+2*j),C[2*P+2*j+1]+=L*pe,ae(C,2*P+2*j+1),C[2*P+2*j+1]+=S*fe,ae(C,2*P+2*j+1),C[2*P+2*j+2]+=L*fe,ae(C,2*P+2*j+2)}for(P=0;P<N;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=N;P<2*N;P++)C[P]=0;return new h(C,0)};function ae(V,N){for(;(V[N]&65535)!=V[N];)V[N+1]+=V[N]>>>16,V[N]&=65535,N++}function re(V,N){this.g=V,this.h=N}function ce(V,N){if(x(N))throw Error("division by zero");if(x(V))return new re(A,A);if(k(V))return N=ce(M(V),N),new re(M(N.g),M(N.h));if(k(N))return N=ce(V,M(N)),new re(M(N.g),N.h);if(30<V.g.length){if(k(V)||k(N))throw Error("slowDivide_ only works with positive integers.");for(var C=R,P=N;0>=P.l(V);)C=ue(C),P=ue(P);var j=_e(C,1),L=_e(P,1);for(P=_e(P,2),C=_e(C,2);!x(P);){var S=L.add(P);0>=S.l(V)&&(j=j.add(C),L=S),P=_e(P,1),C=_e(C,1)}return N=Z(V,j.j(N)),new re(j,N)}for(j=A;0<=V.l(N);){for(C=Math.max(1,Math.floor(V.m()/N.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=g(C),S=L.j(N);k(S)||0<S.l(V);)C-=P,L=g(C),S=L.j(N);x(L)&&(L=R),j=j.add(L),V=Z(V,S)}return new re(j,V)}r.A=function(V){return ce(this,V).h},r.and=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],P=0;P<N;P++)C[P]=this.i(P)&V.i(P);return new h(C,this.h&V.h)},r.or=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],P=0;P<N;P++)C[P]=this.i(P)|V.i(P);return new h(C,this.h|V.h)},r.xor=function(V){for(var N=Math.max(this.g.length,V.g.length),C=[],P=0;P<N;P++)C[P]=this.i(P)^V.i(P);return new h(C,this.h^V.h)};function ue(V){for(var N=V.g.length+1,C=[],P=0;P<N;P++)C[P]=V.i(P)<<1|V.i(P-1)>>>31;return new h(C,V.h)}function _e(V,N){var C=N>>5;N%=32;for(var P=V.g.length-C,j=[],L=0;L<P;L++)j[L]=0<N?V.i(L+C)>>>N|V.i(L+C+1)<<32-N:V.i(L+C);return new h(j,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,Zs=h}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,$l,t1,hh,tp,n1,r1,i1;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,_){return c==Array.prototype||c==Object.prototype||(c[y]=_.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var _=c[y];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var _=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in _))break e;_=_[z]}c=c[c.length-1],w=_[c],y=y(w),y!=w&&y!=null&&e(_,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var _=0,w=!1,z={next:function(){if(!w&&_<c.length){var $=_++;return{value:y($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,_){return c.call.apply(c.bind,arguments)}function A(c,y,_){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function R(c,y,_){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:A,R.apply(null,arguments)}function D(c,y){var _=Array.prototype.slice.call(arguments,1);return function(){var w=_.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function x(c,y){function _(){}_.prototype=y.prototype,c.aa=y.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(w,z,$){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return y.prototype[z].apply(w,he)}}function k(c){const y=c.length;if(0<y){const _=Array(y);for(let w=0;w<y;w++)_[w]=c[w];return _}return[]}function M(c,y){for(let _=1;_<arguments.length;_++){const w=arguments[_];if(p(w)){const z=c.length||0,$=w.length||0;c.length=z+$;for(let he=0;he<$;he++)c[z+he]=w[he]}else c.push(w)}}class Z{constructor(y,_){this.i=y,this.j=_,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(c){return/^[\s\xa0]*$/.test(c)}function re(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ue=re().indexOf("Gecko")!=-1&&!(re().toLowerCase().indexOf("webkit")!=-1&&re().indexOf("Edge")==-1)&&!(re().indexOf("Trident")!=-1||re().indexOf("MSIE")!=-1)&&re().indexOf("Edge")==-1;function _e(c,y,_){for(const w in c)y.call(_,c[w],w,c)}function V(c,y){for(const _ in c)y.call(void 0,c[_],_,c)}function N(c){const y={};for(const _ in c)y[_]=c[_];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let _,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(_ in w)c[_]=w[_];for(let $=0;$<C.length;$++)_=C[$],Object.prototype.hasOwnProperty.call(w,_)&&(c[_]=w[_])}}function j(c){var y=1;c=c.split(":");const _=[];for(;0<y&&c.length;)_.push(c.shift()),y--;return c.length&&_.push(c.join(":")),_}function L(c){m.setTimeout(()=>{throw c},0)}function S(){var c=Oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,_){const w=pe.get();w.set(y,_),this.h?this.h.next=w:this.g=w,this.h=w}}var pe=new Z(()=>new Q,c=>c.reset());class Q{constructor(){this.next=this.g=this.h=null}set(y,_){this.h=y,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Y,de=!1,Oe=new fe,O=()=>{const c=m.Promise.resolve(void 0);Y=()=>{c.then(ne)}};var ne=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(_){L(_)}var y=pe;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}de=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,y),m.removeEventListener("test",_,y)}catch{}return c}();function Re(c,y){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ue){e:{try{ce(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else _=="mouseover"?y=c.fromElement:_=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Te[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}x(Re,J);var Te={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var tt="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Ln(c,y,_,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=_,this.capture=!!w,this.ha=z,this.key=++Xe,this.da=this.fa=!1}function cr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function oe(c){this.src=c,this.g={},this.h=0}oe.prototype.add=function(c,y,_,w,z){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var he=Ye(c,y,w,z);return-1<he?(y=c[he],_||(y.fa=!1)):(y=new Ln(y,this.src,$,!!w,z),y.fa=_,c.push(y)),y};function we(c,y){var _=y.type;if(_ in c.g){var w=c.g[_],z=Array.prototype.indexOf.call(w,y,void 0),$;($=0<=z)&&Array.prototype.splice.call(w,z,1),$&&(cr(y),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Ye(c,y,_,w){for(var z=0;z<c.length;++z){var $=c[z];if(!$.da&&$.listener==y&&$.capture==!!_&&$.ha==w)return z}return-1}var at="closure_lm_"+(1e6*Math.random()|0),dt={};function Sn(c,y,_,w,z){if(Array.isArray(y)){for(var $=0;$<y.length;$++)Sn(c,y[$],_,w,z);return null}return _=Iu(_),c&&c[tt]?c.K(y,_,g(w)?!!w.capture:!1,z):It(c,y,_,!1,w,z)}function It(c,y,_,w,z,$){if(!y)throw Error("Invalid event type");var he=g(z)?!!z.capture:!!z,ze=ya(c);if(ze||(c[at]=ze=new oe(c)),_=ze.add(y,_,w,he,$),_.proxy)return _;if(w=hr(),_.proxy=w,w.src=c,w.listener=_,c.addEventListener)me||(z=he),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(ms(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return _}function hr(){function c(_){return y.call(c.src,c.listener,_)}const y=_f;return c}function An(c,y,_,w,z){if(Array.isArray(y))for(var $=0;$<y.length;$++)An(c,y[$],_,w,z);else w=g(w)?!!w.capture:!!w,_=Iu(_),c&&c[tt]?(c=c.i,y=String(y).toString(),y in c.g&&($=c.g[y],_=Ye($,_,w,z),-1<_&&(cr($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete c.g[y],c.h--)))):c&&(c=ya(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ye(y,_,w,z)),(_=-1<c?y[c]:null)&&fr(_))}function fr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[tt])we(y.i,c);else{var _=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(_,w,c.capture):y.detachEvent?y.detachEvent(ms(_),w):y.addListener&&y.removeListener&&y.removeListener(w),(_=ya(y))?(we(_,c),_.h==0&&(_.src=null,y[at]=null)):cr(c)}}}function ms(c){return c in dt?dt[c]:dt[c]="on"+c}function _f(c,y){if(c.da)c=!0;else{y=new Re(y,this);var _=c.listener,w=c.ha||c.src;c.fa&&fr(c),c=_.call(w,y)}return c}function ya(c){return c=c[at],c instanceof oe?c:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Iu(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(y){return c.handleEvent(y)}),c[jo])}function yt(){W.call(this),this.i=new oe(this),this.M=this,this.F=null}x(yt,W),yt.prototype[tt]=!0,yt.prototype.removeEventListener=function(c,y,_,w){An(this,c,y,_,w)};function We(c,y){var _,w=c.F;if(w)for(_=[];w;w=w.F)_.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new J(y,c);else if(y instanceof J)y.target=y.target||c;else{var z=y;y=new J(w,c),P(y,z)}if(z=!0,_)for(var $=_.length-1;0<=$;$--){var he=y.g=_[$];z=wn(he,w,!0,y)&&z}if(he=y.g=c,z=wn(he,w,!0,y)&&z,z=wn(he,w,!1,y)&&z,_)for($=0;$<_.length;$++)he=y.g=_[$],z=wn(he,w,!1,y)&&z}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var _=c.g[y],w=0;w<_.length;w++)cr(_[w]);delete c.g[y],c.h--}}this.F=null},yt.prototype.K=function(c,y,_,w){return this.i.add(String(c),y,!1,_,w)},yt.prototype.L=function(c,y,_,w){return this.i.add(String(c),y,!0,_,w)};function wn(c,y,_,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,$=0;$<y.length;++$){var he=y[$];if(he&&!he.da&&he.capture==_){var ze=he.listener,Ut=he.ha||he.src;he.fa&&we(c.i,he),z=ze.call(Ut,w)!==!1&&z}}return z&&!w.defaultPrevented}function rn(c,y,_){if(typeof c=="function")_&&(c=R(c,_));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Du(c){c.g=rn(()=>{c.g=null,c.i&&(c.i=!1,Du(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends W{constructor(y,_){super(),this.m=y,this.l=_,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Du(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(c){W.call(this),this.h=c,this.g={}}x(ps,W);var gs=[];function ys(c){_e(c.g,function(y,_){this.g.hasOwnProperty(_)&&fr(y)},c),c.g={}}ps.prototype.N=function(){ps.aa.N.call(this),ys(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Zn=m.JSON.stringify,va=m.JSON.parse,vs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Uo(c){return c.h||(c.h=c.i())}function Lo(){}var Lr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Br(){J.call(this,"d")}x(Br,J);function Bo(){J.call(this,"c")}x(Bo,J);var dr={},zo=null;function Ti(){return zo=zo||new yt}dr.La="serverreachability";function _a(c){J.call(this,dr.La,c)}x(_a,J);function bi(c){const y=Ti();We(y,new _a(y))}dr.STAT_EVENT="statevent";function Ou(c,y){J.call(this,dr.STAT_EVENT,c),this.stat=y}x(Ou,J);function ht(c){const y=Ti();We(y,new Ou(y,c))}dr.Ma="timingevent";function kt(c,y){J.call(this,dr.Ma,c),this.size=y}x(kt,J);function Dt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Bn(){this.g=!0}Bn.prototype.xa=function(){this.g=!1};function qo(c,y,_,w,z,$){c.info(function(){if(c.g)if($)for(var he="",ze=$.split("&"),Ut=0;Ut<ze.length;Ut++){var qe=ze[Ut].split("=");if(1<qe.length){var Ft=qe[0];qe=qe[1];var Lt=Ft.split("_");he=2<=Lt.length&&Lt[1]=="type"?he+(Ft+"="+qe+"&"):he+(Ft+"=redacted&")}}else he=null;else he=$;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+_+`
`+he})}function Tf(c,y,_,w,z,$,he){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+_+`
`+$+" "+he})}function Si(c,y,_,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+_s(c,_)+(w?" "+w:"")})}function Mu(c,y){c.info(function(){return"TIMEOUT: "+y})}Bn.prototype.info=function(){};function _s(c,y){if(!c.g)return y;if(!y)return null;try{var _=JSON.parse(y);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var w=_[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var $=z[0];if($!="noop"&&$!="stop"&&$!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Zn(_)}catch{return y}}var Ai={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mr;function pr(){}x(pr,ko),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},mr=new pr;function dn(c,y,_,w){this.j=c,this.i=y,this.l=_,this.R=w||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Rt}function Rt(){this.i=null,this.g="",this.h=!1}var Fo={},Ea={};function er(c,y,_){c.L=1,c.v=As(Rn(y)),c.m=_,c.P=!0,qr(c,null)}function qr(c,y){c.F=Date.now(),Es(c),c.A=Rn(c.v);var _=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),$o(_.i,"t",w),c.C=0,_=c.j.J,c.h=new Rt,c.g=$u(c.j,_?y:null,!c.m),0<c.O&&(c.M=new Ef(R(c.Y,c,c.g),c.O)),y=c.U,_=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(gs[0]=z.toString()),z=gs);for(var $=0;$<z.length;$++){var he=Sn(_,z[$],w||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?N(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),bi(),qo(c.i,c.u,c.A,c.l,c.R,c.m)}dn.prototype.ca=function(c){c=c.target;const y=this.M;y&&Hn(c)==3?y.j():this.Y(c)},dn.prototype.Y=function(c){try{if(c==this.g)e:{const Lt=Hn(this.g);var y=this.g.Ba();const Xr=this.g.Z();if(!(3>Lt)&&(Lt!=3||this.g&&(this.h.h||this.g.oa()||zu(this.g)))){this.J||Lt!=4||y==7||(y==8||0>=Xr?bi(3):bi(2)),wi(this);var _=this.g.Z();this.X=_;t:if(Pu(this)){var w=zu(this.g);c="";var z=w.length,$=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yt(this),gr(this);var he="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!($&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=_==200,Tf(this.i,this.u,this.A,this.l,this.R,Lt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Ut=this.g;if((ze=Ut.g?Ut.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(ze)){var qe=ze;break t}}qe=null}if(_=qe)Si(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ts(this,_);else{this.o=!1,this.s=3,ht(12),Yt(this),gr(this);break e}}if(this.P){_=!0;let $t;for(;!this.J&&this.C<he.length;)if($t=Vu(this,he),$t==Ea){Lt==4&&(this.s=4,ht(14),_=!1),Si(this.i,this.l,null,"[Incomplete Response]");break}else if($t==Fo){this.s=4,ht(15),Si(this.i,this.l,he,"[Invalid Chunk]"),_=!1;break}else Si(this.i,this.l,$t,null),Ts(this,$t);if(Pu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Lt!=4||he.length!=0||this.h.h||(this.s=1,ht(16),_=!1),this.o=this.o&&_,!_)Si(this.i,this.l,he,"[Invalid Chunked Response]"),Yt(this),gr(this);else if(0<he.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Os(Ft),Ft.M=!0,ht(11))}}else Si(this.i,this.l,he,null),Ts(this,he);Lt==4&&Yt(this),this.o&&!this.J&&(Lt==4?Ku(this.j,this):(this.o=!1,Es(this)))}else Rf(this.g),_==400&&0<he.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Yt(this),gr(this)}}}catch{}finally{}};function Pu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Vu(c,y){var _=c.C,w=y.indexOf(`
`,_);return w==-1?Ea:(_=Number(y.substring(_,w)),isNaN(_)?Fo:(w+=1,w+_>y.length?Ea:(y=y.slice(w,w+_),c.C=w+_,y)))}dn.prototype.cancel=function(){this.J=!0,Yt(this)};function Es(c){c.S=Date.now()+c.I,ju(c,c.I)}function ju(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Dt(R(c.ba,c),y)}function wi(c){c.B&&(m.clearTimeout(c.B),c.B=null)}dn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Mu(this.i,this.A),this.L!=2&&(bi(),ht(17)),Yt(this),this.s=2,gr(this)):ju(this,this.S-c)};function gr(c){c.j.G==0||c.J||Ku(c.j,c)}function Yt(c){wi(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ys(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ts(c,y){try{var _=c.j;if(_.G!=0&&(_.g==c||Ho(_.h,c))){if(!c.K&&Ho(_.h,c)&&_.G==3){try{var w=_.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Oa(_),Ia(_);else break e;el(_),ht(18)}}else _.za=z[1],0<_.za-_.T&&37500>z[2]&&_.F&&_.v==0&&!_.C&&(_.C=Dt(R(_.Za,_),6e3));if(1>=ba(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else $r(_,11)}else if((c.K||_.g==c)&&Oa(_),!ae(y))for(z=_.Da.g.parse(y),y=0;y<z.length;y++){let qe=z[y];if(_.T=qe[0],qe=qe[1],_.G==2)if(qe[0]=="c"){_.K=qe[1],_.ia=qe[2];const Ft=qe[3];Ft!=null&&(_.la=Ft,_.j.info("VER="+_.la));const Lt=qe[4];Lt!=null&&(_.Aa=Lt,_.j.info("SVER="+_.Aa));const Xr=qe[5];Xr!=null&&typeof Xr=="number"&&0<Xr&&(w=1.5*Xr,_.L=w,_.j.info("backChannelRequestTimeoutMs_="+w)),w=_;const $t=c.g;if($t){const Sr=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var $=w.h;$.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Sa($,$.h),$.h=null))}if(w.D){const nl=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(w.ya=nl,nt(w.I,w.D,nl))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),w=_;var he=c;if(w.qa=Yu(w,w.J?w.ia:null,w.W),he.K){mn(w.h,he);var ze=he,Ut=w.L;Ut&&(ze.I=Ut),ze.B&&(wi(ze),Es(ze)),w.g=he}else Hu(w);0<_.i.length&&Da(_)}else qe[0]!="stop"&&qe[0]!="close"||$r(_,7);else _.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?$r(_,7):Jo(_):qe[0]!="noop"&&_.l&&_.l.ta(qe),_.v=0)}}bi(4)}catch{}}var ku=class{constructor(c,y){this.g=c,this.map=y}};function Fr(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ta(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ba(c){return c.h?1:c.g?c.g.size:0}function Ho(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Sa(c,y){c.g?c.g.add(y):c.h=y}function mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Fr.prototype.cancel=function(){if(this.i=Go(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Go(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const _ of c.g.values())y=y.concat(_.D);return y}return k(c.i)}function bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],_=c.length,w=0;w<_;w++)y.push(c[w]);return y}y=[],_=0;for(w in c)y[_++]=c[w];return y}function Aa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var _=0;_<c;_++)y.push(_);return y}y=[],_=0;for(const w in c)y[_++]=w;return y}}}function Ko(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var _=Aa(c),w=bf(c),z=w.length,$=0;$<z;$++)y.call(void 0,w[$],_&&_[$],c)}var bs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var w=c[_].indexOf("="),z=null;if(0<=w){var $=c[_].substring(0,w);z=c[_].substring(w+1)}else $=c[_];y($,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Ot(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ot){this.h=c.h,Ss(this,c.j),this.o=c.o,this.g=c.g,Ri(this,c.s),this.l=c.l;var y=c.i,_=new Gr;_.i=y.i,y.g&&(_.g=new Map(y.g),_.h=y.h),Hr(this,_),this.m=c.m}else c&&(y=String(c).match(bs))?(this.h=!1,Ss(this,y[1]||"",!0),this.o=zn(y[2]||""),this.g=zn(y[3]||"",!0),Ri(this,y[4]),this.l=zn(y[5]||"",!0),Hr(this,y[6]||"",!0),this.m=zn(y[7]||"")):(this.h=!1,this.i=new Gr(null,this.h))}Ot.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ws(y,Qo,!0),":");var _=this.g;return(_||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ws(y,Qo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(ws(_,_.charAt(0)=="/"?Af:Yo,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",ws(_,wa)),c.join("")};function Rn(c){return new Ot(c)}function Ss(c,y,_){c.j=_?zn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Ri(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Hr(c,y,_){y instanceof Gr?(c.i=y,Lu(c.i,c.h)):(_||(y=ws(y,wf)),c.i=new Gr(y,c.h))}function nt(c,y,_){c.i.set(y,_)}function As(c){return nt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function zn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ws(c,y,_){return typeof c=="string"?(c=encodeURI(c).replace(y,Uu),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Qo=/[#\/\?@]/g,Yo=/[#\?:]/g,Af=/[#\?]/g,wf=/[#\?@]/g,wa=/#/g;function Gr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function qn(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,_){c.add(decodeURIComponent(y.replace(/\+/g," ")),_)}))}r=Gr.prototype,r.add=function(c,y){qn(this),this.i=null,c=yr(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(y),this.h+=1,this};function Kr(c,y){qn(c),y=yr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qr(c,y){return qn(c),y=yr(c,y),c.g.has(y)}r.forEach=function(c,y){qn(this),this.g.forEach(function(_,w){_.forEach(function(z){c.call(y,z,w,this)},this)},this)},r.na=function(){qn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),_=[];for(let w=0;w<y.length;w++){const z=c[w];for(let $=0;$<z.length;$++)_.push(y[w])}return _},r.V=function(c){qn(this);let y=[];if(typeof c=="string")Qr(this,c)&&(y=y.concat(this.g.get(yr(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)y=y.concat(c[_])}return y},r.set=function(c,y){return qn(this),this.i=null,c=yr(this,c),Qr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function $o(c,y,_){Kr(c,y),0<_.length&&(c.i=null,c.g.set(yr(c,y),k(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var _=0;_<y.length;_++){var w=y[_];const $=encodeURIComponent(String(w)),he=this.V(w);for(w=0;w<he.length;w++){var z=$;he[w]!==""&&(z+="="+encodeURIComponent(String(he[w]))),c.push(z)}}return this.i=c.join("&")};function yr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Lu(c,y){y&&!c.j&&(qn(c),c.i=null,c.g.forEach(function(_,w){var z=w.toLowerCase();w!=z&&(Kr(this,w),$o(this,z,_))},c)),c.j=y}function Rs(c,y){const _=new Bn;if(m.Image){const w=new Image;w.onload=D(Fn,_,"TestLoadImage: loaded",!0,y,w),w.onerror=D(Fn,_,"TestLoadImage: error",!1,y,w),w.onabort=D(Fn,_,"TestLoadImage: abort",!1,y,w),w.ontimeout=D(Fn,_,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function tr(c,y){const _=new Bn,w=new AbortController,z=setTimeout(()=>{w.abort(),Fn(_,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(z),$.ok?Fn(_,"TestPingServer: ok",!0,y):Fn(_,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Fn(_,"TestPingServer: error",!1,y)})}function Fn(c,y,_,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(_)}catch{}}function Ns(){this.g=new vs}function vr(c,y,_){const w=_||"";try{Ko(c,function(z,$){let he=z;g(z)&&(he=Zn(z)),y.push(w+$+"="+encodeURIComponent(he))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function Ni(c){this.l=c.Ub||null,this.j=c.eb||!1}x(Ni,ko),Ni.prototype.g=function(){return new Yr(this.l,this.j)},Ni.prototype.i=function(c){return function(){return c}}({});function Yr(c,y){yt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(Yr,yt),r=Yr.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Er(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_r(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?_r(this):Er(this),this.readyState==3&&Xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,_r(this))},r.Qa=function(c){this.g&&(this.response=c,_r(this))},r.ga=function(){this.g&&_r(this)};function _r(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Er(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var _=y.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=y.next();return c.join(`\r
`)};function Er(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Yr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wo(c){let y="";return _e(c,function(_,w){y+=w,y+=":",y+=_,y+=`\r
`}),y}function qt(c,y,_){e:{for(w in _){var w=!1;break e}w=!0}w||(_=Wo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):nt(c,y,_))}function $e(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x($e,yt);var Ra=/^https?$/i,Cs=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,_,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mr.g(),this.v=this.o?Uo(this.o):Uo(mr),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch($){Bu(this,$);return}if(c=_||"",_=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)_.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())_.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Cs,y,void 0))||w||z||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,he]of _)this.g.setRequestHeader($,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{xs(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Bu(this,$)}};function Bu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Na(c),Tr(c)}function Na(c){c.A||(c.A=!0,We(c,"complete"),We(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,We(this,"complete"),We(this,"abort"),Tr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Tr(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},r.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)rn(c.Ea,0,c);else if(We(c,"readystatechange"),Hn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var _;if(!(_=y)){var w;if(w=he===0){var z=String(c.D).match(bs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!Ra.test(z?z.toLowerCase():"")}_=w}if(_)We(c,"complete"),We(c,"success");else{c.m=6;try{var $=2<Hn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Na(c)}}finally{Tr(c)}}}}function Tr(c,y){if(c.g){xs(c);const _=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||We(c,"ready");try{_.onreadystatechange=w}catch{}}}function xs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),va(y)}};function zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Rf(c){const y={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ae(c[w]))continue;var _=j(c[w]);const z=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=y[z]||[];y[z]=$,$.push(_)}V(y,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Is(c,y,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||y}function xa(c){this.Aa=0,this.i=[],this.j=new Bn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Is("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Is("baseRetryDelayMs",5e3,c),this.cb=Is("retryDelaySeedMs",1e4,c),this.Wa=Is("forwardChannelMaxRetries",2,c),this.wa=Is("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fr(c&&c.concurrentRequestLimit),this.Da=new Ns,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=xa.prototype,r.la=8,r.G=1,r.connect=function(c,y,_,w){ht(0),this.W=c,this.H=y||{},_&&w!==void 0&&(this.H.OSID=_,this.H.OAID=w),this.F=this.X,this.I=Yu(this,null,this.W),Da(this)};function Jo(c){if(qu(c),c.G==3){var y=c.U++,_=Rn(c.I);if(nt(_,"SID",c.K),nt(_,"RID",y),nt(_,"TYPE","terminate"),Ds(c,_),y=new dn(c,c.j,y),y.L=2,y.v=As(Rn(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=y.v,_=!0),_||(y.g=$u(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Es(y)}Qu(c)}function Ia(c){c.g&&(Os(c),c.g.cancel(),c.g=null)}function qu(c){Ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Da(c){if(!Ta(c.h)&&!c.s){c.s=!0;var y=c.Ga;Y||O(),de||(Y(),de=!0),Oe.add(y,c),c.B=0}}function Nf(c,y){return ba(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Dt(R(c.Ga,c,y),tl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new dn(this,this.j,c);let $=this.o;if(this.S&&($?($=N($),P($,this.S)):$=this.S),this.m!==null||this.O||(z.H=$,$=null),this.P)e:{for(var y=0,_=0;_<this.i.length;_++){t:{var w=this.i[_];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=_;break e}if(y===4096||_===this.i.length-1){y=_+1;break e}}y=1e3}else y=1e3;y=Fu(this,z,y),_=Rn(this.I),nt(_,"RID",c),nt(_,"CVER",22),this.D&&nt(_,"X-HTTP-Session-Id",this.D),Ds(this,_),$&&(this.O?y="headers="+encodeURIComponent(String(Wo($)))+"&"+y:this.m&&qt(_,this.m,$)),Sa(this.h,z),this.Ua&&nt(_,"TYPE","init"),this.P?(nt(_,"$req",y),nt(_,"SID","null"),z.T=!0,er(z,_,null)):er(z,_,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Ta(this.h)||Zo(this))};function Zo(c,y){var _;y?_=y.l:_=c.U++;const w=Rn(c.I);nt(w,"SID",c.K),nt(w,"RID",_),nt(w,"AID",c.T),Ds(c,w),c.m&&c.o&&qt(w,c.m,c.o),_=new dn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Fu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sa(c.h,_),er(_,w,y)}function Ds(c,y){c.H&&_e(c.H,function(_,w){nt(y,w,_)}),c.l&&Ko({},function(_,w){nt(y,w,_)})}function Fu(c,y,_){_=Math.min(c.i.length,_);var w=c.l?R(c.l.Na,c.l,c):null;e:{var z=c.i;let $=-1;for(;;){const he=["count="+_];$==-1?0<_?($=z[0].g,he.push("ofs="+$)):$=0:he.push("ofs="+$);let ze=!0;for(let Ut=0;Ut<_;Ut++){let qe=z[Ut].g;const Ft=z[Ut].map;if(qe-=$,0>qe)$=Math.max(0,z[Ut].g-100),ze=!1;else try{vr(Ft,he,"req"+qe+"_")}catch{w&&w(Ft)}}if(ze){w=he.join("&");break e}}}return c=c.i.splice(0,_),y.D=c,w}function Hu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;Y||O(),de||(Y(),de=!0),Oe.add(y,c),c.v=0}}function el(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Dt(R(c.Fa,c),tl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Dt(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Ia(this),Gu(this))};function Os(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Gu(c){c.g=new dn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Rn(c.qa);nt(y,"RID","rpc"),nt(y,"SID",c.K),nt(y,"AID",c.T),nt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&nt(y,"TO",c.ja),nt(y,"TYPE","xmlhttp"),Ds(c,y),c.m&&c.o&&qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=As(Rn(y)),_.m=null,_.P=!0,qr(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ia(this),el(this),ht(19))};function Oa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Ku(c,y){var _=null;if(c.g==y){Oa(c),Os(c),c.g=null;var w=2}else if(Ho(c.h,y))_=y.D,mn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){_=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=Ti(),We(w,new kt(w,_)),Da(c)}else Hu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&Nf(c,y)||w==2&&el(c)))switch(_&&0<_.length&&(y=c.h,y.i=y.i.concat(_)),z){case 1:$r(c,5);break;case 4:$r(c,10);break;case 3:$r(c,6);break;default:$r(c,2)}}}function tl(c,y){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*y}function $r(c,y){if(c.j.info("Error code "+y),y==2){var _=R(c.fb,c),w=c.Xa;const z=!w;w=new Ot(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ss(w,"https"),As(w),z?Rs(w.toString(),_):tr(w.toString(),_)}else ht(2);c.G=0,c.l&&c.l.sa(y),Qu(c),qu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Qu(c){if(c.G=0,c.ka=[],c.l){const y=Go(c.h);(y.length!=0||c.i.length!=0)&&(M(c.ka,y),M(c.ka,c.i),c.h.i.length=0,k(c.i),c.i.length=0),c.l.ra()}}function Yu(c,y,_){var w=_ instanceof Ot?Rn(_):new Ot(_);if(w.g!="")y&&(w.g=y+"."+w.g),Ri(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var $=new Ot(null);w&&Ss($,w),y&&($.g=y),z&&Ri($,z),_&&($.l=_),w=$}return _=c.D,y=c.ya,_&&y&&nt(w,_,y),nt(w,"VER",c.la),Ds(c,w),w}function $u(c,y,_){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Ni({eb:_})):new $e(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Xu(){}r=Xu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ma(){}Ma.prototype.g=function(c,y){return new pn(c,y)};function pn(c,y){yt.call(this),this.g=new xa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ae(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new br(this)}x(pn,yt),pn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},pn.prototype.close=function(){Jo(this.g)},pn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Zn(c),c=_);y.i.push(new ku(y.Ya++,c)),y.G==3&&Da(y)},pn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,pn.aa.N.call(this)};function Wu(c){Br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const _ in y){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Wu,Br);function Ju(){Bo.call(this),this.status=1}x(Ju,Bo);function br(c){this.g=c}x(br,Xu),br.prototype.ua=function(){We(this.g,"a")},br.prototype.ta=function(c){We(this.g,new Wu(c))},br.prototype.sa=function(c){We(this.g,new Ju)},br.prototype.ra=function(){We(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,pn.prototype.send=pn.prototype.o,pn.prototype.open=pn.prototype.m,pn.prototype.close=pn.prototype.close,i1=function(){return new Ma},r1=function(){return Ti()},n1=dr,tp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,hh=Ai,zr.COMPLETE="complete",t1=zr,Lo.EventType=Lr,Lr.OPEN="a",Lr.CLOSE="b",Lr.ERROR="c",Lr.MESSAGE="d",yt.prototype.listen=yt.prototype.K,$l=Lo,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,e1=$e}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const k0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Io="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new xp("@firebase/firestore");function Gl(){return sa.logLevel}function ve(r,...e){if(sa.logLevel<=Be.DEBUG){const t=e.map(Fp);sa.debug(`Firestore (${Io}): ${r}`,...t)}}function vi(r,...e){if(sa.logLevel<=Be.ERROR){const t=e.map(Fp);sa.error(`Firestore (${Io}): ${r}`,...t)}}function To(r,...e){if(sa.logLevel<=Be.WARN){const t=e.map(Fp);sa.warn(`Firestore (${Io}): ${r}`,...t)}}function Fp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r="Unexpected state"){const e=`FIRESTORE (${Io}) INTERNAL ASSERTION FAILED: `+r;throw vi(e),new Error(e)}function et(r,e){r||xe()}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Ur{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class G4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ln.UNAUTHENTICATED))}shutdown(){}}class K4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Q4{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){et(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new as;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new as,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new as)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(et(typeof s.accessToken=="string"),new s1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return et(e===null||typeof e=="string"),new ln(e)}}class Y4{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $4{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new Y4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){et(this.o===void 0);const s=u=>{u.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ve("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(et(typeof t.token=="string"),this.R=t.token,new X4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J4(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<r;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=J4(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Ke(r,e){return r<e?-1:r>e?1:0}function bo(r,e,t){return r.length===e.length&&r.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Tt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Tt(0,0))}static max(){return new Ie(new Tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,t,s){t===void 0?t=0:t>e.length&&xe(),s===void 0?s=e.length-t:s>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ou.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ou?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends ou{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const Z4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends ou{construct(e,t,s){return new en(e,t,s)}static isValidIdentifier(e){return Z4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.path=e}static fromPath(e){return new be(ct.fromString(e))}static fromName(e){return new be(ct.fromString(e).popFirst(5))}static empty(){return new be(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new be(new ct(e.slice()))}}function eC(r,e){const t=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new Tt(t+1,0):new Tt(t,s));return new us(o,be.empty(),e)}function tC(r){return new us(r.readTime,r.key,-1)}class us{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new us(Ie.min(),be.empty(),-1)}static max(){return new us(Ie.max(),be.empty(),-1)}}function nC(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=be.comparator(r.documentKey,e.documentKey),t!==0?t:Ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _u(r){if(r.code!==se.FAILED_PRECONDITION||r.message!==rC)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new le((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function sC(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Eu(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Hp.oe=-1;function Zh(r){return r==null}function Mh(r){return r===0&&1/r==-1/0}function aC(r){return typeof r=="number"&&Number.isInteger(r)&&!Mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function pa(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function o1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Zt.RED,this.left=o??Zt.EMPTY,this.right=u??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Zt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Zt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new tn(this.comparator);return t.data=e,t}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Vn([])}unionWith(e){let t=new tn(en.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Vn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l1("Invalid base64 string: "+u):u}}(e);return new nn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new nn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const oC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(et(!!r),typeof r=="string"){let e=0;const t=oC.exec(r);if(et(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:xt(r.seconds),nanos:xt(r.nanos)}}function xt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function aa(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Kp(r){const e=r.mapValue.fields.__previous_value__;return Gp(e)?Kp(e):e}function lu(r){const e=cs(r.mapValue.fields.__local_write_time__.timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,t,s,o,u,h,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}class uu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh={mapValue:{}};function oa(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gp(r)?4:cC(r)?9007199254740991:uC(r)?10:11:xe()}function kr(r,e){if(r===e)return!0;const t=oa(r);if(t!==oa(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=cs(o.timestampValue),m=cs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return aa(o.bytesValue).isEqual(aa(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return xt(o.geoPointValue.latitude)===xt(u.geoPointValue.latitude)&&xt(o.geoPointValue.longitude)===xt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return xt(o.integerValue)===xt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=xt(o.doubleValue),m=xt(u.doubleValue);return h===m?Mh(h)===Mh(m):isNaN(h)&&isNaN(m)}return!1}(r,e);case 9:return bo(r.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(U0(h)!==U0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!kr(h[p],m[p])))return!1;return!0}(r,e);default:return xe()}}function cu(r,e){return(r.values||[]).find(t=>kr(t,e))!==void 0}function So(r,e){if(r===e)return 0;const t=oa(r),s=oa(e);if(t!==s)return Ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return function(u,h){const m=xt(u.integerValue||u.doubleValue),p=xt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return B0(r.timestampValue,e.timestampValue);case 4:return B0(lu(r),lu(e));case 5:return Ke(r.stringValue,e.stringValue);case 6:return function(u,h){const m=aa(u),p=aa(h);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ke(m[g],p[g]);if(E!==0)return E}return Ke(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ke(xt(u.latitude),xt(h.latitude));return m!==0?m:Ke(xt(u.longitude),xt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return z0(r.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const A=u.fields||{},R=h.fields||{},D=(m=A.value)===null||m===void 0?void 0:m.arrayValue,x=(p=R.value)===null||p===void 0?void 0:p.arrayValue,k=Ke(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=x==null?void 0:x.values)===null||E===void 0?void 0:E.length)||0);return k!==0?k:z0(D,x)}(r.mapValue,e.mapValue);case 11:return function(u,h){if(u===nh.mapValue&&h===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(h===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let A=0;A<p.length&&A<E.length;++A){const R=Ke(p[A],E[A]);if(R!==0)return R;const D=So(m[p[A]],g[E[A]]);if(D!==0)return D}return Ke(p.length,E.length)}(r.mapValue,e.mapValue);default:throw xe()}}function B0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const t=cs(r),s=cs(e),o=Ke(t.seconds,s.seconds);return o!==0?o:Ke(t.nanos,s.nanos)}function z0(r,e){const t=r.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=So(t[o],s[o]);if(u)return u}return Ke(t.length,s.length)}function Ao(r){return np(r)}function np(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const s=cs(t);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return aa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return be.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=np(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${np(t.fields[h])}`;return o+"}"}(r.mapValue):xe()}function q0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function Qp(r){return!!r&&"arrayValue"in r}function F0(r){return!!r&&"nullValue"in r}function H0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function fh(r){return!!r&&"mapValue"in r}function uC(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return pa(r.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Zl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Zl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function cC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!fh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zl(t)}setAll(e){let t=en.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Zl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());fh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];fh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){pa(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(Zl(this.value))}}function u1(r){const e=[];return pa(r.fields,(t,s)=>{const o=new en([t]);if(fh(s)){const u=u1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new un(e,0,Ie.min(),Ie.min(),Ie.min(),Tn.empty(),0)}static newFoundDocument(e,t,s,o){return new un(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new un(e,2,t,Ie.min(),Ie.min(),Tn.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Ie.min(),Ie.min(),Tn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,t){this.position=e,this.inclusive=t}}function G0(r,e,t){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],h=r.position[o];if(u.field.isKeyField()?s=be.comparator(be.fromName(h.referenceValue),t.key):s=So(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function K0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!kr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function hC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{}class jt extends c1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new dC(e,t,s):t==="array-contains"?new gC(e,s):t==="in"?new yC(e,s):t==="not-in"?new vC(e,s):t==="array-contains-any"?new _C(e,s):new jt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new mC(e,s):new pC(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(So(t,this.value)):t!==null&&oa(this.value)===oa(t)&&this.matchesComparison(So(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class lr extends c1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new lr(e,t)}matches(e){return h1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h1(r){return r.op==="and"}function f1(r){return fC(r)&&h1(r)}function fC(r){for(const e of r.filters)if(e instanceof lr)return!1;return!0}function ip(r){if(r instanceof jt)return r.field.canonicalString()+r.op.toString()+Ao(r.value);if(f1(r))return r.filters.map(e=>ip(e)).join(",");{const e=r.filters.map(t=>ip(t)).join(",");return`${r.op}(${e})`}}function d1(r,e){return r instanceof jt?function(s,o){return o instanceof jt&&s.op===o.op&&s.field.isEqual(o.field)&&kr(s.value,o.value)}(r,e):r instanceof lr?function(s,o){return o instanceof lr&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&d1(h,o.filters[m]),!0):!1}(r,e):void xe()}function m1(r){return r instanceof jt?function(t){return`${t.field.canonicalString()} ${t.op} ${Ao(t.value)}`}(r):r instanceof lr?function(t){return t.op.toString()+" {"+t.getFilters().map(m1).join(" ,")+"}"}(r):"Filter"}class dC extends jt{constructor(e,t,s){super(e,t,s),this.key=be.fromName(s.referenceValue)}matches(e){const t=be.comparator(e.key,this.key);return this.matchesComparison(t)}}class mC extends jt{constructor(e,t){super(e,"in",t),this.keys=p1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pC extends jt{constructor(e,t){super(e,"not-in",t),this.keys=p1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p1(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>be.fromName(s.referenceValue))}class gC extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qp(t)&&cu(t.arrayValue,this.value)}}class yC extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&cu(this.value.arrayValue,t)}}class vC extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!cu(this.value.arrayValue,t)}}class _C extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function Q0(r,e=null,t=[],s=[],o=null,u=null,h=null){return new EC(r,e,t,s,o,u,h)}function Yp(r){const e=De(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>ip(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>Ao(s)).join(",")),e.ue=t}return e.ue}function $p(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!hC(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!d1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!K0(r.startAt,e.startAt)&&K0(r.endAt,e.endAt)}function sp(r){return be.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TC(r,e,t,s,o,u,h,m){return new Tu(r,e,t,s,o,u,h,m)}function g1(r){return new Tu(r)}function Y0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function y1(r){return r.collectionGroup!==null}function eu(r){const e=De(r);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new tn(en.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Vh(u,s))}),t.has(en.keyField().canonicalString())||e.ce.push(new Vh(en.keyField(),s))}return e.ce}function Pr(r){const e=De(r);return e.le||(e.le=bC(e,eu(r))),e.le}function bC(r,e){if(r.limitType==="F")return Q0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)});const t=r.endAt?new Ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Ph(r.startAt.position,r.startAt.inclusive):null;return Q0(r.path,r.collectionGroup,e,r.filters,r.limit,t,s)}}function ap(r,e){const t=r.filters.concat([e]);return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function op(r,e,t){return new Tu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function ef(r,e){return $p(Pr(r),Pr(e))&&r.limitType===e.limitType}function v1(r){return`${Yp(Pr(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>m1(o)).join(", ")}]`),Zh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>Ao(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(Pr(r))}; limitType=${r.limitType})`}function tf(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):be.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of eu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=G0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,eu(s),o)||s.endAt&&!function(h,m,p){const g=G0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,eu(s),o))}(r,e)}function SC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function _1(r){return(e,t)=>{let s=!1;for(const o of eu(r)){const u=AC(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function AC(r,e,t){const s=r.field.isKeyField()?be.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):xe()}(r.field,e,t);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){pa(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC=new gt(be.comparator);function _i(){return wC}const E1=new gt(be.comparator);function Xl(...r){let e=E1;for(const t of r)e=e.insert(t.key,t);return e}function T1(r){let e=E1;return r.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Xs(){return tu()}function b1(){return tu()}function tu(){return new Do(r=>r.toString(),(r,e)=>r.isEqual(e))}const RC=new gt(be.comparator),NC=new tn(be.comparator);function Le(...r){let e=NC;for(const t of r)e=e.add(t);return e}const CC=new tn(Ke);function xC(){return CC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Mh(e)?"-0":e}}function S1(r){return{integerValue:""+r}}function IC(r,e){return aC(e)?S1(e):Xp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(){this._=void 0}}function DC(r,e,t){return r instanceof jh?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gp(u)&&(u=Kp(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):r instanceof hu?w1(r,e):r instanceof fu?R1(r,e):function(o,u){const h=A1(o,u),m=$0(h)+$0(o.Pe);return rp(h)&&rp(o.Pe)?S1(m):Xp(o.serializer,m)}(r,e)}function OC(r,e,t){return r instanceof hu?w1(r,e):r instanceof fu?R1(r,e):t}function A1(r,e){return r instanceof kh?function(s){return rp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class jh extends nf{}class hu extends nf{constructor(e){super(),this.elements=e}}function w1(r,e){const t=N1(e);for(const s of r.elements)t.some(o=>kr(o,s))||t.push(s);return{arrayValue:{values:t}}}class fu extends nf{constructor(e){super(),this.elements=e}}function R1(r,e){let t=N1(e);for(const s of r.elements)t=t.filter(o=>!kr(o,s));return{arrayValue:{values:t}}}class kh extends nf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function $0(r){return xt(r.integerValue||r.doubleValue)}function N1(r){return Qp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function MC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof hu&&o instanceof hu||s instanceof fu&&o instanceof fu?bo(s.elements,o.elements,kr):s instanceof kh&&o instanceof kh?kr(s.Pe,o.Pe):s instanceof jh&&o instanceof jh}(r.transform,e.transform)}class PC{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class rf{}function C1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Wp(r.key,or.none()):new bu(r.key,r.data,or.none());{const t=r.data,s=Tn.empty();let o=new tn(en.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new ds(r.key,s,new Vn(o.toArray()),or.none())}}function VC(r,e,t){r instanceof bu?function(o,u,h){const m=o.value.clone(),p=W0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):r instanceof ds?function(o,u,h){if(!dh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=W0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(x1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(r,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function nu(r,e,t,s){return r instanceof bu?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=u.value.clone(),E=J0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,s):r instanceof ds?function(u,h,m,p){if(!dh(u.precondition,h))return m;const g=J0(u.fieldTransforms,p,h),E=h.data;return E.setAll(x1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,t,s):function(u,h,m){return dh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(r,e,t)}function jC(r,e){let t=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=A1(s.transform,o||null);u!=null&&(t===null&&(t=Tn.empty()),t.set(s.field,u))}return t||null}function X0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&bo(s,o,(u,h)=>MC(u,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class bu extends rf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ds extends rf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function x1(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=r.data.field(t);e.set(t,s)}}),e}function W0(r,e,t){const s=new Map;et(r.length===t.length);for(let o=0;o<t.length;o++){const u=r[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,OC(h,m,t[o]))}return s}function J0(r,e,t){const s=new Map;for(const o of r){const u=o.transform,h=t.data.field(o.field);s.set(o.field,DC(u,h,e))}return s}class Wp extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kC extends rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VC(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=nu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=nu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=b1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=C1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&bo(this.mutations,e.mutations,(t,s)=>X0(t,s))&&bo(this.baseMutations,e.baseMutations,(t,s)=>X0(t,s))}}class Jp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){et(e.mutations.length===s.length);let o=function(){return RC}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Jp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,He;function zC(r){switch(r){default:return xe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function I1(r){if(r===void 0)return vi("GRPC error has no .code"),se.UNKNOWN;switch(r){case Vt.OK:return se.OK;case Vt.CANCELLED:return se.CANCELLED;case Vt.UNKNOWN:return se.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return se.INTERNAL;case Vt.UNAVAILABLE:return se.UNAVAILABLE;case Vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Vt.NOT_FOUND:return se.NOT_FOUND;case Vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Vt.ABORTED:return se.ABORTED;case Vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Vt.DATA_LOSS:return se.DATA_LOSS;default:return xe()}}(He=Vt||(Vt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new Zs([4294967295,4294967295],0);function Z0(r){const e=qC().encode(r),t=new ZT;return t.update(e),new Uint8Array(t.digest())}function eE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Zs([t,s],0),new Zs([o,u],0)]}class Zp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Wl(`Invalid padding: ${t}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Zs.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(Zs.fromNumber(s)));return o.compare(FC)===1&&(o=new Zs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Z0(e),[s,o]=eE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Zp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ie===0)return;const t=Z0(e),[s,o]=eE(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Su.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new sf(Ie.min(),o,new gt(Ke),_i(),Le())}}class Su{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Su(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class D1{constructor(e,t){this.targetId=e,this.me=t}}class O1{constructor(e,t,s=nn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class tE{constructor(){this.fe=0,this.ge=rE(),this.pe=nn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),s=Le();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:xe()}}),new Su(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=rE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,et(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class HC{constructor(e){this.Le=e,this.Be=new Map,this.ke=_i(),this.qe=nE(),this.Qe=new gt(Ke)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:xe()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(sp(u))if(s===0){const h=new be(u.path);this.Ue(t,h,un.newNoDocument(h,Ie.min()))}else et(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),p=m?this.Xe(m,e,h):1;if(p!==0){this.je(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,g)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=aa(s).toUint8Array()}catch(p){if(p instanceof l1)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Zp(h,o,u)}catch(p){return To(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((u,h)=>{const m=this.Je(h);if(m){if(u.current&&sp(m.target)){const p=new be(m.target.path);this.ke.get(p)!==null||this.it(h,p)||this.Ue(h,p,un.newNoDocument(p,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Le();this.qe.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new sf(e,t,this.Qe,this.ke,s);return this.ke=_i(),this.qe=nE(),this.Qe=new gt(Ke),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new tE,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new tn(Ke),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new tE),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function nE(){return new gt(be.comparator)}function rE(){return new gt(be.comparator)}const GC={asc:"ASCENDING",desc:"DESCENDING"},KC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QC={and:"AND",or:"OR"};class YC{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function lp(r,e){return r.useProto3Json||Zh(e)?e:{value:e}}function Uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function $C(r,e){return Uh(r,e.toTimestamp())}function Vr(r){return et(!!r),Ie.fromTimestamp(function(t){const s=cs(t);return new Tt(s.seconds,s.nanos)}(r))}function eg(r,e){return up(r,e).canonicalString()}function up(r,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function P1(r){const e=ct.fromString(r);return et(L1(e)),e}function cp(r,e){return eg(r.databaseId,e.path)}function Om(r,e){const t=P1(e);if(t.get(1)!==r.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new be(j1(t))}function V1(r,e){return eg(r.databaseId,e)}function XC(r){const e=P1(r);return e.length===4?ct.emptyPath():j1(e)}function hp(r){return new ct(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function j1(r){return et(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function iE(r,e,t){return{name:cp(r,e),fields:t.value.mapValue.fields}}function WC(r,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(et(E===void 0||typeof E=="string"),nn.fromBase64String(E||"")):(et(E===void 0||E instanceof Buffer||E instanceof Uint8Array),nn.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?se.UNKNOWN:I1(g.code);return new ye(E,g.message||"")}(h);t=new O1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Om(r,s.document.name),u=Vr(s.document.updateTime),h=s.document.createTime?Vr(s.document.createTime):Ie.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=un.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new mh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Om(r,s.document),u=s.readTime?Vr(s.readTime):Ie.min(),h=un.newNoDocument(o,u),m=s.removedTargetIds||[];t=new mh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Om(r,s.document),u=s.removedTargetIds||[];t=new mh([],u,o,null)}else{if(!("filter"in e))return xe();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new BC(o,u),m=s.targetId;t=new D1(m,h)}}return t}function JC(r,e){let t;if(e instanceof bu)t={update:iE(r,e.key,e.value)};else if(e instanceof Wp)t={delete:cp(r,e.key)};else if(e instanceof ds)t={update:iE(r,e.key,e.data),updateMask:ox(e.fieldMask)};else{if(!(e instanceof kC))return xe();t={verify:cp(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof jh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof hu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof fu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw xe()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:$C(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:xe()}(r,e.precondition)),t}function ZC(r,e){return r&&r.length>0?(et(e!==void 0),r.map(t=>function(o,u){let h=o.updateTime?Vr(o.updateTime):Vr(u);return h.isEqual(Ie.min())&&(h=Vr(u)),new PC(h,o.transformResults||[])}(t,e))):[]}function ex(r,e){return{documents:[V1(r,e.path)]}}function tx(r,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=V1(r,o);const u=function(g){if(g.length!==0)return U1(lr.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:uo(R.field),direction:ix(R.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=lp(r,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:t,parent:o}}function nx(r){let e=XC(r.parent);const t=r.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){et(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(A){const R=k1(A);return R instanceof lr&&f1(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(R=>function(x){return new Vh(co(x.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(R))}(t.orderBy));let m=null;t.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,Zh(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(A){const R=!!A.before,D=A.values||[];return new Ph(D,R)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const R=!A.before,D=A.values||[];return new Ph(D,R)}(t.endAt)),TC(e,o,h,u,m,"F",p,g)}function rx(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function k1(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=co(t.unaryFilter.field);return jt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(t.unaryFilter.field);return jt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(t.unaryFilter.field);return jt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(t.unaryFilter.field);return jt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(r):r.fieldFilter!==void 0?function(t){return jt.create(co(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return lr.create(t.compositeFilter.filters.map(s=>k1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}}(t.compositeFilter.op))}(r):xe()}function ix(r){return GC[r]}function sx(r){return KC[r]}function ax(r){return QC[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return en.fromServerFormat(r.fieldPath)}function U1(r){return r instanceof jt?function(t){if(t.op==="=="){if(H0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NAN"}};if(F0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(H0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NAN"}};if(F0(t.value))return{unaryFilter:{field:uo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(t.field),op:sx(t.op),value:t.value}}}(r):r instanceof lr?function(t){const s=t.getFilters().map(o=>U1(o));return s.length===1?s[0]:{compositeFilter:{op:ax(t.op),filters:s}}}(r):xe()}function ox(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function L1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,t,s,o,u=Ie.min(),h=Ie.min(),m=nn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.ct=e}}function ux(r){const e=nx({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?op(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.un=new hx}addToCollectionParentIndex(e,t){return this.un.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(us.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(us.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class hx{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new tn(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new tn(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new wo(0)}static kn(){return new wo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.changes=new Do(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&nu(s.mutation,o,Vn.empty(),Tt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Xs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Xl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Xs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=_i();const h=tu(),m=function(){return tu()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof ds)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),nu(E.mutation,g,E.mutation.getFieldMask(),Tt.now())):h.set(g.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var A;return m.set(g,new dx(E,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=tu();let o=new gt((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Vn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const A=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,A=b1();E.forEach(R=>{if(!u.has(R)){const D=C1(t.get(R),s.get(R));D!==null&&A.set(R,D),u=u.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return le.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return be.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):y1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):le.resolve(Xs());let m=-1,p=u;return h.next(g=>le.forEach(g,(E,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{p=p.insert(E,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:T1(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new be(t)).next(s=>{let o=Xl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Xl();return this.indexManager.getCollectionParents(e,u).next(m=>le.forEach(m,p=>{const g=function(A,R){return new Tu(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((A,R)=>{h=h.insert(A,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,un.newInvalidDocument(E)))});let m=Xl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&nu(E.mutation,g,Vn.empty(),Tt.now()),tf(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return le.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Vr(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:ux(o.bundledQuery),readTime:Vr(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.overlays=new gt(be.comparator),this.Ir=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Xs();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.ht(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Xs(),u=t.length+1,h=new be(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new gt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Xs(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Xs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return le.resolve(m)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new LC(t,s));let u=this.Ir.get(t);u===void 0&&(u=Le(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(){this.Tr=new tn(Qt.Er),this.dr=new tn(Qt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new Qt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Vr(new Qt(e,t))}mr(e,t){e.forEach(s=>this.removeReference(s,t))}gr(e){const t=new be(new ct([])),s=new Qt(t,e),o=new Qt(t,e+1),u=[];return this.dr.forEachInRange([s,o],h=>{this.Vr(h),u.push(h.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new be(new ct([])),s=new Qt(t,e),o=new Qt(t,e+1);let u=Le();return this.dr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Qt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Qt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return be.comparator(e.key,t.key)||Ke(e.wr,t.wr)}static Ar(e,t){return Ke(e.wr,t.wr)||be.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new tn(Qt.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new UC(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.br=this.br.add(new Qt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Qt(t,0),o=new Qt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],h=>{const m=this.Dr(h.wr);u.push(m)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new tn(Ke);return t.forEach(o=>{const u=new Qt(o,0),h=new Qt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],m=>{s=s.add(m.wr)})}),le.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;be.isDocumentKey(u)||(u=u.child(""));const h=new Qt(new be(u),0);let m=new tn(Ke);return this.br.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.wr)),!0)},h),le.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){et(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return le.forEach(t.mutations,o=>{const u=new Qt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,t){const s=new Qt(t,0),o=this.br.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this.Mr=e,this.docs=function(){return new gt(be.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let s=_i();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():un.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=_i();const h=t.path,m=new be(h.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||nC(tC(E),s)<=0||(o.has(E.key)||tf(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,s,o){xe()}Or(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Ex(this)}getSize(e){return le.resolve(this.size)}}class Ex extends fx{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.persistence=e,this.Nr=new Do(t=>Yp(t),$p),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new tg,this.targetCount=0,this.kr=wo.Bn()}forEachTarget(e,t){return this.Nr.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),le.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new wo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Kn(t),le.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Hp(0),this.Kr=!1,this.Kr=!0,this.$r=new yx,this.referenceDelegate=e(this),this.Ur=new Tx(this),this.indexManager=new cx,this.remoteDocumentCache=function(o){return new _x(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new lx(t),this.Gr=new px(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new gx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new vx(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){ve("MemoryPersistence","Starting transaction:",e);const o=new Sx(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,t){return le.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,t)))}}class Sx extends iC{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Jr=new tg,this.Yr=null}static Zr(e){return new ng(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),le.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,s=>{const o=be.fromPath(s);return this.ei(e,o).next(u=>{u||t.removeEntry(o,Ie.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return le.or([()=>le.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new rg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return R2()?8:sC(fn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Zi(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Ax;return this.Xi(e,t,h).next(m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)})}).next(()=>u.result)}es(e,t,s,o){return s.documentReadCount<this.ji?(Gl()<=Be.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",lo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Gl()<=Be.DEBUG&&ve("QueryEngine","Query:",lo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(Gl()<=Be.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",lo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(t))):le.resolve())}Yi(e,t){if(Y0(t))return le.resolve(null);let s=Pr(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=op(t,null,"F"),s=Pr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.Ji.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ts(t,m);return this.ns(t,g,h,p.readTime)?this.Yi(e,op(t,null,"F")):this.rs(e,g,t,p)}))})))}Zi(e,t,s,o){return Y0(t)||o.isEqual(Ie.min())?le.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const h=this.ts(t,u);return this.ns(t,h,s,o)?le.resolve(null):(Gl()<=Be.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(t)),this.rs(e,h,t,eC(o,-1)).next(m=>m))})}ts(e,t){let s=new tn(_1(e));return t.forEach((o,u)=>{tf(e,u)&&(s=s.add(u))}),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return Gl()<=Be.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",lo(t)),this.Ji.getDocumentsMatchingQuery(e,t,us.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new gt(Ke),this._s=new Do(u=>Yp(u),$p),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mx(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Nx(r,e,t,s){return new Rx(r,e,t,s)}async function B1(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({hs:g,removedBatchIds:h,addedBatchIds:m}))})})}function Cx(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const A=g.batch,R=A.keys();let D=le.resolve();return R.forEach(x=>{D=D.next(()=>E.getEntry(p,x)).next(k=>{const M=g.docVersions.get(x);et(M!==null),k.version.compareTo(M)<0&&(A.applyToRemoteDocument(k,g),k.isValidDocument()&&(k.setReadTime(g.commitVersion),E.addEntry(k)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function z1(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function xx(r,e){const t=De(r),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach((E,A)=>{const R=o.get(A);if(!R)return;m.push(t.Ur.removeMatchingKeys(u,E.removedDocuments,A).next(()=>t.Ur.addMatchingKeys(u,E.addedDocuments,A)));let D=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(nn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(A,D),function(k,M,Z){return k.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(R,D,E)&&m.push(t.Ur.updateTargetData(u,D))});let p=_i(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(Ix(u,h,e.documentUpdates).next(E=>{p=E.Ps,g=E.Is})),!s.isEqual(Ie.min())){const E=t.Ur.getLastRemoteSnapshotVersion(u).next(A=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return le.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.os=o,u))}function Ix(r,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let h=_i();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ve("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ps:h,Is:o}})}function Dx(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ox(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ur.getTargetData(s,e).next(u=>u?(o=u,le.resolve(o)):t.Ur.allocateTargetId(s).next(h=>(o=new ts(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s})}async function fp(r,e,t){const s=De(r),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Eu(h))throw h;ve("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function sE(r,e,t){const s=De(r);let o=Ie.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const A=De(p),R=A._s.get(E);return R!==void 0?le.resolve(A.os.get(R)):A.Ur.getTargetData(g,E)}(s,h,Pr(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?u:Le())).next(m=>(Mx(s,SC(e),m),{documents:m,Ts:u})))}function Mx(r,e,t){let s=r.us.get(e)||Ie.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.us.set(e,s)}class aE{constructor(){this.activeTargetIds=xC()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Px{constructor(){this.so=new aE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new aE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ve("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ve("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rh=null;function Mm(){return rh===null?rh=function(){return 268435456+Math.round(2147483648*Math.random())}():rh++,"0x"+rh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const on="WebChannelConnection";class Ux extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,h){const m=Mm(),p=this.xo(t,s.toUriEncodedString());ve("RestConnection",`Sending RPC '${t}' ${m}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,u,h),this.No(t,p,g,o).then(E=>(ve("RestConnection",`Received RPC '${t}' ${m}: `,E),E),E=>{throw To("RestConnection",`RPC '${t}' ${m} failed with error: `,E,"url: ",p,"request:",o),E})}Lo(t,s,o,u,h,m){return this.Mo(t,s,o,u,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Io}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}xo(t,s){const o=jx[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=Mm();return new Promise((h,m)=>{const p=new e1;p.setWithCredentials(!0),p.listenOnce(t1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case hh.NO_ERROR:const E=p.getResponseJson();ve(on,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case hh.TIMEOUT:ve(on,`RPC '${e}' ${u} timed out`),m(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case hh.HTTP_ERROR:const A=p.getStatus();if(ve(on,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R==null?void 0:R.error;if(D&&D.status&&D.message){const x=function(M){const Z=M.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(Z)>=0?Z:se.UNKNOWN}(D.status);m(new ye(x,D.message))}else m(new ye(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(se.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{ve(on,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ve(on,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Bo(e,t,s){const o=Mm(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=i1(),m=r1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ve(on,`Creating RPC '${e}' stream ${o}: ${E}`,p);const A=h.createWebChannel(E,p);let R=!1,D=!1;const x=new kx({Io:M=>{D?ve(on,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(R||(ve(on,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),ve(on,`RPC '${e}' stream ${o} sending:`,M),A.send(M))},To:()=>A.close()}),k=(M,Z,ae)=>{M.listen(Z,re=>{try{ae(re)}catch(ce){setTimeout(()=>{throw ce},0)}})};return k(A,$l.EventType.OPEN,()=>{D||(ve(on,`RPC '${e}' stream ${o} transport opened.`),x.yo())}),k(A,$l.EventType.CLOSE,()=>{D||(D=!0,ve(on,`RPC '${e}' stream ${o} transport closed`),x.So())}),k(A,$l.EventType.ERROR,M=>{D||(D=!0,To(on,`RPC '${e}' stream ${o} transport errored:`,M),x.So(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),k(A,$l.EventType.MESSAGE,M=>{var Z;if(!D){const ae=M.data[0];et(!!ae);const re=ae,ce=re.error||((Z=re[0])===null||Z===void 0?void 0:Z.error);if(ce){ve(on,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let _e=function(C){const P=Vt[C];if(P!==void 0)return I1(P)}(ue),V=ce.message;_e===void 0&&(_e=se.INTERNAL,V="Unknown error status: "+ue+" with message "+ce.message),D=!0,x.So(new ye(_e,V)),A.close()}else ve(on,`RPC '${e}' stream ${o} received:`,ae),x.bo(ae)}}),k(m,n1.STAT_EVENT,M=>{M.stat===tp.PROXY?ve(on,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===tp.NOPROXY&&ve(on,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(r){return new YC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t,s,o,u,h,m,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new q1(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===t&&this.P_(s,o)},s=>{e(()=>{const o=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ve("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ve("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lx extends F1{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=WC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Vr(h.readTime):Ie.min()}(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=hp(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=sp(p)?{documents:ex(u,p)}:{query:tx(u,p)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=M1(u,h.resumeToken);const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=lp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=rx(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=hp(this.serializer),t.removeTarget=e,this.a_(t)}}class Bx extends F1{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return et(!!e.streamToken),this.lastStreamToken=e.streamToken,et(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){et(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=ZC(e.writeResults,e.commitTime),s=Vr(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=hp(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>JC(this.serializer,s))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Mo(e,up(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())})}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Lo(e,up(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(se.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class qx{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(vi(t),this.D_=!1):ve("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(h=>{s.enqueueAndForget(async()=>{ga(this)&&(ve("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=De(p);g.L_.add(4),await Au(g),g.q_.set("Unknown"),g.L_.delete(4),await of(g)}(this))})}),this.q_=new qx(s,o)}}async function of(r){if(ga(r))for(const e of r.B_)await e(!0)}async function Au(r){for(const e of r.B_)await e(!1)}function H1(r,e){const t=De(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),og(t)?ag(t):Oo(t).r_()&&sg(t,e))}function ig(r,e){const t=De(r),s=Oo(t);t.N_.delete(e),s.r_()&&G1(t,e),t.N_.size===0&&(s.r_()?s.o_():ga(t)&&t.q_.set("Unknown"))}function sg(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Oo(r).A_(e)}function G1(r,e){r.Q_.xe(e),Oo(r).R_(e)}function ag(r){r.Q_=new HC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.q_.v_()}function og(r){return ga(r)&&!Oo(r).n_()&&r.N_.size>0}function ga(r){return De(r).L_.size===0}function K1(r){r.Q_=void 0}async function Hx(r){r.q_.set("Online")}async function Gx(r){r.N_.forEach((e,t)=>{sg(r,e)})}async function Kx(r,e){K1(r),og(r)?(r.q_.M_(e),ag(r)):r.q_.set("Unknown")}async function Qx(r,e,t){if(r.q_.set("Online"),e instanceof O1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.N_.delete(m),o.Q_.removeTarget(m))}(r,e)}catch(s){ve("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(r,s)}else if(e instanceof mh?r.Q_.Ke(e):e instanceof D1?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ie.min()))try{const s=await z1(r.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.N_.get(g);E&&u.N_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.N_.get(p);if(!E)return;u.N_.set(p,E.withResumeToken(nn.EMPTY_BYTE_STRING,E.snapshotVersion)),G1(u,p);const A=new ts(E.target,p,g,E.sequenceNumber);sg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,t)}catch(s){ve("RemoteStore","Failed to raise snapshot:",s),await Lh(r,s)}}async function Lh(r,e,t){if(!Eu(e))throw e;r.L_.add(1),await Au(r),r.q_.set("Offline"),t||(t=()=>z1(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ve("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await of(r)})}function Q1(r,e){return e().catch(t=>Lh(r,t,e))}async function lf(r){const e=De(r),t=hs(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Yx(e);)try{const o=await Dx(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,$x(e,o)}catch(o){await Lh(e,o)}Y1(e)&&$1(e)}function Yx(r){return ga(r)&&r.O_.length<10}function $x(r,e){r.O_.push(e);const t=hs(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Y1(r){return ga(r)&&!hs(r).n_()&&r.O_.length>0}function $1(r){hs(r).start()}async function Xx(r){hs(r).p_()}async function Wx(r){const e=hs(r);for(const t of r.O_)e.m_(t.mutations)}async function Jx(r,e,t){const s=r.O_.shift(),o=Jp.from(s,e,t);await Q1(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await lf(r)}async function Zx(r,e){e&&hs(r).V_&&await async function(s,o){if(function(h){return zC(h)&&h!==se.ABORTED}(o.code)){const u=s.O_.shift();hs(s).s_(),await Q1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await lf(s)}}(r,e),Y1(r)&&$1(r)}async function lE(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),ve("RemoteStore","RemoteStore received new credentials");const s=ga(t);t.L_.add(3),await Au(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await of(t)}async function eI(r,e){const t=De(r);e?(t.L_.delete(2),await of(t)):e||(t.L_.add(2),await Au(t),t.q_.set("Unknown"))}function Oo(r){return r.K_||(r.K_=function(t,s,o){const u=De(t);return u.w_(),new Lx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:Hx.bind(null,r),Ro:Gx.bind(null,r),mo:Kx.bind(null,r),d_:Qx.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),og(r)?ag(r):r.q_.set("Unknown")):(await r.K_.stop(),K1(r))})),r.K_}function hs(r){return r.U_||(r.U_=function(t,s,o){const u=De(t);return u.w_(),new Bx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Xx.bind(null,r),mo:Zx.bind(null,r),f_:Wx.bind(null,r),g_:Jx.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await lf(r)):(await r.U_.stop(),r.O_.length>0&&(ve("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new as,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new lg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ug(r,e){if(vi("AsyncQueue",`${e}: ${r}`),Eu(r))return new ye(se.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.comparator=e?(t,s)=>e(t,s)||be.comparator(t.key,s.key):(t,s)=>be.comparator(t.key,s.key),this.keyedMap=Xl(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new po(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof po)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new po;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(){this.W_=new gt(be.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Ro{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Ro(e,t,po.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ef(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class nI{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=De(t),u=o.queries;o.queries=cE(),u.forEach((h,m)=>{for(const p of m.j_)p.onError(s)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function cE(){return new Do(r=>v1(r),ef)}async function rI(r,e){const t=De(r);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new tI,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=ug(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&cg(t)}async function iI(r,e){const t=De(r),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function sI(r,e){const t=De(r);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(o)&&(s=!0);h.z_=o}}s&&cg(t)}function aI(r,e,t){const s=De(r),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function cg(r){r.Y_.forEach(e=>{e.next()})}var dp,hE;(hE=dp||(dp={})).ea="default",hE.Cache="cache";class oI{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ro(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ro.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.key=e}}class W1{constructor(e){this.key=e}}class lI{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=_1(e),this.Ra=new po(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new uE,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,A)=>{const R=o.get(E),D=tf(this.query,A)?A:null,x=!!R&&this.mutatedKeys.has(R.key),k=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let M=!1;R&&D?R.data.isEqual(D.data)?x!==k&&(s.track({type:3,doc:D}),M=!0):this.ga(R,D)||(s.track({type:2,doc:D}),M=!0,(p&&this.Aa(D,p)>0||g&&this.Aa(D,g)<0)&&(m=!0)):!R&&D?(s.track({type:0,doc:D}),M=!0):R&&!D&&(s.track({type:1,doc:R}),M=!0,(p||g)&&(m=!0)),M&&(D?(h=h.add(D),u=k?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort((E,A)=>function(D,x){const k=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return k(D)-k(x)}(E.type,A.type)||this.Aa(E.doc,A.doc)),this.pa(s),o=o!=null&&o;const m=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,h.length!==0||g?{snapshot:new Ro(this.query,e.Ra,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new uE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const t=[];return e.forEach(s=>{this.da.has(s)||t.push(new W1(s))}),this.da.forEach(s=>{e.has(s)||t.push(new X1(s))}),t}ba(e){this.Ta=e.Ts,this.da=Le();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ro.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class uI{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class cI{constructor(e){this.key=e,this.va=!1}}class hI{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Do(m=>v1(m),ef),this.Ma=new Map,this.xa=new Set,this.Oa=new gt(be.comparator),this.Na=new Map,this.La=new tg,this.Ba={},this.ka=new Map,this.qa=wo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function fI(r,e,t=!0){const s=rb(r);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await J1(s,e,t,!0),o}async function dI(r,e){const t=rb(r);await J1(t,e,!0,!1)}async function J1(r,e,t,s){const o=await Ox(r.localStore,Pr(e)),u=o.targetId,h=r.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await mI(r,e,u,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&H1(r.remoteStore,o),m}async function mI(r,e,t,s,o){r.Ka=(A,R,D)=>async function(k,M,Z,ae){let re=M.view.ma(Z);re.ns&&(re=await sE(k.localStore,M.query,!1).then(({documents:V})=>M.view.ma(V,re)));const ce=ae&&ae.targetChanges.get(M.targetId),ue=ae&&ae.targetMismatches.get(M.targetId)!=null,_e=M.view.applyChanges(re,k.isPrimaryClient,ce,ue);return dE(k,M.targetId,_e.wa),_e.snapshot}(r,A,R,D);const u=await sE(r.localStore,e,!0),h=new lI(e,u.Ts),m=h.ma(u.documents),p=Su.createSynthesizedTargetChangeForCurrentChange(t,s&&r.onlineState!=="Offline",o),g=h.applyChanges(m,r.isPrimaryClient,p);dE(r,t,g.wa);const E=new uI(e,t,h);return r.Fa.set(e,E),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),g.snapshot}async function pI(r,e,t){const s=De(r),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter(h=>!ef(h,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ig(s.remoteStore,o.targetId),mp(s,o.targetId)}).catch(_u)):(mp(s,o.targetId),await fp(s.localStore,o.targetId,!0))}async function gI(r,e){const t=De(r),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ig(t.remoteStore,s.targetId))}async function yI(r,e,t){const s=AI(r);try{const o=await function(h,m){const p=De(h),g=Tt.now(),E=m.reduce((D,x)=>D.add(x.key),Le());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let x=_i(),k=Le();return p.cs.getEntries(D,E).next(M=>{x=M,x.forEach((Z,ae)=>{ae.isValidDocument()||(k=k.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,x)).next(M=>{A=M;const Z=[];for(const ae of m){const re=jC(ae,A.get(ae.key).overlayedDocument);re!=null&&Z.push(new ds(ae.key,re,u1(re.value.mapValue),or.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Z,m)}).next(M=>{R=M;const Z=M.applyToLocalDocumentSet(A,k);return p.documentOverlayCache.saveOverlays(D,M.batchId,Z)})}).then(()=>({batchId:R.batchId,changes:T1(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ba[h.currentUser.toKey()];g||(g=new gt(Ke)),g=g.insert(m,p),h.Ba[h.currentUser.toKey()]=g}(s,o.batchId,t),await wu(s,o.changes),await lf(s.remoteStore)}catch(o){const u=ug(o,"Failed to persist write");t.reject(u)}}async function Z1(r,e){const t=De(r);try{const s=await xx(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Na.get(u);h&&(et(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?et(h.va):o.removedDocuments.size>0&&(et(h.va),h.va=!1))}),await wu(t,s,e)}catch(s){await _u(s)}}function fE(r,e,t){const s=De(r);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach((u,h)=>{const m=h.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=De(h);p.onlineState=m;let g=!1;p.queries.forEach((E,A)=>{for(const R of A.j_)R.Z_(m)&&(g=!0)}),g&&cg(p)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function vI(r,e,t){const s=De(r);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let h=new gt(be.comparator);h=h.insert(u,un.newNoDocument(u,Ie.min()));const m=Le().add(u),p=new sf(Ie.min(),new Map,new gt(Ke),h,m);await Z1(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),hg(s)}else await fp(s.localStore,e,!1).then(()=>mp(s,e,t)).catch(_u)}async function _I(r,e){const t=De(r),s=e.batch.batchId;try{const o=await Cx(t.localStore,e);tb(t,s,null),eb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await wu(t,o)}catch(o){await _u(o)}}async function EI(r,e,t){const s=De(r);try{const o=await function(h,m){const p=De(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(et(A!==null),E=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);tb(s,e,t),eb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await wu(s,o)}catch(o){await _u(o)}}function eb(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function tb(r,e,t){const s=De(r);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function mp(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Ma.get(e))r.Fa.delete(s),t&&r.Ca.$a(s,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(s=>{r.La.containsKey(s)||nb(r,s)})}function nb(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(ig(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),hg(r))}function dE(r,e,t){for(const s of t)s instanceof X1?(r.La.addReference(s.key,e),TI(r,s)):s instanceof W1?(ve("SyncEngine","Document no longer in limbo: "+s.key),r.La.removeReference(s.key,e),r.La.containsKey(s.key)||nb(r,s.key)):xe()}function TI(r,e){const t=e.key,s=t.path.canonicalString();r.Oa.get(t)||r.xa.has(s)||(ve("SyncEngine","New document in limbo: "+t),r.xa.add(s),hg(r))}function hg(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new be(ct.fromString(e)),s=r.qa.next();r.Na.set(s,new cI(t)),r.Oa=r.Oa.insert(t,s),H1(r.remoteStore,new ts(Pr(g1(t.path)),s,"TargetPurposeLimboResolution",Hp.oe))}}async function wu(r,e,t){const s=De(r),o=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach((m,p)=>{h.push(s.Ka(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=rg.Wi(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.Ca.d_(o),await async function(p,g){const E=De(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>le.forEach(g,R=>le.forEach(R.$i,D=>E.persistence.referenceDelegate.addReference(A,R.targetId,D)).next(()=>le.forEach(R.Ui,D=>E.persistence.referenceDelegate.removeReference(A,R.targetId,D)))))}catch(A){if(!Eu(A))throw A;ve("LocalStore","Failed to update sequence numbers: "+A)}for(const A of g){const R=A.targetId;if(!A.fromCache){const D=E.os.get(R),x=D.snapshotVersion,k=D.withLastLimboFreeSnapshotVersion(x);E.os=E.os.insert(R,k)}}}(s.localStore,u))}async function bI(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){ve("SyncEngine","User change. New user:",e.toKey());const s=await B1(t.localStore,e);t.currentUser=e,function(u,h){u.ka.forEach(m=>{m.forEach(p=>{p.reject(new ye(se.CANCELLED,h))})}),u.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await wu(t,s.hs)}}function SI(r,e){const t=De(r),s=t.Na.get(e);if(s&&s.va)return Le().add(s.key);{let o=Le();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const m=t.Fa.get(h);o=o.unionWith(m.view.Va)}return o}}function rb(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=SI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vI.bind(null,e),e.Ca.d_=sI.bind(null,e.eventManager),e.Ca.$a=aI.bind(null,e.eventManager),e}function AI(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_I.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EI.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=af(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Nx(this.persistence,new wx,e.initialUser,this.serializer)}Ga(e){return new bx(ng.Zr,this.serializer)}Wa(e){return new Px}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class pp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>fE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bI.bind(null,this.syncEngine),await eI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nI}()}createDatastore(e){const t=af(e.databaseInfo.databaseId),s=function(u){return new Ux(u)}(e.databaseInfo);return function(u,h,m,p){return new zx(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new Fx(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>fE(this.syncEngine,t,0),function(){return oE.D()?new oE:new Vx}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const A=new hI(o,u,h,m,p,g);return E&&(A.Qa=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=De(o);ve("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Au(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}pp.provider={build:()=>new pp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=ln.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ve("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ve("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new as;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=ug(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Vm(r,e){r.asyncQueue.verifyOperationInProgress(),ve("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let s=t.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await B1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function mE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await NI(r);ve("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(s=>lE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>lE(e.remoteStore,o)),r._onlineComponents=e}async function NI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve("FirestoreClient","Using user provided OfflineComponentProvider");try{await Vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;To("Error using user provided cache. Falling back to memory cache: "+t),await Vm(r,new Bh)}}else ve("FirestoreClient","Using default OfflineComponentProvider"),await Vm(r,new Bh);return r._offlineComponents}async function ib(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve("FirestoreClient","Using user provided OnlineComponentProvider"),await mE(r,r._uninitializedComponentsProvider._online)):(ve("FirestoreClient","Using default OnlineComponentProvider"),await mE(r,new pp))),r._onlineComponents}function CI(r){return ib(r).then(e=>e.syncEngine)}async function xI(r){const e=await ib(r),t=e.eventManager;return t.onListen=fI.bind(null,e.syncEngine),t.onUnlisten=pI.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dI.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=gI.bind(null,e.syncEngine),t}function II(r,e,t={}){const s=new as;return r.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new wI({next:R=>{E.Za(),h.enqueueAndForget(()=>iI(u,A)),R.fromCache&&p.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),A=new oI(m,E,{includeMetadataChanges:!0,_a:!0});return rI(u,A)}(await xI(r),r.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(r,e,t){if(!t)throw new ye(se.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function DI(r,e,t,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function gE(r){if(!be.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yE(r){if(be.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function uf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe()}function la(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=uf(r);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new G4;switch(s.type){case"firstParty":return new $4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=pE.get(t);s&&(ve("ComponentProvider","Removing Datastore"),pE.delete(t),s.terminate())}(this),Promise.resolve()}}function OI(r,e,t,s={}){var o;const u=(r=la(r,cf))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=ln.MOCK_USER;else{m=pT(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ln(g)}r._authCredentials=new K4(new s1(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mo(this.firestore,e,this._query)}}class kn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class os extends Mo{constructor(e,t,s){super(e,t,g1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new be(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function Ir(r,e,...t){if(r=bt(r),ab("collection","path",e),r instanceof cf){const s=ct.fromString(e,...t);return yE(s),new os(r,null,s)}{if(!(r instanceof kn||r instanceof os))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...t));return yE(s),new os(r.firestore,null,s)}}function cn(r,e,...t){if(r=bt(r),arguments.length===1&&(e=a1.newId()),ab("doc","path",e),r instanceof cf){const s=ct.fromString(e,...t);return gE(s),new kn(r,null,new be(s))}{if(!(r instanceof kn||r instanceof os))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(ct.fromString(e,...t));return gE(s),new kn(r.firestore,r instanceof os?r.converter:null,new be(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new q1(this,"async_queue_retry"),this.Vu=()=>{const s=Pm();s&&ve("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Pm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Pm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new as;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Eu(e))throw e;ve("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw vi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=lg.createAndSchedule(this,e,t,s,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Ru extends cf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new _E,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new _E(e),this._firestoreClient=void 0,await e}}}function MI(r,e){const t=typeof r=="object"?r:Dp(),s=typeof r=="string"?r:"(default)",o=$h(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=fT("firestore");u&&OI(o,...u)}return o}function ob(r){if(r._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||PI(r),r._firestoreClient}function PI(r){var e,t,s;const o=r._freezeSettings(),u=function(m,p,g,E){return new lC(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,sb(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new RI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(nn.fromBase64String(e))}catch(t){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new No(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=/^__.*__$/;class jI{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new ds(e,this.data,this.fieldMask,t,this.fieldTransforms):new bu(e,this.data,t,this.fieldTransforms)}}class lb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new ds(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ub(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class pg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new pg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return zh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ub(this.Cu)&&VI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class kI{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||af(e)}Qu(e,t,s,o=!1){return new pg({Cu:e,methodName:t,qu:s,path:en.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gg(r){const e=r._freezeSettings(),t=af(r._databaseId);return new kI(r._databaseId,!!e.ignoreUndefinedProperties,t)}function UI(r,e,t,s,o,u={}){const h=r.Qu(u.merge||u.mergeFields?2:0,e,t,o);yg("Data must be an object, but it was:",h,s);const m=cb(s,h);let p,g;if(u.merge)p=new Vn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const A of u.mergeFields){const R=gp(e,A,t);if(!h.contains(R))throw new ye(se.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);fb(E,R)||E.push(R)}p=new Vn(E),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new jI(new Tn(m),p,g)}class ff extends fg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ff}}function LI(r,e,t,s){const o=r.Qu(1,e,t);yg("Data must be an object, but it was:",o,s);const u=[],h=Tn.empty();pa(s,(p,g)=>{const E=vg(e,p,t);g=bt(g);const A=o.Nu(E);if(g instanceof ff)u.push(E);else{const R=Nu(g,A);R!=null&&(u.push(E),h.set(E,R))}});const m=new Vn(u);return new lb(h,m,o.fieldTransforms)}function BI(r,e,t,s,o,u){const h=r.Qu(1,e,t),m=[gp(e,s,t)],p=[o];if(u.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(gp(e,u[R])),p.push(u[R+1]);const g=[],E=Tn.empty();for(let R=m.length-1;R>=0;--R)if(!fb(g,m[R])){const D=m[R];let x=p[R];x=bt(x);const k=h.Nu(D);if(x instanceof ff)g.push(D);else{const M=Nu(x,k);M!=null&&(g.push(D),E.set(D,M))}}const A=new Vn(g);return new lb(E,A,h.fieldTransforms)}function zI(r,e,t,s=!1){return Nu(t,r.Qu(s?4:3,e))}function Nu(r,e){if(hb(r=bt(r)))return yg("Unsupported field value:",e,r),cb(r,e);if(r instanceof fg)return function(s,o){if(!ub(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Nu(m,o.Lu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=bt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Tt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof Tt){const u=new Tt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof dg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof No)return{bytesValue:M1(o.serializer,s._byteString)};if(s instanceof kn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:eg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mg)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Xp(m.serializer,p)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${uf(s)}`)}(r,e)}function cb(r,e){const t={};return o1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pa(r,(s,o)=>{const u=Nu(o,e.Mu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function hb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Tt||r instanceof dg||r instanceof No||r instanceof kn||r instanceof fg||r instanceof mg)}function yg(r,e,t){if(!hb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=uf(t);throw s==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+s)}}function gp(r,e,t){if((e=bt(e))instanceof hf)return e._internalPath;if(typeof e=="string")return vg(r,e);throw zh("Field path arguments must be of type string or ",r,!1,void 0,t)}const qI=new RegExp("[~\\*/\\[\\]]");function vg(r,e,t){if(e.search(qI)>=0)throw zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new hf(...e.split("."))._internalPath}catch{throw zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function zh(r,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(se.INVALID_ARGUMENT,m+r+p)}function fb(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class FI extends db{data(){return super.data()}}function mb(r,e){return typeof e=="string"?vg(r,e):e instanceof hf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class GI extends _g{}function ph(r,e,...t){let s=[];e instanceof _g&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Tg).length,m=u.filter(p=>p instanceof Eg).length;if(h>1||h>0&&m>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Eg extends GI{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Eg(e,t,s)}_apply(e){const t=this._parse(e);return pb(e._query,t),new Mo(e.firestore,e.converter,ap(e._query,t))}_parse(e){const t=gg(e.firestore);return function(u,h,m,p,g,E,A){let R;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){TE(A,E);const D=[];for(const x of A)D.push(EE(p,u,x));R={arrayValue:{values:D}}}else R=EE(p,u,A)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||TE(A,E),R=zI(m,h,A,E==="in"||E==="not-in");return jt.create(g,E,R)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class Tg extends _g{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Tg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:lr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)pb(h,p),h=ap(h,p)}(e._query,t),new Mo(e.firestore,e.converter,ap(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function EE(r,e,t){if(typeof(t=bt(t))=="string"){if(t==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y1(e)&&t.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ct.fromString(t));if(!be.isDocumentKey(s))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return q0(r,new be(s))}if(t instanceof kn)return q0(r,t._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${uf(t)}.`)}function TE(r,e){if(!Array.isArray(r)||r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(r,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class KI{convertValue(e,t="none"){switch(oa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(aa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return pa(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>xt(h.doubleValue));return new mg(u)}convertGeoPoint(e){return new dg(xt(e.latitude),xt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Kp(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const t=cs(e);return new Tt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);et(L1(s));const o=new uu(s.get(1),s.get(3)),u=new be(s.popFirst(5));return o.isEqual(t)||vi(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(r,e,t){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YI extends db{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new gh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class gh extends YI{data(e={}){return super.data(e)}}class $I{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new ih(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new gh(this._firestore,this._userDataWriter,s.key,s,new ih(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ih(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new gh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new ih(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:XI(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function XI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class WI extends KI{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,t)}}function ea(r){r=la(r,Mo);const e=la(r.firestore,Ru),t=ob(e),s=new WI(e);return HI(r._query),II(t,r._query).then(o=>new $I(e,s,r,o))}function go(r,e,t,...s){r=la(r,kn);const o=la(r.firestore,Ru),u=gg(o);let h;return h=typeof(e=bt(e))=="string"||e instanceof hf?BI(u,"updateDoc",r._key,e,t,s):LI(u,"updateDoc",r._key,e),Ag(o,[h.toMutation(r._key,or.exists(!0))])}function bg(r){return Ag(la(r.firestore,Ru),[new Wp(r._key,or.none())])}function Sg(r,e){const t=la(r.firestore,Ru),s=cn(r),o=QI(r.converter,e);return Ag(t,[UI(gg(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,or.exists(!1))]).then(()=>s)}function Ag(r,e){return function(s,o){const u=new as;return s.asyncQueue.enqueueAndForget(async()=>yI(await CI(s),o,u)),u.promise}(ob(r),e)}(function(e,t=!0){(function(o){Io=o})(da),ra(new ls("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Ru(new Q4(s.getProvider("auth-internal")),new W4(s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Or(k0,"4.7.3",e),Or(k0,"4.7.3","esm2017")})();const JI={apiKey:"AIzaSyDU9EPsYVmpwNWzQWifSdZIxJcpMo6Pk-I",authDomain:"booktracker-e1be7.firebaseapp.com",projectId:"booktracker-e1be7",storageBucket:"booktracker-e1be7.firebasestorage.app",messagingSenderId:"683431497366",appId:"1:683431497366:web:ea521a8fcd6b1eb83bbcb7"},gb=vT(JI),Et=F4(gb),Pn=MI(gb),ZI=new ci;IN(Et,FT).catch(r=>{console.error("Erro na persistência:",r)});function eD(){const r=Et.currentUser,e=fs(),[t,s]=G.useState(!1),[o,u]=G.useState(window.innerWidth<=968);G.useEffect(()=>{const p=()=>{u(window.innerWidth<=968),window.innerWidth>968&&s(!1)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const h=()=>{o&&s(!1)},m=async()=>{try{await MN(Et),e("/login")}catch(p){console.error("Erro ao fazer logout:",p),alert("Erro ao sair da conta! Tente novamente.")}};return v.jsxs("div",{className:"app-container",children:[o&&v.jsx("button",{className:"menu-toggle",onClick:()=>s(!t),"aria-label":t?"Fechar menu":"Abrir menu",children:t?v.jsx(Km,{}):v.jsx(e2,{})}),v.jsxs("aside",{className:`sidebar ${t?"open":""}`,children:[v.jsxs("div",{className:"user-info",children:[v.jsx("img",{src:(r==null?void 0:r.photoURL)||"/default-user.png",alt:"Foto do usuário",className:"user-photo"}),v.jsxs("div",{className:"user-details",children:[v.jsx("span",{className:"user-name",children:(r==null?void 0:r.displayName)||"Usuário"}),v.jsxs("button",{onClick:m,className:"logout-button",children:[v.jsx(l2,{})," Sair"]})]})]}),v.jsxs("nav",{className:"nav-menu",children:[v.jsxs(Hl,{to:"/dashboard",className:"nav-item",onClick:h,children:[v.jsx(s2,{className:"nav-icon"}),v.jsx("span",{children:"Dashboard"})]}),v.jsxs(Hl,{to:"/add-book",className:"nav-item",onClick:h,children:[v.jsx(yo,{className:"nav-icon"}),v.jsx("span",{children:"Adicionar Livro"})]}),v.jsxs(Hl,{to:"/collection",className:"nav-item",onClick:h,children:[v.jsx(Jn,{className:"nav-icon"}),v.jsx("span",{children:"Coleção"})]}),v.jsxs(Hl,{to:"/folders",className:"nav-item",onClick:h,children:[v.jsx(Yl,{className:"nav-icon"}),v.jsx("span",{children:"Pastas"})]}),v.jsxs(Hl,{to:"/profile",className:"nav-item",onClick:h,children:[v.jsx(oT,{className:"nav-icon"}),v.jsx("span",{children:"Perfil"})]})]})]}),v.jsx("main",{className:"main-content",children:v.jsx(JE,{})})]})}function tD(){return v.jsxs("div",{className:"landing-container",children:[v.jsxs("nav",{className:"landing-nav",children:[v.jsxs("div",{className:"logo",children:[v.jsx("span",{className:"book-icon",children:"📚"})," BookTracker"]}),v.jsx("div",{className:"nav-links",children:v.jsx(rs,{to:"/login",className:"login-link",children:"Login"})})]}),v.jsxs("header",{className:"landing-header",children:[v.jsxs("div",{className:"header-content",children:[v.jsx("h1",{children:"BookTracker"}),v.jsx("p",{className:"tagline",children:"Organize, acompanhe e descubra sua jornada literária"}),v.jsx(rs,{to:"/login",className:"cta-button",children:"Começar Agora"})]}),v.jsx("div",{className:"header-image",children:v.jsx("div",{className:"header-image",children:v.jsx("div",{className:"book-shelf",children:v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",children:[v.jsx("path",{fill:"#5f6c7b",d:"M20 280h360v20H20z"}),v.jsxs("g",{transform:"translate(50 80)",children:[v.jsx("path",{fill:"#4361ee",d:"M0 0h40v200H0z"}),v.jsx("path",{fill:"#3f37c9",d:"M0 0h40v20H0z"}),v.jsx("path",{fill:"#4cc9f0",transform:"translate(60)",d:"M0 0h35v180H0z"}),v.jsx("path",{fill:"#3a86ff",d:"M60 0h35v15H60z"}),v.jsx("path",{fill:"#ff6b6b",transform:"translate(110)",d:"M0 0h30v220H0z"}),v.jsx("path",{fill:"#d62828",d:"M110 0h30v18H110z"}),v.jsxs("g",{transform:"rotate(-5 280 100)",children:[v.jsx("path",{fill:"#94d2bd",d:"M180 20h40v190h-40z"}),v.jsx("path",{fill:"#0a9396",d:"M180 20h40v15h-40z"})]}),v.jsxs("g",{transform:"translate(240 30)",children:[v.jsx("path",{fill:"#f4a261",d:"M0 0h50v160H0z"}),v.jsx("path",{fill:"#e76f51",d:"M0 0h50v20H0z"}),v.jsx("path",{fill:"#e9c46a",d:"M25 0h25v160H25z"})]})]}),v.jsx("path",{fill:"#4a4e69",d:"M50 260h300v10H50z",opacity:"0.5"}),v.jsx("circle",{cx:"380",cy:"270",r:"8",fill:"#4cc9f0"})]})})})})]}),v.jsxs("section",{className:"features",children:[v.jsxs("div",{className:"feature-card",children:[v.jsx("div",{className:"feature-icon",children:v.jsx(Jn,{})}),v.jsx("h2",{children:"Organize sua coleção"}),v.jsx("p",{children:"Cadastre todos os seus livros em um só lugar e acompanhe seu progresso de leitura com facilidade."})]}),v.jsxs("div",{className:"feature-card",children:[v.jsx("div",{className:"feature-icon",children:v.jsx(rT,{})}),v.jsx("h2",{children:"Estatísticas detalhadas"}),v.jsx("p",{children:"Visualize seus hábitos de leitura com gráficos interativos e descubra padrões interessantes."})]}),v.jsxs("div",{className:"feature-card",children:[v.jsx("div",{className:"feature-icon",children:v.jsx(a2,{})}),v.jsx("h2",{children:"Acesso em qualquer lugar"}),v.jsx("p",{children:"Use em qualquer dispositivo com sincronização automática para nunca perder seus dados."})]})]}),v.jsxs("footer",{className:"landing-footer",children:[v.jsxs("div",{className:"cta-section",children:[v.jsx("h2",{children:"Pronto para organizar sua biblioteca?"}),v.jsx(rs,{to:"/login",className:"cta-button",children:"Criar conta grátis"})]}),v.jsx("div",{className:"footer-info",children:v.jsx("p",{children:"© 2025 BookTracker. Todos os direitos reservados."})})]})]})}function nD(){const r=fs(),e=async()=>{try{await JN(Et,ZI),r("/dashboard")}catch(t){console.error("Erro no login:",t)}};return v.jsx("div",{className:"login-container",children:v.jsxs("div",{className:"login-card",children:[v.jsxs("div",{className:"app-logo",children:[v.jsx("span",{className:"book-icon",children:"📚"}),v.jsx("h1",{children:"BookTracker"})]}),v.jsx("h2",{children:"Bem-vindo de volta"}),v.jsx("p",{className:"login-subtitle",children:"Continue sua jornada literária"}),v.jsxs("button",{className:"google-login-btn",onClick:e,children:[v.jsx(Zw,{className:"google-icon"}),v.jsx("span",{children:"Entrar com Google"})]}),v.jsxs(rs,{to:"/",className:"back-link",children:[v.jsx(nT,{})," Voltar para a página inicial"]})]})})}function rD(){var L;const[r,e]=G.useState([]),[t,s]=G.useState({total:0,read:0,favoriteGenre:"Nenhum",avgRating:0,fastestBook:"Nenhum",mostReadAuthor:"Nenhum",booksThisYear:0,bestReadingMonth:"Nenhum",totalPages:0,booksThisMonth:0}),[o,u]=G.useState({title:"",value:""}),[h,m]=G.useState(0),[p,g]=G.useState(!0),[E,A]=G.useState([]),[R,D]=G.useState(!1),[x,k]=G.useState(null),[M,Z]=G.useState({type:"annual",target:"",progress:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}),[ae,re]=G.useState(!1),[ce,ue]=G.useState(null);G.useEffect(()=>{(async()=>{try{const fe=Et.currentUser;if(fe){const pe=cn(Pn,"users",fe.uid),Q=Ir(pe,"books"),de=(await ea(ph(Q))).docs.map(W=>({id:W.id,...W.data()}));e(de),_e(de);const Oe=Ir(pe,"goals"),ne=(await ea(ph(Oe))).docs.map(W=>{var me,Re,Te,tt;const J=W.data();return{id:W.id,...J,endDate:((Re=(me=J.endDate)==null?void 0:me.toDate)==null?void 0:Re.call(me).toISOString().split("T")[0])||"",createdAt:((tt=(Te=J.createdAt)==null?void 0:Te.toDate)==null?void 0:tt.call(Te).toISOString().split("T")[0])||""}});A(ne)}}catch(fe){console.error("Erro ao carregar dados:",fe)}finally{g(!1)}})()},[]),G.useEffect(()=>{const S=[{title:"Livro Mais Rápido",value:t.fastestBook},{title:"Autor Mais Lido",value:t.mostReadAuthor},{title:"Livros Lidos Este Ano",value:t.booksThisYear},{title:"Mês de Maior Leitura",value:t.bestReadingMonth},{title:"Páginas Lidas Total",value:`${t.totalPages} páginas`}],fe=setInterval(()=>{m(pe=>(pe+1)%S.length),u(S[h])},5e3);return()=>clearInterval(fe)},[h,t]);const _e=S=>{const fe=S.filter(W=>W.status==="Concluído"),pe=S.map(W=>W.rating).filter(W=>W>0),Q=new Date().getFullYear(),Y=new Date().getMonth()+1,de=S.reduce((W,J)=>(W[J.genre]=(W[J.genre]||0)+1,W),{}),Oe=fe.reduce((W,J)=>{if(J.startDate&&J.endDate&&J.pages){const me=new Date(J.startDate),Re=new Date(J.endDate),Te=Math.max(1,(Re-me)/(1e3*3600*24)),tt=Math.round(J.pages/Te);return tt>W.speed?{title:J.title,speed:tt}:W}return W},{title:"Nenhum",speed:0}),O=fe.reduce((W,J)=>(W[J.author]=(W[J.author]||0)+1,W),{}),ne=fe.reduce((W,J)=>{if(J.endDate){const me=new Date(J.endDate).toLocaleString("pt-BR",{month:"long"});W[me]=(W[me]||0)+1}return W},{});s({total:S.length,read:fe.length,favoriteGenre:Object.keys(de).reduce((W,J)=>de[W]>de[J]?W:J,"Nenhum"),avgRating:pe.length?(pe.reduce((W,J)=>W+J,0)/pe.length).toFixed(1):0,fastestBook:Oe.title!=="Nenhum"?`${Oe.title} (${Oe.speed} pgs/dia)`:"Nenhum",mostReadAuthor:Object.keys(O).reduce((W,J)=>O[W]>O[J]?W:J,"Nenhum"),booksThisYear:fe.filter(W=>W.endDate&&new Date(W.endDate).getFullYear()===Q).length,bestReadingMonth:Object.keys(ne).reduce((W,J)=>ne[W]>ne[J]?W:J,"Nenhum"),totalPages:fe.reduce((W,J)=>W+(J.pages||0),0),booksThisMonth:fe.filter(W=>W.endDate&&new Date(W.endDate).getMonth()+1===Y).length})},V=async S=>{S.preventDefault();try{const fe=Et.currentUser;if(!fe)throw new Error("Usuário não autenticado");const pe=cn(Pn,"users",fe.uid),Q=Ir(pe,"goals"),Y={...M,target:Number(M.target),progress:Number(M.progress),endDate:Tt.fromDate(new Date(M.endDate)),createdAt:x?Tt.fromDate(new Date(x.createdAt)):Tt.now(),description:M.description};if(x){const O=cn(Q,x.id);await go(O,Y)}else await Sg(Q,Y);const Oe=(await ea(ph(Q))).docs.map(O=>{var W,J,me,Re;const ne=O.data();return{id:O.id,...ne,endDate:((J=(W=ne.endDate)==null?void 0:W.toDate)==null?void 0:J.call(W).toISOString().split("T")[0])||"",createdAt:((Re=(me=ne.createdAt)==null?void 0:me.toDate)==null?void 0:Re.call(me).toISOString().split("T")[0])||""}});A(Oe),D(!1),k(null),Z({type:"annual",target:"",progress:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""})}catch(fe){console.error("Erro ao salvar meta:",fe),alert(`Erro: ${fe.message}`)}},N=S=>{k(S),Z({type:S.type,target:S.target,progress:S.progress,startDate:S.startDate,endDate:S.endDate,description:S.description}),D(!0)},C=async()=>{try{const S=Et.currentUser;if(!S)throw new Error("Usuário não autenticado");const fe=cn(Pn,"users",S.uid),pe=cn(Ir(fe,"goals"),ce);await bg(pe),A(Q=>Q.filter(Y=>Y.id!==ce)),re(!1)}catch(S){console.error("Erro ao excluir meta:",S),alert(`Erro: ${S.message}`)}},P=S=>{switch(S.type){case"annual":return Math.min(t.booksThisYear/S.target*100,100).toFixed(0);case"monthly":return Math.min(t.booksThisMonth/S.target*100,100).toFixed(0);default:return Math.min(S.progress/S.target*100,100).toFixed(0)}},j=()=>v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h3",{children:"Confirmar Exclusão"}),v.jsx("p",{children:"Tem certeza que deseja excluir esta meta permanentemente?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"modal-button cancel",onClick:()=>re(!1),children:"Cancelar"}),v.jsx("button",{className:"modal-button confirm",onClick:C,children:"Confirmar"})]})]})});return p?v.jsxs("div",{className:"loading-container",children:[v.jsx(sT,{className:"loading-spinner"}),v.jsx("p",{children:"Carregando estatísticas..."})]}):v.jsxs("div",{className:"dashboard-container",children:[v.jsxs("header",{className:"dashboard-header",children:[v.jsxs("h1",{children:["Bem-vindo, ",((L=Et.currentUser)==null?void 0:L.displayName)||"Leitor","!"]}),v.jsxs("div",{className:"quick-actions",children:[v.jsxs(rs,{to:"/add-book",className:"action-button",children:[v.jsx(yo,{})," Adicionar Livro"]}),v.jsxs(rs,{to:"/collection",className:"action-button",children:[v.jsx(Jn,{})," Minha Coleção"]})]})]}),v.jsxs("div",{className:"stats-grid",children:[v.jsxs("div",{className:"stat-card purple",children:[v.jsx(Jn,{className:"stat-icon"}),v.jsx("h3",{children:"Total de Livros"}),v.jsx("p",{children:t.total})]}),v.jsxs("div",{className:"stat-card dark-purple",children:[v.jsx(t2,{className:"stat-icon"}),v.jsx("h3",{children:"Livros Lidos"}),v.jsx("p",{children:t.read})]}),v.jsxs("div",{className:"stat-card purple",children:[v.jsx(iT,{className:"stat-icon"}),v.jsx("h3",{children:"Gênero Favorito"}),v.jsx("p",{children:t.favoriteGenre})]}),v.jsxs("div",{className:"stat-card dark-purple",children:[v.jsx(vo,{className:"stat-icon"}),v.jsx("h3",{children:"Nota Média"}),v.jsxs("p",{children:[t.avgRating,"/5"]})]}),v.jsxs("div",{className:"stat-card animated-card",children:[v.jsx(rT,{className:"stat-icon"}),v.jsx("h3",{children:o.title}),v.jsx("p",{children:o.value})]})]}),v.jsxs("div",{className:"goals-section",children:[v.jsxs("div",{className:"section-header",children:[v.jsx("h2",{children:"Metas de Leitura"}),v.jsxs("button",{className:"add-goal-button",onClick:()=>D(!0),children:[v.jsx(yo,{})," Nova Meta"]})]}),E.map(S=>v.jsx("div",{className:"goal-container",children:v.jsxs("div",{className:"goal-card",children:[v.jsxs("div",{className:"goal-header",children:[v.jsx(n2,{className:"goal-icon"}),v.jsx("h3",{children:S.description||`Meta ${S.type}`}),v.jsx("span",{className:"goal-type",children:S.type}),v.jsxs("div",{className:"goal-actions",children:[v.jsx("button",{className:"icon-button edit",onClick:()=>N(S),children:v.jsx(Qh,{})}),v.jsx("button",{className:"icon-button delete",onClick:()=>{ue(S.id),re(!0)},children:v.jsx(Cp,{})})]})]}),v.jsx("div",{className:"progress-container",children:v.jsxs("div",{className:"progress-bar",style:{width:`${P(S)}%`},children:[P(S),"%"]})}),v.jsxs("div",{className:"goal-details",children:[v.jsxs("div",{children:[v.jsx("span",{children:"Progresso: "}),v.jsx("strong",{children:Math.min(S.type==="annual"?t.booksThisYear:S.type==="monthly"?t.booksThisMonth:S.progress,S.target)}),v.jsxs("span",{children:["/",S.target]})]}),v.jsxs("div",{children:[v.jsx("span",{children:"Prazo: "}),S.endDate&&new Date(S.endDate).toLocaleDateString("pt-BR")]})]})]})},S.id))]}),R&&v.jsx("div",{className:"modal-overlay",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h3",{children:x?"Editar Meta":"Criar Nova Meta"}),v.jsxs("form",{onSubmit:V,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Tipo de Meta"}),v.jsxs("select",{value:M.type,onChange:S=>Z({...M,type:S.target.value}),className:"form-input",required:!0,children:[v.jsx("option",{value:"annual",children:"Anual"}),v.jsx("option",{value:"monthly",children:"Mensal"}),v.jsx("option",{value:"custom",children:"Personalizada"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Descrição (opcional)"}),v.jsx("input",{type:"text",value:M.description,onChange:S=>Z({...M,description:S.target.value}),className:"form-input",placeholder:"Ex.: Meta de Verão 2025"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Objetivo (número de livros)"}),v.jsx("input",{type:"number",min:"1",value:M.target,onChange:S=>Z({...M,target:S.target.value}),className:"form-input",required:!0})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Prazo Final"}),v.jsx("input",{type:"date",value:M.endDate,min:new Date().toISOString().split("T")[0],onChange:S=>Z({...M,endDate:S.target.value}),className:"form-input",required:!0})]}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",className:"modal-button cancel",onClick:()=>{D(!1),k(null)},children:"Cancelar"}),v.jsx("button",{type:"submit",className:"modal-button confirm",children:x?"Salvar Alterações":"Criar Meta"})]})]})]})}),ae&&v.jsx(j,{}),v.jsxs("div",{className:"recent-books",children:[v.jsx("h2",{children:"Últimas Adições"}),r.slice(0,3).map(S=>v.jsxs("div",{className:"book-item",children:[v.jsx("img",{src:S.cover||"default-book.png",alt:S.title}),v.jsxs("div",{children:[v.jsx("h4",{children:S.title}),v.jsx("p",{children:S.author})]})]},S.id))]})]})}const iD=async(r,e)=>{try{const t=cn(Pn,"users",r),s=Ir(t,"books");return(await Sg(s,{...e,createdAt:new Date,updatedAt:new Date})).id}catch(t){throw console.error("Erro ao adicionar livro:",t),t}};function sD(r,e,t){var s=this,o=G.useRef(null),u=G.useRef(0),h=G.useRef(null),m=G.useRef([]),p=G.useRef(),g=G.useRef(),E=G.useRef(r),A=G.useRef(!0);E.current=r;var R=typeof window<"u",D=!e&&e!==0&&R;if(typeof r!="function")throw new TypeError("Expected a function");e=+e||0;var x=!!(t=t||{}).leading,k=!("trailing"in t)||!!t.trailing,M="maxWait"in t,Z="debounceOnServer"in t&&!!t.debounceOnServer,ae=M?Math.max(+t.maxWait||0,e):null;G.useEffect(function(){return A.current=!0,function(){A.current=!1}},[]);var re=G.useMemo(function(){var ce=function(P){var j=m.current,L=p.current;return m.current=p.current=null,u.current=P,g.current=E.current.apply(L,j)},ue=function(P,j){D&&cancelAnimationFrame(h.current),h.current=D?requestAnimationFrame(P):setTimeout(P,j)},_e=function(P){if(!A.current)return!1;var j=P-o.current;return!o.current||j>=e||j<0||M&&P-u.current>=ae},V=function(P){return h.current=null,k&&m.current?ce(P):(m.current=p.current=null,g.current)},N=function P(){var j=Date.now();if(_e(j))return V(j);if(A.current){var L=e-(j-o.current),S=M?Math.min(L,ae-(j-u.current)):L;ue(P,S)}},C=function(){if(R||Z){var P=Date.now(),j=_e(P);if(m.current=[].slice.call(arguments),p.current=s,o.current=P,j){if(!h.current&&A.current)return u.current=o.current,ue(N,e),x?ce(o.current):g.current;if(M)return ue(N,e),ce(o.current)}return h.current||ue(N,e),g.current}};return C.cancel=function(){h.current&&(D?cancelAnimationFrame(h.current):clearTimeout(h.current)),u.current=0,m.current=o.current=p.current=h.current=null},C.isPending=function(){return!!h.current},C.flush=function(){return h.current?V(Date.now()):g.current},C},[x,M,e,ae,k,D,R,Z]);return re}function aD(r,e){return r===e}function oD(r,e,t){var s=aD,o=G.useRef(r),u=G.useState({})[1],h=sD(G.useCallback(function(p){o.current=p,u({})},[u]),e,t),m=G.useRef(r);return s(m.current,r)||(h(r),m.current=r),[o.current,h]}function yb(r,e){return function(){return r.apply(e,arguments)}}const{toString:lD}=Object.prototype,{getPrototypeOf:wg}=Object,df=(r=>e=>{const t=lD.call(e);return r[t]||(r[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),ur=r=>(r=r.toLowerCase(),e=>df(e)===r),mf=r=>e=>typeof e===r,{isArray:Po}=Array,du=mf("undefined");function uD(r){return r!==null&&!du(r)&&r.constructor!==null&&!du(r.constructor)&&Un(r.constructor.isBuffer)&&r.constructor.isBuffer(r)}const vb=ur("ArrayBuffer");function cD(r){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(r):e=r&&r.buffer&&vb(r.buffer),e}const hD=mf("string"),Un=mf("function"),_b=mf("number"),pf=r=>r!==null&&typeof r=="object",fD=r=>r===!0||r===!1,yh=r=>{if(df(r)!=="object")return!1;const e=wg(r);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)},dD=ur("Date"),mD=ur("File"),pD=ur("Blob"),gD=ur("FileList"),yD=r=>pf(r)&&Un(r.pipe),vD=r=>{let e;return r&&(typeof FormData=="function"&&r instanceof FormData||Un(r.append)&&((e=df(r))==="formdata"||e==="object"&&Un(r.toString)&&r.toString()==="[object FormData]"))},_D=ur("URLSearchParams"),[ED,TD,bD,SD]=["ReadableStream","Request","Response","Headers"].map(ur),AD=r=>r.trim?r.trim():r.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cu(r,e,{allOwnKeys:t=!1}={}){if(r===null||typeof r>"u")return;let s,o;if(typeof r!="object"&&(r=[r]),Po(r))for(s=0,o=r.length;s<o;s++)e.call(null,r[s],s,r);else{const u=t?Object.getOwnPropertyNames(r):Object.keys(r),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,r[m],m,r)}}function Eb(r,e){e=e.toLowerCase();const t=Object.keys(r);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Ws=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tb=r=>!du(r)&&r!==Ws;function yp(){const{caseless:r}=Tb(this)&&this||{},e={},t=(s,o)=>{const u=r&&Eb(e,o)||o;yh(e[u])&&yh(s)?e[u]=yp(e[u],s):yh(s)?e[u]=yp({},s):Po(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Cu(arguments[s],t);return e}const wD=(r,e,t,{allOwnKeys:s}={})=>(Cu(e,(o,u)=>{t&&Un(o)?r[u]=yb(o,t):r[u]=o},{allOwnKeys:s}),r),RD=r=>(r.charCodeAt(0)===65279&&(r=r.slice(1)),r),ND=(r,e,t,s)=>{r.prototype=Object.create(e.prototype,s),r.prototype.constructor=r,Object.defineProperty(r,"super",{value:e.prototype}),t&&Object.assign(r.prototype,t)},CD=(r,e,t,s)=>{let o,u,h;const m={};if(e=e||{},r==null)return e;do{for(o=Object.getOwnPropertyNames(r),u=o.length;u-- >0;)h=o[u],(!s||s(h,r,e))&&!m[h]&&(e[h]=r[h],m[h]=!0);r=t!==!1&&wg(r)}while(r&&(!t||t(r,e))&&r!==Object.prototype);return e},xD=(r,e,t)=>{r=String(r),(t===void 0||t>r.length)&&(t=r.length),t-=e.length;const s=r.indexOf(e,t);return s!==-1&&s===t},ID=r=>{if(!r)return null;if(Po(r))return r;let e=r.length;if(!_b(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=r[e];return t},DD=(r=>e=>r&&e instanceof r)(typeof Uint8Array<"u"&&wg(Uint8Array)),OD=(r,e)=>{const s=(r&&r[Symbol.iterator]).call(r);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(r,u[0],u[1])}},MD=(r,e)=>{let t;const s=[];for(;(t=r.exec(e))!==null;)s.push(t);return s},PD=ur("HTMLFormElement"),VD=r=>r.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),bE=(({hasOwnProperty:r})=>(e,t)=>r.call(e,t))(Object.prototype),jD=ur("RegExp"),bb=(r,e)=>{const t=Object.getOwnPropertyDescriptors(r),s={};Cu(t,(o,u)=>{let h;(h=e(o,u,r))!==!1&&(s[u]=h||o)}),Object.defineProperties(r,s)},kD=r=>{bb(r,(e,t)=>{if(Un(r)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=r[t];if(Un(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},UD=(r,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Po(r)?s(r):s(String(r).split(e)),t},LD=()=>{},BD=(r,e)=>r!=null&&Number.isFinite(r=+r)?r:e;function zD(r){return!!(r&&Un(r.append)&&r[Symbol.toStringTag]==="FormData"&&r[Symbol.iterator])}const qD=r=>{const e=new Array(10),t=(s,o)=>{if(pf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Po(s)?[]:{};return Cu(s,(h,m)=>{const p=t(h,o+1);!du(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return t(r,0)},FD=ur("AsyncFunction"),HD=r=>r&&(pf(r)||Un(r))&&Un(r.then)&&Un(r.catch),Sb=((r,e)=>r?setImmediate:e?((t,s)=>(Ws.addEventListener("message",({source:o,data:u})=>{o===Ws&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Ws.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Un(Ws.postMessage)),GD=typeof queueMicrotask<"u"?queueMicrotask.bind(Ws):typeof process<"u"&&process.nextTick||Sb,X={isArray:Po,isArrayBuffer:vb,isBuffer:uD,isFormData:vD,isArrayBufferView:cD,isString:hD,isNumber:_b,isBoolean:fD,isObject:pf,isPlainObject:yh,isReadableStream:ED,isRequest:TD,isResponse:bD,isHeaders:SD,isUndefined:du,isDate:dD,isFile:mD,isBlob:pD,isRegExp:jD,isFunction:Un,isStream:yD,isURLSearchParams:_D,isTypedArray:DD,isFileList:gD,forEach:Cu,merge:yp,extend:wD,trim:AD,stripBOM:RD,inherits:ND,toFlatObject:CD,kindOf:df,kindOfTest:ur,endsWith:xD,toArray:ID,forEachEntry:OD,matchAll:MD,isHTMLForm:PD,hasOwnProperty:bE,hasOwnProp:bE,reduceDescriptors:bb,freezeMethods:kD,toObjectSet:UD,toCamelCase:VD,noop:LD,toFiniteNumber:BD,findKey:Eb,global:Ws,isContextDefined:Tb,isSpecCompliantForm:zD,toJSONObject:qD,isAsyncFn:FD,isThenable:HD,setImmediate:Sb,asap:GD};function Me(r,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=r,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(Me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Ab=Me.prototype,wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(r=>{wb[r]={value:r}});Object.defineProperties(Me,wb);Object.defineProperty(Ab,"isAxiosError",{value:!0});Me.from=(r,e,t,s,o,u)=>{const h=Object.create(Ab);return X.toFlatObject(r,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Me.call(h,r.message,e,t,s,o),h.cause=r,h.name=r.name,u&&Object.assign(h,u),h};const KD=null;function vp(r){return X.isPlainObject(r)||X.isArray(r)}function Rb(r){return X.endsWith(r,"[]")?r.slice(0,-2):r}function SE(r,e,t){return r?r.concat(e).map(function(o,u){return o=Rb(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function QD(r){return X.isArray(r)&&!r.some(vp)}const YD=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function gf(r,e,t){if(!X.isObject(r))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,M){return!X.isUndefined(M[k])});const s=t.metaTokens,o=t.visitor||E,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if(X.isDate(x))return x.toISOString();if(!p&&X.isBlob(x))throw new Me("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(x)||X.isTypedArray(x)?p&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function E(x,k,M){let Z=x;if(x&&!M&&typeof x=="object"){if(X.endsWith(k,"{}"))k=s?k:k.slice(0,-2),x=JSON.stringify(x);else if(X.isArray(x)&&QD(x)||(X.isFileList(x)||X.endsWith(k,"[]"))&&(Z=X.toArray(x)))return k=Rb(k),Z.forEach(function(re,ce){!(X.isUndefined(re)||re===null)&&e.append(h===!0?SE([k],ce,u):h===null?k:k+"[]",g(re))}),!1}return vp(x)?!0:(e.append(SE(M,k,u),g(x)),!1)}const A=[],R=Object.assign(YD,{defaultVisitor:E,convertValue:g,isVisitable:vp});function D(x,k){if(!X.isUndefined(x)){if(A.indexOf(x)!==-1)throw Error("Circular reference detected in "+k.join("."));A.push(x),X.forEach(x,function(Z,ae){(!(X.isUndefined(Z)||Z===null)&&o.call(e,Z,X.isString(ae)?ae.trim():ae,k,R))===!0&&D(Z,k?k.concat(ae):[ae])}),A.pop()}}if(!X.isObject(r))throw new TypeError("data must be an object");return D(r),e}function AE(r){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(r).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Rg(r,e){this._pairs=[],r&&gf(r,this,e)}const Nb=Rg.prototype;Nb.append=function(e,t){this._pairs.push([e,t])};Nb.toString=function(e){const t=e?function(s){return e.call(this,s,AE)}:AE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function $D(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Cb(r,e,t){if(!e)return r;const s=t&&t.encode||$D;X.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=X.isURLSearchParams(e)?e.toString():new Rg(e,t).toString(s),u){const h=r.indexOf("#");h!==-1&&(r=r.slice(0,h)),r+=(r.indexOf("?")===-1?"?":"&")+u}return r}class wE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(s){s!==null&&e(s)})}}const xb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},XD=typeof URLSearchParams<"u"?URLSearchParams:Rg,WD=typeof FormData<"u"?FormData:null,JD=typeof Blob<"u"?Blob:null,ZD={isBrowser:!0,classes:{URLSearchParams:XD,FormData:WD,Blob:JD},protocols:["http","https","file","blob","url","data"]},Ng=typeof window<"u"&&typeof document<"u",_p=typeof navigator=="object"&&navigator||void 0,eO=Ng&&(!_p||["ReactNative","NativeScript","NS"].indexOf(_p.product)<0),tO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",nO=Ng&&window.location.href||"http://localhost",rO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Ng,hasStandardBrowserEnv:eO,hasStandardBrowserWebWorkerEnv:tO,navigator:_p,origin:nO},Symbol.toStringTag,{value:"Module"})),hn={...rO,...ZD};function iO(r,e){return gf(r,new hn.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return hn.isNode&&X.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function sO(r){return X.matchAll(/\w+|\[(\w*)]/g,r).map(e=>e[0]==="[]"?"":e[1]||e[0])}function aO(r){const e={},t=Object.keys(r);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=r[u];return e}function Ib(r){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=t.length;return h=!h&&X.isArray(o)?o.length:h,p?(X.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!X.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&X.isArray(o[h])&&(o[h]=aO(o[h])),!m)}if(X.isFormData(r)&&X.isFunction(r.entries)){const t={};return X.forEachEntry(r,(s,o)=>{e(sO(s),o,t,0)}),t}return null}function oO(r,e,t){if(X.isString(r))try{return(e||JSON.parse)(r),X.trim(r)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(r)}const xu={transitional:xb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=X.isObject(e);if(u&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return o?JSON.stringify(Ib(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return iO(e,this.formSerializer).toString();if((m=X.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return gf(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),oO(e)):e}],transformResponse:[function(e){const t=this.transitional||xu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Me.from(m,Me.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],r=>{xu.headers[r]={}});const lO=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uO=r=>{const e={};let t,s,o;return r&&r.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&lO[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},RE=Symbol("internals");function Kl(r){return r&&String(r).trim().toLowerCase()}function vh(r){return r===!1||r==null?r:X.isArray(r)?r.map(vh):String(r)}function cO(r){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(r);)e[s[1]]=s[2];return e}const hO=r=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(r.trim());function jm(r,e,t,s,o){if(X.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!X.isString(e)){if(X.isString(s))return e.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(e)}}function fO(r){return r.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function dO(r,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(r,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let bn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,p,g){const E=Kl(p);if(!E)throw new Error("header name must be a non-empty string");const A=X.findKey(o,E);(!A||o[A]===void 0||g===!0||g===void 0&&o[A]!==!1)&&(o[A||p]=vh(m))}const h=(m,p)=>X.forEach(m,(g,E)=>u(g,E,p));if(X.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(X.isString(e)&&(e=e.trim())&&!hO(e))h(uO(e),t);else if(X.isHeaders(e))for(const[m,p]of e.entries())u(p,m,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=Kl(e),e){const s=X.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return cO(o);if(X.isFunction(t))return t.call(this,o,s);if(X.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Kl(e),e){const s=X.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||jm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Kl(h),h){const m=X.findKey(s,h);m&&(!t||jm(s,s[m],m,t))&&(delete s[m],o=!0)}}return X.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||jm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return X.forEach(this,(o,u)=>{const h=X.findKey(s,u);if(h){t[h]=vh(o),delete t[u];return}const m=e?fO(u):String(u).trim();m!==u&&delete t[u],t[m]=vh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&X.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[RE]=this[RE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Kl(h);s[m]||(dO(o,h),s[m]=!0)}return X.isArray(e)?e.forEach(u):u(e),this}};bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(bn.prototype,({value:r},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>r,set(s){this[t]=s}}});X.freezeMethods(bn);function km(r,e){const t=this||xu,s=e||t,o=bn.from(s.headers);let u=s.data;return X.forEach(r,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function Db(r){return!!(r&&r.__CANCEL__)}function Vo(r,e,t){Me.call(this,r??"canceled",Me.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(Vo,Me,{__CANCEL__:!0});function Ob(r,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?r(t):e(new Me("Request failed with status code "+t.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function mO(r){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return e&&e[1]||""}function pO(r,e){r=r||10;const t=new Array(r),s=new Array(r);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),E=s[u];h||(h=g),t[o]=p,s[o]=g;let A=u,R=0;for(;A!==o;)R+=t[A++],A=A%r;if(o=(o+1)%r,o===u&&(u=(u+1)%r),g-h<e)return;const D=E&&g-E;return D?Math.round(R*1e3/D):void 0}}function gO(r,e){let t=0,s=1e3/e,o,u;const h=(g,E=Date.now())=>{t=E,o=null,u&&(clearTimeout(u),u=null),r.apply(null,g)};return[(...g)=>{const E=Date.now(),A=E-t;A>=s?h(g,E):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-A)))},()=>o&&h(o)]}const qh=(r,e,t=3)=>{let s=0;const o=pO(50,250);return gO(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),E=h<=m;s=h;const A={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&E?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};r(A)},t)},NE=(r,e)=>{const t=r!=null;return[s=>e[0]({lengthComputable:t,total:r,loaded:s}),e[1]]},CE=r=>(...e)=>X.asap(()=>r(...e)),yO=hn.hasStandardBrowserEnv?((r,e)=>t=>(t=new URL(t,hn.origin),r.protocol===t.protocol&&r.host===t.host&&(e||r.port===t.port)))(new URL(hn.origin),hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent)):()=>!0,vO=hn.hasStandardBrowserEnv?{write(r,e,t,s,o,u){const h=[r+"="+encodeURIComponent(e)];X.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),X.isString(s)&&h.push("path="+s),X.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(r){const e=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(r){this.write(r,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function _O(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}function EO(r,e){return e?r.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):r}function Mb(r,e,t){let s=!_O(e);return r&&(s||t==!1)?EO(r,e):e}const xE=r=>r instanceof bn?{...r}:r;function ua(r,e){e=e||{};const t={};function s(g,E,A,R){return X.isPlainObject(g)&&X.isPlainObject(E)?X.merge.call({caseless:R},g,E):X.isPlainObject(E)?X.merge({},E):X.isArray(E)?E.slice():E}function o(g,E,A,R){if(X.isUndefined(E)){if(!X.isUndefined(g))return s(void 0,g,A,R)}else return s(g,E,A,R)}function u(g,E){if(!X.isUndefined(E))return s(void 0,E)}function h(g,E){if(X.isUndefined(E)){if(!X.isUndefined(g))return s(void 0,g)}else return s(void 0,E)}function m(g,E,A){if(A in e)return s(g,E);if(A in r)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,E,A)=>o(xE(g),xE(E),A,!0)};return X.forEach(Object.keys(Object.assign({},r,e)),function(E){const A=p[E]||o,R=A(r[E],e[E],E);X.isUndefined(R)&&A!==m||(t[E]=R)}),t}const Pb=r=>{const e=ua({},r);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=bn.from(h),e.url=Cb(Mb(e.baseURL,e.url,e.allowAbsoluteUrls),r.params,r.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if(X.isFormData(t)){if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...E]=p?p.split(";").map(A=>A.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...E].join("; "))}}if(hn.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(e)),s||s!==!1&&yO(e.url))){const g=o&&u&&vO.read(u);g&&h.set(o,g)}return e},TO=typeof XMLHttpRequest<"u",bO=TO&&function(r){return new Promise(function(t,s){const o=Pb(r);let u=o.data;const h=bn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,E,A,R,D,x;function k(){D&&D(),x&&x(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let M=new XMLHttpRequest;M.open(o.method.toUpperCase(),o.url,!0),M.timeout=o.timeout;function Z(){if(!M)return;const re=bn.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),ue={data:!m||m==="text"||m==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:re,config:r,request:M};Ob(function(V){t(V),k()},function(V){s(V),k()},ue),M=null}"onloadend"in M?M.onloadend=Z:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(Z)},M.onabort=function(){M&&(s(new Me("Request aborted",Me.ECONNABORTED,r,M)),M=null)},M.onerror=function(){s(new Me("Network Error",Me.ERR_NETWORK,r,M)),M=null},M.ontimeout=function(){let ce=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ue=o.transitional||xb;o.timeoutErrorMessage&&(ce=o.timeoutErrorMessage),s(new Me(ce,ue.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,r,M)),M=null},u===void 0&&h.setContentType(null),"setRequestHeader"in M&&X.forEach(h.toJSON(),function(ce,ue){M.setRequestHeader(ue,ce)}),X.isUndefined(o.withCredentials)||(M.withCredentials=!!o.withCredentials),m&&m!=="json"&&(M.responseType=o.responseType),g&&([R,x]=qh(g,!0),M.addEventListener("progress",R)),p&&M.upload&&([A,D]=qh(p),M.upload.addEventListener("progress",A),M.upload.addEventListener("loadend",D)),(o.cancelToken||o.signal)&&(E=re=>{M&&(s(!re||re.type?new Vo(null,r,M):re),M.abort(),M=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const ae=mO(o.url);if(ae&&hn.protocols.indexOf(ae)===-1){s(new Me("Unsupported protocol "+ae+":",Me.ERR_BAD_REQUEST,r));return}M.send(u||null)})},SO=(r,e)=>{const{length:t}=r=r?r.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const E=g instanceof Error?g:this.reason;s.abort(E instanceof Me?E:new Vo(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new Me(`timeout ${e} of ms exceeded`,Me.ETIMEDOUT))},e);const m=()=>{r&&(h&&clearTimeout(h),h=null,r.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),r=null)};r.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>X.asap(m),p}},AO=function*(r,e){let t=r.byteLength;if(t<e){yield r;return}let s=0,o;for(;s<t;)o=s+e,yield r.slice(s,o),s=o},wO=async function*(r,e){for await(const t of RO(r))yield*AO(t,e)},RO=async function*(r){if(r[Symbol.asyncIterator]){yield*r;return}const e=r.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},IE=(r,e,t,s)=>{const o=wO(r,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:E}=await o.next();if(g){m(),p.close();return}let A=E.byteLength;if(t){let R=u+=A;t(R)}p.enqueue(new Uint8Array(E))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},yf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Vb=yf&&typeof ReadableStream=="function",NO=yf&&(typeof TextEncoder=="function"?(r=>e=>r.encode(e))(new TextEncoder):async r=>new Uint8Array(await new Response(r).arrayBuffer())),jb=(r,...e)=>{try{return!!r(...e)}catch{return!1}},CO=Vb&&jb(()=>{let r=!1;const e=new Request(hn.origin,{body:new ReadableStream,method:"POST",get duplex(){return r=!0,"half"}}).headers.has("Content-Type");return r&&!e}),DE=64*1024,Ep=Vb&&jb(()=>X.isReadableStream(new Response("").body)),Fh={stream:Ep&&(r=>r.body)};yf&&(r=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Fh[e]&&(Fh[e]=X.isFunction(r[e])?t=>t[e]():(t,s)=>{throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,s)})})})(new Response);const xO=async r=>{if(r==null)return 0;if(X.isBlob(r))return r.size;if(X.isSpecCompliantForm(r))return(await new Request(hn.origin,{method:"POST",body:r}).arrayBuffer()).byteLength;if(X.isArrayBufferView(r)||X.isArrayBuffer(r))return r.byteLength;if(X.isURLSearchParams(r)&&(r=r+""),X.isString(r))return(await NO(r)).byteLength},IO=async(r,e)=>{const t=X.toFiniteNumber(r.getContentLength());return t??xO(e)},DO=yf&&(async r=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:E,withCredentials:A="same-origin",fetchOptions:R}=Pb(r);g=g?(g+"").toLowerCase():"text";let D=SO([o,u&&u.toAbortSignal()],h),x;const k=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let M;try{if(p&&CO&&t!=="get"&&t!=="head"&&(M=await IO(E,s))!==0){let ue=new Request(e,{method:"POST",body:s,duplex:"half"}),_e;if(X.isFormData(s)&&(_e=ue.headers.get("content-type"))&&E.setContentType(_e),ue.body){const[V,N]=NE(M,qh(CE(p)));s=IE(ue.body,DE,V,N)}}X.isString(A)||(A=A?"include":"omit");const Z="credentials"in Request.prototype;x=new Request(e,{...R,signal:D,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:Z?A:void 0});let ae=await fetch(x);const re=Ep&&(g==="stream"||g==="response");if(Ep&&(m||re&&k)){const ue={};["status","statusText","headers"].forEach(C=>{ue[C]=ae[C]});const _e=X.toFiniteNumber(ae.headers.get("content-length")),[V,N]=m&&NE(_e,qh(CE(m),!0))||[];ae=new Response(IE(ae.body,DE,V,()=>{N&&N(),k&&k()}),ue)}g=g||"text";let ce=await Fh[X.findKey(Fh,g)||"text"](ae,r);return!re&&k&&k(),await new Promise((ue,_e)=>{Ob(ue,_e,{data:ce,headers:bn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:r,request:x})})}catch(Z){throw k&&k(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new Me("Network Error",Me.ERR_NETWORK,r,x),{cause:Z.cause||Z}):Me.from(Z,Z&&Z.code,r,x)}}),Tp={http:KD,xhr:bO,fetch:DO};X.forEach(Tp,(r,e)=>{if(r){try{Object.defineProperty(r,"name",{value:e})}catch{}Object.defineProperty(r,"adapterName",{value:e})}});const OE=r=>`- ${r}`,OO=r=>X.isFunction(r)||r===null||r===!1,kb={getAdapter:r=>{r=X.isArray(r)?r:[r];const{length:e}=r;let t,s;const o={};for(let u=0;u<e;u++){t=r[u];let h;if(s=t,!OO(t)&&(s=Tp[(h=String(t)).toLowerCase()],s===void 0))throw new Me(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(OE).join(`
`):" "+OE(u[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:Tp};function Um(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new Vo(null,r)}function ME(r){return Um(r),r.headers=bn.from(r.headers),r.data=km.call(r,r.transformRequest),["post","put","patch"].indexOf(r.method)!==-1&&r.headers.setContentType("application/x-www-form-urlencoded",!1),kb.getAdapter(r.adapter||xu.adapter)(r).then(function(s){return Um(r),s.data=km.call(r,r.transformResponse,s),s.headers=bn.from(s.headers),s},function(s){return Db(s)||(Um(r),s&&s.response&&(s.response.data=km.call(r,r.transformResponse,s.response),s.response.headers=bn.from(s.response.headers))),Promise.reject(s)})}const Ub="1.8.4",vf={};["object","boolean","number","function","string","symbol"].forEach((r,e)=>{vf[r]=function(s){return typeof s===r||"a"+(e<1?"n ":" ")+r}});const PE={};vf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+Ub+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Me(o(h," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!PE[h]&&(PE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};vf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function MO(r,e,t){if(typeof r!="object")throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const s=Object.keys(r);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=r[u],p=m===void 0||h(m,u,r);if(p!==!0)throw new Me("option "+u+" must be "+p,Me.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Me("Unknown option "+u,Me.ERR_BAD_OPTION)}}const _h={assertOptions:MO,validators:vf},xr=_h.validators;let ta=class{constructor(e){this.defaults=e,this.interceptors={request:new wE,response:new wE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ua(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&_h.assertOptions(s,{silentJSONParsing:xr.transitional(xr.boolean),forcedJSONParsing:xr.transitional(xr.boolean),clarifyTimeoutError:xr.transitional(xr.boolean)},!1),o!=null&&(X.isFunction(o)?t.paramsSerializer={serialize:o}:_h.assertOptions(o,{encode:xr.function,serialize:xr.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_h.assertOptions(t,{baseUrl:xr.spelling("baseURL"),withXsrfToken:xr.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&X.merge(u.common,u[t.method]);u&&X.forEach(["delete","get","head","post","put","patch","common"],x=>{delete u[x]}),t.headers=bn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(t)===!1||(p=p&&k.synchronous,m.unshift(k.fulfilled,k.rejected))});const g=[];this.interceptors.response.forEach(function(k){g.push(k.fulfilled,k.rejected)});let E,A=0,R;if(!p){const x=[ME.bind(this),void 0];for(x.unshift.apply(x,m),x.push.apply(x,g),R=x.length,E=Promise.resolve(t);A<R;)E=E.then(x[A++],x[A++]);return E}R=m.length;let D=t;for(A=0;A<R;){const x=m[A++],k=m[A++];try{D=x(D)}catch(M){k.call(this,M);break}}try{E=ME.call(this,D)}catch(x){return Promise.reject(x)}for(A=0,R=g.length;A<R;)E=E.then(g[A++],g[A++]);return E}getUri(e){e=ua(this.defaults,e);const t=Mb(e.baseURL,e.url,e.allowAbsoluteUrls);return Cb(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){ta.prototype[e]=function(t,s){return this.request(ua(s||{},{method:e,url:t,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(ua(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}ta.prototype[e]=t(),ta.prototype[e+"Form"]=t(!0)});let PO=class Lb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new Vo(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lb(function(o){e=o}),cancel:e}}};function VO(r){return function(t){return r.apply(null,t)}}function jO(r){return X.isObject(r)&&r.isAxiosError===!0}const bp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(bp).forEach(([r,e])=>{bp[e]=r});function Bb(r){const e=new ta(r),t=yb(ta.prototype.request,e);return X.extend(t,ta.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Bb(ua(r,o))},t}const St=Bb(xu);St.Axios=ta;St.CanceledError=Vo;St.CancelToken=PO;St.isCancel=Db;St.VERSION=Ub;St.toFormData=gf;St.AxiosError=Me;St.Cancel=St.CanceledError;St.all=function(e){return Promise.all(e)};St.spread=VO;St.isAxiosError=jO;St.mergeConfig=ua;St.AxiosHeaders=bn;St.formToJSON=r=>Ib(X.isHTMLForm(r)?new FormData(r):r);St.getAdapter=kb.getAdapter;St.HttpStatusCode=bp;St.default=St;const{Axios:d3,AxiosError:m3,CanceledError:p3,isCancel:g3,CancelToken:y3,VERSION:v3,all:_3,Cancel:E3,isAxiosError:T3,spread:b3,toFormData:S3,AxiosHeaders:A3,HttpStatusCode:w3,formToJSON:R3,getAdapter:N3,mergeConfig:C3}=St,kO="https://www.googleapis.com/books/v1/volumes?q=",UO="https://openlibrary.org/search.json?q=";async function zb(r){var e,t,s,o,u,h;try{const[m,p]=await Promise.allSettled([St.get(`${kO}${encodeURIComponent(r)}`),St.get(`${UO}${encodeURIComponent(r)}&limit=5`)]),g=((t=(e=m.value)==null?void 0:e.data)==null?void 0:t.items)||[],E=((o=(s=p.value)==null?void 0:s.data)==null?void 0:o.docs)||[],A=g.filter(k=>{var Z,ae;return(((ae=(Z=k.volumeInfo)==null?void 0:Z.title)==null?void 0:ae.toLowerCase())||"").includes(r.toLowerCase())});let R={};if(A.length>0)R=A[0].volumeInfo;else if(E.length>0){const k=E[0];R={title:k.title||"",authors:k.author_name||[],categories:((u=k.subject)==null?void 0:u.slice(0,5))||[],description:Array.isArray(k.first_sentence)?k.first_sentence.join(" "):k.first_sentence||"",pageCount:k.number_of_pages_median||null,averageRating:0}}const D=A.map(k=>{var M,Z,ae;return(ae=(Z=(M=k.volumeInfo)==null?void 0:M.imageLinks)==null?void 0:Z.thumbnail)==null?void 0:ae.replace("http://","https://")}).filter(Boolean),x=E.map(k=>k.cover_edition_key?`https://covers.openlibrary.org/b/olid/${k.cover_edition_key}-L.jpg`:null).filter(Boolean);return{title:R.title||"",authors:R.authors?R.authors.join(", "):"",genres:R.categories?R.categories.join(", "):"",description:R.description||"",pageCount:Number.isInteger(R.pageCount)?R.pageCount:null,averageRating:typeof R.averageRating=="number"?R.averageRating:((h=g.find(k=>{var M;return typeof((M=k.volumeInfo)==null?void 0:M.averageRating)=="number"}))==null?void 0:h.volumeInfo.averageRating)||0,images:[...new Set([...D,...x])]}}catch(m){return console.error("Erro ao buscar dados do livro:",m),null}}function LO({onSubmit:r,loading:e}){const[t,s]=G.useState(""),[o]=oD(t,500),[u,h]=G.useState({title:"",author:"",genre:"",pages:0,synopsis:"",cover:"",status:"Não iniciado",rating:0,averageRating:0,startDate:"",endDate:"",progress:0}),[m,p]=G.useState(!1),[g,E]=G.useState([]);G.useEffect(()=>{(async()=>{var x;if(o){p(!0);try{const k=await zb(o);if(k){const M=((x=k.images)==null?void 0:x.map(Z=>Z.replace("http://","https://").replace("http:","https:")))||[];h(Z=>({...Z,title:k.title||Z.title,author:k.authors||Z.author,genre:k.genres||Z.genre,synopsis:k.description||"Sem descrição disponível",pages:k.pageCount||0,cover:M[0]||Z.cover,averageRating:k.averageRating||0})),E(M)}}catch(k){console.error("Erro na busca:",k)}p(!1)}})()},[o]);const A=D=>{var x;if(D.preventDefault(),!u.title){alert("Por favor, insira pelo menos o título do livro");return}r({...u,userId:(x=Et.currentUser)==null?void 0:x.uid,pages:Number(u.pages),progress:Number(u.progress)})},R=D=>{const x=Math.min(Math.max(Number(D)||0,0),5),k=Math.floor(x),M=x%1>=.5,Z=Math.max(5-k-(M?1:0),0);return v.jsxs("div",{className:"rating-container",children:[[...Array(k)].map((ae,re)=>v.jsx(vo,{className:"rating-star filled"},`full-${re}`)),M&&v.jsx(aT,{className:"rating-star half-filled"}),[...Array(Z)].map((ae,re)=>v.jsx(vo,{className:"rating-star empty"},`empty-${re}`))]})};return v.jsxs("form",{onSubmit:A,className:"book-form",children:[v.jsx("div",{className:"search-container",children:v.jsxs("div",{className:"search-box",children:[v.jsx("input",{type:"text",placeholder:"Digite o nome do livro para buscar",value:t,onChange:D=>s(D.target.value),className:"search-input"}),m?v.jsx("div",{className:"loading-spinner"}):v.jsx(o2,{className:"search-icon"})]})}),v.jsxs("div",{className:"form-container",children:[v.jsxs("div",{className:"book-preview",children:[v.jsxs("div",{className:"cover-container",children:[u.cover?v.jsx("img",{src:u.cover,alt:"Capa do livro",className:"book-cover"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Jn,{className:"placeholder-icon"})}),g.length>0&&v.jsxs("div",{className:"cover-options-grid",children:[v.jsx("h4",{children:"Selecione uma capa:"}),v.jsx("div",{className:"cover-options",children:g.map((D,x)=>v.jsx("img",{src:D,alt:`Opção de capa ${x+1}`,className:`cover-option ${u.cover===D?"selected":""}`,onClick:()=>h({...u,cover:D})},x))})]})]}),v.jsxs("div",{className:"book-details",children:[v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Título",v.jsx("input",{type:"text",value:u.title,onChange:D=>h({...u,title:D.target.value}),className:"text-input",required:!0})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Autor",v.jsx("input",{type:"text",value:u.author,onChange:D=>h({...u,author:D.target.value}),className:"text-input"})]})}),v.jsxs("div",{className:"form-row",children:[v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Gênero",v.jsx("input",{type:"text",value:u.genre,onChange:D=>h({...u,genre:D.target.value}),className:"text-input"})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Páginas",v.jsx("input",{type:"number",value:u.pages||"",onChange:D=>h({...u,pages:parseInt(D.target.value)||0}),className:"number-input"})]})})]}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Sinopse",v.jsx("textarea",{value:u.synopsis,onChange:D=>h({...u,synopsis:D.target.value}),className:"synopsis-textarea",rows:"5"})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Nota Média",R(u.averageRating)]})})]})]}),v.jsxs("div",{className:"form-controls",children:[v.jsxs("div",{className:"status-rating-container",children:[v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Status",v.jsxs("select",{value:u.status,onChange:D=>{const x=D.target.value,k={status:x};x==="Concluído"&&(k.progress=u.pages),h({...u,...k})},className:"status-select",children:[v.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),v.jsx("option",{value:"Em andamento",children:"Em Andamento"}),v.jsx("option",{value:"Concluído",children:"Concluído"}),v.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]})}),(u.status==="Em andamento"||u.status==="Abandonado"||u.status==="Concluído")&&v.jsxs("div",{className:"input-group",children:[v.jsxs("label",{className:"input-label",children:["Página Atual",v.jsxs("div",{className:"progress-input-container",children:[v.jsx("input",{type:"number",min:"0",max:u.pages,value:u.progress,onChange:D=>h({...u,progress:Math.min(parseInt(D.target.value)||0,u.pages)}),className:"progress-input",placeholder:"Página atual"}),v.jsxs("span",{className:"pages-total",children:["/ ",u.pages]})]})]}),v.jsx("div",{className:"progress-container",children:u.progress/(u.pages||1)*100>0&&v.jsx("div",{className:"progress-bar",style:{width:`${Math.round(u.progress/(u.pages||1)*100)}%`}})}),v.jsxs("div",{className:"progress-info",children:["Progresso: ",Math.round(u.progress/(u.pages||1)*100)||0,"%"]})]}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Data de Início",v.jsx("input",{type:"date",value:u.startDate,onChange:D=>h({...u,startDate:D.target.value}),className:"text-input"})]})}),u.status==="Concluído"&&v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Data de Término",v.jsx("input",{type:"date",value:u.endDate,onChange:D=>h({...u,endDate:D.target.value}),className:"text-input"})]})}),v.jsx("div",{className:"input-group",children:v.jsxs("label",{className:"input-label",children:["Sua Avaliação",v.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:u.rating,onChange:D=>h({...u,rating:parseFloat(D.target.value)}),className:"number-input"}),R(u.rating)]})})]}),v.jsx("button",{type:"submit",className:"submit-button",disabled:e||m,children:e?v.jsxs(v.Fragment,{children:[v.jsx(sT,{className:"button-spinner"})," Salvando..."]}):v.jsxs(v.Fragment,{children:[v.jsx(yo,{className:"button-icon"})," Adicionar à Coleção"]})})]})]})]})}function BO(){const[r,e]=G.useState(!1),t=fs(),s=async o=>{e(!0);try{await iD(Et.currentUser.uid,o),t("/dashboard")}catch(u){alert("Erro ao salvar livro: "+u.message)}e(!1)};return v.jsx("div",{className:"add-book-container",children:v.jsxs("div",{className:"form-card",children:[v.jsxs("div",{className:"header-section",children:[v.jsxs("button",{className:"back-button",onClick:()=>t(-1),children:[v.jsx(nT,{})," Voltar"]}),v.jsxs("h1",{className:"form-title",children:[v.jsx(yo,{})," Adicionar Novo Livro"]})]}),v.jsx(LO,{onSubmit:s,loading:r})]})})}function zO(){const[r]=Fw(),e=fs(),t=r.get("editBook"),[s,o]=G.useState([]),[u,h]=G.useState(!0),[m,p]=G.useState(null),[g,E]=G.useState("all"),[A,R]=G.useState("all"),[D,x]=G.useState("title"),[k,M]=G.useState("asc"),[Z,ae]=G.useState([]),[re,ce]=G.useState(!1),[ue,_e]=G.useState(null),[V,N]=G.useState(!1),[C,P]=G.useState(null),[j,L]=G.useState(!1),[S,fe]=G.useState([]),[pe,Q]=G.useState(!1),[Y,de]=G.useState({title:"",author:"",genre:"",status:"",rating:0,averageRating:0,notes:"",cover:"",synopsis:"",pages:0,progress:0,startDate:"",endDate:""});G.useEffect(()=>{const oe=async()=>{try{const Ye=Et.currentUser;if(!Ye)throw new Error("Usuário não autenticado");const at=cn(Pn,"users",Ye.uid),dt=Ir(at,"books"),Sn=ph(dt),hr=(await ea(Sn)).docs.map(An=>({id:An.id,...An.data()}));if(o(hr),we(hr),t){const An=hr.find(fr=>fr.id===t);An&&J(An)}}catch(Ye){p(Ye.message)}finally{h(!1)}},we=Ye=>{const at=[...new Set(Ye.map(dt=>dt.genre))];ae(at.filter(dt=>dt&&dt!==""))};oe()},[t]);const Oe=async()=>{var oe;try{if(!Y.title.trim()){alert("Digite um título para buscar capas");return}Q(!0);const we=await zb(Y.title),Ye=((oe=we==null?void 0:we.images)==null?void 0:oe.map(at=>at.replace("http://","https://").replace("http:","https:")).filter(at=>at.startsWith("https://")&&(at.includes("googleapis")||at.includes("openlibrary.org"))))||[];fe(Ye)}catch(we){console.error("Erro na busca de capas:",we),fe([])}finally{Q(!1)}},O=oe=>{de(we=>({...we,cover:oe})),L(!1)},ne=async oe=>{try{const we=Et.currentUser;if(!we)return;const Ye=cn(Pn,"users",we.uid,"books",oe),at=s.find(dt=>dt.id===oe);await go(Ye,{favorite:!at.favorite}),o(s.map(dt=>dt.id===oe?{...dt,favorite:!dt.favorite}:dt))}catch(we){p(we.message)}},W=async()=>{try{const oe=Et.currentUser;if(!oe)return;const we=cn(Pn,"users",oe.uid,"books",ue),Ye=Ir(Pn,"users",oe.uid,"folders"),dt=(await ea(Ye)).docs.map(async Sn=>{var hr;const It=Sn.data();if((hr=It.books)!=null&&hr.includes(ue)){const An=It.books.filter(fr=>fr!==ue);await go(Sn.ref,{books:An})}});await Promise.all(dt),await bg(we),o(s.filter(Sn=>Sn.id!==ue)),ce(!1)}catch(oe){p(oe.message),ce(!1)}},J=oe=>{P(oe),de({title:oe.title,author:oe.author,genre:oe.genre,status:oe.status,rating:oe.rating||0,averageRating:oe.averageRating||0,notes:oe.notes||"",cover:oe.cover||"",synopsis:oe.synopsis||"",pages:oe.pages||0,progress:oe.progress||0,startDate:oe.startDate||"",endDate:oe.endDate||""}),N(!0),e(`/collection?editBook=${oe.id}`)},me=oe=>{de({...Y,[oe.target.name]:oe.target.value})},Re=oe=>{de({...Y,rating:oe})},Te=async oe=>{oe.preventDefault();try{const we=Et.currentUser;if(!we||!C)return;const Ye=cn(Pn,"users",we.uid,"books",C.id);await go(Ye,{...Y,cover:Y.cover,pages:Number(Y.pages),progress:Number(Y.progress)}),o(s.map(at=>at.id===C.id?{...at,...Y}:at)),N(!1),e("/collection")}catch(we){p(we.message),N(!1)}},tt=oe=>{const we=Math.min(Math.max(Number(oe)||0,0),5),Ye=Math.floor(we),at=we%1>=.5&&we<5,dt=Math.max(5-Ye-(at?1:0),0);return v.jsxs("div",{className:"rating-container",children:[[...Array(Ye)].map((Sn,It)=>v.jsx(vo,{className:"rating-star filled"},`full-${It}`)),at&&v.jsx(aT,{className:"rating-star half-filled"}),[...Array(dt)].map((Sn,It)=>v.jsx(vo,{className:"rating-star empty"},`empty-${It}`))]})},Xe=s.filter(oe=>(g==="all"||oe.status===g)&&(A==="all"||oe.genre===A)).sort((oe,we)=>D==="title"?k==="asc"?oe.title.localeCompare(we.title):we.title.localeCompare(oe.title):D==="rating"?k==="asc"?oe.rating-we.rating:we.rating-oe.rating:0),Ln=()=>v.jsx("div",{className:"delete-modal",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h3",{children:"Confirmar exclusão"}),v.jsx("p",{children:"Tem certeza que deseja remover este livro da sua coleção?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"modal-button confirm",onClick:W,children:"Confirmar"}),v.jsx("button",{className:"modal-button cancel",onClick:()=>ce(!1),children:"Cancelar"})]})]})}),cr=()=>v.jsx("div",{className:"edit-modal",children:v.jsxs("div",{className:"edit-form",children:[v.jsx("h3",{className:"edit-form-title",children:"Editar Livro"}),v.jsxs("div",{className:"book-info-header",children:[Y.cover?v.jsx("img",{src:Y.cover,alt:"Capa",className:"book-info-cover"}):v.jsx("div",{className:"cover-placeholder book-info-cover",children:v.jsx(Jn,{size:24})}),v.jsxs("div",{className:"book-info-text",children:[v.jsx("h4",{className:"book-title",children:Y.title}),v.jsxs("p",{className:"book-author",children:["por ",Y.author]}),v.jsxs("div",{className:"book-meta-info",children:[v.jsxs("p",{className:"book-genre",children:["Gênero: ",Y.genre||"Não informado"]}),v.jsxs("div",{className:"book-rating",children:[v.jsx("span",{children:"Nota Média:"}),tt(Y.averageRating),v.jsxs("span",{className:"rating-value",children:["(",parseFloat(Y.averageRating).toFixed(1),")"]})]})]})]})]}),v.jsxs("form",{onSubmit:Te,children:[v.jsxs("div",{className:"form-grid",children:[v.jsxs("div",{className:"form-group full-width",children:[v.jsx("label",{children:"Capa do Livro"}),v.jsxs("div",{className:"cover-preview-container",children:[Y.cover?v.jsx("img",{src:Y.cover,alt:"Capa atual",className:"current-cover"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Jn,{})}),v.jsx("button",{type:"button",className:"change-cover-button",onClick:()=>{L(!j),j||Oe()},children:j?"Fechar Opções":"Alterar Capa"})]}),j&&v.jsx("div",{className:"cover-selector-modal",children:pe?v.jsx("div",{className:"loading-spinner"}):v.jsxs(v.Fragment,{children:[v.jsx("h4",{children:"Selecione uma nova capa:"}),v.jsx("div",{className:"cover-options-grid",children:S.map((oe,we)=>v.jsx("img",{src:oe,alt:`Opção de capa ${we+1}`,className:`cover-option ${Y.cover===oe?"selected":""}`,onClick:()=>O(oe)},we))}),S.length===0&&v.jsx("p",{children:"Nenhuma capa alternativa encontrada."})]})})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Título"}),v.jsx("input",{type:"text",name:"title",value:Y.title,onChange:me,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Autor"}),v.jsx("input",{type:"text",name:"author",value:Y.author,onChange:me,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Gênero"}),v.jsx("input",{type:"text",name:"genre",value:Y.genre,onChange:me,className:"form-input"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Total de Páginas"}),v.jsx("input",{type:"number",name:"pages",value:Y.pages,onChange:me,className:"form-input",min:"0"})]}),v.jsxs("div",{className:"form-group full-width",children:[v.jsx("label",{children:"Sinopse"}),v.jsx("div",{className:"synopsis-display",children:Y.synopsis||"Nenhuma sinopse disponível"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Status"}),v.jsxs("select",{value:Y.status,onChange:oe=>{const we=oe.target.value,Ye={status:we};we==="Concluído"&&(Ye.progress=Y.pages),de({...Y,...Ye})},className:"status-select",children:[v.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),v.jsx("option",{value:"Em andamento",children:"Em Andamento"}),v.jsx("option",{value:"Concluído",children:"Concluído"}),v.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Data de Início"}),v.jsx("input",{type:"date",name:"startDate",value:Y.startDate,onChange:me,className:"form-input"})]}),Y.status==="Concluído"&&v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Data de Término"}),v.jsx("input",{type:"date",name:"endDate",value:Y.endDate,onChange:me,className:"form-input"})]}),(Y.status==="Em andamento"||Y.status==="Abandonado"||Y.status==="Concluído")&&v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Página Atual"}),v.jsxs("div",{className:"progress-input-container",children:[v.jsx("input",{type:"number",value:Y.progress||"",onChange:oe=>{const we=Math.min(parseInt(oe.target.value)||0,Y.pages);de({...Y,progress:we})},className:"form-input",min:"0",max:Y.pages}),v.jsxs("span",{className:"pages-total",children:["/ ",Y.pages]})]}),v.jsx("div",{className:"progress-container",children:Math.round(Y.progress/Y.pages*100)>0&&v.jsx("div",{className:"progress-bar",style:{width:`${Math.round(Y.progress/Y.pages*100)||0}%`}})}),v.jsxs("div",{className:"progress-info",children:["Progresso: ",Math.round(Y.progress/Y.pages*100||0),"%"]})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Avaliação"}),v.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:Y.rating,onChange:oe=>{const we=parseFloat(oe.target.value),Ye=Math.min(Math.max(isNaN(we)?0:we,0),5);Re(Ye)},className:"rating-input"}),v.jsx("div",{className:"rating-display",children:tt(Y.rating)})]})]}),v.jsxs("div",{className:"form-group full-width",children:[v.jsx("label",{children:"Anotações"}),v.jsx("textarea",{name:"notes",value:Y.notes,onChange:me,className:"form-input form-textarea",placeholder:"Adicione suas anotações..."})]}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{type:"button",className:"modal-button cancel",onClick:()=>{N(!1),e("/collection")},children:"Cancelar"}),v.jsx("button",{type:"submit",className:"modal-button confirm",children:"Salvar Alterações"})]})]})]})});return u?v.jsx("div",{className:"loading-screen",children:"Carregando..."}):m?v.jsxs("div",{className:"error-screen",children:[v.jsx("h2",{children:"Erro ao carregar dados"}),v.jsx("p",{children:m})]}):v.jsxs("div",{className:"collection-container",children:[v.jsx("h1",{className:"collection-title",children:"📚 Sua Coleção"}),v.jsxs("div",{className:"controls",children:[v.jsxs("div",{className:"filter-group",children:[v.jsx(i2,{className:"filter-icon"}),v.jsxs("select",{value:g,onChange:oe=>E(oe.target.value),className:"filter-select",children:[v.jsx("option",{value:"all",children:"Todos os Status"}),v.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),v.jsx("option",{value:"Em andamento",children:"Em Andamento"}),v.jsx("option",{value:"Concluído",children:"Concluído"}),v.jsx("option",{value:"Abandonado",children:"Abandonado"})]}),v.jsxs("select",{value:A,onChange:oe=>R(oe.target.value),className:"filter-select",children:[v.jsx("option",{value:"all",children:"Todos os Gêneros"}),Z.map(oe=>v.jsx("option",{value:oe,children:oe},oe))]})]}),v.jsxs("div",{className:"sort-group",children:[v.jsx(u2,{className:"sort-icon"}),v.jsxs("select",{value:D,onChange:oe=>x(oe.target.value),className:"sort-select",children:[v.jsx("option",{value:"title",children:"Ordenar por Título"}),v.jsx("option",{value:"rating",children:"Ordenar por Avaliação"})]}),v.jsx("button",{onClick:()=>M(k==="asc"?"desc":"asc"),className:"sort-order",children:k==="asc"?"A-Z":"Z-A"})]})]}),v.jsx("div",{className:"books-table",children:v.jsxs("table",{children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Capa"}),v.jsx("th",{children:"Título"}),v.jsx("th",{children:"Autor"}),v.jsx("th",{children:"Status"}),v.jsx("th",{children:"Avaliação"}),v.jsx("th",{children:"Progresso"}),v.jsx("th",{children:"Ações"})]})}),v.jsx("tbody",{children:Xe.length>0?Xe.map(oe=>v.jsxs("tr",{children:[v.jsx("td",{"data-label":"Capa",children:oe.cover?v.jsx("img",{src:oe.cover,alt:oe.title,className:"book-cover"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Jn,{})})}),v.jsx("td",{"data-label":"Título",children:oe.title}),v.jsx("td",{"data-label":"Autor",children:oe.author}),v.jsx("td",{"data-label":"Status",children:v.jsx("span",{className:`status-badge ${oe.status.toLowerCase().replace(" ","-")}`,children:oe.status})}),v.jsx("td",{"data-label":"Avaliação",children:tt(oe.rating)}),v.jsx("td",{"data-label":"Progresso",children:(oe.status==="Em andamento"||oe.status==="Abandonado"||oe.status==="Concluído")&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"progress-container",children:Math.round(oe.progress/oe.pages*100)>0&&v.jsx("div",{className:"progress-bar",style:{width:`${Math.round(oe.progress/oe.pages*100)}%`}})}),v.jsxs("div",{className:"progress-info",children:[Math.round(oe.progress/oe.pages*100)||0,"%"]})]})}),v.jsxs("td",{className:"actions-cell","data-label":"Ações",children:[v.jsx("button",{onClick:()=>ne(oe.id),className:"icon-button",title:"Favoritar",children:oe.favorite?v.jsx(iT,{}):v.jsx(h2,{})}),v.jsx("button",{onClick:()=>J(oe),className:"icon-button",title:"Editar",children:v.jsx(Qh,{})}),v.jsx("button",{onClick:()=>{_e(oe.id),ce(!0)},className:"icon-button",title:"Remover",children:v.jsx(Cp,{})})]})]},oe.id)):v.jsx("tr",{children:v.jsx("td",{colSpan:"7",className:"no-books-message",children:"Nenhum livro encontrado com os filtros selecionados."})})})]})}),re&&Ln(),V&&cr()]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebasestorage.googleapis.com",Fb="storageBucket",qO=2*60*1e3,FO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt extends Ur{constructor(e,t,s=0){super(Lm(e),`Firebase Storage: ${t} (${Lm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,wt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var At;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(At||(At={}));function Lm(r){return"storage/"+r}function Cg(){const r="An unknown error occurred, please check the error payload for server response.";return new wt(At.UNKNOWN,r)}function HO(r){return new wt(At.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function GO(r){return new wt(At.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function KO(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new wt(At.UNAUTHENTICATED,r)}function QO(){return new wt(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function YO(r){return new wt(At.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function $O(){return new wt(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XO(){return new wt(At.CANCELED,"User canceled the upload/download.")}function WO(r){return new wt(At.INVALID_URL,"Invalid URL '"+r+"'.")}function JO(r){return new wt(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function ZO(){return new wt(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fb+"' property when initializing the app?")}function e6(){return new wt(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function t6(){return new wt(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function n6(r){return new wt(At.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sp(r){return new wt(At.INVALID_ARGUMENT,r)}function Hb(){return new wt(At.APP_DELETED,"The Firebase app was deleted.")}function r6(r){return new wt(At.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ru(r,e){return new wt(At.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Ql(r){throw new wt(At.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=jn.makeFromUrl(e,t)}catch{return new jn(e,"")}if(s.path==="")return s;throw JO(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ce){ce.path.charAt(ce.path.length-1)==="/"&&(ce.path_=ce.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ce){ce.path_=decodeURIComponent(ce.path)}const E="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),R="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${E}/b/${o}/o${R}`,"i"),x={bucket:1,path:3},k=t===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",Z=new RegExp(`^https?://${k}/${o}/${M}`,"i"),re=[{regex:m,indices:p,postModify:u},{regex:D,indices:x,postModify:g},{regex:Z,indices:{bucket:1,path:2},postModify:g}];for(let ce=0;ce<re.length;ce++){const ue=re[ce],_e=ue.regex.exec(e);if(_e){const V=_e[ue.indices.bucket];let N=_e[ue.indices.path];N||(N=""),s=new jn(V,N),ue.postModify(s);break}}if(s==null)throw WO(e);return s}}class i6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(r,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...M){g||(g=!0,e.apply(null,M))}function A(M){o=setTimeout(()=>{o=null,r(D,p())},M)}function R(){u&&clearTimeout(u)}function D(M,...Z){if(g){R();return}if(M){R(),E.call(null,M,...Z);return}if(p()||h){R(),E.call(null,M,...Z);return}s<64&&(s*=2);let re;m===1?(m=2,re=0):re=(s+Math.random())*1e3,A(re)}let x=!1;function k(M){x||(x=!0,R(),!g&&(o!==null?(M||(m=2),clearTimeout(o),A(0)):M||(m=1)))}return A(0),u=setTimeout(()=>{h=!0,k(!0)},t),k}function a6(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(r){return r!==void 0}function l6(r){return typeof r=="object"&&!Array.isArray(r)}function xg(r){return typeof r=="string"||r instanceof String}function VE(r){return Ig()&&r instanceof Blob}function Ig(){return typeof Blob<"u"}function jE(r,e,t,s){if(s<e)throw Sp(`Invalid value for '${r}'. Expected ${e} or greater.`);if(s>t)throw Sp(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(r,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${r}`}function Gb(r){const e=encodeURIComponent;let t="?";for(const s in r)if(r.hasOwnProperty(s)){const o=e(s)+"="+e(r[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var na;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(na||(na={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(r,e){const t=r>=500&&r<600,o=[408,429].indexOf(r)!==-1,u=e.indexOf(r)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(e,t,s,o,u,h,m,p,g,E,A,R=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=A,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,x)=>{this.resolve_=D,this.reject_=x,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new sh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===na.NO_ERROR,p=u.getStatus();if(!m||u6(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===na.ABORT;s(!1,new sh(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new sh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());o6(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Cg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Hb():XO();h(p)}else{const p=$O();h(p)}};this.canceled_?t(!1,new sh(!1,null,!0)):this.backoffId_=s6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&a6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class sh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function h6(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function f6(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d6(r,e){e&&(r["X-Firebase-GMPID"]=e)}function m6(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function p6(r,e,t,s,o,u,h=!0){const m=Gb(r.urlParams),p=r.url+m,g=Object.assign({},r.headers);return d6(g,e),h6(g,t),f6(g,u),m6(g,s),new c6(p,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function y6(...r){const e=g6();if(e!==void 0){const t=new e;for(let s=0;s<r.length;s++)t.append(r[s]);return t.getBlob()}else{if(Ig())return new Blob(r);throw new wt(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function v6(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(r){if(typeof atob>"u")throw n6("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bm{constructor(e,t){this.data=e,this.contentType=t||null}}function E6(r,e){switch(r){case Dr.RAW:return new Bm(Kb(e));case Dr.BASE64:case Dr.BASE64URL:return new Bm(Qb(r,e));case Dr.DATA_URL:return new Bm(b6(e),S6(e))}throw Cg()}function Kb(r){const e=[];for(let t=0;t<r.length;t++){let s=r.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=r.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function T6(r){let e;try{e=decodeURIComponent(r)}catch{throw ru(Dr.DATA_URL,"Malformed data URL.")}return Kb(e)}function Qb(r,e){switch(r){case Dr.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw ru(r,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Dr.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw ru(r,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=_6(e)}catch(o){throw o.message.includes("polyfill")?o:ru(r,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Yb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw ru(Dr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=A6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function b6(r){const e=new Yb(r);return e.base64?Qb(Dr.BASE64,e.rest):T6(e.rest)}function S6(r){return new Yb(r).contentType}function A6(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,t){let s=0,o="";VE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(VE(this.data_)){const s=this.data_,o=v6(s,e,t);return o===null?null:new Zi(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Zi(s,!0)}}static getBlob(...e){if(Ig()){const t=e.map(s=>s instanceof Zi?s.data_:s);return new Zi(y6.apply(null,t))}else{const t=e.map(h=>xg(h)?E6(Dr.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Zi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(r){let e;try{e=JSON.parse(r)}catch{return null}return l6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function R6(r,e){const t=e.split("/").filter(s=>s.length>0).join("/");return r.length===0?t:r+"/"+t}function Xb(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(r,e){return e}class yn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||N6}}let ah=null;function C6(r){return!xg(r)||r.length<2?r:Xb(r)}function Wb(){if(ah)return ah;const r=[];r.push(new yn("bucket")),r.push(new yn("generation")),r.push(new yn("metageneration")),r.push(new yn("name","fullPath",!0));function e(u,h){return C6(h)}const t=new yn("name");t.xform=e,r.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new yn("size");return o.xform=s,r.push(o),r.push(new yn("timeCreated")),r.push(new yn("updated")),r.push(new yn("md5Hash",null,!0)),r.push(new yn("cacheControl",null,!0)),r.push(new yn("contentDisposition",null,!0)),r.push(new yn("contentEncoding",null,!0)),r.push(new yn("contentLanguage",null,!0)),r.push(new yn("contentType",null,!0)),r.push(new yn("metadata","customMetadata",!0)),ah=r,ah}function x6(r,e){function t(){const s=r.bucket,o=r.fullPath,u=new jn(s,o);return e._makeStorageReference(u)}Object.defineProperty(r,"ref",{get:t})}function I6(r,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return x6(s,r),s}function Jb(r,e,t){const s=$b(e);return s===null?null:I6(r,s,t)}function D6(r,e,t,s){const o=$b(e);if(o===null||!xg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=r.bucket,A=r.fullPath,R="/b/"+h(E)+"/o/"+h(A),D=Dg(R,t,s),x=Gb({alt:"media",token:g});return D+x})[0]}function O6(r,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=r[u.local])}return JSON.stringify(t)}class Zb{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(r){if(!r)throw Cg()}function M6(r,e){function t(s,o){const u=Jb(r,o,e);return eS(u!==null),u}return t}function P6(r,e){function t(s,o){const u=Jb(r,o,e);return eS(u!==null),D6(u,o,r.host,r._protocol)}return t}function tS(r){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=QO():o=KO():t.getStatus()===402?o=GO(r.bucket):t.getStatus()===403?o=YO(r.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function V6(r){const e=tS(r);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=HO(r.path)),u.serverResponse=o.serverResponse,u}return t}function j6(r,e,t){const s=e.fullServerUrl(),o=Dg(s,r.host,r._protocol),u="GET",h=r.maxOperationRetryTime,m=new Zb(o,u,P6(r,t),h);return m.errorHandler=V6(e),m}function k6(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function U6(r,e,t){const s=Object.assign({},t);return s.fullPath=r.path,s.size=e.size(),s.contentType||(s.contentType=k6(null,e)),s}function L6(r,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let re="";for(let ce=0;ce<2;ce++)re=re+Math.random().toString().slice(2);return re}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=U6(e,s,o),E=O6(g,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,R=`\r
--`+p+"--",D=Zi.getBlob(A,s,R);if(D===null)throw e6();const x={name:g.fullPath},k=Dg(u,r.host,r._protocol),M="POST",Z=r.maxUploadRetryTime,ae=new Zb(k,M,M6(r,t),Z);return ae.urlParams=x,ae.headers=h,ae.body=D.uploadData(),ae.errorHandler=tS(e),ae}class B6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=na.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=na.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=na.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Ql("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ql("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ql("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Ql("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ql("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class z6 extends B6{initXhr(){this.xhr_.responseType="text"}}function nS(){return new z6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,t){this._service=e,t instanceof jn?this._location=t:this._location=jn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ca(e,t)}get root(){const e=new jn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xb(this._location.path)}get storage(){return this._service}get parent(){const e=w6(this._location.path);if(e===null)return null;const t=new jn(this._location.bucket,e);return new ca(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw r6(e)}}function q6(r,e,t){r._throwIfRoot("uploadBytes");const s=L6(r.storage,r._location,Wb(),new Zi(e,!0),t);return r.storage.makeRequestWithTokens(s,nS).then(o=>({metadata:o,ref:r}))}function F6(r){r._throwIfRoot("getDownloadURL");const e=j6(r.storage,r._location,Wb());return r.storage.makeRequestWithTokens(e,nS).then(t=>{if(t===null)throw t6();return t})}function H6(r,e){const t=R6(r._location.path,e),s=new jn(r._location.bucket,t);return new ca(r.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G6(r){return/^[A-Za-z]+:\/\//.test(r)}function K6(r,e){return new ca(r,e)}function rS(r,e){if(r instanceof Og){const t=r;if(t._bucket==null)throw ZO();const s=new ca(t,t._bucket);return e!=null?rS(s,e):s}else return e!==void 0?H6(r,e):r}function Q6(r,e){if(e&&G6(e)){if(r instanceof Og)return K6(r,e);throw Sp("To use ref(service, url), the first argument must be a Storage instance.")}else return rS(r,e)}function kE(r,e){const t=e==null?void 0:e[Fb];return t==null?null:jn.makeFromBucketSpec(t,r)}function Y6(r,e,t,s={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:o}=s;o&&(r._overrideAuthToken=typeof o=="string"?o:pT(o,r.app.options.projectId))}class Og{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=qO,this._maxUploadRetryTime=FO,this._requests=new Set,o!=null?this._bucket=jn.makeFromBucketSpec(o,this._host):this._bucket=kE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=jn.makeFromBucketSpec(this._url,e):this._bucket=kE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){jE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ca(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new i6(Hb());{const h=p6(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const UE="@firebase/storage",LE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="storage";function $6(r,e,t){return r=bt(r),q6(r,e,t)}function X6(r){return r=bt(r),F6(r)}function W6(r,e){return r=bt(r),Q6(r,e)}function J6(r=Dp(),e){r=bt(r);const s=$h(r,iS).getImmediate({identifier:e}),o=fT("storage");return o&&Z6(s,...o),s}function Z6(r,e,t,s={}){Y6(r,e,t,s)}function e3(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),o=r.getProvider("app-check-internal");return new Og(t,s,o,e,da)}function t3(){ra(new ls(iS,e3,"PUBLIC").setMultipleInstances(!0)),Or(UE,LE,""),Or(UE,LE,"esm2017")}t3();function n3(){const[r,e]=G.useState(""),[t,s]=G.useState(null),[o,u]=G.useState(!1),h=G.useRef(null),m=Et.currentUser,p=(A,R)=>{s({type:A,message:R}),setTimeout(()=>s(null),3e3)},g=async A=>{if(A.preventDefault(),!r.trim()){p("error","O nome não pode estar vazio!");return}try{u(!0),await R0(m,{displayName:r.trim()}),e(""),p("success","Nome atualizado com sucesso!")}catch(R){p("error",`Erro ao atualizar nome: ${R.message}`)}finally{u(!1)}},E=async A=>{const R=A.target.files[0];if(R)try{u(!0);const D=J6(),x=W6(D,`profilePhotos/${m.uid}`);await $6(x,R);const k=await X6(x);await R0(m,{photoURL:k}),p("success","Foto atualizada com sucesso!")}catch(D){p("error",`Erro ao atualizar foto: ${D.message}`)}finally{u(!1),h.current.value=""}};return v.jsxs("div",{className:"profile-container",children:[t&&v.jsxs("div",{className:`custom-alert ${t.type}`,children:[v.jsx("div",{className:"alert-icon",children:t.type==="success"?v.jsx(r2,{}):v.jsx(c2,{})}),v.jsx("span",{children:t.message})]}),v.jsxs("div",{className:"profile-card",children:[v.jsxs("h1",{children:[v.jsx(oT,{className:"header-icon"}),"Configurações do Perfil"]}),v.jsxs("div",{className:"profile-section",children:[v.jsxs("div",{className:"photo-section",children:[v.jsx("img",{src:(m==null?void 0:m.photoURL)||"/default-user.png",alt:"Foto do usuário",className:"profile-photo"}),v.jsx("input",{type:"file",ref:h,onChange:E,accept:"image/*",hidden:!0}),v.jsxs("button",{className:"change-photo-btn",onClick:()=>h.current.click(),disabled:o,children:[v.jsx(Qh,{className:"btn-icon"}),o?"Atualizando...":"Alterar Foto"]})]}),v.jsxs("div",{className:"info-section",children:[v.jsxs("form",{onSubmit:g,className:"name-form",children:[v.jsxs("label",{children:["Nome:",v.jsx("input",{type:"text",value:r,onChange:A=>e(A.target.value),placeholder:"Digite seu novo nome",disabled:o})]}),v.jsx("button",{type:"submit",className:"update-btn",disabled:o||!r.trim(),children:o?"Atualizando...":"Atualizar Nome"})]}),v.jsx("div",{className:"user-info",children:v.jsxs("h3",{children:[v.jsx("strong",{children:"Email:"})," ",m==null?void 0:m.email]})})]})]})]})]})}function r3(){const[r,e]=G.useState([]),[t,s]=G.useState([]),[o,u]=G.useState(!1),[h,m]=G.useState(!1),[p,g]=G.useState(null),[E,A]=G.useState(null),[R,D]=G.useState({name:"",description:"",books:[],notes:""}),[x,k]=G.useState(null),[M,Z]=G.useState(""),[ae,re]=G.useState(!1),ce=fs();G.useEffect(()=>{(async()=>{const fe=Et.currentUser;if(fe)try{const pe=cn(Pn,"users",fe.uid),Q=Ir(pe,"folders"),Y=await ea(Q);e(Y.docs.map(O=>({id:O.id,...O.data()})));const de=Ir(pe,"books"),Oe=await ea(de);s(Oe.docs.map(O=>({id:O.id,...O.data(),cover:O.data().cover||"",title:O.data().title||"Livro sem título"})))}catch(pe){console.error("Erro ao carregar dados:",pe)}})()},[]);const ue=async S=>{S.preventDefault();const fe=Et.currentUser;if(!(!fe||!R.name))try{const pe=cn(Pn,"users",fe.uid),Q=Ir(pe,"folders");if(p){const Y=cn(Q,p.id);await go(Y,R),e(r.map(de=>de.id===p.id?{...R,id:de.id}:de))}else{const Y=await Sg(Q,{...R,createdAt:new Date});e([...r,{id:Y.id,...R}])}u(!1),g(null),D({name:"",description:"",books:[],notes:""})}catch(pe){console.error("Erro ao salvar pasta:",pe),alert("Erro ao salvar! Verifique suas permissões e conexão.")}},_e=async()=>{const S=Et.currentUser;if(S)try{const fe=cn(Pn,"users",S.uid,"folders",E);await bg(fe),e(r.filter(pe=>pe.id!==E)),m(!1)}catch(fe){console.error("Erro ao excluir pasta:",fe),m(!1)}},V=S=>{g(S),D({name:S.name,description:S.description,books:S.books||[],notes:S.notes||""}),u(!0)},N=S=>{k(S),Z(S.notes||"")},C=async()=>{if(x){re(!0);try{const S=Et.currentUser,fe=cn(Pn,"users",S.uid,"folders",x.id);await go(fe,{notes:M}),e(r.map(pe=>pe.id===x.id?{...pe,notes:M}:pe)),k({...x,notes:M})}catch(S){console.error("Erro ao salvar anotações:",S)}finally{re(!1)}}},P=S=>{D(fe=>({...fe,books:fe.books.includes(S)?fe.books.filter(pe=>pe!==S):[...fe.books,S]}))},j=()=>v.jsx("div",{className:"delete-modal",children:v.jsxs("div",{className:"modal-content",children:[v.jsx("h3",{children:"Confirmar Exclusão"}),v.jsx("p",{children:"Tem certeza que deseja excluir esta pasta permanentemente?"}),v.jsxs("div",{className:"modal-actions",children:[v.jsx("button",{className:"modal-button confirm",onClick:_e,children:"Confirmar"}),v.jsx("button",{className:"modal-button cancel",onClick:()=>m(!1),children:"Cancelar"})]})]})}),L=()=>{var S;return v.jsx("div",{className:"folder-view-modal",children:v.jsxs("div",{className:"folder-view-content",children:[v.jsxs("div",{className:"folder-view-header",children:[v.jsxs("div",{className:"folder-view-title",children:[v.jsx(Yl,{size:24}),v.jsx("h2",{children:x==null?void 0:x.name})]}),v.jsx("button",{onClick:()=>k(null),className:"close-btn","aria-label":"Fechar",children:v.jsx(Km,{})})]}),(x==null?void 0:x.description)&&v.jsx("div",{className:"folder-view-description",children:x.description}),v.jsxs("h3",{children:["Livros nesta pasta (",((S=x==null?void 0:x.books)==null?void 0:S.length)||0,")"]}),v.jsx("div",{className:"folder-view-books",children:t.filter(fe=>{var pe;return(pe=x==null?void 0:x.books)==null?void 0:pe.includes(fe.id)}).map(fe=>v.jsxs("div",{className:"folder-view-book",onClick:()=>ce(`/collection?editBook=${fe.id}`),style:{cursor:"pointer"},children:[fe.cover?v.jsx("img",{src:fe.cover,alt:fe.title,className:"folder-view-book-cover"}):v.jsx("div",{className:"thumbnail-placeholder",children:v.jsx(Jn,{size:32})}),v.jsx("h4",{className:"folder-view-book-title",children:fe.title}),fe.status&&v.jsx("span",{className:`status-badge ${fe.status.toLowerCase().replace(" ","-")} folder-view-book-status`,children:fe.status}),fe.rating>0&&v.jsx("div",{className:"folder-view-book-rating",children:[...Array(5)].map((pe,Q)=>v.jsx(vo,{color:Q<Math.round(fe.rating)?"#ffd700":"#e0e0e0",size:14},Q))})]},fe.id))}),v.jsxs("div",{className:"folder-view-notes",children:[v.jsx("h3",{children:"Anotações da Pasta"}),v.jsx("textarea",{value:M,onChange:fe=>Z(fe.target.value),placeholder:"Adicione suas anotações sobre esta pasta..."}),v.jsxs("div",{className:"form-actions",style:{marginTop:"1rem"},children:[v.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>k(null),children:"Fechar"}),v.jsx("button",{type:"button",className:"btn-confirm",onClick:C,disabled:ae,children:ae?"Salvando...":"Salvar Anotações"})]})]})]})})};return v.jsxs("div",{className:"folders-container",children:[v.jsxs("div",{className:"folders-header",children:[v.jsxs("h1",{children:[v.jsx(Yl,{})," Minhas Pastas"]}),v.jsxs("button",{onClick:()=>u(!0),className:"btn-primary","aria-label":"Criar nova pasta",children:[v.jsx(yo,{})," Nova Pasta"]})]}),o&&v.jsx("div",{className:"folder-form-modal",children:v.jsxs("div",{className:"folder-form-content",children:[v.jsxs("div",{className:"form-header",children:[v.jsx("h2",{children:p?"Editar Pasta":"Nova Pasta"}),v.jsx("button",{onClick:()=>{u(!1),g(null),D({name:"",description:"",books:[],notes:""})},className:"close-btn","aria-label":"Fechar",children:v.jsx(Km,{})})]}),v.jsxs("form",{onSubmit:ue,children:[v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"folder-name",children:"Nome da Pasta *"}),v.jsx("input",{id:"folder-name",type:"text",value:R.name,onChange:S=>D({...R,name:S.target.value}),required:!0,maxLength:"50",placeholder:"Digite o nome da pasta"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{htmlFor:"folder-description",children:"Descrição"}),v.jsx("textarea",{id:"folder-description",value:R.description,onChange:S=>D({...R,description:S.target.value}),maxLength:"200",placeholder:"Adicione uma descrição para a pasta"})]}),v.jsxs("div",{className:"form-group",children:[v.jsx("label",{children:"Selecionar Livros"}),v.jsx("div",{className:"books-selection",children:t.length>0?t.map(S=>v.jsxs("label",{className:"book-selection-item",children:[v.jsx("input",{type:"checkbox",checked:R.books.includes(S.id),onChange:()=>P(S.id),className:"hidden-checkbox"}),v.jsxs("div",{className:"book-select-card",children:[S.cover?v.jsx("img",{src:S.cover,alt:S.title,className:"book-select-cover",loading:"lazy"}):v.jsx("div",{className:"cover-placeholder",children:v.jsx(Jn,{className:"placeholder-icon"})}),v.jsx("span",{className:"book-select-title",children:S.title})]})]},S.id)):v.jsx("p",{children:"Nenhum livro disponível para adicionar à pasta."})})]}),v.jsxs("div",{className:"form-actions",children:[v.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>{u(!1),g(null),D({name:"",description:"",books:[],notes:""})},children:"Cancelar"}),v.jsx("button",{type:"submit",className:"btn-confirm",children:p?"Salvar Alterações":"Criar Pasta"})]})]})]})}),v.jsx("div",{className:"folders-grid",children:r.map(S=>{var fe;return v.jsxs("div",{className:"folder-card","data-book-count":((fe=S.books)==null?void 0:fe.length)||0,children:[v.jsxs("div",{className:"folder-header",children:[v.jsx(Yl,{className:"folder-icon"}),v.jsx("h3",{children:S.name})]}),S.description&&v.jsx("p",{className:"folder-description",children:S.description}),v.jsx("div",{className:"folder-books",children:v.jsx("div",{className:"books-list",children:t.filter(pe=>{var Q;return(Q=S.books)==null?void 0:Q.includes(pe.id)}).map(pe=>v.jsx("div",{className:"book-item",children:pe.cover?v.jsx("img",{src:pe.cover,alt:pe.title,className:"book-thumbnail"}):v.jsx("div",{className:"thumbnail-placeholder",children:v.jsx(Jn,{})})},pe.id))})}),v.jsxs("div",{className:"folder-actions",children:[v.jsx("button",{onClick:()=>N(S),title:"Visualizar","aria-label":"Visualizar pasta",children:v.jsx(Jn,{className:"icon"})}),v.jsx("button",{onClick:()=>V(S),title:"Editar","aria-label":"Editar pasta",children:v.jsx(Qh,{className:"icon"})}),v.jsx("button",{onClick:()=>{A(S.id),m(!0)},title:"Excluir","aria-label":"Excluir pasta",children:v.jsx(Cp,{className:"icon"})})]})]},S.id)})}),r.length===0&&!o&&v.jsxs("div",{className:"empty-state",children:[v.jsx(Yl,{size:64}),v.jsx("p",{children:"Nenhuma pasta criada ainda"})]}),h&&v.jsx(j,{}),x&&v.jsx(L,{})]})}function i3(){return v.jsx(Gw,{children:v.jsxs(Iw,{children:[v.jsx(sr,{path:"/",element:v.jsx(tD,{})}),v.jsx(sr,{path:"/login",element:v.jsx(nD,{})}),v.jsx(sr,{element:v.jsx(s3,{}),children:v.jsxs(sr,{element:v.jsx(eD,{}),children:[v.jsx(sr,{path:"/dashboard",element:v.jsx(rD,{})}),v.jsx(sr,{path:"/collection",element:v.jsx(zO,{})}),v.jsx(sr,{path:"/folders",element:v.jsx(r3,{})}),v.jsx(sr,{path:"/add-book",element:v.jsx(BO,{})}),v.jsx(sr,{path:"/profile",element:v.jsx(n3,{})})]})}),v.jsx(sr,{path:"*",element:v.jsx(WE,{to:"/"})})]})})}function s3(){const[r,e]=G.useState(!1);return G.useEffect(()=>{const t=Et.onAuthStateChanged(s=>{e(!0)});return()=>t()},[]),r?Et.currentUser?v.jsx(JE,{}):v.jsx(WE,{to:"/login",replace:!0}):v.jsx("div",{className:"loading",children:"Carregando..."})}function a3({children:r}){const[e,t]=G.useState(null),[s,o]=G.useState(!0);return G.useEffect(()=>{const u=Et.onAuthStateChanged(h=>{t(h),o(!1)});return()=>u()},[]),v.jsx("div",{children:s?v.jsx("div",{className:"loading-screen",children:"Carregando..."}):r})}qA.createRoot(document.getElementById("root")).render(v.jsx(pi.StrictMode,{children:v.jsx(Uw,{basename:"/booktracker",children:v.jsx(a3,{children:v.jsx(i3,{})})})}));
