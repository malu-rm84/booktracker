var IA=Object.defineProperty;var xA=(i,e,t)=>e in i?IA(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var zv=(i,e,t)=>xA(i,typeof e!="symbol"?e+"":e,t);function OA(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function jE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _m={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function DA(){if(qv)return jl;qv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return jl.Fragment=e,jl.jsx=t,jl.jsxs=t,jl}var Fv;function MA(){return Fv||(Fv=1,_m.exports=DA()),_m.exports}var _=MA(),vm={exports:{}},Me={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function VA(){if(Hv)return Me;Hv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function C(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,B={};function M(V,Z,W){this.props=V,this.context=Z,this.refs=B,this.updater=W||D}M.prototype.isReactComponent={},M.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},M.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function te(){}te.prototype=M.prototype;function ae(V,Z,W){this.props=V,this.context=Z,this.refs=B,this.updater=W||D}var K=ae.prototype=new te;K.constructor=ae,I(K,M.prototype),K.isPureReactComponent=!0;var ue=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},de=Object.prototype.hasOwnProperty;function P(V,Z,W,J,fe,Ae){return W=Ae.ref,{$$typeof:i,type:V,key:Z,ref:W!==void 0?W:null,props:Ae}}function R(V,Z){return P(V.type,Z,void 0,void 0,void 0,V.props)}function N(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function O(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(W){return Z[W]})}var k=/\/+/g;function j(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?O(""+V.key):Z.toString(36)}function w(){}function me(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function Ve(V,Z,W,J,fe){var Ae=typeof V;(Ae==="undefined"||Ae==="boolean")&&(V=null);var Ee=!1;if(V===null)Ee=!0;else switch(Ae){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(V.$$typeof){case i:case e:Ee=!0;break;case E:return Ee=V._init,Ve(Ee(V._payload),Z,W,J,fe)}}if(Ee)return fe=fe(V),Ee=J===""?"."+j(V,0):J,ue(fe)?(W="",Ee!=null&&(W=Ee.replace(k,"$&/")+"/"),Ve(fe,Z,W,"",function(Re){return Re})):fe!=null&&(N(fe)&&(fe=R(fe,W+(fe.key==null||V&&V.key===fe.key?"":(""+fe.key).replace(k,"$&/")+"/")+Ee)),Z.push(fe)),1;Ee=0;var at=J===""?".":J+":";if(ue(V))for(var oe=0;oe<V.length;oe++)J=V[oe],Ae=at+j(J,oe),Ee+=Ve(J,Z,W,Ae,fe);else if(oe=C(V),typeof oe=="function")for(V=oe.call(V),oe=0;!(J=V.next()).done;)J=J.value,Ae=at+j(J,oe++),Ee+=Ve(J,Z,W,Ae,fe);else if(Ae==="object"){if(typeof V.then=="function")return Ve(me(V),Z,W,J,fe);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function $(V,Z,W){if(V==null)return V;var J=[],fe=0;return Ve(V,J,"","",function(Ae){return Z.call(W,Ae,fe++)}),J}function ce(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(W){(V._status===0||V._status===-1)&&(V._status=1,V._result=W)},function(W){(V._status===0||V._status===-1)&&(V._status=2,V._result=W)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var pe=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function De(){}return Me.Children={map:$,forEach:function(V,Z,W){$(V,function(){Z.apply(this,arguments)},W)},count:function(V){var Z=0;return $(V,function(){Z++}),Z},toArray:function(V){return $(V,function(Z){return Z})||[]},only:function(V){if(!N(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Me.Component=M,Me.Fragment=t,Me.Profiler=o,Me.PureComponent=ae,Me.StrictMode=s,Me.Suspense=p,Me.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Me.__COMPILER_RUNTIME={__proto__:null,c:function(V){return re.H.useMemoCache(V)}},Me.cache=function(V){return function(){return V.apply(null,arguments)}},Me.cloneElement=function(V,Z,W){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var J=I({},V.props),fe=V.key,Ae=void 0;if(Z!=null)for(Ee in Z.ref!==void 0&&(Ae=void 0),Z.key!==void 0&&(fe=""+Z.key),Z)!de.call(Z,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Z.ref===void 0||(J[Ee]=Z[Ee]);var Ee=arguments.length-2;if(Ee===1)J.children=W;else if(1<Ee){for(var at=Array(Ee),oe=0;oe<Ee;oe++)at[oe]=arguments[oe+2];J.children=at}return P(V.type,fe,void 0,void 0,Ae,J)},Me.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},Me.createElement=function(V,Z,W){var J,fe={},Ae=null;if(Z!=null)for(J in Z.key!==void 0&&(Ae=""+Z.key),Z)de.call(Z,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(fe[J]=Z[J]);var Ee=arguments.length-2;if(Ee===1)fe.children=W;else if(1<Ee){for(var at=Array(Ee),oe=0;oe<Ee;oe++)at[oe]=arguments[oe+2];fe.children=at}if(V&&V.defaultProps)for(J in Ee=V.defaultProps,Ee)fe[J]===void 0&&(fe[J]=Ee[J]);return P(V,Ae,void 0,void 0,null,fe)},Me.createRef=function(){return{current:null}},Me.forwardRef=function(V){return{$$typeof:m,render:V}},Me.isValidElement=N,Me.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:ce}},Me.memo=function(V,Z){return{$$typeof:g,type:V,compare:Z===void 0?null:Z}},Me.startTransition=function(V){var Z=re.T,W={};re.T=W;try{var J=V(),fe=re.S;fe!==null&&fe(W,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(De,pe)}catch(Ae){pe(Ae)}finally{re.T=Z}},Me.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Me.use=function(V){return re.H.use(V)},Me.useActionState=function(V,Z,W){return re.H.useActionState(V,Z,W)},Me.useCallback=function(V,Z){return re.H.useCallback(V,Z)},Me.useContext=function(V){return re.H.useContext(V)},Me.useDebugValue=function(){},Me.useDeferredValue=function(V,Z){return re.H.useDeferredValue(V,Z)},Me.useEffect=function(V,Z,W){var J=re.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(V,Z)},Me.useId=function(){return re.H.useId()},Me.useImperativeHandle=function(V,Z,W){return re.H.useImperativeHandle(V,Z,W)},Me.useInsertionEffect=function(V,Z){return re.H.useInsertionEffect(V,Z)},Me.useLayoutEffect=function(V,Z){return re.H.useLayoutEffect(V,Z)},Me.useMemo=function(V,Z){return re.H.useMemo(V,Z)},Me.useOptimistic=function(V,Z){return re.H.useOptimistic(V,Z)},Me.useReducer=function(V,Z,W){return re.H.useReducer(V,Z,W)},Me.useRef=function(V){return re.H.useRef(V)},Me.useState=function(V){return re.H.useState(V)},Me.useSyncExternalStore=function(V,Z,W){return re.H.useSyncExternalStore(V,Z,W)},Me.useTransition=function(){return re.H.useTransition()},Me.version="19.1.0",Me}var Gv;function bp(){return Gv||(Gv=1,vm.exports=VA()),vm.exports}var Q=bp();const fr=jE(Q),PA=OA({__proto__:null,default:fr},[Q]);var Em={exports:{}},Ll={},Tm={exports:{}},bm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function kA(){return Kv||(Kv=1,function(i){function e($,ce){var pe=$.length;$.push(ce);e:for(;0<pe;){var De=pe-1>>>1,V=$[De];if(0<o(V,ce))$[De]=ce,$[pe]=V,pe=De;else break e}}function t($){return $.length===0?null:$[0]}function s($){if($.length===0)return null;var ce=$[0],pe=$.pop();if(pe!==ce){$[0]=pe;e:for(var De=0,V=$.length,Z=V>>>1;De<Z;){var W=2*(De+1)-1,J=$[W],fe=W+1,Ae=$[fe];if(0>o(J,pe))fe<V&&0>o(Ae,J)?($[De]=Ae,$[fe]=pe,De=fe):($[De]=J,$[W]=pe,De=W);else if(fe<V&&0>o(Ae,pe))$[De]=Ae,$[fe]=pe,De=fe;else break e}}return ce}function o($,ce){var pe=$.sortIndex-ce.sortIndex;return pe!==0?pe:$.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,S=null,C=3,D=!1,I=!1,B=!1,M=!1,te=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function ue($){for(var ce=t(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=$)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function re($){if(B=!1,ue($),!I)if(t(p)!==null)I=!0,de||(de=!0,j());else{var ce=t(g);ce!==null&&Ve(re,ce.startTime-$)}}var de=!1,P=-1,R=5,N=-1;function O(){return M?!0:!(i.unstable_now()-N<R)}function k(){if(M=!1,de){var $=i.unstable_now();N=$;var ce=!0;try{e:{I=!1,B&&(B=!1,ae(P),P=-1),D=!0;var pe=C;try{t:{for(ue($),S=t(p);S!==null&&!(S.expirationTime>$&&O());){var De=S.callback;if(typeof De=="function"){S.callback=null,C=S.priorityLevel;var V=De(S.expirationTime<=$);if($=i.unstable_now(),typeof V=="function"){S.callback=V,ue($),ce=!0;break t}S===t(p)&&s(p),ue($)}else s(p);S=t(p)}if(S!==null)ce=!0;else{var Z=t(g);Z!==null&&Ve(re,Z.startTime-$),ce=!1}}break e}finally{S=null,C=pe,D=!1}ce=void 0}}finally{ce?j():de=!1}}}var j;if(typeof K=="function")j=function(){K(k)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,me=w.port2;w.port1.onmessage=k,j=function(){me.postMessage(null)}}else j=function(){te(k,0)};function Ve($,ce){P=te(function(){$(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return C},i.unstable_next=function($){switch(C){case 1:case 2:case 3:var ce=3;break;default:ce=C}var pe=C;C=ce;try{return $()}finally{C=pe}},i.unstable_requestPaint=function(){M=!0},i.unstable_runWithPriority=function($,ce){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var pe=C;C=$;try{return ce()}finally{C=pe}},i.unstable_scheduleCallback=function($,ce,pe){var De=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?De+pe:De):pe=De,$){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=pe+V,$={id:E++,callback:ce,priorityLevel:$,startTime:pe,expirationTime:V,sortIndex:-1},pe>De?($.sortIndex=pe,e(g,$),t(p)===null&&$===t(g)&&(B?(ae(P),P=-1):B=!0,Ve(re,pe-De))):($.sortIndex=V,e(p,$),I||D||(I=!0,de||(de=!0,j()))),$},i.unstable_shouldYield=O,i.unstable_wrapCallback=function($){var ce=C;return function(){var pe=C;C=ce;try{return $.apply(this,arguments)}finally{C=pe}}}}(bm)),bm}var Qv;function UA(){return Qv||(Qv=1,Tm.exports=kA()),Tm.exports}var Sm={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function jA(){if(Yv)return sn;Yv=1;var i=bp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,sn.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},sn.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},sn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},sn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},sn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin),C=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:C,fetchPriority:D}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:C,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},sn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,S=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},sn.requestFormReset=function(p){s.d.r(p)},sn.unstable_batchedUpdates=function(p,g){return p(g)},sn.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.1.0",sn}var $v;function LE(){if($v)return Sm.exports;$v=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Sm.exports=jA(),Sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function LA(){if(Xv)return Ll;Xv=1;var i=UA(),e=bp(),t=LE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var T=!1,b=f.child;b;){if(b===a){T=!0,a=f,l=d;break}if(b===l){T=!0,l=f,a=d;break}b=b.sibling}if(!T){for(b=d.child;b;){if(b===a){T=!0,a=d,l=f;break}if(b===l){T=!0,l=d,a=f;break}b=b.sibling}if(!T)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),K=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function j(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var w=Symbol.for("react.client.reference");function me(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===w?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case I:return"Fragment";case M:return"Profiler";case B:return"StrictMode";case re:return"Suspense";case de:return"SuspenseList";case N:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case K:return(n.displayName||"Context")+".Provider";case ae:return(n._context.displayName||"Context")+".Consumer";case ue:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case P:return r=n.displayName||null,r!==null?r:me(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return me(n(r))}catch{}}return null}var Ve=Array.isArray,$=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},De=[],V=-1;function Z(n){return{current:n}}function W(n){0>V||(n.current=De[V],De[V]=null,V--)}function J(n,r){V++,De[V]=n.current,n.current=r}var fe=Z(null),Ae=Z(null),Ee=Z(null),at=Z(null);function oe(n,r){switch(J(Ee,r),J(Ae,n),J(fe,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?pv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=pv(r),n=gv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}W(fe),J(fe,n)}function Re(){W(fe),W(Ae),W(Ee)}function Ze(n){n.memoizedState!==null&&J(at,n);var r=fe.current,a=gv(r,n.type);r!==a&&(J(Ae,n),J(fe,a))}function rt(n){Ae.current===n&&(W(fe),W(Ae)),at.current===n&&(W(at),Ml._currentValue=pe)}var ut=Object.prototype.hasOwnProperty,tn=i.unstable_scheduleCallback,hn=i.unstable_cancelCallback,Xn=i.unstable_shouldYield,Pi=i.unstable_requestPaint,_n=i.unstable_now,_f=i.unstable_getCurrentPriorityLevel,Oo=i.unstable_ImmediatePriority,fa=i.unstable_UserBlockingPriority,cs=i.unstable_NormalPriority,vf=i.unstable_LowPriority,da=i.unstable_IdlePriority,Do=i.log,Nu=i.unstable_setDisableYieldValue,gt=null,$e=null;function An(n){if(typeof Do=="function"&&Nu(n),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(gt,n)}catch{}}var nn=Math.clz32?Math.clz32:hs,Iu=Math.log,Ef=Math.LN2;function hs(n){return n>>>=0,n===0?32:31-(Iu(n)/Ef|0)|0}var fs=256,ds=4194304;function Wn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function ma(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,T=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Wn(l):(T&=b,T!==0?f=Wn(T):a||(a=b&~n,a!==0&&(f=Wn(a))))):(b=l&~d,b!==0?f=Wn(b):T!==0?f=Wn(T):a||(a=l&~n,a!==0&&(f=Wn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ms(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Mo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vo(){var n=fs;return fs<<=1,(fs&4194048)===0&&(fs=256),n}function Po(){var n=ds;return ds<<=1,(ds&62914560)===0&&(ds=4194304),n}function ki(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Ui(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function ko(n,r,a,l,f,d){var T=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,x=n.expirationTimes,F=n.hiddenUpdates;for(a=T&~a;0<a;){var ee=31-nn(a),ie=1<<ee;b[ee]=0,x[ee]=-1;var H=F[ee];if(H!==null)for(F[ee]=null,ee=0;ee<H.length;ee++){var G=H[ee];G!==null&&(G.lane&=-536870913)}a&=~ie}l!==0&&li(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(T&~r))}function li(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-nn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Uo(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-nn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function _r(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function pa(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function vr(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:Pv(n.type))}function xu(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var ht=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ht,It="__reactProps$"+ht,Un="__reactContainer$"+ht,jo="__reactEvents$"+ht,Tf="__reactListeners$"+ht,Er="__reactHandles$"+ht,Ou="__reactResources$"+ht,ps="__reactMarker$"+ht;function Tr(n){delete n[Pt],delete n[It],delete n[jo],delete n[Tf],delete n[Er]}function ji(n){var r=n[Pt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Un]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=Ev(n);n!==null;){if(a=n[Pt])return a;n=Ev(n)}return r}n=a,a=n.parentNode}return null}function ui(n){if(n=n[Pt]||n[Un]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function ci(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function fn(n){var r=n[Ou];return r||(r=n[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function At(n){n[ps]=!0}var Lo=new Set,ga={};function Jn(n,r){Li(n,r),Li(n+"Capture",r)}function Li(n,r){for(ga[n]=r,n=0;n<r.length;n++)Lo.add(r[n])}var Du=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mu={},gs={};function Vu(n){return ut.call(gs,n)?!0:ut.call(Mu,n)?!1:Du.test(n)?gs[n]=!0:(Mu[n]=!0,!1)}function br(n,r,a){if(Vu(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function hi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Kt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var ys,Pu;function Bi(n){if(ys===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);ys=r&&r[1]||"",Pu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ys+n+Pu}var ya=!1;function _a(n,r){if(!n||ya)return"";ya=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ie=function(){throw Error()};if(Object.defineProperty(ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ie,[])}catch(G){var H=G}Reflect.construct(n,[],ie)}else{try{ie.call()}catch(G){H=G}n.call(ie.prototype)}}else{try{throw Error()}catch(G){H=G}(ie=n())&&typeof ie.catch=="function"&&ie.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),T=d[0],b=d[1];if(T&&b){var x=T.split(`
`),F=b.split(`
`);for(f=l=0;l<x.length&&!x[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===x.length||f===F.length)for(l=x.length-1,f=F.length-1;1<=l&&0<=f&&x[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(x[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||x[l]!==F[f]){var ee=`
`+x[l].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=l&&0<=f);break}}}finally{ya=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Bi(a):""}function Bo(n){switch(n.tag){case 26:case 27:case 5:return Bi(n.type);case 16:return Bi("Lazy");case 13:return Bi("Suspense");case 19:return Bi("SuspenseList");case 0:case 15:return _a(n.type,!1);case 11:return _a(n.type.render,!1);case 1:return _a(n.type,!0);case 31:return Bi("Activity");default:return""}}function va(n){try{var r="";do r+=Bo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function zo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bf(n){var r=zo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(T){l=""+T,d.call(this,T)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(T){l=""+T},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function Ea(n){n._valueTracker||(n._valueTracker=bf(n))}function qo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=zo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function _s(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Sf=/[\n"\\]/g;function xt(n){return n.replace(Sf,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function wn(n,r,a,l,f,d,T,b){n.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.type=T:n.removeAttribute("type"),r!=null?T==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+dn(r)):n.value!==""+dn(r)&&(n.value=""+dn(r)):T!=="submit"&&T!=="reset"||n.removeAttribute("value"),r!=null?Sr(n,T,dn(r)):a!=null?Sr(n,T,dn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+dn(b):n.removeAttribute("name")}function vs(n,r,a,l,f,d,T,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+dn(a):"",r=r!=null?""+dn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(n.name=T)}function Sr(n,r,a){r==="number"&&_s(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function zi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+dn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function et(n,r,a){if(r!=null&&(r=""+dn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+dn(a):""}function Es(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ve(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=dn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function jn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Ts=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Ts.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function Fo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&ku(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&ku(n,d,r[d])}function Ho(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Af=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(n){return wf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var qi=null;function Ln(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fi=null,Hi=null;function Go(n){var r=ui(n);if(r&&(n=r.stateNode)){var a=n[It]||null;e:switch(n=r.stateNode,r.type){case"input":if(wn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+xt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[It]||null;if(!f)throw Error(s(90));wn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&qo(l)}break e;case"textarea":et(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&zi(n,!!a.multiple,r,!1)}}}var fi=!1;function Uu(n,r,a){if(fi)return n(r,a);fi=!0;try{var l=n(r);return l}finally{if(fi=!1,(Fi!==null||Hi!==null)&&(xc(),Fi&&(r=Fi,n=Hi,Hi=Fi=null,Go(r),n)))for(r=0;r<n.length;r++)Go(n[r])}}function bs(n,r){var a=n.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bn=!1;if(Zn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Bn=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Bn=!1}var di=null,Ar=null,Gi=null;function Ko(){if(Gi)return Gi;var n,r=Ar,a=r.length,l,f="value"in di?di.value:di.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var T=a-n;for(l=1;l<=T&&r[a-l]===f[d-l];l++);return Gi=f.slice(n,1<l?1-l:void 0)}function mi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function pi(){return!0}function Qo(){return!1}function Bt(n){function r(a,l,f,d,T){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=T,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:Qo,this.isPropagationStopped=Qo,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Bt(Ye),As=E({},Ye,{view:0,detail:0}),ju=Bt(As),Sa,Aa,gi,ws=E({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ns,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==gi&&(gi&&n.type==="mousemove"?(Sa=n.screenX-gi.screenX,Aa=n.screenY-gi.screenY):Aa=Sa=0,gi=n),Sa)},movementY:function(n){return"movementY"in n?n.movementY:Aa}}),zn=Bt(ws),Lu=E({},ws,{dataTransfer:0}),Rf=Bt(Lu),Rs=E({},As,{relatedTarget:0}),wa=Bt(Rs),Yo=E({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Bt(Yo),Bu=E({},Ye,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ca=Bt(Bu),Cf=E({},Ye,{data:0}),$o=Bt(Cf),Cs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=qu[n])?!!r[n]:!1}function Ns(){return Xo}var Fu=E({},As,{key:function(n){if(n.key){var r=Cs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=mi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?zu[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ns,charCode:function(n){return n.type==="keypress"?mi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?mi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Na=Bt(Fu),Hu=E({},ws,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wo=Bt(Hu),Ki=E({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ns}),Gu=Bt(Ki),Ku=E({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),Qu=Bt(Ku),Yu=E({},ws,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ia=Bt(Yu),mn=E({},Ye,{newState:0,oldState:0}),$u=Bt(mn),Xu=[9,13,27,32],yi=Zn&&"CompositionEvent"in window,c=null;Zn&&"documentMode"in document&&(c=document.documentMode);var y=Zn&&"TextEvent"in window&&!c,v=Zn&&(!yi||c&&8<c&&11>=c),A=" ",z=!1;function Y(n,r){switch(n){case"keyup":return Xu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var ze=!1;function kt(n,r){switch(n){case"compositionend":return he(r);case"keypress":return r.which!==32?null:(z=!0,A);case"textInput":return n=r.data,n===A&&z?null:n;default:return null}}function qe(n,r){if(ze)return n==="compositionend"||!yi&&Y(n,r)?(n=Ko(),Gi=Ar=di=null,ze=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ut(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zt[n.type]:r==="textarea"}function Qi(n,r,a,l){Fi?Hi?Hi.push(l):Hi=[l]:Fi=l,r=kc(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Qt=null,_i=null;function Jo(n){cv(n,0)}function Wu(n){var r=ci(n);if(qo(r))return n}function Og(n,r){if(n==="change")return r}var Dg=!1;if(Zn){var Nf;if(Zn){var If="oninput"in document;if(!If){var Mg=document.createElement("div");Mg.setAttribute("oninput","return;"),If=typeof Mg.oninput=="function"}Nf=If}else Nf=!1;Dg=Nf&&(!document.documentMode||9<document.documentMode)}function Vg(){Qt&&(Qt.detachEvent("onpropertychange",Pg),_i=Qt=null)}function Pg(n){if(n.propertyName==="value"&&Wu(_i)){var r=[];Qi(r,_i,n,Ln(n)),Uu(Jo,r)}}function sS(n,r,a){n==="focusin"?(Vg(),Qt=r,_i=a,Qt.attachEvent("onpropertychange",Pg)):n==="focusout"&&Vg()}function aS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Wu(_i)}function oS(n,r){if(n==="click")return Wu(r)}function lS(n,r){if(n==="input"||n==="change")return Wu(r)}function uS(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:uS;function Zo(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ut.call(r,f)||!Rn(n[f],r[f]))return!1}return!0}function kg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Ug(n,r){var a=kg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kg(a)}}function jg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?jg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Lg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=_s(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=_s(n.document)}return r}function xf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var cS=Zn&&"documentMode"in document&&11>=document.documentMode,xa=null,Of=null,el=null,Df=!1;function Bg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Df||xa==null||xa!==_s(l)||(l=xa,"selectionStart"in l&&xf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),el&&Zo(el,l)||(el=l,l=kc(Of,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=xa)))}function Is(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Oa={animationend:Is("Animation","AnimationEnd"),animationiteration:Is("Animation","AnimationIteration"),animationstart:Is("Animation","AnimationStart"),transitionrun:Is("Transition","TransitionRun"),transitionstart:Is("Transition","TransitionStart"),transitioncancel:Is("Transition","TransitionCancel"),transitionend:Is("Transition","TransitionEnd")},Mf={},zg={};Zn&&(zg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function xs(n){if(Mf[n])return Mf[n];if(!Oa[n])return n;var r=Oa[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in zg)return Mf[n]=r[a];return n}var qg=xs("animationend"),Fg=xs("animationiteration"),Hg=xs("animationstart"),hS=xs("transitionrun"),fS=xs("transitionstart"),dS=xs("transitioncancel"),Gg=xs("transitionend"),Kg=new Map,Vf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vf.push("scrollEnd");function ei(n,r){Kg.set(n,r),Jn(r,[n])}var Qg=new WeakMap;function qn(n,r){if(typeof n=="object"&&n!==null){var a=Qg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:va(r)},Qg.set(n,r),r)}return{value:n,source:r,stack:va(r)}}var Fn=[],Da=0,Pf=0;function Ju(){for(var n=Da,r=Pf=Da=0;r<n;){var a=Fn[r];Fn[r++]=null;var l=Fn[r];Fn[r++]=null;var f=Fn[r];Fn[r++]=null;var d=Fn[r];if(Fn[r++]=null,l!==null&&f!==null){var T=l.pending;T===null?f.next=f:(f.next=T.next,T.next=f),l.pending=f}d!==0&&Yg(a,f,d)}}function Zu(n,r,a,l){Fn[Da++]=n,Fn[Da++]=r,Fn[Da++]=a,Fn[Da++]=l,Pf|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function kf(n,r,a,l){return Zu(n,r,a,l),ec(n)}function Ma(n,r){return Zu(n,null,null,r),ec(n)}function Yg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-nn(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function ec(n){if(50<wl)throw wl=0,qd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Va={};function mS(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(n,r,a,l){return new mS(n,r,a,l)}function Uf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Yi(n,r){var a=n.alternate;return a===null?(a=Cn(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function $g(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function tc(n,r,a,l,f,d){var T=0;if(l=n,typeof n=="function")Uf(n)&&(T=1);else if(typeof n=="string")T=gA(n,a,fe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case N:return n=Cn(31,a,r,f),n.elementType=N,n.lanes=d,n;case I:return Os(a.children,f,d,r);case B:T=8,f|=24;break;case M:return n=Cn(12,a,r,f|2),n.elementType=M,n.lanes=d,n;case re:return n=Cn(13,a,r,f),n.elementType=re,n.lanes=d,n;case de:return n=Cn(19,a,r,f),n.elementType=de,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case te:case K:T=10;break e;case ae:T=9;break e;case ue:T=11;break e;case P:T=14;break e;case R:T=16,l=null;break e}T=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=Cn(T,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function Os(n,r,a,l){return n=Cn(7,n,l,r),n.lanes=a,n}function jf(n,r,a){return n=Cn(6,n,null,r),n.lanes=a,n}function Lf(n,r,a){return r=Cn(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Pa=[],ka=0,nc=null,ic=0,Hn=[],Gn=0,Ds=null,$i=1,Xi="";function Ms(n,r){Pa[ka++]=ic,Pa[ka++]=nc,nc=n,ic=r}function Xg(n,r,a){Hn[Gn++]=$i,Hn[Gn++]=Xi,Hn[Gn++]=Ds,Ds=n;var l=$i;n=Xi;var f=32-nn(l)-1;l&=~(1<<f),a+=1;var d=32-nn(r)+f;if(30<d){var T=f-f%5;d=(l&(1<<T)-1).toString(32),l>>=T,f-=T,$i=1<<32-nn(r)+f|a<<f|l,Xi=d+n}else $i=1<<d|a<<f|l,Xi=n}function Bf(n){n.return!==null&&(Ms(n,1),Xg(n,1,0))}function zf(n){for(;n===nc;)nc=Pa[--ka],Pa[ka]=null,ic=Pa[--ka],Pa[ka]=null;for(;n===Ds;)Ds=Hn[--Gn],Hn[Gn]=null,Xi=Hn[--Gn],Hn[Gn]=null,$i=Hn[--Gn],Hn[Gn]=null}var pn=null,yt=null,Qe=!1,Vs=null,vi=!1,qf=Error(s(519));function Ps(n){var r=Error(s(418,""));throw il(qn(r,n)),qf}function Wg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Pt]=n,r[It]=l,a){case"dialog":je("cancel",r),je("close",r);break;case"iframe":case"object":case"embed":je("load",r);break;case"video":case"audio":for(a=0;a<Cl.length;a++)je(Cl[a],r);break;case"source":je("error",r);break;case"img":case"image":case"link":je("error",r),je("load",r);break;case"details":je("toggle",r);break;case"input":je("invalid",r),vs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ea(r);break;case"select":je("invalid",r);break;case"textarea":je("invalid",r),Es(r,l.value,l.defaultValue,l.children),Ea(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||mv(r.textContent,a)?(l.popover!=null&&(je("beforetoggle",r),je("toggle",r)),l.onScroll!=null&&je("scroll",r),l.onScrollEnd!=null&&je("scrollend",r),l.onClick!=null&&(r.onclick=Uc),r=!0):r=!1,r||Ps(n)}function Jg(n){for(pn=n.return;pn;)switch(pn.tag){case 5:case 13:vi=!1;return;case 27:case 3:vi=!0;return;default:pn=pn.return}}function tl(n){if(n!==pn)return!1;if(!Qe)return Jg(n),Qe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||rm(n.type,n.memoizedProps)),a=!a),a&&yt&&Ps(n),Jg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){yt=ni(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}yt=null}}else r===27?(r=yt,Br(n.type)?(n=lm,lm=null,yt=n):yt=r):yt=pn?ni(n.stateNode.nextSibling):null;return!0}function nl(){yt=pn=null,Qe=!1}function Zg(){var n=Vs;return n!==null&&(Tn===null?Tn=n:Tn.push.apply(Tn,n),Vs=null),n}function il(n){Vs===null?Vs=[n]:Vs.push(n)}var Ff=Z(null),ks=null,Wi=null;function wr(n,r,a){J(Ff,r._currentValue),r._currentValue=a}function Ji(n){n._currentValue=Ff.current,W(Ff)}function Hf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Gf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var T=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var x=0;x<r.length;x++)if(b.context===r[x]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Hf(d.return,a,n),l||(T=null);break e}d=b.next}}else if(f.tag===18){if(T=f.return,T===null)throw Error(s(341));T.lanes|=a,d=T.alternate,d!==null&&(d.lanes|=a),Hf(T,a,n),T=null}else T=f.child;if(T!==null)T.return=f;else for(T=f;T!==null;){if(T===n){T=null;break}if(f=T.sibling,f!==null){f.return=T.return,T=f;break}T=T.return}f=T}}function rl(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var T=f.alternate;if(T===null)throw Error(s(387));if(T=T.memoizedProps,T!==null){var b=f.type;Rn(f.pendingProps.value,T.value)||(n!==null?n.push(b):n=[b])}}else if(f===at.current){if(T=f.alternate,T===null)throw Error(s(387));T.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ml):n=[Ml])}f=f.return}n!==null&&Gf(r,n,a,l),r.flags|=262144}function rc(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Us(n){ks=n,Wi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function rn(n){return ey(ks,n)}function sc(n,r){return ks===null&&Us(n),ey(n,r)}function ey(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Wi===null){if(n===null)throw Error(s(308));Wi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Wi=Wi.next=r;return a}var pS=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},gS=i.unstable_scheduleCallback,yS=i.unstable_NormalPriority,jt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Kf(){return{controller:new pS,data:new Map,refCount:0}}function sl(n){n.refCount--,n.refCount===0&&gS(yS,function(){n.controller.abort()})}var al=null,Qf=0,Ua=0,ja=null;function _S(n,r){if(al===null){var a=al=[];Qf=0,Ua=$d(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Qf++,r.then(ty,ty),r}function ty(){if(--Qf===0&&al!==null){ja!==null&&(ja.status="fulfilled");var n=al;al=null,Ua=0,ja=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function vS(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ny=$.S;$.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&_S(n,r),ny!==null&&ny(n,r)};var js=Z(null);function Yf(){var n=js.current;return n!==null?n:ot.pooledCache}function ac(n,r){r===null?J(js,js.current):J(js,r.pool)}function iy(){var n=Yf();return n===null?null:{parent:jt._currentValue,pool:n}}var ol=Error(s(460)),ry=Error(s(474)),oc=Error(s(542)),$f={then:function(){}};function sy(n){return n=n.status,n==="fulfilled"||n==="rejected"}function lc(){}function ay(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(lc,lc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ly(n),n;default:if(typeof r.status=="string")r.then(lc,lc);else{if(n=ot,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ly(n),n}throw ll=r,ol}}var ll=null;function oy(){if(ll===null)throw Error(s(459));var n=ll;return ll=null,n}function ly(n){if(n===ol||n===oc)throw Error(s(483))}var Rr=!1;function Xf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Cr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Nr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=ec(n),Yg(n,null,a),r}return Zu(n,l,r,a),ec(n)}function ul(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Uo(n,a)}}function Jf(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var T={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=T:d=d.next=T,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Zf=!1;function cl(){if(Zf){var n=ja;if(n!==null)throw n}}function hl(n,r,a,l){Zf=!1;var f=n.updateQueue;Rr=!1;var d=f.firstBaseUpdate,T=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var x=b,F=x.next;x.next=null,T===null?d=F:T.next=F,T=x;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,b=ee.lastBaseUpdate,b!==T&&(b===null?ee.firstBaseUpdate=F:b.next=F,ee.lastBaseUpdate=x))}if(d!==null){var ie=f.baseState;T=0,ee=F=x=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(Fe&H)===H:(l&H)===H){H!==0&&H===Ua&&(Zf=!0),ee!==null&&(ee=ee.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var we=n,be=b;H=r;var it=a;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){ie=we.call(it,ie,H);break e}ie=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,H=typeof we=="function"?we.call(it,ie,H):we,H==null)break e;ie=E({},ie,H);break e;case 2:Rr=!0}}H=b.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},ee===null?(F=ee=G,x=ie):ee=ee.next=G,T|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);ee===null&&(x=ie),f.baseState=x,f.firstBaseUpdate=F,f.lastBaseUpdate=ee,d===null&&(f.shared.lanes=0),kr|=T,n.lanes=T,n.memoizedState=ie}}function uy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function cy(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)uy(a[n],r)}var La=Z(null),uc=Z(0);function hy(n,r){n=sr,J(uc,n),J(La,r),sr=n|r.baseLanes}function ed(){J(uc,sr),J(La,La.current)}function td(){sr=uc.current,W(La),W(uc)}var Ir=0,Pe=null,tt=null,Ot=null,cc=!1,Ba=!1,Ls=!1,hc=0,fl=0,za=null,ES=0;function wt(){throw Error(s(321))}function nd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Rn(n[a],r[a]))return!1;return!0}function id(n,r,a,l,f,d){return Ir=d,Pe=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,$.H=n===null||n.memoizedState===null?Yy:$y,Ls=!1,d=a(l,f),Ls=!1,Ba&&(d=dy(r,a,l,f)),fy(n),d}function fy(n){$.H=yc;var r=tt!==null&&tt.next!==null;if(Ir=0,Ot=tt=Pe=null,cc=!1,fl=0,za=null,r)throw Error(s(300));n===null||qt||(n=n.dependencies,n!==null&&rc(n)&&(qt=!0))}function dy(n,r,a,l){Pe=n;var f=0;do{if(Ba&&(za=null),fl=0,Ba=!1,25<=f)throw Error(s(301));if(f+=1,Ot=tt=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=CS,d=r(a,l)}while(Ba);return d}function TS(){var n=$.H,r=n.useState()[0];return r=typeof r.then=="function"?dl(r):r,n=n.useState()[0],(tt!==null?tt.memoizedState:null)!==n&&(Pe.flags|=1024),r}function rd(){var n=hc!==0;return hc=0,n}function sd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function ad(n){if(cc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}cc=!1}Ir=0,Ot=tt=Pe=null,Ba=!1,fl=hc=0,za=null}function vn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Pe.memoizedState=Ot=n:Ot=Ot.next=n,Ot}function Dt(){if(tt===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=tt.next;var r=Ot===null?Pe.memoizedState:Ot.next;if(r!==null)Ot=r,tt=n;else{if(n===null)throw Pe.alternate===null?Error(s(467)):Error(s(310));tt=n,n={memoizedState:tt.memoizedState,baseState:tt.baseState,baseQueue:tt.baseQueue,queue:tt.queue,next:null},Ot===null?Pe.memoizedState=Ot=n:Ot=Ot.next=n}return Ot}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(n){var r=fl;return fl+=1,za===null&&(za=[]),n=ay(za,n,r),r=Pe,(Ot===null?r.memoizedState:Ot.next)===null&&(r=r.alternate,$.H=r===null||r.memoizedState===null?Yy:$y),n}function fc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return dl(n);if(n.$$typeof===K)return rn(n)}throw Error(s(438,String(n)))}function ld(n){var r=null,a=Pe.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Pe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=od(),Pe.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=O;return r.index++,a}function Zi(n,r){return typeof r=="function"?r(n):r}function dc(n){var r=Dt();return ud(r,tt,n)}function ud(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var T=f.next;f.next=d.next,d.next=T}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=T=null,x=null,F=r,ee=!1;do{var ie=F.lane&-536870913;if(ie!==F.lane?(Fe&ie)===ie:(Ir&ie)===ie){var H=F.revertLane;if(H===0)x!==null&&(x=x.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ie===Ua&&(ee=!0);else if((Ir&H)===H){F=F.next,H===Ua&&(ee=!0);continue}else ie={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=ie,T=d):x=x.next=ie,Pe.lanes|=H,kr|=H;ie=F.action,Ls&&a(d,ie),d=F.hasEagerState?F.eagerState:a(d,ie)}else H={lane:ie,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},x===null?(b=x=H,T=d):x=x.next=H,Pe.lanes|=ie,kr|=ie;F=F.next}while(F!==null&&F!==r);if(x===null?T=d:x.next=b,!Rn(d,n.memoizedState)&&(qt=!0,ee&&(a=ja,a!==null)))throw a;n.memoizedState=d,n.baseState=T,n.baseQueue=x,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function cd(n){var r=Dt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var T=f=f.next;do d=n(d,T.action),T=T.next;while(T!==f);Rn(d,r.memoizedState)||(qt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function my(n,r,a){var l=Pe,f=Dt(),d=Qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var T=!Rn((tt||f).memoizedState,a);T&&(f.memoizedState=a,qt=!0),f=f.queue;var b=yy.bind(null,l,f,n);if(ml(2048,8,b,[n]),f.getSnapshot!==r||T||Ot!==null&&Ot.memoizedState.tag&1){if(l.flags|=2048,qa(9,mc(),gy.bind(null,l,f,a,r),null),ot===null)throw Error(s(349));d||(Ir&124)!==0||py(l,r,a)}return a}function py(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Pe.updateQueue,r===null?(r=od(),Pe.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function gy(n,r,a,l){r.value=a,r.getSnapshot=l,_y(r)&&vy(n)}function yy(n,r,a){return a(function(){_y(r)&&vy(n)})}function _y(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Rn(n,a)}catch{return!0}}function vy(n){var r=Ma(n,2);r!==null&&Dn(r,n,2)}function hd(n){var r=vn();if(typeof n=="function"){var a=n;if(n=a(),Ls){An(!0);try{a()}finally{An(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:n},r}function Ey(n,r,a,l){return n.baseState=a,ud(n,tt,typeof l=="function"?l:Zi)}function bS(n,r,a,l,f){if(gc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){d.listeners.push(T)}};$.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,Ty(r,d)):(d.next=a.next,r.pending=a.next=d)}}function Ty(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=$.T,T={};$.T=T;try{var b=a(f,l),x=$.S;x!==null&&x(T,b),by(n,r,b)}catch(F){fd(n,r,F)}finally{$.T=d}}else try{d=a(f,l),by(n,r,d)}catch(F){fd(n,r,F)}}function by(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Sy(n,r,l)},function(l){return fd(n,r,l)}):Sy(n,r,a)}function Sy(n,r,a){r.status="fulfilled",r.value=a,Ay(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,Ty(n,a)))}function fd(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ay(r),r=r.next;while(r!==l)}n.action=null}function Ay(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function wy(n,r){return r}function Ry(n,r){if(Qe){var a=ot.formState;if(a!==null){e:{var l=Pe;if(Qe){if(yt){t:{for(var f=yt,d=vi;f.nodeType!==8;){if(!d){f=null;break t}if(f=ni(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){yt=ni(f.nextSibling),l=f.data==="F!";break e}}Ps(l)}l=!1}l&&(r=a[0])}}return a=vn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wy,lastRenderedState:r},a.queue=l,a=Gy.bind(null,Pe,l),l.dispatch=a,l=hd(!1),d=yd.bind(null,Pe,!1,l.queue),l=vn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=bS.bind(null,Pe,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Cy(n){var r=Dt();return Ny(r,tt,n)}function Ny(n,r,a){if(r=ud(n,r,wy)[0],n=dc(Zi)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=dl(r)}catch(T){throw T===ol?oc:T}else l=r;r=Dt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Pe.flags|=2048,qa(9,mc(),SS.bind(null,f,a),null)),[l,d,n]}function SS(n,r){n.action=r}function Iy(n){var r=Dt(),a=tt;if(a!==null)return Ny(r,a,n);Dt(),r=r.memoizedState,a=Dt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function qa(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Pe.updateQueue,r===null&&(r=od(),Pe.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function mc(){return{destroy:void 0,resource:void 0}}function xy(){return Dt().memoizedState}function pc(n,r,a,l){var f=vn();l=l===void 0?null:l,Pe.flags|=n,f.memoizedState=qa(1|r,mc(),a,l)}function ml(n,r,a,l){var f=Dt();l=l===void 0?null:l;var d=f.memoizedState.inst;tt!==null&&l!==null&&nd(l,tt.memoizedState.deps)?f.memoizedState=qa(r,d,a,l):(Pe.flags|=n,f.memoizedState=qa(1|r,d,a,l))}function Oy(n,r){pc(8390656,8,n,r)}function Dy(n,r){ml(2048,8,n,r)}function My(n,r){return ml(4,2,n,r)}function Vy(n,r){return ml(4,4,n,r)}function Py(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function ky(n,r,a){a=a!=null?a.concat([n]):null,ml(4,4,Py.bind(null,r,n),a)}function dd(){}function Uy(n,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&nd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function jy(n,r){var a=Dt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&nd(r,l[1]))return l[0];if(l=n(),Ls){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,r],l}function md(n,r,a){return a===void 0||(Ir&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=z_(),Pe.lanes|=n,kr|=n,a)}function Ly(n,r,a,l){return Rn(a,r)?a:La.current!==null?(n=md(n,a,l),Rn(n,r)||(qt=!0),n):(Ir&42)===0?(qt=!0,n.memoizedState=a):(n=z_(),Pe.lanes|=n,kr|=n,r)}function By(n,r,a,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var T=$.T,b={};$.T=b,yd(n,!1,r,a);try{var x=f(),F=$.S;if(F!==null&&F(b,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var ee=vS(x,l);pl(n,r,ee,On(n))}else pl(n,r,l,On(n))}catch(ie){pl(n,r,{then:function(){},status:"rejected",reason:ie},On())}finally{ce.p=d,$.T=T}}function AS(){}function pd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=zy(n).queue;By(n,f,r,pe,a===null?AS:function(){return qy(n),a(l)})}function zy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function qy(n){var r=zy(n).next.queue;pl(n,r,{},On())}function gd(){return rn(Ml)}function Fy(){return Dt().memoizedState}function Hy(){return Dt().memoizedState}function wS(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=On();n=Cr(a);var l=Nr(r,n,a);l!==null&&(Dn(l,r,a),ul(l,r,a)),r={cache:Kf()},n.payload=r;return}r=r.return}}function RS(n,r,a){var l=On();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(n)?Ky(r,a):(a=kf(n,r,a,l),a!==null&&(Dn(a,n,l),Qy(a,r,l)))}function Gy(n,r,a){var l=On();pl(n,r,a,l)}function pl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(n))Ky(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var T=r.lastRenderedState,b=d(T,a);if(f.hasEagerState=!0,f.eagerState=b,Rn(b,T))return Zu(n,r,f,0),ot===null&&Ju(),!1}catch{}finally{}if(a=kf(n,r,f,l),a!==null)return Dn(a,n,l),Qy(a,r,l),!0}return!1}function yd(n,r,a,l){if(l={lane:2,revertLane:$d(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(n)){if(r)throw Error(s(479))}else r=kf(n,a,l,2),r!==null&&Dn(r,n,2)}function gc(n){var r=n.alternate;return n===Pe||r!==null&&r===Pe}function Ky(n,r){Ba=cc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Qy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Uo(n,a)}}var yc={readContext:rn,use:fc,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useLayoutEffect:wt,useInsertionEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useSyncExternalStore:wt,useId:wt,useHostTransitionStatus:wt,useFormState:wt,useActionState:wt,useOptimistic:wt,useMemoCache:wt,useCacheRefresh:wt},Yy={readContext:rn,use:fc,useCallback:function(n,r){return vn().memoizedState=[n,r===void 0?null:r],n},useContext:rn,useEffect:Oy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,pc(4194308,4,Py.bind(null,r,n),a)},useLayoutEffect:function(n,r){return pc(4194308,4,n,r)},useInsertionEffect:function(n,r){pc(4,2,n,r)},useMemo:function(n,r){var a=vn();r=r===void 0?null:r;var l=n();if(Ls){An(!0);try{n()}finally{An(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=vn();if(a!==void 0){var f=a(r);if(Ls){An(!0);try{a(r)}finally{An(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=RS.bind(null,Pe,n),[l.memoizedState,n]},useRef:function(n){var r=vn();return n={current:n},r.memoizedState=n},useState:function(n){n=hd(n);var r=n.queue,a=Gy.bind(null,Pe,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:dd,useDeferredValue:function(n,r){var a=vn();return md(a,n,r)},useTransition:function(){var n=hd(!1);return n=By.bind(null,Pe,n.queue,!0,!1),vn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Pe,f=vn();if(Qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),ot===null)throw Error(s(349));(Fe&124)!==0||py(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Oy(yy.bind(null,l,d,n),[n]),l.flags|=2048,qa(9,mc(),gy.bind(null,l,d,a,r),null),a},useId:function(){var n=vn(),r=ot.identifierPrefix;if(Qe){var a=Xi,l=$i;a=(l&~(1<<32-nn(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=hc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=ES++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:gd,useFormState:Ry,useActionState:Ry,useOptimistic:function(n){var r=vn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=yd.bind(null,Pe,!0,a),a.dispatch=r,[n,r]},useMemoCache:ld,useCacheRefresh:function(){return vn().memoizedState=wS.bind(null,Pe)}},$y={readContext:rn,use:fc,useCallback:Uy,useContext:rn,useEffect:Dy,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:jy,useReducer:dc,useRef:xy,useState:function(){return dc(Zi)},useDebugValue:dd,useDeferredValue:function(n,r){var a=Dt();return Ly(a,tt.memoizedState,n,r)},useTransition:function(){var n=dc(Zi)[0],r=Dt().memoizedState;return[typeof n=="boolean"?n:dl(n),r]},useSyncExternalStore:my,useId:Fy,useHostTransitionStatus:gd,useFormState:Cy,useActionState:Cy,useOptimistic:function(n,r){var a=Dt();return Ey(a,tt,n,r)},useMemoCache:ld,useCacheRefresh:Hy},CS={readContext:rn,use:fc,useCallback:Uy,useContext:rn,useEffect:Dy,useImperativeHandle:ky,useInsertionEffect:My,useLayoutEffect:Vy,useMemo:jy,useReducer:cd,useRef:xy,useState:function(){return cd(Zi)},useDebugValue:dd,useDeferredValue:function(n,r){var a=Dt();return tt===null?md(a,n,r):Ly(a,tt.memoizedState,n,r)},useTransition:function(){var n=cd(Zi)[0],r=Dt().memoizedState;return[typeof n=="boolean"?n:dl(n),r]},useSyncExternalStore:my,useId:Fy,useHostTransitionStatus:gd,useFormState:Iy,useActionState:Iy,useOptimistic:function(n,r){var a=Dt();return tt!==null?Ey(a,tt,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Hy},Fa=null,gl=0;function _c(n){var r=gl;return gl+=1,Fa===null&&(Fa=[]),ay(Fa,n,r)}function yl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function vc(n,r){throw r.$$typeof===S?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Xy(n){var r=n._init;return r(n._payload)}function Wy(n){function r(L,U){if(n){var q=L.deletions;q===null?(L.deletions=[U],L.flags|=16):q.push(U)}}function a(L,U){if(!n)return null;for(;U!==null;)r(L,U),U=U.sibling;return null}function l(L){for(var U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function f(L,U){return L=Yi(L,U),L.index=0,L.sibling=null,L}function d(L,U,q){return L.index=q,n?(q=L.alternate,q!==null?(q=q.index,q<U?(L.flags|=67108866,U):q):(L.flags|=67108866,U)):(L.flags|=1048576,U)}function T(L){return n&&L.alternate===null&&(L.flags|=67108866),L}function b(L,U,q,ne){return U===null||U.tag!==6?(U=jf(q,L.mode,ne),U.return=L,U):(U=f(U,q),U.return=L,U)}function x(L,U,q,ne){var ge=q.type;return ge===I?ee(L,U,q.props.children,ne,q.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Xy(ge)===U.type)?(U=f(U,q.props),yl(U,q),U.return=L,U):(U=tc(q.type,q.key,q.props,null,L.mode,ne),yl(U,q),U.return=L,U)}function F(L,U,q,ne){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=Lf(q,L.mode,ne),U.return=L,U):(U=f(U,q.children||[]),U.return=L,U)}function ee(L,U,q,ne,ge){return U===null||U.tag!==7?(U=Os(q,L.mode,ne,ge),U.return=L,U):(U=f(U,q),U.return=L,U)}function ie(L,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=jf(""+U,L.mode,q),U.return=L,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case C:return q=tc(U.type,U.key,U.props,null,L.mode,q),yl(q,U),q.return=L,q;case D:return U=Lf(U,L.mode,q),U.return=L,U;case R:var ne=U._init;return U=ne(U._payload),ie(L,U,q)}if(Ve(U)||j(U))return U=Os(U,L.mode,q,null),U.return=L,U;if(typeof U.then=="function")return ie(L,_c(U),q);if(U.$$typeof===K)return ie(L,sc(L,U),q);vc(L,U)}return null}function H(L,U,q,ne){var ge=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return ge!==null?null:b(L,U,""+q,ne);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return q.key===ge?x(L,U,q,ne):null;case D:return q.key===ge?F(L,U,q,ne):null;case R:return ge=q._init,q=ge(q._payload),H(L,U,q,ne)}if(Ve(q)||j(q))return ge!==null?null:ee(L,U,q,ne,null);if(typeof q.then=="function")return H(L,U,_c(q),ne);if(q.$$typeof===K)return H(L,U,sc(L,q),ne);vc(L,q)}return null}function G(L,U,q,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return L=L.get(q)||null,b(U,L,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case C:return L=L.get(ne.key===null?q:ne.key)||null,x(U,L,ne,ge);case D:return L=L.get(ne.key===null?q:ne.key)||null,F(U,L,ne,ge);case R:var ke=ne._init;return ne=ke(ne._payload),G(L,U,q,ne,ge)}if(Ve(ne)||j(ne))return L=L.get(q)||null,ee(U,L,ne,ge,null);if(typeof ne.then=="function")return G(L,U,q,_c(ne),ge);if(ne.$$typeof===K)return G(L,U,q,sc(U,ne),ge);vc(U,ne)}return null}function we(L,U,q,ne){for(var ge=null,ke=null,ve=U,Se=U=0,Ht=null;ve!==null&&Se<q.length;Se++){ve.index>Se?(Ht=ve,ve=null):Ht=ve.sibling;var Ge=H(L,ve,q[Se],ne);if(Ge===null){ve===null&&(ve=Ht);break}n&&ve&&Ge.alternate===null&&r(L,ve),U=d(Ge,U,Se),ke===null?ge=Ge:ke.sibling=Ge,ke=Ge,ve=Ht}if(Se===q.length)return a(L,ve),Qe&&Ms(L,Se),ge;if(ve===null){for(;Se<q.length;Se++)ve=ie(L,q[Se],ne),ve!==null&&(U=d(ve,U,Se),ke===null?ge=ve:ke.sibling=ve,ke=ve);return Qe&&Ms(L,Se),ge}for(ve=l(ve);Se<q.length;Se++)Ht=G(ve,L,Se,q[Se],ne),Ht!==null&&(n&&Ht.alternate!==null&&ve.delete(Ht.key===null?Se:Ht.key),U=d(Ht,U,Se),ke===null?ge=Ht:ke.sibling=Ht,ke=Ht);return n&&ve.forEach(function(Gr){return r(L,Gr)}),Qe&&Ms(L,Se),ge}function be(L,U,q,ne){if(q==null)throw Error(s(151));for(var ge=null,ke=null,ve=U,Se=U=0,Ht=null,Ge=q.next();ve!==null&&!Ge.done;Se++,Ge=q.next()){ve.index>Se?(Ht=ve,ve=null):Ht=ve.sibling;var Gr=H(L,ve,Ge.value,ne);if(Gr===null){ve===null&&(ve=Ht);break}n&&ve&&Gr.alternate===null&&r(L,ve),U=d(Gr,U,Se),ke===null?ge=Gr:ke.sibling=Gr,ke=Gr,ve=Ht}if(Ge.done)return a(L,ve),Qe&&Ms(L,Se),ge;if(ve===null){for(;!Ge.done;Se++,Ge=q.next())Ge=ie(L,Ge.value,ne),Ge!==null&&(U=d(Ge,U,Se),ke===null?ge=Ge:ke.sibling=Ge,ke=Ge);return Qe&&Ms(L,Se),ge}for(ve=l(ve);!Ge.done;Se++,Ge=q.next())Ge=G(ve,L,Se,Ge.value,ne),Ge!==null&&(n&&Ge.alternate!==null&&ve.delete(Ge.key===null?Se:Ge.key),U=d(Ge,U,Se),ke===null?ge=Ge:ke.sibling=Ge,ke=Ge);return n&&ve.forEach(function(NA){return r(L,NA)}),Qe&&Ms(L,Se),ge}function it(L,U,q,ne){if(typeof q=="object"&&q!==null&&q.type===I&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case C:e:{for(var ge=q.key;U!==null;){if(U.key===ge){if(ge=q.type,ge===I){if(U.tag===7){a(L,U.sibling),ne=f(U,q.props.children),ne.return=L,L=ne;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Xy(ge)===U.type){a(L,U.sibling),ne=f(U,q.props),yl(ne,q),ne.return=L,L=ne;break e}a(L,U);break}else r(L,U);U=U.sibling}q.type===I?(ne=Os(q.props.children,L.mode,ne,q.key),ne.return=L,L=ne):(ne=tc(q.type,q.key,q.props,null,L.mode,ne),yl(ne,q),ne.return=L,L=ne)}return T(L);case D:e:{for(ge=q.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(L,U.sibling),ne=f(U,q.children||[]),ne.return=L,L=ne;break e}else{a(L,U);break}else r(L,U);U=U.sibling}ne=Lf(q,L.mode,ne),ne.return=L,L=ne}return T(L);case R:return ge=q._init,q=ge(q._payload),it(L,U,q,ne)}if(Ve(q))return we(L,U,q,ne);if(j(q)){if(ge=j(q),typeof ge!="function")throw Error(s(150));return q=ge.call(q),be(L,U,q,ne)}if(typeof q.then=="function")return it(L,U,_c(q),ne);if(q.$$typeof===K)return it(L,U,sc(L,q),ne);vc(L,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(L,U.sibling),ne=f(U,q),ne.return=L,L=ne):(a(L,U),ne=jf(q,L.mode,ne),ne.return=L,L=ne),T(L)):a(L,U)}return function(L,U,q,ne){try{gl=0;var ge=it(L,U,q,ne);return Fa=null,ge}catch(ve){if(ve===ol||ve===oc)throw ve;var ke=Cn(29,ve,null,L.mode);return ke.lanes=ne,ke.return=L,ke}finally{}}}var Ha=Wy(!0),Jy=Wy(!1),Kn=Z(null),Ei=null;function xr(n){var r=n.alternate;J(Lt,Lt.current&1),J(Kn,n),Ei===null&&(r===null||La.current!==null||r.memoizedState!==null)&&(Ei=n)}function Zy(n){if(n.tag===22){if(J(Lt,Lt.current),J(Kn,n),Ei===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Ei=n)}}else Or()}function Or(){J(Lt,Lt.current),J(Kn,Kn.current)}function er(n){W(Kn),Ei===n&&(Ei=null),W(Lt)}var Lt=Z(0);function Ec(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||om(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function _d(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var vd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=On(),f=Cr(l);f.payload=r,a!=null&&(f.callback=a),r=Nr(n,f,l),r!==null&&(Dn(r,n,l),ul(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=On(),f=Cr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Nr(n,f,l),r!==null&&(Dn(r,n,l),ul(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=On(),l=Cr(a);l.tag=2,r!=null&&(l.callback=r),r=Nr(n,l,a),r!==null&&(Dn(r,n,a),ul(r,n,a))}};function e_(n,r,a,l,f,d,T){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,T):r.prototype&&r.prototype.isPureReactComponent?!Zo(a,l)||!Zo(f,d):!0}function t_(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&vd.enqueueReplaceState(r,r.state,null)}function Bs(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=E({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var Tc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function n_(n){Tc(n)}function i_(n){console.error(n)}function r_(n){Tc(n)}function bc(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function s_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(n,r,a){return a=Cr(a),a.tag=3,a.payload={element:null},a.callback=function(){bc(n,r)},a}function a_(n){return n=Cr(n),n.tag=3,n}function o_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){s_(r,a,l)}}var T=a.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(n.callback=function(){s_(r,a,l),typeof f!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function NS(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&rl(r,a,f,!0),a=Kn.current,a!==null){switch(a.tag){case 13:return Ei===null?Hd():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===$f?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Kd(n,l,f)),!1;case 22:return a.flags|=65536,l===$f?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Kd(n,l,f)),!1}throw Error(s(435,a.tag))}return Kd(n,l,f),Hd(),!1}if(Qe)return r=Kn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==qf&&(n=Error(s(422),{cause:l}),il(qn(n,a)))):(l!==qf&&(r=Error(s(423),{cause:l}),il(qn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=qn(l,a),f=Ed(n.stateNode,l,f),Jf(n,f),_t!==4&&(_t=2)),!1;var d=Error(s(520),{cause:l});if(d=qn(d,a),Al===null?Al=[d]:Al.push(d),_t!==4&&(_t=2),r===null)return!0;l=qn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=Ed(a.stateNode,l,n),Jf(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Ur===null||!Ur.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=a_(f),o_(f,n,a,l),Jf(a,f),!1}a=a.return}while(a!==null);return!1}var l_=Error(s(461)),qt=!1;function Yt(n,r,a,l){r.child=n===null?Jy(r,null,a,l):Ha(r,n.child,a,l)}function u_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var T={};for(var b in l)b!=="ref"&&(T[b]=l[b])}else T=l;return Us(r),l=id(n,r,a,T,d,f),b=rd(),n!==null&&!qt?(sd(n,r,f),tr(n,r,f)):(Qe&&b&&Bf(r),r.flags|=1,Yt(n,r,l,f),r.child)}function c_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Uf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,h_(n,r,d,l,f)):(n=tc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!Nd(n,f)){var T=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(T,l)&&n.ref===r.ref)return tr(n,r,f)}return r.flags|=1,n=Yi(d,l),n.ref=r.ref,n.return=r,r.child=n}function h_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Zo(d,l)&&n.ref===r.ref)if(qt=!1,r.pendingProps=l=d,Nd(n,f))(n.flags&131072)!==0&&(qt=!0);else return r.lanes=n.lanes,tr(n,r,f)}return Td(n,r,a,l,f)}function f_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return d_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&ac(r,d!==null?d.cachePool:null),d!==null?hy(r,d):ed(),Zy(r);else return r.lanes=r.childLanes=536870912,d_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(ac(r,d.cachePool),hy(r,d),Or(),r.memoizedState=null):(n!==null&&ac(r,null),ed(),Or());return Yt(n,r,f,a),r.child}function d_(n,r,a,l){var f=Yf();return f=f===null?null:{parent:jt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&ac(r,null),ed(),Zy(r),n!==null&&rl(n,r,l,!0),null}function Sc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function Td(n,r,a,l,f){return Us(r),a=id(n,r,a,l,void 0,f),l=rd(),n!==null&&!qt?(sd(n,r,f),tr(n,r,f)):(Qe&&l&&Bf(r),r.flags|=1,Yt(n,r,a,f),r.child)}function m_(n,r,a,l,f,d){return Us(r),r.updateQueue=null,a=dy(r,l,a,f),fy(n),l=rd(),n!==null&&!qt?(sd(n,r,d),tr(n,r,d)):(Qe&&l&&Bf(r),r.flags|=1,Yt(n,r,a,d),r.child)}function p_(n,r,a,l,f){if(Us(r),r.stateNode===null){var d=Va,T=a.contextType;typeof T=="object"&&T!==null&&(d=rn(T)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=vd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Xf(r),T=a.contextType,d.context=typeof T=="object"&&T!==null?rn(T):Va,d.state=r.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(_d(r,a,T,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(T=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),T!==d.state&&vd.enqueueReplaceState(d,d.state,null),hl(r,l,d,f),cl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,x=Bs(a,b);d.props=x;var F=d.context,ee=a.contextType;T=Va,typeof ee=="object"&&ee!==null&&(T=rn(ee));var ie=a.getDerivedStateFromProps;ee=typeof ie=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,ee||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==T)&&t_(r,d,l,T),Rr=!1;var H=r.memoizedState;d.state=H,hl(r,l,d,f),cl(),F=r.memoizedState,b||H!==F||Rr?(typeof ie=="function"&&(_d(r,a,ie,l),F=r.memoizedState),(x=Rr||e_(r,a,x,l,H,F,T))?(ee||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=T,l=x):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Wf(n,r),T=r.memoizedProps,ee=Bs(a,T),d.props=ee,ie=r.pendingProps,H=d.context,F=a.contextType,x=Va,typeof F=="object"&&F!==null&&(x=rn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(T!==ie||H!==x)&&t_(r,d,l,x),Rr=!1,H=r.memoizedState,d.state=H,hl(r,l,d,f),cl();var G=r.memoizedState;T!==ie||H!==G||Rr||n!==null&&n.dependencies!==null&&rc(n.dependencies)?(typeof b=="function"&&(_d(r,a,b,l),G=r.memoizedState),(ee=Rr||e_(r,a,ee,l,H,G,x)||n!==null&&n.dependencies!==null&&rc(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,x),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,x)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=x,l=ee):(typeof d.componentDidUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||T===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Sc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=Ha(r,n.child,null,f),r.child=Ha(r,null,a,f)):Yt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=tr(n,r,f),n}function g_(n,r,a,l){return nl(),r.flags|=256,Yt(n,r,a,l),r.child}var bd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sd(n){return{baseLanes:n,cachePool:iy()}}function Ad(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Qn),n}function y_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,T;if((T=d)||(T=n!==null&&n.memoizedState===null?!1:(Lt.current&2)!==0),T&&(f=!0,r.flags&=-129),T=(r.flags&32)!==0,r.flags&=-33,n===null){if(Qe){if(f?xr(r):Or(),Qe){var b=yt,x;if(x=b){e:{for(x=b,b=vi;x.nodeType!==8;){if(!b){b=null;break e}if(x=ni(x.nextSibling),x===null){b=null;break e}}b=x}b!==null?(r.memoizedState={dehydrated:b,treeContext:Ds!==null?{id:$i,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},x=Cn(18,null,null,0),x.stateNode=b,x.return=r,r.child=x,pn=r,yt=null,x=!0):x=!1}x||Ps(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return om(b)?r.lanes=32:r.lanes=536870912,null;er(r)}return b=l.children,l=l.fallback,f?(Or(),f=r.mode,b=Ac({mode:"hidden",children:b},f),l=Os(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Sd(a),f.childLanes=Ad(n,T,a),r.memoizedState=bd,l):(xr(r),wd(r,b))}if(x=n.memoizedState,x!==null&&(b=x.dehydrated,b!==null)){if(d)r.flags&256?(xr(r),r.flags&=-257,r=Rd(n,r,a)):r.memoizedState!==null?(Or(),r.child=n.child,r.flags|=128,r=null):(Or(),f=l.fallback,b=r.mode,l=Ac({mode:"visible",children:l.children},b),f=Os(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,Ha(r,n.child,null,a),l=r.child,l.memoizedState=Sd(a),l.childLanes=Ad(n,T,a),r.memoizedState=bd,r=f);else if(xr(r),om(b)){if(T=b.nextSibling&&b.nextSibling.dataset,T)var F=T.dgst;T=F,l=Error(s(419)),l.stack="",l.digest=T,il({value:l,source:null,stack:null}),r=Rd(n,r,a)}else if(qt||rl(n,r,a,!1),T=(a&n.childLanes)!==0,qt||T){if(T=ot,T!==null&&(l=a&-a,l=(l&42)!==0?1:_r(l),l=(l&(T.suspendedLanes|a))!==0?0:l,l!==0&&l!==x.retryLane))throw x.retryLane=l,Ma(n,l),Dn(T,n,l),l_;b.data==="$?"||Hd(),r=Rd(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=x.treeContext,yt=ni(b.nextSibling),pn=r,Qe=!0,Vs=null,vi=!1,n!==null&&(Hn[Gn++]=$i,Hn[Gn++]=Xi,Hn[Gn++]=Ds,$i=n.id,Xi=n.overflow,Ds=r),r=wd(r,l.children),r.flags|=4096);return r}return f?(Or(),f=l.fallback,b=r.mode,x=n.child,F=x.sibling,l=Yi(x,{mode:"hidden",children:l.children}),l.subtreeFlags=x.subtreeFlags&65011712,F!==null?f=Yi(F,f):(f=Os(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=Sd(a):(x=b.cachePool,x!==null?(F=jt._currentValue,x=x.parent!==F?{parent:F,pool:F}:x):x=iy(),b={baseLanes:b.baseLanes|a,cachePool:x}),f.memoizedState=b,f.childLanes=Ad(n,T,a),r.memoizedState=bd,l):(xr(r),a=n.child,n=a.sibling,a=Yi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(T=r.deletions,T===null?(r.deletions=[n],r.flags|=16):T.push(n)),r.child=a,r.memoizedState=null,a)}function wd(n,r){return r=Ac({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function Ac(n,r){return n=Cn(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Rd(n,r,a){return Ha(r,n.child,null,a),n=wd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function __(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),Hf(n.return,r,a)}function Cd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function v_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Yt(n,r,l.children,a),l=Lt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&__(n,a,r);else if(n.tag===19)__(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(J(Lt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&Ec(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Cd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&Ec(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Cd(r,!0,a,null,d);break;case"together":Cd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function tr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),kr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(rl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Yi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Yi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function Nd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&rc(n)))}function IS(n,r,a){switch(r.tag){case 3:oe(r,r.stateNode.containerInfo),wr(r,jt,n.memoizedState.cache),nl();break;case 27:case 5:Ze(r);break;case 4:oe(r,r.stateNode.containerInfo);break;case 10:wr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(xr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?y_(n,r,a):(xr(r),n=tr(n,r,a),n!==null?n.sibling:null);xr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(rl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return v_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),J(Lt,Lt.current),l)break;return null;case 22:case 23:return r.lanes=0,f_(n,r,a);case 24:wr(r,jt,n.memoizedState.cache)}return tr(n,r,a)}function E_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)qt=!0;else{if(!Nd(n,a)&&(r.flags&128)===0)return qt=!1,IS(n,r,a);qt=(n.flags&131072)!==0}else qt=!1,Qe&&(r.flags&1048576)!==0&&Xg(r,ic,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Uf(l)?(n=Bs(l,n),r.tag=1,r=p_(null,r,l,n,a)):(r.tag=0,r=Td(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===ue){r.tag=11,r=u_(null,r,l,n,a);break e}else if(f===P){r.tag=14,r=c_(null,r,l,n,a);break e}}throw r=me(l)||l,Error(s(306,r,""))}}return r;case 0:return Td(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Bs(l,r.pendingProps),p_(n,r,l,f,a);case 3:e:{if(oe(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Wf(n,r),hl(r,l,null,a);var T=r.memoizedState;if(l=T.cache,wr(r,jt,l),l!==d.cache&&Gf(r,[jt],a,!0),cl(),l=T.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:T.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=g_(n,r,l,a);break e}else if(l!==f){f=qn(Error(s(424)),r),il(f),r=g_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(yt=ni(n.firstChild),pn=r,Qe=!0,Vs=null,vi=!0,a=Jy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(nl(),l===f){r=tr(n,r,a);break e}Yt(n,r,l,a)}r=r.child}return r;case 26:return Sc(n,r),n===null?(a=Av(r.type,null,r.pendingProps,null))?r.memoizedState=a:Qe||(a=r.type,n=r.pendingProps,l=jc(Ee.current).createElement(a),l[Pt]=r,l[It]=n,Xt(l,a,n),At(l),r.stateNode=l):r.memoizedState=Av(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Ze(r),n===null&&Qe&&(l=r.stateNode=Tv(r.type,r.pendingProps,Ee.current),pn=r,vi=!0,f=yt,Br(r.type)?(lm=f,yt=ni(l.firstChild)):yt=f),Yt(n,r,r.pendingProps.children,a),Sc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Qe&&((f=l=yt)&&(l=iA(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,pn=r,yt=ni(l.firstChild),vi=!1,f=!0):f=!1),f||Ps(r)),Ze(r),f=r.type,d=r.pendingProps,T=n!==null?n.memoizedProps:null,l=d.children,rm(f,d)?l=null:T!==null&&rm(f,T)&&(r.flags|=32),r.memoizedState!==null&&(f=id(n,r,TS,null,null,a),Ml._currentValue=f),Sc(n,r),Yt(n,r,l,a),r.child;case 6:return n===null&&Qe&&((n=a=yt)&&(a=rA(a,r.pendingProps,vi),a!==null?(r.stateNode=a,pn=r,yt=null,n=!0):n=!1),n||Ps(r)),null;case 13:return y_(n,r,a);case 4:return oe(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=Ha(r,null,l,a):Yt(n,r,l,a),r.child;case 11:return u_(n,r,r.type,r.pendingProps,a);case 7:return Yt(n,r,r.pendingProps,a),r.child;case 8:return Yt(n,r,r.pendingProps.children,a),r.child;case 12:return Yt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,wr(r,r.type,l.value),Yt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Us(r),f=rn(f),l=l(f),r.flags|=1,Yt(n,r,l,a),r.child;case 14:return c_(n,r,r.type,r.pendingProps,a);case 15:return h_(n,r,r.type,r.pendingProps,a);case 19:return v_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=Ac(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Yi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return f_(n,r,a);case 24:return Us(r),l=rn(jt),n===null?(f=Yf(),f===null&&(f=ot,d=Kf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Xf(r),wr(r,jt,f)):((n.lanes&a)!==0&&(Wf(n,r),hl(r,null,null,a),cl()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),wr(r,jt,l)):(l=d.cache,wr(r,jt,l),l!==f.cache&&Gf(r,[jt],a,!0))),Yt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function nr(n){n.flags|=4}function T_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Iv(r)){if(r=Kn.current,r!==null&&((Fe&4194048)===Fe?Ei!==null:(Fe&62914560)!==Fe&&(Fe&536870912)===0||r!==Ei))throw ll=$f,ry;n.flags|=8192}}function wc(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Po():536870912,n.lanes|=r,Ya|=r)}function _l(n,r){if(!Qe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function dt(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function xS(n,r,a){var l=r.pendingProps;switch(zf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(r),null;case 1:return dt(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Ji(jt),Re(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(tl(r)?nr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zg())),dt(r),null;case 26:return a=r.memoizedState,n===null?(nr(r),a!==null?(dt(r),T_(r,a)):(dt(r),r.flags&=-16777217)):a?a!==n.memoizedState?(nr(r),dt(r),T_(r,a)):(dt(r),r.flags&=-16777217):(n.memoizedProps!==l&&nr(r),dt(r),r.flags&=-16777217),null;case 27:rt(r),a=Ee.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}n=fe.current,tl(r)?Wg(r):(n=Tv(f,l,a),r.stateNode=n,nr(r))}return dt(r),null;case 5:if(rt(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return dt(r),null}if(n=fe.current,tl(r))Wg(r);else{switch(f=jc(Ee.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Pt]=r,n[It]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&nr(r)}}return dt(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&nr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ee.current,tl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=pn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Pt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||mv(n.nodeValue,a)),n||Ps(r)}else n=jc(n).createTextNode(l),n[Pt]=r,r.stateNode=n}return dt(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=tl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Pt]=r}else nl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;dt(r),f=!1}else f=Zg(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(er(r),r):(er(r),null)}if(er(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),wc(r,r.updateQueue),dt(r),null;case 4:return Re(),n===null&&Zd(r.stateNode.containerInfo),dt(r),null;case 10:return Ji(r.type),dt(r),null;case 19:if(W(Lt),f=r.memoizedState,f===null)return dt(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)_l(f,!1);else{if(_t!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=Ec(n),d!==null){for(r.flags|=128,_l(f,!1),n=d.updateQueue,r.updateQueue=n,wc(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)$g(a,n),a=a.sibling;return J(Lt,Lt.current&1|2),r.child}n=n.sibling}f.tail!==null&&_n()>Nc&&(r.flags|=128,l=!0,_l(f,!1),r.lanes=4194304)}else{if(!l)if(n=Ec(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,wc(r,n),_l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Qe)return dt(r),null}else 2*_n()-f.renderingStartTime>Nc&&a!==536870912&&(r.flags|=128,l=!0,_l(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=_n(),r.sibling=null,n=Lt.current,J(Lt,l?n&1|2:n&1),r):(dt(r),null);case 22:case 23:return er(r),td(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(dt(r),r.subtreeFlags&6&&(r.flags|=8192)):dt(r),a=r.updateQueue,a!==null&&wc(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&W(js),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Ji(jt),dt(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function OS(n,r){switch(zf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Ji(jt),Re(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return rt(r),null;case 13:if(er(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));nl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return W(Lt),null;case 4:return Re(),null;case 10:return Ji(r.type),null;case 22:case 23:return er(r),td(),n!==null&&W(js),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Ji(jt),null;case 25:return null;default:return null}}function b_(n,r){switch(zf(r),r.tag){case 3:Ji(jt),Re();break;case 26:case 27:case 5:rt(r);break;case 4:Re();break;case 13:er(r);break;case 19:W(Lt);break;case 10:Ji(r.type);break;case 22:case 23:er(r),td(),n!==null&&W(js);break;case 24:Ji(jt)}}function vl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,T=a.inst;l=d(),T.destroy=l}a=a.next}while(a!==f)}}catch(b){st(r,r.return,b)}}function Dr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var T=l.inst,b=T.destroy;if(b!==void 0){T.destroy=void 0,f=r;var x=a,F=b;try{F()}catch(ee){st(f,x,ee)}}}l=l.next}while(l!==d)}}catch(ee){st(r,r.return,ee)}}function S_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{cy(r,a)}catch(l){st(n,n.return,l)}}}function A_(n,r,a){a.props=Bs(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){st(n,r,l)}}function El(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){st(n,r,f)}}function Ti(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){st(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){st(n,r,f)}else a.current=null}function w_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){st(n,n.return,f)}}function Id(n,r,a){try{var l=n.stateNode;JS(l,n.type,a,r),l[It]=r}catch(f){st(n,n.return,f)}}function R_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Br(n.type)||n.tag===4}function xd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||R_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Br(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Od(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Uc));else if(l!==4&&(l===27&&Br(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Od(n,r,a),n=n.sibling;n!==null;)Od(n,r,a),n=n.sibling}function Rc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Br(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Rc(n,r,a),n=n.sibling;n!==null;)Rc(n,r,a),n=n.sibling}function C_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Xt(r,l,a),r[Pt]=n,r[It]=a}catch(d){st(n,n.return,d)}}var ir=!1,Rt=!1,Dd=!1,N_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function DS(n,r){if(n=n.containerInfo,nm=Hc,n=Lg(n),xf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var T=0,b=-1,x=-1,F=0,ee=0,ie=n,H=null;t:for(;;){for(var G;ie!==a||f!==0&&ie.nodeType!==3||(b=T+f),ie!==d||l!==0&&ie.nodeType!==3||(x=T+l),ie.nodeType===3&&(T+=ie.nodeValue.length),(G=ie.firstChild)!==null;)H=ie,ie=G;for(;;){if(ie===n)break t;if(H===a&&++F===f&&(b=T),H===d&&++ee===l&&(x=T),(G=ie.nextSibling)!==null)break;ie=H,H=ie.parentNode}ie=G}a=b===-1||x===-1?null:{start:b,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(im={focusedElem:n,selectionRange:a},Hc=!1,Ft=r;Ft!==null;)if(r=Ft,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ft=n;else for(;Ft!==null;){switch(r=Ft,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var we=Bs(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(we,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(be){st(a,a.return,be)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)am(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":am(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ft=n;break}Ft=r.return}}function I_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Mr(n,a),l&4&&vl(5,a);break;case 1:if(Mr(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(T){st(a,a.return,T)}else{var f=Bs(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(T){st(a,a.return,T)}}l&64&&S_(a),l&512&&El(a,a.return);break;case 3:if(Mr(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{cy(n,r)}catch(T){st(a,a.return,T)}}break;case 27:r===null&&l&4&&C_(a);case 26:case 5:Mr(n,a),r===null&&l&4&&w_(a),l&512&&El(a,a.return);break;case 12:Mr(n,a);break;case 13:Mr(n,a),l&4&&D_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=zS.bind(null,a),sA(n,a))));break;case 22:if(l=a.memoizedState!==null||ir,!l){r=r!==null&&r.memoizedState!==null||Rt,f=ir;var d=Rt;ir=l,(Rt=r)&&!d?Vr(n,a,(a.subtreeFlags&8772)!==0):Mr(n,a),ir=f,Rt=d}break;case 30:break;default:Mr(n,a)}}function x_(n){var r=n.alternate;r!==null&&(n.alternate=null,x_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Tr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ft=null,En=!1;function rr(n,r,a){for(a=a.child;a!==null;)O_(n,r,a),a=a.sibling}function O_(n,r,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(gt,a)}catch{}switch(a.tag){case 26:Rt||Ti(a,r),rr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Rt||Ti(a,r);var l=ft,f=En;Br(a.type)&&(ft=a.stateNode,En=!1),rr(n,r,a),Il(a.stateNode),ft=l,En=f;break;case 5:Rt||Ti(a,r);case 6:if(l=ft,f=En,ft=null,rr(n,r,a),ft=l,En=f,ft!==null)if(En)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){st(a,r,d)}else try{ft.removeChild(a.stateNode)}catch(d){st(a,r,d)}break;case 18:ft!==null&&(En?(n=ft,vv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Ul(n)):vv(ft,a.stateNode));break;case 4:l=ft,f=En,ft=a.stateNode.containerInfo,En=!0,rr(n,r,a),ft=l,En=f;break;case 0:case 11:case 14:case 15:Rt||Dr(2,a,r),Rt||Dr(4,a,r),rr(n,r,a);break;case 1:Rt||(Ti(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&A_(a,r,l)),rr(n,r,a);break;case 21:rr(n,r,a);break;case 22:Rt=(l=Rt)||a.memoizedState!==null,rr(n,r,a),Rt=l;break;default:rr(n,r,a)}}function D_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Ul(n)}catch(a){st(r,r.return,a)}}function MS(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new N_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new N_),r;default:throw Error(s(435,n.tag))}}function Md(n,r){var a=MS(n);r.forEach(function(l){var f=qS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Nn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,T=r,b=T;e:for(;b!==null;){switch(b.tag){case 27:if(Br(b.type)){ft=b.stateNode,En=!1;break e}break;case 5:ft=b.stateNode,En=!1;break e;case 3:case 4:ft=b.stateNode.containerInfo,En=!0;break e}b=b.return}if(ft===null)throw Error(s(160));O_(d,T,f),ft=null,En=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)M_(r,n),r=r.sibling}var ti=null;function M_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Nn(r,n),In(n),l&4&&(Dr(3,n,n.return),vl(3,n),Dr(5,n,n.return));break;case 1:Nn(r,n),In(n),l&512&&(Rt||a===null||Ti(a,a.return)),l&64&&ir&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ti;if(Nn(r,n),In(n),l&512&&(Rt||a===null||Ti(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ps]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[Pt]=n,At(d),l=d;break e;case"link":var T=Cv("link","href",f).get(l+(a.href||""));if(T){for(var b=0;b<T.length;b++)if(d=T[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){T.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(T=Cv("meta","content",f).get(l+(a.content||""))){for(b=0;b<T.length;b++)if(d=T[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){T.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Pt]=n,At(d),l=d}n.stateNode=l}else Nv(f,n.type,n.stateNode);else n.stateNode=Rv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Nv(f,n.type,n.stateNode):Rv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Id(n,n.memoizedProps,a.memoizedProps)}break;case 27:Nn(r,n),In(n),l&512&&(Rt||a===null||Ti(a,a.return)),a!==null&&l&4&&Id(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Nn(r,n),In(n),l&512&&(Rt||a===null||Ti(a,a.return)),n.flags&32){f=n.stateNode;try{jn(f,"")}catch(G){st(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Id(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Dd=!0);break;case 6:if(Nn(r,n),In(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){st(n,n.return,G)}}break;case 3:if(zc=null,f=ti,ti=Lc(r.containerInfo),Nn(r,n),ti=f,In(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(r.containerInfo)}catch(G){st(n,n.return,G)}Dd&&(Dd=!1,V_(n));break;case 4:l=ti,ti=Lc(n.stateNode.containerInfo),Nn(r,n),In(n),ti=l;break;case 12:Nn(r,n),In(n);break;case 13:Nn(r,n),In(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ld=_n()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 22:f=n.memoizedState!==null;var x=a!==null&&a.memoizedState!==null,F=ir,ee=Rt;if(ir=F||f,Rt=ee||x,Nn(r,n),Rt=ee,ir=F,In(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||x||ir||Rt||zs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){x=a=r;try{if(d=x.stateNode,f)T=d.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{b=x.stateNode;var ie=x.memoizedProps.style,H=ie!=null&&ie.hasOwnProperty("display")?ie.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){st(x,x.return,G)}}}else if(r.tag===6){if(a===null){x=r;try{x.stateNode.nodeValue=f?"":x.memoizedProps}catch(G){st(x,x.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Md(n,a))));break;case 19:Nn(r,n),In(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,Md(n,l)));break;case 30:break;case 21:break;default:Nn(r,n),In(n)}}function In(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(R_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=xd(n);Rc(n,d,f);break;case 5:var T=a.stateNode;a.flags&32&&(jn(T,""),a.flags&=-33);var b=xd(n);Rc(n,b,T);break;case 3:case 4:var x=a.stateNode.containerInfo,F=xd(n);Od(n,F,x);break;default:throw Error(s(161))}}catch(ee){st(n,n.return,ee)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function V_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;V_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Mr(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)I_(n,r.alternate,r),r=r.sibling}function zs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Dr(4,r,r.return),zs(r);break;case 1:Ti(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&A_(r,r.return,a),zs(r);break;case 27:Il(r.stateNode);case 26:case 5:Ti(r,r.return),zs(r);break;case 22:r.memoizedState===null&&zs(r);break;case 30:zs(r);break;default:zs(r)}n=n.sibling}}function Vr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,T=d.flags;switch(d.tag){case 0:case 11:case 15:Vr(f,d,a),vl(4,d);break;case 1:if(Vr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){st(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var x=f.shared.hiddenCallbacks;if(x!==null)for(f.shared.hiddenCallbacks=null,f=0;f<x.length;f++)uy(x[f],b)}catch(F){st(l,l.return,F)}}a&&T&64&&S_(d),El(d,d.return);break;case 27:C_(d);case 26:case 5:Vr(f,d,a),a&&l===null&&T&4&&w_(d),El(d,d.return);break;case 12:Vr(f,d,a);break;case 13:Vr(f,d,a),a&&T&4&&D_(f,d);break;case 22:d.memoizedState===null&&Vr(f,d,a),El(d,d.return);break;case 30:break;default:Vr(f,d,a)}r=r.sibling}}function Vd(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&sl(a))}function Pd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&sl(n))}function bi(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)P_(n,r,a,l),r=r.sibling}function P_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:bi(n,r,a,l),f&2048&&vl(9,r);break;case 1:bi(n,r,a,l);break;case 3:bi(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&sl(n)));break;case 12:if(f&2048){bi(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,T=d.id,b=d.onPostCommit;typeof b=="function"&&b(T,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(x){st(r,r.return,x)}}else bi(n,r,a,l);break;case 13:bi(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,T=r.alternate,r.memoizedState!==null?d._visibility&2?bi(n,r,a,l):Tl(n,r):d._visibility&2?bi(n,r,a,l):(d._visibility|=2,Ga(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Vd(T,r);break;case 24:bi(n,r,a,l),f&2048&&Pd(r.alternate,r);break;default:bi(n,r,a,l)}}function Ga(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,T=r,b=a,x=l,F=T.flags;switch(T.tag){case 0:case 11:case 15:Ga(d,T,b,x,f),vl(8,T);break;case 23:break;case 22:var ee=T.stateNode;T.memoizedState!==null?ee._visibility&2?Ga(d,T,b,x,f):Tl(d,T):(ee._visibility|=2,Ga(d,T,b,x,f)),f&&F&2048&&Vd(T.alternate,T);break;case 24:Ga(d,T,b,x,f),f&&F&2048&&Pd(T.alternate,T);break;default:Ga(d,T,b,x,f)}r=r.sibling}}function Tl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Tl(a,l),f&2048&&Vd(l.alternate,l);break;case 24:Tl(a,l),f&2048&&Pd(l.alternate,l);break;default:Tl(a,l)}r=r.sibling}}var bl=8192;function Ka(n){if(n.subtreeFlags&bl)for(n=n.child;n!==null;)k_(n),n=n.sibling}function k_(n){switch(n.tag){case 26:Ka(n),n.flags&bl&&n.memoizedState!==null&&_A(ti,n.memoizedState,n.memoizedProps);break;case 5:Ka(n);break;case 3:case 4:var r=ti;ti=Lc(n.stateNode.containerInfo),Ka(n),ti=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=bl,bl=16777216,Ka(n),bl=r):Ka(n));break;default:Ka(n)}}function U_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Sl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,L_(l,n)}U_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)j_(n),n=n.sibling}function j_(n){switch(n.tag){case 0:case 11:case 15:Sl(n),n.flags&2048&&Dr(9,n,n.return);break;case 3:Sl(n);break;case 12:Sl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,Cc(n)):Sl(n);break;default:Sl(n)}}function Cc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,L_(l,n)}U_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Dr(8,r,r.return),Cc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Cc(r));break;default:Cc(r)}n=n.sibling}}function L_(n,r){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:Dr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:sl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=n;Ft!==null;){l=Ft;var f=l.sibling,d=l.return;if(x_(l),l===a){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var VS={getCacheForType:function(n){var r=rn(jt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},PS=typeof WeakMap=="function"?WeakMap:Map,Xe=0,ot=null,Ue=null,Fe=0,We=0,xn=null,Pr=!1,Qa=!1,kd=!1,sr=0,_t=0,kr=0,qs=0,Ud=0,Qn=0,Ya=0,Al=null,Tn=null,jd=!1,Ld=0,Nc=1/0,Ic=null,Ur=null,$t=0,jr=null,$a=null,Xa=0,Bd=0,zd=null,B_=null,wl=0,qd=null;function On(){if((Xe&2)!==0&&Fe!==0)return Fe&-Fe;if($.T!==null){var n=Ua;return n!==0?n:$d()}return vr()}function z_(){Qn===0&&(Qn=(Fe&536870912)===0||Qe?Vo():536870912);var n=Kn.current;return n!==null&&(n.flags|=32),Qn}function Dn(n,r,a){(n===ot&&(We===2||We===9)||n.cancelPendingCommit!==null)&&(Wa(n,0),Lr(n,Fe,Qn,!1)),Ui(n,a),((Xe&2)===0||n!==ot)&&(n===ot&&((Xe&2)===0&&(qs|=a),_t===4&&Lr(n,Fe,Qn,!1)),Si(n))}function q_(n,r,a){if((Xe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||ms(n,r),f=l?jS(n,r):Gd(n,r,!0),d=l;do{if(f===0){Qa&&!l&&Lr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!kS(a)){f=Gd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var T=0;else T=n.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){r=T;e:{var b=n;f=Al;var x=b.current.memoizedState.isDehydrated;if(x&&(Wa(b,T).flags|=256),T=Gd(b,T,!1),T!==2){if(kd&&!x){b.errorRecoveryDisabledLanes|=d,qs|=d,f=4;break e}d=Tn,Tn=f,d!==null&&(Tn===null?Tn=d:Tn.push.apply(Tn,d))}f=T}if(d=!1,f!==2)continue}}if(f===1){Wa(n,0),Lr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Lr(l,r,Qn,!Pr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Ld+300-_n(),10<f)){if(Lr(l,r,Qn,!Pr),ma(l,0,!0)!==0)break e;l.timeoutHandle=yv(F_.bind(null,l,a,Tn,Ic,jd,r,Qn,qs,Ya,Pr,d,2,-0,0),f);break e}F_(l,a,Tn,Ic,jd,r,Qn,qs,Ya,Pr,d,0,-0,0)}}break}while(!0);Si(n)}function F_(n,r,a,l,f,d,T,b,x,F,ee,ie,H,G){if(n.timeoutHandle=-1,ie=r.subtreeFlags,(ie&8192||(ie&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:yA},k_(r),ie=vA(),ie!==null)){n.cancelPendingCommit=ie(X_.bind(null,n,r,d,a,l,f,T,b,x,ee,1,H,G)),Lr(n,d,T,!F);return}X_(n,r,d,a,l,f,T,b,x)}function kS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Lr(n,r,a,l){r&=~Ud,r&=~qs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-nn(f),T=1<<d;l[d]=-1,f&=~T}a!==0&&li(n,a,r)}function xc(){return(Xe&6)===0?(Rl(0),!1):!0}function Fd(){if(Ue!==null){if(We===0)var n=Ue.return;else n=Ue,Wi=ks=null,ad(n),Fa=null,gl=0,n=Ue;for(;n!==null;)b_(n.alternate,n),n=n.return;Ue=null}}function Wa(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,eA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Fd(),ot=n,Ue=a=Yi(n.current,null),Fe=r,We=0,xn=null,Pr=!1,Qa=ms(n,r),kd=!1,Ya=Qn=Ud=qs=kr=_t=0,Tn=Al=null,jd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-nn(l),d=1<<f;r|=n[f],l&=~d}return sr=r,Ju(),a}function H_(n,r){Pe=null,$.H=yc,r===ol||r===oc?(r=oy(),We=3):r===ry?(r=oy(),We=4):We=r===l_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,xn=r,Ue===null&&(_t=1,bc(n,qn(r,n.current)))}function G_(){var n=$.H;return $.H=yc,n===null?yc:n}function K_(){var n=$.A;return $.A=VS,n}function Hd(){_t=4,Pr||(Fe&4194048)!==Fe&&Kn.current!==null||(Qa=!0),(kr&134217727)===0&&(qs&134217727)===0||ot===null||Lr(ot,Fe,Qn,!1)}function Gd(n,r,a){var l=Xe;Xe|=2;var f=G_(),d=K_();(ot!==n||Fe!==r)&&(Ic=null,Wa(n,r)),r=!1;var T=_t;e:do try{if(We!==0&&Ue!==null){var b=Ue,x=xn;switch(We){case 8:Fd(),T=6;break e;case 3:case 2:case 9:case 6:Kn.current===null&&(r=!0);var F=We;if(We=0,xn=null,Ja(n,b,x,F),a&&Qa){T=0;break e}break;default:F=We,We=0,xn=null,Ja(n,b,x,F)}}US(),T=_t;break}catch(ee){H_(n,ee)}while(!0);return r&&n.shellSuspendCounter++,Wi=ks=null,Xe=l,$.H=f,$.A=d,Ue===null&&(ot=null,Fe=0,Ju()),T}function US(){for(;Ue!==null;)Q_(Ue)}function jS(n,r){var a=Xe;Xe|=2;var l=G_(),f=K_();ot!==n||Fe!==r?(Ic=null,Nc=_n()+500,Wa(n,r)):Qa=ms(n,r);e:do try{if(We!==0&&Ue!==null){r=Ue;var d=xn;t:switch(We){case 1:We=0,xn=null,Ja(n,r,d,1);break;case 2:case 9:if(sy(d)){We=0,xn=null,Y_(r);break}r=function(){We!==2&&We!==9||ot!==n||(We=7),Si(n)},d.then(r,r);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:sy(d)?(We=0,xn=null,Y_(r)):(We=0,xn=null,Ja(n,r,d,7));break;case 5:var T=null;switch(Ue.tag){case 26:T=Ue.memoizedState;case 5:case 27:var b=Ue;if(!T||Iv(T)){We=0,xn=null;var x=b.sibling;if(x!==null)Ue=x;else{var F=b.return;F!==null?(Ue=F,Oc(F)):Ue=null}break t}}We=0,xn=null,Ja(n,r,d,5);break;case 6:We=0,xn=null,Ja(n,r,d,6);break;case 8:Fd(),_t=6;break e;default:throw Error(s(462))}}LS();break}catch(ee){H_(n,ee)}while(!0);return Wi=ks=null,$.H=l,$.A=f,Xe=a,Ue!==null?0:(ot=null,Fe=0,Ju(),_t)}function LS(){for(;Ue!==null&&!Xn();)Q_(Ue)}function Q_(n){var r=E_(n.alternate,n,sr);n.memoizedProps=n.pendingProps,r===null?Oc(n):Ue=r}function Y_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=m_(a,r,r.pendingProps,r.type,void 0,Fe);break;case 11:r=m_(a,r,r.pendingProps,r.type.render,r.ref,Fe);break;case 5:ad(r);default:b_(a,r),r=Ue=$g(r,sr),r=E_(a,r,sr)}n.memoizedProps=n.pendingProps,r===null?Oc(n):Ue=r}function Ja(n,r,a,l){Wi=ks=null,ad(r),Fa=null,gl=0;var f=r.return;try{if(NS(n,f,r,a,Fe)){_t=1,bc(n,qn(a,n.current)),Ue=null;return}}catch(d){if(f!==null)throw Ue=f,d;_t=1,bc(n,qn(a,n.current)),Ue=null;return}r.flags&32768?(Qe||l===1?n=!0:Qa||(Fe&536870912)!==0?n=!1:(Pr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Kn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$_(r,n)):Oc(r)}function Oc(n){var r=n;do{if((r.flags&32768)!==0){$_(r,Pr);return}n=r.return;var a=xS(r.alternate,r,sr);if(a!==null){Ue=a;return}if(r=r.sibling,r!==null){Ue=r;return}Ue=r=n}while(r!==null);_t===0&&(_t=5)}function $_(n,r){do{var a=OS(n.alternate,n);if(a!==null){a.flags&=32767,Ue=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Ue=n;return}Ue=n=a}while(n!==null);_t=6,Ue=null}function X_(n,r,a,l,f,d,T,b,x){n.cancelPendingCommit=null;do Dc();while($t!==0);if((Xe&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Pf,ko(n,a,d,T,b,x),n===ot&&(Ue=ot=null,Fe=0),$a=r,jr=n,Xa=a,Bd=d,zd=f,B_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,FS(cs,function(){return tv(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=$.T,$.T=null,f=ce.p,ce.p=2,T=Xe,Xe|=4;try{DS(n,r,a)}finally{Xe=T,ce.p=f,$.T=l}}$t=1,W_(),J_(),Z_()}}function W_(){if($t===1){$t=0;var n=jr,r=$a,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var f=Xe;Xe|=4;try{M_(r,n);var d=im,T=Lg(n.containerInfo),b=d.focusedElem,x=d.selectionRange;if(T!==b&&b&&b.ownerDocument&&jg(b.ownerDocument.documentElement,b)){if(x!==null&&xf(b)){var F=x.start,ee=x.end;if(ee===void 0&&(ee=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(ee,b.value.length);else{var ie=b.ownerDocument||document,H=ie&&ie.defaultView||window;if(H.getSelection){var G=H.getSelection(),we=b.textContent.length,be=Math.min(x.start,we),it=x.end===void 0?be:Math.min(x.end,we);!G.extend&&be>it&&(T=it,it=be,be=T);var L=Ug(b,be),U=Ug(b,it);if(L&&U&&(G.rangeCount!==1||G.anchorNode!==L.node||G.anchorOffset!==L.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var q=ie.createRange();q.setStart(L.node,L.offset),G.removeAllRanges(),be>it?(G.addRange(q),G.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),G.addRange(q))}}}}for(ie=[],G=b;G=G.parentNode;)G.nodeType===1&&ie.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ie.length;b++){var ne=ie[b];ne.element.scrollLeft=ne.left,ne.element.scrollTop=ne.top}}Hc=!!nm,im=nm=null}finally{Xe=f,ce.p=l,$.T=a}}n.current=r,$t=2}}function J_(){if($t===2){$t=0;var n=jr,r=$a,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var l=ce.p;ce.p=2;var f=Xe;Xe|=4;try{I_(n,r.alternate,r)}finally{Xe=f,ce.p=l,$.T=a}}$t=3}}function Z_(){if($t===4||$t===3){$t=0,Pi();var n=jr,r=$a,a=Xa,l=B_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,$a=jr=null,ev(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Ur=null),pa(a),r=r.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(gt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=$.T,f=ce.p,ce.p=2,$.T=null;try{for(var d=n.onRecoverableError,T=0;T<l.length;T++){var b=l[T];d(b.value,{componentStack:b.stack})}}finally{$.T=r,ce.p=f}}(Xa&3)!==0&&Dc(),Si(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===qd?wl++:(wl=0,qd=n):wl=0,Rl(0)}}function ev(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,sl(r)))}function Dc(n){return W_(),J_(),Z_(),tv()}function tv(){if($t!==5)return!1;var n=jr,r=Bd;Bd=0;var a=pa(Xa),l=$.T,f=ce.p;try{ce.p=32>a?32:a,$.T=null,a=zd,zd=null;var d=jr,T=Xa;if($t=0,$a=jr=null,Xa=0,(Xe&6)!==0)throw Error(s(331));var b=Xe;if(Xe|=4,j_(d.current),P_(d,d.current,T,a),Xe=b,Rl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(gt,d)}catch{}return!0}finally{ce.p=f,$.T=l,ev(n,r)}}function nv(n,r,a){r=qn(a,r),r=Ed(n.stateNode,r,2),n=Nr(n,r,2),n!==null&&(Ui(n,2),Si(n))}function st(n,r,a){if(n.tag===3)nv(n,n,a);else for(;r!==null;){if(r.tag===3){nv(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ur===null||!Ur.has(l))){n=qn(a,n),a=a_(2),l=Nr(r,a,2),l!==null&&(o_(a,l,r,n),Ui(l,2),Si(l));break}}r=r.return}}function Kd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new PS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(kd=!0,f.add(a),n=BS.bind(null,n,r,a),r.then(n,n))}function BS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,ot===n&&(Fe&a)===a&&(_t===4||_t===3&&(Fe&62914560)===Fe&&300>_n()-Ld?(Xe&2)===0&&Wa(n,0):Ud|=a,Ya===Fe&&(Ya=0)),Si(n)}function iv(n,r){r===0&&(r=Po()),n=Ma(n,r),n!==null&&(Ui(n,r),Si(n))}function zS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),iv(n,a)}function qS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),iv(n,a)}function FS(n,r){return tn(n,r)}var Mc=null,Za=null,Qd=!1,Vc=!1,Yd=!1,Fs=0;function Si(n){n!==Za&&n.next===null&&(Za===null?Mc=Za=n:Za=Za.next=n),Vc=!0,Qd||(Qd=!0,GS())}function Rl(n,r){if(!Yd&&Vc){Yd=!0;do for(var a=!1,l=Mc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var T=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-nn(42|n)+1)-1,d&=f&~(T&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,ov(l,d))}else d=Fe,d=ma(l,l===ot?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ms(l,d)||(a=!0,ov(l,d));l=l.next}while(a);Yd=!1}}function HS(){rv()}function rv(){Vc=Qd=!1;var n=0;Fs!==0&&(ZS()&&(n=Fs),Fs=0);for(var r=_n(),a=null,l=Mc;l!==null;){var f=l.next,d=sv(l,r);d===0?(l.next=null,a===null?Mc=f:a.next=f,f===null&&(Za=a)):(a=l,(n!==0||(d&3)!==0)&&(Vc=!0)),l=f}Rl(n)}function sv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var T=31-nn(d),b=1<<T,x=f[T];x===-1?((b&a)===0||(b&l)!==0)&&(f[T]=Mo(b,r)):x<=r&&(n.expiredLanes|=b),d&=~b}if(r=ot,a=Fe,a=ma(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(We===2||We===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&hn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ms(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&hn(l),pa(a)){case 2:case 8:a=fa;break;case 32:a=cs;break;case 268435456:a=da;break;default:a=cs}return l=av.bind(null,n),a=tn(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&hn(l),n.callbackPriority=2,n.callbackNode=null,2}function av(n,r){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(Dc()&&n.callbackNode!==a)return null;var l=Fe;return l=ma(n,n===ot?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(q_(n,l,r),sv(n,_n()),n.callbackNode!=null&&n.callbackNode===a?av.bind(null,n):null)}function ov(n,r){if(Dc())return null;q_(n,r,!0)}function GS(){tA(function(){(Xe&6)!==0?tn(Oo,HS):rv()})}function $d(){return Fs===0&&(Fs=Vo()),Fs}function lv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ta(""+n)}function uv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function KS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=lv((f[It]||null).action),T=l.submitter;T&&(r=(r=T[It]||null)?lv(r.formAction):T.getAttribute("formAction"),r!==null&&(d=r,T=null));var b=new ba("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var x=T?uv(f,T):new FormData(f);pd(a,{pending:!0,data:x,method:f.method,action:d},null,x)}}else typeof d=="function"&&(b.preventDefault(),x=T?uv(f,T):new FormData(f),pd(a,{pending:!0,data:x,method:f.method,action:d},d,x))},currentTarget:f}]})}}for(var Xd=0;Xd<Vf.length;Xd++){var Wd=Vf[Xd],QS=Wd.toLowerCase(),YS=Wd[0].toUpperCase()+Wd.slice(1);ei(QS,"on"+YS)}ei(qg,"onAnimationEnd"),ei(Fg,"onAnimationIteration"),ei(Hg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(hS,"onTransitionRun"),ei(fS,"onTransitionStart"),ei(dS,"onTransitionCancel"),ei(Gg,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),Jn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Jn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Jn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Jn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Jn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$S=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function cv(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var T=l.length-1;0<=T;T--){var b=l[T],x=b.instance,F=b.currentTarget;if(b=b.listener,x!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(ee){Tc(ee)}f.currentTarget=null,d=x}else for(T=0;T<l.length;T++){if(b=l[T],x=b.instance,F=b.currentTarget,b=b.listener,x!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(ee){Tc(ee)}f.currentTarget=null,d=x}}}}function je(n,r){var a=r[jo];a===void 0&&(a=r[jo]=new Set);var l=n+"__bubble";a.has(l)||(hv(r,n,2,!1),a.add(l))}function Jd(n,r,a){var l=0;r&&(l|=4),hv(a,n,l,r)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Zd(n){if(!n[Pc]){n[Pc]=!0,Lo.forEach(function(a){a!=="selectionchange"&&($S.has(a)||Jd(a,!1,n),Jd(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Pc]||(r[Pc]=!0,Jd("selectionchange",!1,r))}}function hv(n,r,a,l){switch(Pv(r)){case 2:var f=bA;break;case 8:f=SA;break;default:f=dm}a=f.bind(null,r,a,n),f=void 0,!Bn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function em(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var T=l.tag;if(T===3||T===4){var b=l.stateNode.containerInfo;if(b===f)break;if(T===4)for(T=l.return;T!==null;){var x=T.tag;if((x===3||x===4)&&T.stateNode.containerInfo===f)return;T=T.return}for(;b!==null;){if(T=ji(b),T===null)return;if(x=T.tag,x===5||x===6||x===26||x===27){l=d=T;continue e}b=b.parentNode}}l=l.return}Uu(function(){var F=d,ee=Ln(a),ie=[];e:{var H=Kg.get(n);if(H!==void 0){var G=ba,we=n;switch(n){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":G=Na;break;case"focusin":we="focus",G=wa;break;case"focusout":we="blur",G=wa;break;case"beforeblur":case"afterblur":G=wa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=zn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Rf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Gu;break;case qg:case Fg:case Hg:G=Ra;break;case Gg:G=Qu;break;case"scroll":case"scrollend":G=ju;break;case"wheel":G=Ia;break;case"copy":case"cut":case"paste":G=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Wo;break;case"toggle":case"beforetoggle":G=$u}var be=(r&4)!==0,it=!be&&(n==="scroll"||n==="scrollend"),L=be?H!==null?H+"Capture":null:H;be=[];for(var U=F,q;U!==null;){var ne=U;if(q=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||q===null||L===null||(ne=bs(U,L),ne!=null&&be.push(Nl(U,ne,q))),it)break;U=U.return}0<be.length&&(H=new G(H,we,null,a,ee),ie.push({event:H,listeners:be}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&a!==qi&&(we=a.relatedTarget||a.fromElement)&&(ji(we)||we[Un]))break e;if((G||H)&&(H=ee.window===ee?ee:(H=ee.ownerDocument)?H.defaultView||H.parentWindow:window,G?(we=a.relatedTarget||a.toElement,G=F,we=we?ji(we):null,we!==null&&(it=u(we),be=we.tag,we!==it||be!==5&&be!==27&&be!==6)&&(we=null)):(G=null,we=F),G!==we)){if(be=zn,ne="onMouseLeave",L="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(be=Wo,ne="onPointerLeave",L="onPointerEnter",U="pointer"),it=G==null?H:ci(G),q=we==null?H:ci(we),H=new be(ne,U+"leave",G,a,ee),H.target=it,H.relatedTarget=q,ne=null,ji(ee)===F&&(be=new be(L,U+"enter",we,a,ee),be.target=q,be.relatedTarget=it,ne=be),it=ne,G&&we)t:{for(be=G,L=we,U=0,q=be;q;q=eo(q))U++;for(q=0,ne=L;ne;ne=eo(ne))q++;for(;0<U-q;)be=eo(be),U--;for(;0<q-U;)L=eo(L),q--;for(;U--;){if(be===L||L!==null&&be===L.alternate)break t;be=eo(be),L=eo(L)}be=null}else be=null;G!==null&&fv(ie,H,G,be,!1),we!==null&&it!==null&&fv(ie,it,we,be,!0)}}e:{if(H=F?ci(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var ge=Og;else if(Ut(H))if(Dg)ge=lS;else{ge=aS;var ke=sS}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&Ho(F.elementType)&&(ge=Og):ge=oS;if(ge&&(ge=ge(n,F))){Qi(ie,ge,a,ee);break e}ke&&ke(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Sr(H,"number",H.value)}switch(ke=F?ci(F):window,n){case"focusin":(Ut(ke)||ke.contentEditable==="true")&&(xa=ke,Of=F,el=null);break;case"focusout":el=Of=xa=null;break;case"mousedown":Df=!0;break;case"contextmenu":case"mouseup":case"dragend":Df=!1,Bg(ie,a,ee);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":Bg(ie,a,ee)}var ve;if(yi)e:{switch(n){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else ze?Y(n,a)&&(Se="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(v&&a.locale!=="ko"&&(ze||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&ze&&(ve=Ko()):(di=ee,Ar="value"in di?di.value:di.textContent,ze=!0)),ke=kc(F,Se),0<ke.length&&(Se=new $o(Se,n,null,a,ee),ie.push({event:Se,listeners:ke}),ve?Se.data=ve:(ve=he(a),ve!==null&&(Se.data=ve)))),(ve=y?kt(n,a):qe(n,a))&&(Se=kc(F,"onBeforeInput"),0<Se.length&&(ke=new $o("onBeforeInput","beforeinput",null,a,ee),ie.push({event:ke,listeners:Se}),ke.data=ve)),KS(ie,n,F,a,ee)}cv(ie,r)})}function Nl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function kc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=bs(n,a),f!=null&&l.unshift(Nl(n,f,d)),f=bs(n,r),f!=null&&l.push(Nl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function eo(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function fv(n,r,a,l,f){for(var d=r._reactName,T=[];a!==null&&a!==l;){var b=a,x=b.alternate,F=b.stateNode;if(b=b.tag,x!==null&&x===l)break;b!==5&&b!==26&&b!==27||F===null||(x=F,f?(F=bs(a,d),F!=null&&T.unshift(Nl(a,F,x))):f||(F=bs(a,d),F!=null&&T.push(Nl(a,F,x)))),a=a.return}T.length!==0&&n.push({event:r,listeners:T})}var XS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function dv(n){return(typeof n=="string"?n:""+n).replace(XS,`
`).replace(WS,"")}function mv(n,r){return r=dv(r),dv(n)===r}function Uc(){}function nt(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||jn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&jn(n,""+l);break;case"className":hi(n,"class",l);break;case"tabIndex":hi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":hi(n,a,l);break;case"style":Fo(n,l,d);break;case"data":if(r!=="object"){hi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&nt(n,r,"name",f.name,f,null),nt(n,r,"formEncType",f.formEncType,f,null),nt(n,r,"formMethod",f.formMethod,f,null),nt(n,r,"formTarget",f.formTarget,f,null)):(nt(n,r,"encType",f.encType,f,null),nt(n,r,"method",f.method,f,null),nt(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ta(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ta(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":je("beforetoggle",n),je("toggle",n),br(n,"popover",l);break;case"xlinkActuate":Kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Af.get(a)||a,br(n,a,l))}}function tm(n,r,a,l,f,d){switch(a){case"style":Fo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?jn(n,l):(typeof l=="number"||typeof l=="bigint")&&jn(n,""+l);break;case"onScroll":l!=null&&je("scroll",n);break;case"onScrollEnd":l!=null&&je("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Uc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[It]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):br(n,a,l)}}}function Xt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",n),je("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var T=a[d];if(T!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(n,r,d,T,a,null)}}f&&nt(n,r,"srcSet",a.srcSet,a,null),l&&nt(n,r,"src",a.src,a,null);return;case"input":je("invalid",n);var b=d=T=f=null,x=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var ee=a[l];if(ee!=null)switch(l){case"name":f=ee;break;case"type":T=ee;break;case"checked":x=ee;break;case"defaultChecked":F=ee;break;case"value":d=ee;break;case"defaultValue":b=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(s(137,r));break;default:nt(n,r,l,ee,a,null)}}vs(n,d,b,x,F,T,f,!1),Ea(n);return;case"select":je("invalid",n),l=T=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":T=b;break;case"multiple":l=b;default:nt(n,r,f,b,a,null)}r=d,a=T,n.multiple=!!l,r!=null?zi(n,!!l,r,!1):a!=null&&zi(n,!!l,a,!0);return;case"textarea":je("invalid",n),d=f=l=null;for(T in a)if(a.hasOwnProperty(T)&&(b=a[T],b!=null))switch(T){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:nt(n,r,T,b,a,null)}Es(n,l,f,d),Ea(n);return;case"option":for(x in a)if(a.hasOwnProperty(x)&&(l=a[x],l!=null))switch(x){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:nt(n,r,x,l,a,null)}return;case"dialog":je("beforetoggle",n),je("toggle",n),je("cancel",n),je("close",n);break;case"iframe":case"object":je("load",n);break;case"video":case"audio":for(l=0;l<Cl.length;l++)je(Cl[l],n);break;case"image":je("error",n),je("load",n);break;case"details":je("toggle",n);break;case"embed":case"source":case"link":je("error",n),je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:nt(n,r,F,l,a,null)}return;default:if(Ho(r)){for(ee in a)a.hasOwnProperty(ee)&&(l=a[ee],l!==void 0&&tm(n,r,ee,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&nt(n,r,b,l,a,null))}function JS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,T=null,b=null,x=null,F=null,ee=null;for(G in a){var ie=a[G];if(a.hasOwnProperty(G)&&ie!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":x=ie;default:l.hasOwnProperty(G)||nt(n,r,G,null,l,ie)}}for(var H in l){var G=l[H];if(ie=a[H],l.hasOwnProperty(H)&&(G!=null||ie!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":ee=G;break;case"value":T=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ie&&nt(n,r,H,G,l,ie)}}wn(n,T,b,x,F,ee,d,f);return;case"select":G=T=b=H=null;for(d in a)if(x=a[d],a.hasOwnProperty(d)&&x!=null)switch(d){case"value":break;case"multiple":G=x;default:l.hasOwnProperty(d)||nt(n,r,d,null,l,x)}for(f in l)if(d=l[f],x=a[f],l.hasOwnProperty(f)&&(d!=null||x!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":T=d;default:d!==x&&nt(n,r,f,d,l,x)}r=b,a=T,l=G,H!=null?zi(n,!!a,H,!1):!!l!=!!a&&(r!=null?zi(n,!!a,r,!0):zi(n,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:nt(n,r,b,null,l,f)}for(T in l)if(f=l[T],d=a[T],l.hasOwnProperty(T)&&(f!=null||d!=null))switch(T){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&nt(n,r,T,f,l,d)}et(n,H,G);return;case"option":for(var we in a)if(H=a[we],a.hasOwnProperty(we)&&H!=null&&!l.hasOwnProperty(we))switch(we){case"selected":n.selected=!1;break;default:nt(n,r,we,null,l,H)}for(x in l)if(H=l[x],G=a[x],l.hasOwnProperty(x)&&H!==G&&(H!=null||G!=null))switch(x){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:nt(n,r,x,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)H=a[be],a.hasOwnProperty(be)&&H!=null&&!l.hasOwnProperty(be)&&nt(n,r,be,null,l,H);for(F in l)if(H=l[F],G=a[F],l.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:nt(n,r,F,H,l,G)}return;default:if(Ho(r)){for(var it in a)H=a[it],a.hasOwnProperty(it)&&H!==void 0&&!l.hasOwnProperty(it)&&tm(n,r,it,void 0,l,H);for(ee in l)H=l[ee],G=a[ee],!l.hasOwnProperty(ee)||H===G||H===void 0&&G===void 0||tm(n,r,ee,H,l,G);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&nt(n,r,L,null,l,H);for(ie in l)H=l[ie],G=a[ie],!l.hasOwnProperty(ie)||H===G||H==null&&G==null||nt(n,r,ie,H,l,G)}var nm=null,im=null;function jc(n){return n.nodeType===9?n:n.ownerDocument}function pv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function rm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var sm=null;function ZS(){var n=window.event;return n&&n.type==="popstate"?n===sm?!1:(sm=n,!0):(sm=null,!1)}var yv=typeof setTimeout=="function"?setTimeout:void 0,eA=typeof clearTimeout=="function"?clearTimeout:void 0,_v=typeof Promise=="function"?Promise:void 0,tA=typeof queueMicrotask=="function"?queueMicrotask:typeof _v<"u"?function(n){return _v.resolve(null).then(n).catch(nA)}:yv;function nA(n){setTimeout(function(){throw n})}function Br(n){return n==="head"}function vv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var T=n.ownerDocument;if(a&1&&Il(T.documentElement),a&2&&Il(T.body),a&4)for(a=T.head,Il(a),T=a.firstChild;T;){var b=T.nextSibling,x=T.nodeName;T[ps]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&T.rel.toLowerCase()==="stylesheet"||a.removeChild(T),T=b}}if(f===0){n.removeChild(d),Ul(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Ul(r)}function am(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":am(a),Tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function iA(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ps])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ni(n.nextSibling),n===null)break}return null}function rA(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ni(n.nextSibling),n===null))return null;return n}function om(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function sA(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ni(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var lm=null;function Ev(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function Tv(n,r,a){switch(r=jc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Il(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Tr(n)}var Yn=new Map,bv=new Set;function Lc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var ar=ce.d;ce.d={f:aA,r:oA,D:lA,C:uA,L:cA,m:hA,X:dA,S:fA,M:mA};function aA(){var n=ar.f(),r=xc();return n||r}function oA(n){var r=ui(n);r!==null&&r.tag===5&&r.type==="form"?qy(r):ar.r(n)}var to=typeof document>"u"?null:document;function Sv(n,r,a){var l=to;if(l&&typeof r=="string"&&r){var f=xt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),bv.has(f)||(bv.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Xt(r,"link",n),At(r),l.head.appendChild(r)))}}function lA(n){ar.D(n),Sv("dns-prefetch",n,null)}function uA(n,r){ar.C(n,r),Sv("preconnect",n,r)}function cA(n,r,a){ar.L(n,r,a);var l=to;if(l&&n&&r){var f='link[rel="preload"][as="'+xt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+xt(a.imageSizes)+'"]')):f+='[href="'+xt(n)+'"]';var d=f;switch(r){case"style":d=no(n);break;case"script":d=io(n)}Yn.has(d)||(n=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Yn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(xl(d))||r==="script"&&l.querySelector(Ol(d))||(r=l.createElement("link"),Xt(r,"link",n),At(r),l.head.appendChild(r)))}}function hA(n,r){ar.m(n,r);var a=to;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+xt(l)+'"][href="'+xt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=io(n)}if(!Yn.has(d)&&(n=E({rel:"modulepreload",href:n},r),Yn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Xt(l,"link",n),At(l),a.head.appendChild(l)}}}function fA(n,r,a){ar.S(n,r,a);var l=to;if(l&&n){var f=fn(l).hoistableStyles,d=no(n);r=r||"default";var T=f.get(d);if(!T){var b={loading:0,preload:null};if(T=l.querySelector(xl(d)))b.loading=5;else{n=E({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Yn.get(d))&&um(n,a);var x=T=l.createElement("link");At(x),Xt(x,"link",n),x._p=new Promise(function(F,ee){x.onload=F,x.onerror=ee}),x.addEventListener("load",function(){b.loading|=1}),x.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Bc(T,r,l)}T={type:"stylesheet",instance:T,count:1,state:b},f.set(d,T)}}}function dA(n,r){ar.X(n,r);var a=to;if(a&&n){var l=fn(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(n=E({src:n,async:!0},r),(r=Yn.get(f))&&cm(n,r),d=a.createElement("script"),At(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function mA(n,r){ar.M(n,r);var a=to;if(a&&n){var l=fn(a).hoistableScripts,f=io(n),d=l.get(f);d||(d=a.querySelector(Ol(f)),d||(n=E({src:n,async:!0,type:"module"},r),(r=Yn.get(f))&&cm(n,r),d=a.createElement("script"),At(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Av(n,r,a,l){var f=(f=Ee.current)?Lc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=no(a.href),a=fn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=no(a.href);var d=fn(f).hoistableStyles,T=d.get(n);if(T||(f=f.ownerDocument||f,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,T),(d=f.querySelector(xl(n)))&&!d._p&&(T.instance=d,T.state.loading=5),Yn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Yn.set(n,a),d||pA(f,n,a,T.state))),r&&l===null)throw Error(s(528,""));return T}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=io(a),a=fn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function no(n){return'href="'+xt(n)+'"'}function xl(n){return'link[rel="stylesheet"]['+n+"]"}function wv(n){return E({},n,{"data-precedence":n.precedence,precedence:null})}function pA(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),At(r),n.head.appendChild(r))}function io(n){return'[src="'+xt(n)+'"]'}function Ol(n){return"script[async]"+n}function Rv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+xt(a.href)+'"]');if(l)return r.instance=l,At(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),At(l),Xt(l,"style",f),Bc(l,a.precedence,n),r.instance=l;case"stylesheet":f=no(a.href);var d=n.querySelector(xl(f));if(d)return r.state.loading|=4,r.instance=d,At(d),d;l=wv(a),(f=Yn.get(f))&&um(l,f),d=(n.ownerDocument||n).createElement("link"),At(d);var T=d;return T._p=new Promise(function(b,x){T.onload=b,T.onerror=x}),Xt(d,"link",l),r.state.loading|=4,Bc(d,a.precedence,n),r.instance=d;case"script":return d=io(a.src),(f=n.querySelector(Ol(d)))?(r.instance=f,At(f),f):(l=a,(f=Yn.get(d))&&(l=E({},a),cm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),At(f),Xt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Bc(l,a.precedence,n));return r.instance}function Bc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,T=0;T<l.length;T++){var b=l[T];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function um(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function cm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var zc=null;function Cv(n,r,a){if(zc===null){var l=new Map,f=zc=new Map;f.set(a,l)}else f=zc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ps]||d[Pt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var T=d.getAttribute(r)||"";T=n+T;var b=l.get(T);b?b.push(d):l.set(T,[d])}}return l}function Nv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function gA(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Iv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Dl=null;function yA(){}function _A(n,r,a){if(Dl===null)throw Error(s(475));var l=Dl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=no(a.href),d=n.querySelector(xl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=qc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,At(d);return}d=n.ownerDocument||n,a=wv(a),(f=Yn.get(f))&&um(a,f),d=d.createElement("link"),At(d);var T=d;T._p=new Promise(function(b,x){T.onload=b,T.onerror=x}),Xt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=qc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function vA(){if(Dl===null)throw Error(s(475));var n=Dl;return n.stylesheets&&n.count===0&&hm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&hm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function qc(){if(this.count--,this.count===0){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Fc=null;function hm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Fc=new Map,r.forEach(EA,n),Fc=null,qc.call(n))}function EA(n,r){if(!(r.state.loading&4)){var a=Fc.get(n);if(a)var l=a.get(null);else{a=new Map,Fc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var T=f[d];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(a.set(T.dataset.precedence,T),l=T)}l&&a.set(null,l)}f=r.instance,T=f.getAttribute("data-precedence"),d=a.get(T)||l,d===l&&a.set(null,f),a.set(T,f),this.count++,l=qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ml={$$typeof:K,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function TA(n,r,a,l,f,d,T,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ki(0),this.hiddenUpdates=ki(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function xv(n,r,a,l,f,d,T,b,x,F,ee,ie){return n=new TA(n,r,a,T,b,x,F,ie),r=1,d===!0&&(r|=24),d=Cn(3,null,null,r),n.current=d,d.stateNode=n,r=Kf(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Xf(d),n}function Ov(n){return n?(n=Va,n):Va}function Dv(n,r,a,l,f,d){f=Ov(f),l.context===null?l.context=f:l.pendingContext=f,l=Cr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Nr(n,l,r),a!==null&&(Dn(a,n,r),ul(a,n,r))}function Mv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function fm(n,r){Mv(n,r),(n=n.alternate)&&Mv(n,r)}function Vv(n){if(n.tag===13){var r=Ma(n,67108864);r!==null&&Dn(r,n,67108864),fm(n,67108864)}}var Hc=!0;function bA(n,r,a,l){var f=$.T;$.T=null;var d=ce.p;try{ce.p=2,dm(n,r,a,l)}finally{ce.p=d,$.T=f}}function SA(n,r,a,l){var f=$.T;$.T=null;var d=ce.p;try{ce.p=8,dm(n,r,a,l)}finally{ce.p=d,$.T=f}}function dm(n,r,a,l){if(Hc){var f=mm(l);if(f===null)em(n,r,l,Gc,a),kv(n,l);else if(wA(f,n,r,a,l))l.stopPropagation();else if(kv(n,l),r&4&&-1<AA.indexOf(n)){for(;f!==null;){var d=ui(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var T=Wn(d.pendingLanes);if(T!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;T;){var x=1<<31-nn(T);b.entanglements[1]|=x,T&=~x}Si(d),(Xe&6)===0&&(Nc=_n()+500,Rl(0))}}break;case 13:b=Ma(d,2),b!==null&&Dn(b,d,2),xc(),fm(d,2)}if(d=mm(l),d===null&&em(n,r,l,Gc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else em(n,r,l,null,a)}}function mm(n){return n=Ln(n),pm(n)}var Gc=null;function pm(n){if(Gc=null,n=ji(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Gc=n,null}function Pv(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_f()){case Oo:return 2;case fa:return 8;case cs:case vf:return 32;case da:return 268435456;default:return 32}default:return 32}}var gm=!1,zr=null,qr=null,Fr=null,Vl=new Map,Pl=new Map,Hr=[],AA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kv(n,r){switch(n){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":qr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Vl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pl.delete(r.pointerId)}}function kl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ui(r),r!==null&&Vv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function wA(n,r,a,l,f){switch(r){case"focusin":return zr=kl(zr,n,r,a,l,f),!0;case"dragenter":return qr=kl(qr,n,r,a,l,f),!0;case"mouseover":return Fr=kl(Fr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Vl.set(d,kl(Vl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Pl.set(d,kl(Pl.get(d)||null,n,r,a,l,f)),!0}return!1}function Uv(n){var r=ji(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,xu(n.priority,function(){if(a.tag===13){var l=On();l=_r(l);var f=Ma(a,l);f!==null&&Dn(f,a,l),fm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Kc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=mm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);qi=l,a.target.dispatchEvent(l),qi=null}else return r=ui(a),r!==null&&Vv(r),n.blockedOn=a,!1;r.shift()}return!0}function jv(n,r,a){Kc(n)&&a.delete(r)}function RA(){gm=!1,zr!==null&&Kc(zr)&&(zr=null),qr!==null&&Kc(qr)&&(qr=null),Fr!==null&&Kc(Fr)&&(Fr=null),Vl.forEach(jv),Pl.forEach(jv)}function Qc(n,r){n.blockedOn===r&&(n.blockedOn=null,gm||(gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,RA)))}var Yc=null;function Lv(n){Yc!==n&&(Yc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Yc===n&&(Yc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var d=ui(a);d!==null&&(n.splice(r,3),r-=3,pd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Ul(n){function r(x){return Qc(x,n)}zr!==null&&Qc(zr,n),qr!==null&&Qc(qr,n),Fr!==null&&Qc(Fr,n),Vl.forEach(r),Pl.forEach(r);for(var a=0;a<Hr.length;a++){var l=Hr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<Hr.length&&(a=Hr[0],a.blockedOn===null);)Uv(a),a.blockedOn===null&&Hr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],T=f[It]||null;if(typeof d=="function")T||Lv(a);else if(T){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,T=d[It]||null)b=T.formAction;else if(pm(f)!==null)continue}else b=T.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Lv(a)}}}function ym(n){this._internalRoot=n}$c.prototype.render=ym.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=On();Dv(a,l,n,r,null,null)},$c.prototype.unmount=ym.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Dv(n.current,2,null,n,null,null),xc(),r[Un]=null}};function $c(n){this._internalRoot=n}$c.prototype.unstable_scheduleHydration=function(n){if(n){var r=vr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<Hr.length&&r!==0&&r<Hr[a].priority;a++);Hr.splice(a,0,n),a===0&&Uv(n)}};var Bv=e.version;if(Bv!=="19.1.0")throw Error(s(527,Bv,"19.1.0"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var CA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{gt=Xc.inject(CA),$e=Xc}catch{}}return Ll.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=n_,d=i_,T=r_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=xv(n,1,!1,null,null,a,l,f,d,T,b,null),n[Un]=r.current,Zd(n),new ym(r)},Ll.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=n_,T=i_,b=r_,x=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(T=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(x=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=xv(n,1,!0,r,a??null,l,f,d,T,b,x,F),r.context=Ov(null),a=r.current,l=On(),l=_r(l),f=Cr(l),f.callback=null,Nr(a,f,l),a=l,r.current.lanes=a,Ui(r,a),Si(r),n[Un]=r.current,Zd(n),new $c(r)},Ll.version="19.1.0",Ll}var Wv;function BA(){if(Wv)return Em.exports;Wv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=LA(),Em.exports}var zA=BA();const qA=jE(zA);LE();/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eu(){return eu=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},eu.apply(this,arguments)}var Wr;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})(Wr||(Wr={}));const Jv="popstate";function FA(i){i===void 0&&(i={});function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return zm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:vh(o)}return GA(e,t,null,i)}function mt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Sp(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HA(){return Math.random().toString(36).substr(2,8)}function Zv(i,e){return{usr:i.state,key:i.key,idx:e}}function zm(i,e,t,s){return t===void 0&&(t=null),eu({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?bo(e):e,{state:t,key:e&&e.key||s||HA()})}function vh(i){let{pathname:e="/",search:t="",hash:s=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function bo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function GA(i,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m=Wr.Pop,p=null,g=E();g==null&&(g=0,h.replaceState(eu({},h.state,{idx:g}),""));function E(){return(h.state||{idx:null}).idx}function S(){m=Wr.Pop;let M=E(),te=M==null?null:M-g;g=M,p&&p({action:m,location:B.location,delta:te})}function C(M,te){m=Wr.Push;let ae=zm(B.location,M,te);g=E()+1;let K=Zv(ae,g),ue=B.createHref(ae);try{h.pushState(K,"",ue)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;o.location.assign(ue)}u&&p&&p({action:m,location:B.location,delta:1})}function D(M,te){m=Wr.Replace;let ae=zm(B.location,M,te);g=E();let K=Zv(ae,g),ue=B.createHref(ae);h.replaceState(K,"",ue),u&&p&&p({action:m,location:B.location,delta:0})}function I(M){let te=o.location.origin!=="null"?o.location.origin:o.location.href,ae=typeof M=="string"?M:vh(M);return mt(te,"No window.location.(origin|href) available to create URL for href: "+ae),new URL(ae,te)}let B={get action(){return m},get location(){return i(o,h)},listen(M){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Jv,S),p=M,()=>{o.removeEventListener(Jv,S),p=null}},createHref(M){return e(o,M)},createURL:I,encodeLocation(M){let te=I(M);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:C,replace:D,go(M){return h.go(M)}};return B}var e0;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(e0||(e0={}));function KA(i,e,t){t===void 0&&(t="/");let s=typeof e=="string"?bo(e):e,o=tu(s.pathname||"/",t);if(o==null)return null;let u=BE(i);QA(u);let h=null;for(let m=0;h==null&&m<u.length;++m)h=nw(u[m],rw(o));return h}function BE(i,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(mt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=Zr([s,p.relativePath]),E=t.concat(p);u.children&&u.children.length>0&&(mt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),BE(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:ew(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of zE(u.path))o(u,h,p)}),e}function zE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=zE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function QA(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const YA=/^:\w+$/,$A=3,XA=2,WA=1,JA=10,ZA=-2,t0=i=>i==="*";function ew(i,e){let t=i.split("/"),s=t.length;return t.some(t0)&&(s+=ZA),e&&(s+=XA),t.filter(o=>!t0(o)).reduce((o,u)=>o+(YA.test(u)?$A:u===""?WA:JA),s)}function tw(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function nw(i,e){let{routesMeta:t}=i,s={},o="/",u=[];for(let h=0;h<t.length;++h){let m=t[h],p=h===t.length-1,g=o==="/"?e:e.slice(o.length)||"/",E=qm({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g);if(!E)return null;Object.assign(s,E.params);let S=m.route;u.push({params:s,pathname:Zr([o,E.pathname]),pathnameBase:lw(Zr([o,E.pathnameBase])),route:S}),E.pathnameBase!=="/"&&(o=Zr([o,E.pathnameBase]))}return u}function qm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=iw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,E,S)=>{let{paramName:C,isOptional:D}=E;if(C==="*"){let B=m[S]||"";h=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const I=m[S];return D&&!I?g[C]=void 0:g[C]=sw(I||"",C),g},{}),pathname:u,pathnameBase:h,pattern:i}}function iw(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Sp(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rw(i){try{return decodeURI(i)}catch(e){return Sp(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function sw(i,e){try{return decodeURIComponent(i)}catch(t){return Sp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+i+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),i}}function tu(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function aw(i,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?bo(i):i;return{pathname:t?t.startsWith("/")?t:ow(t,e):e,search:uw(s),hash:cw(o)}}function ow(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Am(i,e,t,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ap(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function wp(i,e,t,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=bo(i):(o=eu({},i),mt(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),mt(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),mt(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else if(s){let S=e[e.length-1].replace(/^\//,"").split("/");if(h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),S.pop();o.pathname=C.join("/")}m="/"+S.join("/")}else{let S=e.length-1;if(h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),S-=1;o.pathname=C.join("/")}m=S>=0?e[S]:"/"}let p=aw(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}const Zr=i=>i.join("/").replace(/\/\/+/g,"/"),lw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,cw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function hw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const qE=["post","put","patch","delete"];new Set(qE);const fw=["get",...qE];new Set(fw);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Eh(){return Eh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Eh.apply(this,arguments)}const Fh=Q.createContext(null),FE=Q.createContext(null),oa=Q.createContext(null),Hh=Q.createContext(null),yr=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),HE=Q.createContext(null);function dw(i,e){let{relative:t}=e===void 0?{}:e;So()||mt(!1);let{basename:s,navigator:o}=Q.useContext(oa),{hash:u,pathname:h,search:m}=Gh(i,{relative:t}),p=h;return s!=="/"&&(p=h==="/"?s:Zr([s,h])),o.createHref({pathname:p,search:m,hash:u})}function So(){return Q.useContext(Hh)!=null}function Ao(){return So()||mt(!1),Q.useContext(Hh).location}function GE(i){Q.useContext(oa).static||Q.useLayoutEffect(i)}function hu(){let{isDataRoute:i}=Q.useContext(yr);return i?Nw():mw()}function mw(){So()||mt(!1);let i=Q.useContext(Fh),{basename:e,navigator:t}=Q.useContext(oa),{matches:s}=Q.useContext(yr),{pathname:o}=Ao(),u=JSON.stringify(Ap(s).map(p=>p.pathnameBase)),h=Q.useRef(!1);return GE(()=>{h.current=!0}),Q.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){t.go(p);return}let E=wp(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:Zr([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,u,o,i])}const pw=Q.createContext(null);function gw(i){let e=Q.useContext(yr).outlet;return e&&Q.createElement(pw.Provider,{value:i},e)}function Gh(i,e){let{relative:t}=e===void 0?{}:e,{matches:s}=Q.useContext(yr),{pathname:o}=Ao(),u=JSON.stringify(Ap(s).map(h=>h.pathnameBase));return Q.useMemo(()=>wp(i,JSON.parse(u),o,t==="path"),[i,u,o,t])}function yw(i,e){return _w(i,e)}function _w(i,e,t){So()||mt(!1);let{navigator:s}=Q.useContext(oa),{matches:o}=Q.useContext(yr),u=o[o.length-1],h=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=Ao(),g;if(e){var E;let B=typeof e=="string"?bo(e):e;m==="/"||(E=B.pathname)!=null&&E.startsWith(m)||mt(!1),g=B}else g=p;let S=g.pathname||"/",C=m==="/"?S:S.slice(m.length)||"/",D=KA(i,{pathname:C}),I=Sw(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Zr([m,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Zr([m,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,t);return e&&I?Q.createElement(Hh.Provider,{value:{location:Eh({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:Wr.Pop}},I):I}function vw(){let i=Cw(),e=hw(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),t?Q.createElement("pre",{style:o},t):null,null)}const Ew=Q.createElement(vw,null);class Tw extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?Q.createElement(yr.Provider,{value:this.props.routeContext},Q.createElement(HE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function bw(i){let{routeContext:e,match:t,children:s}=i,o=Q.useContext(Fh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),Q.createElement(yr.Provider,{value:e},s)}function Sw(i,e,t){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i==null){var o;if((o=t)!=null&&o.errors)i=t.matches;else return null}let u=i,h=(s=t)==null?void 0:s.errors;if(h!=null){let m=u.findIndex(p=>p.route.id&&(h==null?void 0:h[p.route.id]));m>=0||mt(!1),u=u.slice(0,Math.min(u.length,m+1))}return u.reduceRight((m,p,g)=>{let E=p.route.id?h==null?void 0:h[p.route.id]:null,S=null;t&&(S=p.route.errorElement||Ew);let C=e.concat(u.slice(0,g+1)),D=()=>{let I;return E?I=S:p.route.Component?I=Q.createElement(p.route.Component,null):p.route.element?I=p.route.element:I=m,Q.createElement(bw,{match:p,routeContext:{outlet:m,matches:C,isDataRoute:t!=null},children:I})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?Q.createElement(Tw,{location:t.location,revalidation:t.revalidation,component:S,error:E,children:D(),routeContext:{outlet:null,matches:C,isDataRoute:!0}}):D()},null)}var KE=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(KE||{}),QE=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(QE||{});function Aw(i){let e=Q.useContext(Fh);return e||mt(!1),e}function ww(i){let e=Q.useContext(FE);return e||mt(!1),e}function Rw(i){let e=Q.useContext(yr);return e||mt(!1),e}function YE(i){let e=Rw(),t=e.matches[e.matches.length-1];return t.route.id||mt(!1),t.route.id}function Cw(){var i;let e=Q.useContext(HE),t=ww(),s=YE();return e||((i=t.errors)==null?void 0:i[s])}function Nw(){let{router:i}=Aw(KE.UseNavigateStable),e=YE(QE.UseNavigateStable),t=Q.useRef(!1);return GE(()=>{t.current=!0}),Q.useCallback(function(o,u){u===void 0&&(u={}),t.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,Eh({fromRouteId:e},u)))},[i,e])}function $E(i){let{to:e,replace:t,state:s,relative:o}=i;So()||mt(!1);let{matches:u}=Q.useContext(yr),{pathname:h}=Ao(),m=hu(),p=wp(e,Ap(u).map(E=>E.pathnameBase),h,o==="path"),g=JSON.stringify(p);return Q.useEffect(()=>m(JSON.parse(g),{replace:t,state:s,relative:o}),[m,g,o,t,s]),null}function XE(i){return gw(i.context)}function ii(i){mt(!1)}function Iw(i){let{basename:e="/",children:t=null,location:s,navigationType:o=Wr.Pop,navigator:u,static:h=!1}=i;So()&&mt(!1);let m=e.replace(/^\/*/,"/"),p=Q.useMemo(()=>({basename:m,navigator:u,static:h}),[m,u,h]);typeof s=="string"&&(s=bo(s));let{pathname:g="/",search:E="",hash:S="",state:C=null,key:D="default"}=s,I=Q.useMemo(()=>{let B=tu(g,m);return B==null?null:{location:{pathname:B,search:E,hash:S,state:C,key:D},navigationType:o}},[m,g,E,S,C,D,o]);return I==null?null:Q.createElement(oa.Provider,{value:p},Q.createElement(Hh.Provider,{children:t,value:I}))}function xw(i){let{children:e,location:t}=i;return yw(Fm(e),t)}new Promise(()=>{});function Fm(i,e){e===void 0&&(e=[]);let t=[];return Q.Children.forEach(i,(s,o)=>{if(!Q.isValidElement(s))return;let u=[...e,o];if(s.type===Q.Fragment){t.push.apply(t,Fm(s.props.children,u));return}s.type!==ii&&mt(!1),!s.props.index||!s.props.children||mt(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Fm(s.props.children,u)),t.push(h)}),t}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Th(){return Th=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Th.apply(this,arguments)}function WE(i,e){if(i==null)return{};var t={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function Ow(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function Dw(i,e){return i.button===0&&(!e||e==="_self")&&!Ow(i)}const Mw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Vw=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Pw=Q.createContext({isTransitioning:!1}),kw="startTransition",n0=PA[kw];function Uw(i){let{basename:e,children:t,future:s,window:o}=i,u=Q.useRef();u.current==null&&(u.current=FA({window:o,v5Compat:!0}));let h=u.current,[m,p]=Q.useState({action:h.action,location:h.location}),{v7_startTransition:g}=s||{},E=Q.useCallback(S=>{g&&n0?n0(()=>p(S)):p(S)},[p,g]);return Q.useLayoutEffect(()=>h.listen(E),[h,E]),Q.createElement(Iw,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h})}const jw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=Q.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,unstable_viewTransition:S}=e,C=WE(e,Mw),{basename:D}=Q.useContext(oa),I,B=!1;if(typeof g=="string"&&Lw.test(g)&&(I=g,jw))try{let K=new URL(window.location.href),ue=g.startsWith("//")?new URL(K.protocol+g):new URL(g),re=tu(ue.pathname,D);ue.origin===K.origin&&re!=null?g=re+ue.search+ue.hash:B=!0}catch{}let M=dw(g,{relative:o}),te=zw(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,unstable_viewTransition:S});function ae(K){s&&s(K),K.defaultPrevented||te(K)}return Q.createElement("a",Th({},C,{href:I||M,onClick:B||u?s:ae,ref:t,target:p}))}),Bl=Q.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:u="",end:h=!1,style:m,to:p,unstable_viewTransition:g,children:E}=e,S=WE(e,Vw),C=Gh(p,{relative:S.relative}),D=Ao(),I=Q.useContext(FE),{navigator:B}=Q.useContext(oa),M=I!=null&&qw(C)&&g===!0,te=B.encodeLocation?B.encodeLocation(C).pathname:C.pathname,ae=D.pathname,K=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;o||(ae=ae.toLowerCase(),K=K?K.toLowerCase():null,te=te.toLowerCase());const ue=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let re=ae===te||!h&&ae.startsWith(te)&&ae.charAt(ue)==="/",de=K!=null&&(K===te||!h&&K.startsWith(te)&&K.charAt(te.length)==="/"),P={isActive:re,isPending:de,isTransitioning:M},R=re?s:void 0,N;typeof u=="function"?N=u(P):N=[u,re?"active":null,de?"pending":null,M?"transitioning":null].filter(Boolean).join(" ");let O=typeof m=="function"?m(P):m;return Q.createElement(es,Th({},S,{"aria-current":R,className:N,ref:t,style:O,to:p,unstable_viewTransition:g}),typeof E=="function"?E(P):E)});var Hm;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(Hm||(Hm={}));var i0;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(i0||(i0={}));function Bw(i){let e=Q.useContext(Fh);return e||mt(!1),e}function zw(i,e){let{target:t,replace:s,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m}=e===void 0?{}:e,p=hu(),g=Ao(),E=Gh(i,{relative:h});return Q.useCallback(S=>{if(Dw(S,t)){S.preventDefault();let C=s!==void 0?s:vh(g)===vh(E);p(i,{replace:C,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m})}},[g,p,E,s,o,t,i,u,h,m])}function qw(i,e){e===void 0&&(e={});let t=Q.useContext(Pw);t==null&&mt(!1);let{basename:s}=Bw(Hm.useViewTransitionState),o=Gh(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=tu(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=tu(t.nextLocation.pathname,s)||t.nextLocation.pathname;return qm(o.pathname,h)!=null||qm(o.pathname,u)!=null}class JE extends Q.Component{constructor(){super(...arguments);zv(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Error Boundary:",t,s)}render(){return this.state.hasError?_.jsxs("div",{className:"error-boundary",children:[_.jsx("h2",{children:"Algo deu errado!"}),_.jsx("p",{children:this.state.error.message}),_.jsx(es,{to:"/",className:"retry-button",children:"Voltar para a página inicial"})]}):this.props.children}}var ZE={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},r0=fr.createContext&&fr.createContext(ZE),Fw=["attr","size","title"];function Hw(i,e){if(i==null)return{};var t=Gw(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function Gw(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function bh(){return bh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},bh.apply(this,arguments)}function s0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Sh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?s0(Object(t),!0).forEach(function(s){Kw(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):s0(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function Kw(i,e,t){return e=Qw(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Qw(i){var e=Yw(i,"string");return typeof e=="symbol"?e:e+""}function Yw(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function eT(i){return i&&i.map((e,t)=>fr.createElement(e.tag,Sh({key:t},e.attr),eT(e.child)))}function lt(i){return e=>fr.createElement($w,bh({attr:Sh({},i.attr)},e),eT(i.child))}function $w(i){var e=t=>{var{attr:s,size:o,title:u}=i,h=Hw(i,Fw),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),fr.createElement("svg",bh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Sh(Sh({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&fr.createElement("title",null,u),i.children)};return r0!==void 0?fr.createElement(r0.Consumer,null,t=>e(t)):e(ZE)}function Xw(i){return lt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(i)}function tT(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(i)}function Ww(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(i)}function Jw(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(i)}function Ci(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(i)}function Zw(i){return lt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm0 432c-101.69 0-184-82.29-184-184 0-101.69 82.29-184 184-184 101.69 0 184 82.29 184 184 0 101.69-82.29 184-184 184zm0-312c-70.69 0-128 57.31-128 128s57.31 128 128 128 128-57.31 128-128-57.31-128-128-128zm0 192c-35.29 0-64-28.71-64-64s28.71-64 64-64 64 28.71 64 64-28.71 64-64 64z"},child:[]}]})(i)}function nT(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(i)}function e2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(i)}function Kh(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function t2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(i)}function sh(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(i)}function iT(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(i)}function n2(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function i2(i){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(i)}function ho(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(i)}function r2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(i)}function s2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function a2(i){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(i)}function rT(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(i)}function sT(i){return lt({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(i)}function nu(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(i)}function o2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(i)}function aT(i){return lt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function Rp(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}function oT(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function l2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(i)}var a0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},u2=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,S=(u&3)<<4|m>>4;let C=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(C=64)),s.push(t[E],t[S],t[C],t[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(lT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):u2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const S=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||S==null)throw new c2;const C=u<<2|m>>4;if(s.push(C),g!==64){const D=m<<4&240|g>>2;if(s.push(D),S!==64){const I=g<<6&192|S;s.push(I)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class c2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const h2=function(i){const e=lT(i);return uT.encodeByteArray(e,!0)},Ah=function(i){return h2(i).replace(/\./g,"")},cT=function(i){try{return uT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=()=>f2().__FIREBASE_DEFAULTS__,m2=()=>{if(typeof process>"u"||typeof a0>"u")return;const i=a0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},p2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&cT(i[1]);return e&&JSON.parse(e)},Qh=()=>{try{return d2()||m2()||p2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},hT=i=>{var e,t;return(t=(e=Qh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},fT=i=>{const e=hT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},dT=()=>{var i;return(i=Qh())===null||i===void 0?void 0:i.config},mT=i=>{var e;return(e=Qh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Ah(JSON.stringify(t)),Ah(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function y2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function _2(){var i;const e=(i=Qh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function E2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function T2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function b2(){const i=cn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function S2(){return!_2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function w2(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="FirebaseError";class Vi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=R2,Object.setPrototypeOf(this,Vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?C2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Vi(o,m,s)}}function C2(i,e){return i.replace(N2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const N2=/\{\$([^}]+)}/g;function I2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function wh(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(o0(u)&&o0(h)){if(!wh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function o0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function x2(i,e){const t=new O2(i,e);return t.subscribe.bind(t)}class O2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");D2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=wm),o.error===void 0&&(o.error=wm),o.complete===void 0&&(o.complete=wm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function D2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function wm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(i){return i&&i._delegate?i._delegate:i}class ss{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new g2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(P2(e))try{this.getOrInitializeService({instanceIdentifier:Hs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Hs){return this.instances.has(e)}getOptions(e=Hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:V2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Hs){return this.component?this.component.multipleInstances?e:Hs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function V2(i){return i===Hs?void 0:i}function P2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new M2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Be;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Be||(Be={}));const U2={debug:Be.DEBUG,verbose:Be.VERBOSE,info:Be.INFO,warn:Be.WARN,error:Be.ERROR,silent:Be.SILENT},j2=Be.INFO,L2={[Be.DEBUG]:"log",[Be.VERBOSE]:"log",[Be.INFO]:"info",[Be.WARN]:"warn",[Be.ERROR]:"error"},B2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=L2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cp{constructor(e){this.name=e,this._logLevel=j2,this._logHandler=B2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?U2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Be.DEBUG,...e),this._logHandler(this,Be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Be.VERBOSE,...e),this._logHandler(this,Be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Be.INFO,...e),this._logHandler(this,Be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Be.WARN,...e),this._logHandler(this,Be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Be.ERROR,...e),this._logHandler(this,Be.ERROR,...e)}}const z2=(i,e)=>e.some(t=>i instanceof t);let l0,u0;function q2(){return l0||(l0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function F2(){return u0||(u0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gT=new WeakMap,Gm=new WeakMap,yT=new WeakMap,Rm=new WeakMap,Np=new WeakMap;function H2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(ts(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&gT.set(t,i)}).catch(()=>{}),Np.set(e,i),e}function G2(i){if(Gm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Gm.set(i,e)}let Km={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Gm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||yT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ts(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function K2(i){Km=i(Km)}function Q2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Cm(this),e,...t);return yT.set(s,e.sort?e.sort():[e]),ts(s)}:F2().includes(i)?function(...e){return i.apply(Cm(this),e),ts(gT.get(this))}:function(...e){return ts(i.apply(Cm(this),e))}}function Y2(i){return typeof i=="function"?Q2(i):(i instanceof IDBTransaction&&G2(i),z2(i,q2())?new Proxy(i,Km):i)}function ts(i){if(i instanceof IDBRequest)return H2(i);if(Rm.has(i))return Rm.get(i);const e=Y2(i);return e!==i&&(Rm.set(i,e),Np.set(e,i)),e}const Cm=i=>Np.get(i);function $2(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=ts(h);return s&&h.addEventListener("upgradeneeded",p=>{s(ts(h.result),p.oldVersion,p.newVersion,ts(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const X2=["get","getKey","getAll","getAllKeys","count"],W2=["put","add","delete","clear"],Nm=new Map;function c0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Nm.get(e))return Nm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=W2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||X2.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return Nm.set(e,u),u}K2(i=>({...i,get:(e,t,s)=>c0(e,t)||i.get(e,t,s),has:(e,t)=>!!c0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Z2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function Z2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Qm="@firebase/app",h0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr=new Cp("@firebase/app"),eR="@firebase/app-compat",tR="@firebase/analytics-compat",nR="@firebase/analytics",iR="@firebase/app-check-compat",rR="@firebase/app-check",sR="@firebase/auth",aR="@firebase/auth-compat",oR="@firebase/database",lR="@firebase/data-connect",uR="@firebase/database-compat",cR="@firebase/functions",hR="@firebase/functions-compat",fR="@firebase/installations",dR="@firebase/installations-compat",mR="@firebase/messaging",pR="@firebase/messaging-compat",gR="@firebase/performance",yR="@firebase/performance-compat",_R="@firebase/remote-config",vR="@firebase/remote-config-compat",ER="@firebase/storage",TR="@firebase/storage-compat",bR="@firebase/firestore",SR="@firebase/vertexai-preview",AR="@firebase/firestore-compat",wR="firebase",RR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ym="[DEFAULT]",CR={[Qm]:"fire-core",[eR]:"fire-core-compat",[nR]:"fire-analytics",[tR]:"fire-analytics-compat",[rR]:"fire-app-check",[iR]:"fire-app-check-compat",[sR]:"fire-auth",[aR]:"fire-auth-compat",[oR]:"fire-rtdb",[lR]:"fire-data-connect",[uR]:"fire-rtdb-compat",[cR]:"fire-fn",[hR]:"fire-fn-compat",[fR]:"fire-iid",[dR]:"fire-iid-compat",[mR]:"fire-fcm",[pR]:"fire-fcm-compat",[gR]:"fire-perf",[yR]:"fire-perf-compat",[_R]:"fire-rc",[vR]:"fire-rc-compat",[ER]:"fire-gcs",[TR]:"fire-gcs-compat",[bR]:"fire-fst",[AR]:"fire-fst-compat",[SR]:"fire-vertex","fire-js":"fire-js",[wR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new Map,NR=new Map,$m=new Map;function f0(i,e){try{i.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Zs(i){const e=i.name;if($m.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,i);for(const t of Rh.values())f0(t,i);for(const t of NR.values())f0(t,i);return!0}function Yh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function lr(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ns=new fu("app","Firebase",IR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ss("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=RR;function _T(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Ym,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ns.create("bad-app-name",{appName:String(o)});if(t||(t=dT()),!t)throw ns.create("no-options");const u=Rh.get(o);if(u){if(wh(t,u.options)&&wh(s,u.config))return u;throw ns.create("duplicate-app",{appName:o})}const h=new k2(o);for(const p of $m.values())h.addComponent(p);const m=new xR(t,s,h);return Rh.set(o,m),m}function Ip(i=Ym){const e=Rh.get(i);if(!e&&i===Ym&&dT())return _T();if(!e)throw ns.create("no-app",{appName:i});return e}function Ni(i,e,t){var s;let o=(s=CR[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(m.join(" "));return}Zs(new ss(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OR="firebase-heartbeat-database",DR=1,iu="firebase-heartbeat-store";let Im=null;function vT(){return Im||(Im=$2(OR,DR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(iu)}catch(t){console.warn(t)}}}}).catch(i=>{throw ns.create("idb-open",{originalErrorMessage:i.message})})),Im}async function MR(i){try{const t=(await vT()).transaction(iu),s=await t.objectStore(iu).get(ET(i));return await t.done,s}catch(e){if(e instanceof Vi)dr.warn(e.message);else{const t=ns.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dr.warn(t.message)}}}async function d0(i,e){try{const s=(await vT()).transaction(iu,"readwrite");await s.objectStore(iu).put(e,ET(i)),await s.done}catch(t){if(t instanceof Vi)dr.warn(t.message);else{const s=ns.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});dr.warn(s.message)}}}function ET(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=1024,PR=30*24*60*60*1e3;class kR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new jR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=m0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=PR}),this._storage.overwrite(this._heartbeatsCache))}catch(s){dr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=m0(),{heartbeatsToSend:s,unsentEntries:o}=UR(this._heartbeatsCache.heartbeats),u=Ah(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return dr.warn(t),""}}}function m0(){return new Date().toISOString().substring(0,10)}function UR(i,e=VR){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),p0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),p0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class jR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?w2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await MR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return d0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return d0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function p0(i){return Ah(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(i){Zs(new ss("platform-logger",e=>new J2(e),"PRIVATE")),Zs(new ss("heartbeat",e=>new kR(e),"PRIVATE")),Ni(Qm,h0,i),Ni(Qm,h0,"esm2017"),Ni("fire-js","")}LR("");var BR="firebase",zR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ni(BR,zR,"app");function xp(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qR=TT,bT=new fu("auth","Firebase",TT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Cp("@firebase/auth");function FR(i,...e){Ch.logLevel<=Be.WARN&&Ch.warn(`Auth (${la}): ${i}`,...e)}function ah(i,...e){Ch.logLevel<=Be.ERROR&&Ch.error(`Auth (${la}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(i,...e){throw Dp(i,...e)}function ri(i,...e){return Dp(i,...e)}function Op(i,e,t){const s=Object.assign(Object.assign({},qR()),{[e]:t});return new fu("auth","Firebase",s).create(e,{appName:i.name})}function Ys(i){return Op(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function HR(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Di(i,"argument-error"),Op(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return bT.create(i,...e)}function Ce(i,e,...t){if(!i)throw Dp(e,...t)}function ur(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ah(e),new Error(e)}function mr(i,e){i||ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function GR(){return g0()==="http:"||g0()==="https:"}function g0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GR()||E2()||"connection"in navigator)?navigator.onLine:!0}function QR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.shortDelay=e,this.longDelay=t,mr(t>e,"Short delay should be less than long delay!"),this.isMobile=y2()||T2()}get(){return KR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){mr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $R=new mu(3e4,6e4);function Vp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ua(i,e,t,s,o={}){return AT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=du(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return v2()||(g.referrerPolicy="no-referrer"),ST.fetch()(wT(i,i.config.apiHost,t,m),g)})}async function AT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},YR),e);try{const o=new WR(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Wc(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wc(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wc(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Op(i,E,g);Di(i,E)}}catch(o){if(o instanceof Vi)throw o;Di(i,"network-request-failed",{message:String(o)})}}async function XR(i,e,t,s,o={}){const u=await ua(i,e,t,s,o);return"mfaPendingCredential"in u&&Di(i,"multi-factor-auth-required",{_serverResponse:u}),u}function wT(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Mp(i.config,o):`${i.config.apiScheme}://${o}`}class WR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ri(this.auth,"network-request-failed")),$R.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wc(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ri(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JR(i,e){return ua(i,"POST","/v1/accounts:delete",e)}async function RT(i,e){return ua(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ZR(i,e=!1){const t=Et(i),s=await t.getIdToken(e),o=Pp(s);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Ql(xm(o.auth_time)),issuedAtTime:Ql(xm(o.iat)),expirationTime:Ql(xm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function xm(i){return Number(i)*1e3}function Pp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return ah("JWT malformed, contained fewer than 3 sections"),null;try{const o=cT(t);return o?JSON.parse(o):(ah("Failed to decode base64 JWT payload"),null)}catch(o){return ah("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function y0(i){const e=Pp(i);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fo(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Vi&&e4(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function e4({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ql(this.lastLoginAt),this.creationTime=Ql(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await fo(i,RT(t,{idToken:s}));Ce(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?CT(u.providerUserInfo):[],m=i4(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),E=p?g:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Wm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,S)}async function n4(i){const e=Et(i);await Nh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i4(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function CT(i){return i.map(e=>{var{providerId:t}=e,s=xp(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(i,e){const t=await AT(i,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=wT(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",ST.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function s4(i,e){return ua(i,"POST","/v2/accounts:revokeToken",Vp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):y0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=y0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await r4(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new oo;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ce(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Ce(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(i,e){Ce(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class cr{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=xp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Wm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await fo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ZR(this,e)}reload(){return n4(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new cr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await Nh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject(Ys(this.auth));const e=await this.getIdToken();return await fo(this,JR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,E;const S=(s=t.displayName)!==null&&s!==void 0?s:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,D=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,I=(h=t.photoURL)!==null&&h!==void 0?h:void 0,B=(m=t.tenantId)!==null&&m!==void 0?m:void 0,M=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,te=(g=t.createdAt)!==null&&g!==void 0?g:void 0,ae=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:K,emailVerified:ue,isAnonymous:re,providerData:de,stsTokenManager:P}=t;Ce(K&&P,e,"internal-error");const R=oo.fromJSON(this.name,P);Ce(typeof K=="string",e,"internal-error"),Kr(S,e.name),Kr(C,e.name),Ce(typeof ue=="boolean",e,"internal-error"),Ce(typeof re=="boolean",e,"internal-error"),Kr(D,e.name),Kr(I,e.name),Kr(B,e.name),Kr(M,e.name),Kr(te,e.name),Kr(ae,e.name);const N=new cr({uid:K,auth:e,email:C,emailVerified:ue,displayName:S,isAnonymous:re,photoURL:I,phoneNumber:D,tenantId:B,stsTokenManager:R,createdAt:te,lastLoginAt:ae});return de&&Array.isArray(de)&&(N.providerData=de.map(O=>Object.assign({},O))),M&&(N._redirectEventId=M),N}static async _fromIdTokenResponse(e,t,s=!1){const o=new oo;o.updateFromServerResponse(t);const u=new cr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Nh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?CT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new oo;m.updateFromIdToken(s);const p=new cr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Wm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0=new Map;function hr(i){mr(i instanceof Function,"Expected a class definition");let e=_0.get(i);return e?(mr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,_0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}NT.type="NONE";const v0=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(i,e,t){return`firebase:${i}:${e}:${t}`}class lo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=oh(this.userKey,o.apiKey,u),this.fullPersistenceKey=oh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?cr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new lo(hr(v0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||hr(v0);const h=oh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const E=await g._get(h);if(E){const S=cr._fromJSON(e,E);g!==u&&(m=S),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new lo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(IT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VT(e))return"Blackberry";if(PT(e))return"Webos";if(xT(e))return"Safari";if((e.includes("chrome/")||OT(e))&&!e.includes("edge/"))return"Chrome";if(MT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function IT(i=cn()){return/firefox\//i.test(i)}function xT(i=cn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OT(i=cn()){return/crios\//i.test(i)}function DT(i=cn()){return/iemobile/i.test(i)}function MT(i=cn()){return/android/i.test(i)}function VT(i=cn()){return/blackberry/i.test(i)}function PT(i=cn()){return/webos/i.test(i)}function kp(i=cn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function a4(i=cn()){var e;return kp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function o4(){return b2()&&document.documentMode===10}function kT(i=cn()){return kp(i)||MT(i)||PT(i)||VT(i)||/windows phone/i.test(i)||DT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(i,e=[]){let t;switch(i){case"Browser":t=E0(cn());break;case"Worker":t=`${E0(cn())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${la}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(i,e={}){return ua(i,"GET","/v2/passwordPolicy",Vp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=6;class h4{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:c4,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new T0(this),this.idTokenSubscription=new T0(this),this.beforeStateQueue=new l4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=hr(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await lo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await RT(this,{idToken:e}),s=await cr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(lr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Nh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject(Ys(this));const t=e?Et(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await u4(this),t=new h4(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await s4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&hr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[hr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&FR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function $h(i){return Et(i)}class T0{constructor(e){this.auth=e,this.observer=null,this.addObserver=x2(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function d4(i){Up=i}function m4(i){return Up.loadJS(i)}function p4(){return Up.gapiScript}function g4(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(i,e){const t=Yh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(wh(u,e??{}))return o;Di(o,"already-initialized")}return t.initialize({options:e})}function _4(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(hr);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function v4(i,e,t){const s=$h(i);Ce(s._canInitEmulator,s,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=jT(e),{host:h,port:m}=E4(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),T4()}function jT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function E4(i){const e=jT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:b0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:b0(h)}}}function b0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function T4(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(i,e){return XR(i,"POST","/v1/accounts:signInWithIdp",Vp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b4="http://localhost";class ea extends LT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ea(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Di("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=xp(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ea(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return uo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,uo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,uo(e,t)}buildRequest(){const e={requestUri:b4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=du(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu extends jp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends pu{constructor(){super("facebook.com")}static credential(e){return ea._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends pu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ea._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return or.credential(t,s)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends pu{constructor(){super("github.com")}static credential(e){return ea._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends pu{constructor(){super("twitter.com")}static credential(e,t){return ea._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return $r.credential(t,s)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await cr._fromIdTokenResponse(e,s,o),h=S0(s);return new mo({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=S0(s);return new mo({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function S0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends Vi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Ih(e,t,s,o)}}function BT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(i,u,e,s):u})}async function S4(i,e,t=!1){const s=await fo(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return mo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A4(i,e,t=!1){const{auth:s}=i;if(lr(s.app))return Promise.reject(Ys(s));const o="reauthenticate";try{const u=await fo(i,BT(s,o,e,i),t);Ce(u.idToken,s,"internal-error");const h=Pp(u.idToken);Ce(h,s,"internal-error");const{sub:m}=h;return Ce(i.uid===m,s,"user-mismatch"),mo._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Di(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w4(i,e,t=!1){if(lr(i.app))return Promise.reject(Ys(i));const s="signIn",o=await BT(i,s,e),u=await mo._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R4(i,e){return ua(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A0(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=Et(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await fo(s,R4(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(i,e){return Et(i).setPersistence(e)}function N4(i,e,t,s){return Et(i).onIdTokenChanged(e,t,s)}function I4(i,e,t){return Et(i).beforeAuthStateChanged(e,t)}function x4(i){return Et(i).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O4=1e3,D4=10;class qT extends zT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=kT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);o4()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,D4):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},O4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}qT.type="LOCAL";const FT=qT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends zT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}HT.type="SESSION";const GT=HT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await M4(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Lp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(S){const C=S;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(C.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function P4(i){Ii().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function k4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U4(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function j4(){return KT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="firebaseLocalStorageDb",L4=1,Oh="firebaseLocalStorage",YT="fbase_key";class gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Wh(i,e){return i.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function B4(){const i=indexedDB.deleteDatabase(QT);return new gu(i).toPromise()}function Jm(){const i=indexedDB.open(QT,L4);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Oh,{keyPath:YT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await B4(),e(await Jm()))})})}async function w0(i,e,t){const s=Wh(i,!0).put({[YT]:e,value:t});return new gu(s).toPromise()}async function z4(i,e){const t=Wh(i,!1).get(e),s=await new gu(t).toPromise();return s===void 0?null:s.value}function R0(i,e){const t=Wh(i,!0).delete(e);return new gu(t).toPromise()}const q4=800,F4=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Jm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>F4)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(j4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await k4(),!this.activeServiceWorker)return;this.sender=new V4(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Jm();return await w0(e,xh,"1"),await R0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>w0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>z4(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>R0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new gu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),q4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const H4=$T;new mu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(i,e){return e?hr(e):(Ce(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends LT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return uo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return uo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return uo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function G4(i){return w4(i.auth,new Bp(i),i.bypassAuthState)}function K4(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),A4(t,new Bp(i),i.bypassAuthState)}async function Q4(i){const{auth:e,user:t}=i;return Ce(t,e,"internal-error"),S4(t,new Bp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G4;case"linkViaPopup":case"linkViaRedirect":return Q4;case"reauthViaPopup":case"reauthViaRedirect":return K4;default:Di(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new mu(2e3,1e4);async function $4(i,e,t){if(lr(i.app))return Promise.reject(ri(i,"operation-not-supported-in-this-environment"));const s=$h(i);HR(i,e,jp);const o=XT(s,t);return new Gs(s,"signInViaPopup",e,o).executeNotNull()}class Gs extends WT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=Lp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Y4.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4="pendingRedirect",lh=new Map;class W4 extends WT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=lh.get(this.auth._key());if(!e){try{const s=await J4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}lh.set(this.auth._key(),e)}return this.bypassAuthState||lh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J4(i,e){const t=tC(e),s=eC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function Z4(i,e){lh.set(i._key(),e)}function eC(i){return hr(i._redirectPersistence)}function tC(i){return oh(X4,i.config.apiKey,i.name)}async function nC(i,e,t=!1){if(lr(i.app))return Promise.reject(Ys(i));const s=$h(i),o=XT(s,e),h=await new W4(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=10*60*1e3;class rC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!JT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ri(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(C0(e))}saveEventToCache(e){this.cachedEventUids.add(C0(e)),this.lastProcessedEventTime=Date.now()}}function C0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function JT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return JT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(i,e={}){return ua(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lC=/^https?/;async function uC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await aC(i);for(const t of e)try{if(cC(t))return}catch{}Di(i,"unauthorized-domain")}function cC(i){const e=Xm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!lC.test(t))return!1;if(oC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC=new mu(3e4,6e4);function N0(){const i=Ii().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function fC(i){return new Promise((e,t)=>{var s,o,u;function h(){N0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{N0(),t(ri(i,"network-request-failed"))},timeout:hC.get()})}if(!((o=(s=Ii().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)h();else{const m=g4("iframefcb");return Ii()[m]=()=>{gapi.load?h():t(ri(i,"network-request-failed"))},m4(`${p4()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw uh=null,e})}let uh=null;function dC(i){return uh=uh||fC(i),uh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC=new mu(5e3,15e3),pC="__/auth/iframe",gC="emulator/auth/iframe",yC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_C=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function vC(i){const e=i.config;Ce(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Mp(e,gC):`https://${i.config.authDomain}/${pC}`,s={apiKey:e.apiKey,appName:i.name,v:la},o=_C.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${du(s).slice(1)}`}async function EC(i){const e=await dC(i),t=Ii().gapi;return Ce(t,i,"internal-error"),e.open({where:document.body,url:vC(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ri(i,"network-request-failed"),m=Ii().setTimeout(()=>{u(h)},mC.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bC=500,SC=600,AC="_blank",wC="http://localhost";class I0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(i,e,t,s=bC,o=SC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},TC),{width:s.toString(),height:o.toString(),top:u,left:h}),g=cn().toLowerCase();t&&(m=OT(g)?AC:t),IT(g)&&(e=e||wC,p.scrollbars="yes");const E=Object.entries(p).reduce((C,[D,I])=>`${C}${D}=${I},`,"");if(a4(g)&&m!=="_self")return CC(e||"",m),new I0(null);const S=window.open(e||"",m,E);Ce(S,i,"popup-blocked");try{S.focus()}catch{}return new I0(S)}function CC(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC="__/auth/handler",IC="emulator/auth/handler",xC=encodeURIComponent("fac");async function x0(i,e,t,s,o,u){Ce(i.config.authDomain,i,"auth-domain-config-required"),Ce(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:la,eventId:o};if(e instanceof jp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",I2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,S]of Object.entries({}))h[E]=S}if(e instanceof pu){const E=e.getScopes().filter(S=>S!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${xC}=${encodeURIComponent(p)}`:"";return`${OC(i)}?${du(m).slice(1)}${g}`}function OC({config:i}){return i.emulator?Mp(i,IC):`https://${i.authDomain}/${NC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class DC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GT,this._completeRedirectFn=nC,this._overrideRedirectResult=Z4}async _openPopup(e,t,s,o){var u;mr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await x0(e,t,s,Xm(),o);return RC(e,h,Lp())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await x0(e,t,s,Xm(),o);return P4(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await EC(e),s=new rC(e);return t.register("authEvent",o=>(Ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];h!==void 0&&t(!!h),Di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=uC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return kT()||xT()||kp()}}const MC=DC;var O0="@firebase/auth",D0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PC(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kC(i){Zs(new ss("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Ce(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(i)},g=new f4(s,o,u,p);return _4(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Zs(new ss("auth-internal",e=>{const t=$h(e.getProvider("auth").getImmediate());return(s=>new VC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ni(O0,D0,PC(i)),Ni(O0,D0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=5*60,jC=mT("authIdTokenMaxAge")||UC;let M0=null;const LC=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>jC)return;const o=t==null?void 0:t.token;M0!==o&&(M0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BC(i=Ip()){const e=Yh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=y4(i,{popupRedirectResolver:MC,persistence:[H4,FT,GT]}),s=mT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=LC(u.toString());I4(t,h,()=>h(t.currentUser)),N4(t,m=>h(m))}}const o=hT("auth");return o&&v4(t,`http://${o}`),t}function zC(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}d4({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ri("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",zC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kC("Browser");var V0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $s,ZT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,R){function N(){}N.prototype=R.prototype,P.D=R.prototype,P.prototype=new N,P.prototype.constructor=P,P.C=function(O,k,j){for(var w=Array(arguments.length-2),me=2;me<arguments.length;me++)w[me-2]=arguments[me];return R.prototype[k].apply(O,w)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,R,N){N||(N=0);var O=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)O[k]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(k=0;16>k;++k)O[k]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=P.g[0],N=P.g[1],k=P.g[2];var j=P.g[3],w=R+(j^N&(k^j))+O[0]+3614090360&4294967295;R=N+(w<<7&4294967295|w>>>25),w=j+(k^R&(N^k))+O[1]+3905402710&4294967295,j=R+(w<<12&4294967295|w>>>20),w=k+(N^j&(R^N))+O[2]+606105819&4294967295,k=j+(w<<17&4294967295|w>>>15),w=N+(R^k&(j^R))+O[3]+3250441966&4294967295,N=k+(w<<22&4294967295|w>>>10),w=R+(j^N&(k^j))+O[4]+4118548399&4294967295,R=N+(w<<7&4294967295|w>>>25),w=j+(k^R&(N^k))+O[5]+1200080426&4294967295,j=R+(w<<12&4294967295|w>>>20),w=k+(N^j&(R^N))+O[6]+2821735955&4294967295,k=j+(w<<17&4294967295|w>>>15),w=N+(R^k&(j^R))+O[7]+4249261313&4294967295,N=k+(w<<22&4294967295|w>>>10),w=R+(j^N&(k^j))+O[8]+1770035416&4294967295,R=N+(w<<7&4294967295|w>>>25),w=j+(k^R&(N^k))+O[9]+2336552879&4294967295,j=R+(w<<12&4294967295|w>>>20),w=k+(N^j&(R^N))+O[10]+4294925233&4294967295,k=j+(w<<17&4294967295|w>>>15),w=N+(R^k&(j^R))+O[11]+2304563134&4294967295,N=k+(w<<22&4294967295|w>>>10),w=R+(j^N&(k^j))+O[12]+1804603682&4294967295,R=N+(w<<7&4294967295|w>>>25),w=j+(k^R&(N^k))+O[13]+4254626195&4294967295,j=R+(w<<12&4294967295|w>>>20),w=k+(N^j&(R^N))+O[14]+2792965006&4294967295,k=j+(w<<17&4294967295|w>>>15),w=N+(R^k&(j^R))+O[15]+1236535329&4294967295,N=k+(w<<22&4294967295|w>>>10),w=R+(k^j&(N^k))+O[1]+4129170786&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^k&(R^N))+O[6]+3225465664&4294967295,j=R+(w<<9&4294967295|w>>>23),w=k+(R^N&(j^R))+O[11]+643717713&4294967295,k=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(k^j))+O[0]+3921069994&4294967295,N=k+(w<<20&4294967295|w>>>12),w=R+(k^j&(N^k))+O[5]+3593408605&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^k&(R^N))+O[10]+38016083&4294967295,j=R+(w<<9&4294967295|w>>>23),w=k+(R^N&(j^R))+O[15]+3634488961&4294967295,k=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(k^j))+O[4]+3889429448&4294967295,N=k+(w<<20&4294967295|w>>>12),w=R+(k^j&(N^k))+O[9]+568446438&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^k&(R^N))+O[14]+3275163606&4294967295,j=R+(w<<9&4294967295|w>>>23),w=k+(R^N&(j^R))+O[3]+4107603335&4294967295,k=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(k^j))+O[8]+1163531501&4294967295,N=k+(w<<20&4294967295|w>>>12),w=R+(k^j&(N^k))+O[13]+2850285829&4294967295,R=N+(w<<5&4294967295|w>>>27),w=j+(N^k&(R^N))+O[2]+4243563512&4294967295,j=R+(w<<9&4294967295|w>>>23),w=k+(R^N&(j^R))+O[7]+1735328473&4294967295,k=j+(w<<14&4294967295|w>>>18),w=N+(j^R&(k^j))+O[12]+2368359562&4294967295,N=k+(w<<20&4294967295|w>>>12),w=R+(N^k^j)+O[5]+4294588738&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^k)+O[8]+2272392833&4294967295,j=R+(w<<11&4294967295|w>>>21),w=k+(j^R^N)+O[11]+1839030562&4294967295,k=j+(w<<16&4294967295|w>>>16),w=N+(k^j^R)+O[14]+4259657740&4294967295,N=k+(w<<23&4294967295|w>>>9),w=R+(N^k^j)+O[1]+2763975236&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^k)+O[4]+1272893353&4294967295,j=R+(w<<11&4294967295|w>>>21),w=k+(j^R^N)+O[7]+4139469664&4294967295,k=j+(w<<16&4294967295|w>>>16),w=N+(k^j^R)+O[10]+3200236656&4294967295,N=k+(w<<23&4294967295|w>>>9),w=R+(N^k^j)+O[13]+681279174&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^k)+O[0]+3936430074&4294967295,j=R+(w<<11&4294967295|w>>>21),w=k+(j^R^N)+O[3]+3572445317&4294967295,k=j+(w<<16&4294967295|w>>>16),w=N+(k^j^R)+O[6]+76029189&4294967295,N=k+(w<<23&4294967295|w>>>9),w=R+(N^k^j)+O[9]+3654602809&4294967295,R=N+(w<<4&4294967295|w>>>28),w=j+(R^N^k)+O[12]+3873151461&4294967295,j=R+(w<<11&4294967295|w>>>21),w=k+(j^R^N)+O[15]+530742520&4294967295,k=j+(w<<16&4294967295|w>>>16),w=N+(k^j^R)+O[2]+3299628645&4294967295,N=k+(w<<23&4294967295|w>>>9),w=R+(k^(N|~j))+O[0]+4096336452&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~k))+O[7]+1126891415&4294967295,j=R+(w<<10&4294967295|w>>>22),w=k+(R^(j|~N))+O[14]+2878612391&4294967295,k=j+(w<<15&4294967295|w>>>17),w=N+(j^(k|~R))+O[5]+4237533241&4294967295,N=k+(w<<21&4294967295|w>>>11),w=R+(k^(N|~j))+O[12]+1700485571&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~k))+O[3]+2399980690&4294967295,j=R+(w<<10&4294967295|w>>>22),w=k+(R^(j|~N))+O[10]+4293915773&4294967295,k=j+(w<<15&4294967295|w>>>17),w=N+(j^(k|~R))+O[1]+2240044497&4294967295,N=k+(w<<21&4294967295|w>>>11),w=R+(k^(N|~j))+O[8]+1873313359&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~k))+O[15]+4264355552&4294967295,j=R+(w<<10&4294967295|w>>>22),w=k+(R^(j|~N))+O[6]+2734768916&4294967295,k=j+(w<<15&4294967295|w>>>17),w=N+(j^(k|~R))+O[13]+1309151649&4294967295,N=k+(w<<21&4294967295|w>>>11),w=R+(k^(N|~j))+O[4]+4149444226&4294967295,R=N+(w<<6&4294967295|w>>>26),w=j+(N^(R|~k))+O[11]+3174756917&4294967295,j=R+(w<<10&4294967295|w>>>22),w=k+(R^(j|~N))+O[2]+718787259&4294967295,k=j+(w<<15&4294967295|w>>>17),w=N+(j^(k|~R))+O[9]+3951481745&4294967295,P.g[0]=P.g[0]+R&4294967295,P.g[1]=P.g[1]+(k+(w<<21&4294967295|w>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+j&4294967295}s.prototype.u=function(P,R){R===void 0&&(R=P.length);for(var N=R-this.blockSize,O=this.B,k=this.h,j=0;j<R;){if(k==0)for(;j<=N;)o(this,P,j),j+=this.blockSize;if(typeof P=="string"){for(;j<R;)if(O[k++]=P.charCodeAt(j++),k==this.blockSize){o(this,O),k=0;break}}else for(;j<R;)if(O[k++]=P[j++],k==this.blockSize){o(this,O),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var R=1;R<P.length-8;++R)P[R]=0;var N=8*this.o;for(R=P.length-8;R<P.length;++R)P[R]=N&255,N/=256;for(this.u(P),P=Array(16),R=N=0;4>R;++R)for(var O=0;32>O;O+=8)P[N++]=this.g[R]>>>O&255;return P};function u(P,R){var N=m;return Object.prototype.hasOwnProperty.call(N,P)?N[P]:N[P]=R(P)}function h(P,R){this.h=R;for(var N=[],O=!0,k=P.length-1;0<=k;k--){var j=P[k]|0;O&&j==R||(N[k]=j,O=!1)}this.g=N}var m={};function p(P){return-128<=P&&128>P?u(P,function(R){return new h([R|0],0>R?-1:0)}):new h([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return S;if(0>P)return M(g(-P));for(var R=[],N=1,O=0;P>=N;O++)R[O]=P/N|0,N*=4294967296;return new h(R,0)}function E(P,R){if(P.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P.charAt(0)=="-")return M(E(P.substring(1),R));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=g(Math.pow(R,8)),O=S,k=0;k<P.length;k+=8){var j=Math.min(8,P.length-k),w=parseInt(P.substring(k,k+j),R);8>j?(j=g(Math.pow(R,j)),O=O.j(j).add(g(w))):(O=O.j(N),O=O.add(g(w)))}return O}var S=p(0),C=p(1),D=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-M(this).m();for(var P=0,R=1,N=0;N<this.g.length;N++){var O=this.i(N);P+=(0<=O?O:4294967296+O)*R,R*=4294967296}return P},i.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(I(this))return"0";if(B(this))return"-"+M(this).toString(P);for(var R=g(Math.pow(P,6)),N=this,O="";;){var k=ue(N,R).g;N=te(N,k.j(R));var j=((0<N.g.length?N.g[0]:N.h)>>>0).toString(P);if(N=k,I(N))return j+O;for(;6>j.length;)j="0"+j;O=j+O}},i.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function I(P){if(P.h!=0)return!1;for(var R=0;R<P.g.length;R++)if(P.g[R]!=0)return!1;return!0}function B(P){return P.h==-1}i.l=function(P){return P=te(this,P),B(P)?-1:I(P)?0:1};function M(P){for(var R=P.g.length,N=[],O=0;O<R;O++)N[O]=~P.g[O];return new h(N,~P.h).add(C)}i.abs=function(){return B(this)?M(this):this},i.add=function(P){for(var R=Math.max(this.g.length,P.g.length),N=[],O=0,k=0;k<=R;k++){var j=O+(this.i(k)&65535)+(P.i(k)&65535),w=(j>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);O=w>>>16,j&=65535,w&=65535,N[k]=w<<16|j}return new h(N,N[N.length-1]&-2147483648?-1:0)};function te(P,R){return P.add(M(R))}i.j=function(P){if(I(this)||I(P))return S;if(B(this))return B(P)?M(this).j(M(P)):M(M(this).j(P));if(B(P))return M(this.j(M(P)));if(0>this.l(D)&&0>P.l(D))return g(this.m()*P.m());for(var R=this.g.length+P.g.length,N=[],O=0;O<2*R;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var k=0;k<P.g.length;k++){var j=this.i(O)>>>16,w=this.i(O)&65535,me=P.i(k)>>>16,Ve=P.i(k)&65535;N[2*O+2*k]+=w*Ve,ae(N,2*O+2*k),N[2*O+2*k+1]+=j*Ve,ae(N,2*O+2*k+1),N[2*O+2*k+1]+=w*me,ae(N,2*O+2*k+1),N[2*O+2*k+2]+=j*me,ae(N,2*O+2*k+2)}for(O=0;O<R;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=R;O<2*R;O++)N[O]=0;return new h(N,0)};function ae(P,R){for(;(P[R]&65535)!=P[R];)P[R+1]+=P[R]>>>16,P[R]&=65535,R++}function K(P,R){this.g=P,this.h=R}function ue(P,R){if(I(R))throw Error("division by zero");if(I(P))return new K(S,S);if(B(P))return R=ue(M(P),R),new K(M(R.g),M(R.h));if(B(R))return R=ue(P,M(R)),new K(M(R.g),R.h);if(30<P.g.length){if(B(P)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var N=C,O=R;0>=O.l(P);)N=re(N),O=re(O);var k=de(N,1),j=de(O,1);for(O=de(O,2),N=de(N,2);!I(O);){var w=j.add(O);0>=w.l(P)&&(k=k.add(N),j=w),O=de(O,1),N=de(N,1)}return R=te(P,k.j(R)),new K(k,R)}for(k=S;0<=P.l(R);){for(N=Math.max(1,Math.floor(P.m()/R.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),j=g(N),w=j.j(R);B(w)||0<w.l(P);)N-=O,j=g(N),w=j.j(R);I(j)&&(j=C),k=k.add(j),P=te(P,w)}return new K(k,P)}i.A=function(P){return ue(this,P).h},i.and=function(P){for(var R=Math.max(this.g.length,P.g.length),N=[],O=0;O<R;O++)N[O]=this.i(O)&P.i(O);return new h(N,this.h&P.h)},i.or=function(P){for(var R=Math.max(this.g.length,P.g.length),N=[],O=0;O<R;O++)N[O]=this.i(O)|P.i(O);return new h(N,this.h|P.h)},i.xor=function(P){for(var R=Math.max(this.g.length,P.g.length),N=[],O=0;O<R;O++)N[O]=this.i(O)^P.i(O);return new h(N,this.h^P.h)};function re(P){for(var R=P.g.length+1,N=[],O=0;O<R;O++)N[O]=P.i(O)<<1|P.i(O-1)>>>31;return new h(N,P.h)}function de(P,R){var N=R>>5;R%=32;for(var O=P.g.length-N,k=[],j=0;j<O;j++)k[j]=0<R?P.i(j+N)>>>R|P.i(j+N+1)<<32-R:P.i(j+N);return new h(k,P.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,ZT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,$s=h}).apply(typeof V0<"u"?V0:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var e1,Hl,t1,ch,Zm,n1,i1,r1;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var z=c[A];if(!(z in v))break e;v=v[z]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,z={next:function(){if(!A&&v<c.length){var Y=v++;return{value:y(Y,c[Y]),done:!1}}return A=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function S(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,A),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function C(c,y,v){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,C.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function I(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,z,Y){for(var he=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)he[ze-2]=arguments[ze];return y.prototype[z].apply(A,he)}}function B(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function M(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const z=c.length||0,Y=A.length||0;c.length=z+Y;for(let he=0;he<Y;he++)c[z+he]=A[he]}else c.push(A)}}class te{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ae(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ue(c){return ue[" "](c),c}ue[" "]=function(){};var re=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function de(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function P(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let v,A;for(let z=1;z<arguments.length;z++){A=arguments[z];for(v in A)c[v]=A[v];for(let Y=0;Y<N.length;Y++)v=N[Y],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function w(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class me{constructor(){this.h=this.g=null}add(y,v){const A=Ve.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ve=new te(()=>new $,c=>c.reset());class ${constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,pe=!1,De=new me,V=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(Z)}};var Z=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(v){j(v)}var y=Ve;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var fe=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Ae(c,y){if(J.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(re){e:{try{ue(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}I(Ae,J);var Ee={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var at="closure_listenable_"+(1e6*Math.random()|0),oe=0;function Re(c,y,v,A,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=z,this.key=++oe,this.da=this.fa=!1}function Ze(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,y,v,A,z){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var he=tn(c,y,A,z);return-1<he?(y=c[he],v||(y.fa=!1)):(y=new Re(y,this.src,Y,!!A,z),y.fa=v,c.push(y)),y};function ut(c,y){var v=y.type;if(v in c.g){var A=c.g[v],z=Array.prototype.indexOf.call(A,y,void 0),Y;(Y=0<=z)&&Array.prototype.splice.call(A,z,1),Y&&(Ze(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function tn(c,y,v,A){for(var z=0;z<c.length;++z){var Y=c[z];if(!Y.da&&Y.listener==y&&Y.capture==!!v&&Y.ha==A)return z}return-1}var hn="closure_lm_"+(1e6*Math.random()|0),Xn={};function Pi(c,y,v,A,z){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Pi(c,y[Y],v,A,z);return null}return v=Nu(v),c&&c[at]?c.K(y,v,g(A)?!!A.capture:!1,z):_n(c,y,v,!1,A,z)}function _n(c,y,v,A,z,Y){if(!y)throw Error("Invalid event type");var he=g(z)?!!z.capture:!!z,ze=da(c);if(ze||(c[hn]=ze=new rt(c)),v=ze.add(y,v,A,he,Y),v.proxy)return v;if(A=_f(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)fe||(z=he),z===void 0&&(z=!1),c.addEventListener(y.toString(),A,z);else if(c.attachEvent)c.attachEvent(cs(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _f(){function c(v){return y.call(c.src,c.listener,v)}const y=vf;return c}function Oo(c,y,v,A,z){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Oo(c,y[Y],v,A,z);else A=g(A)?!!A.capture:!!A,v=Nu(v),c&&c[at]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],v=tn(Y,v,A,z),-1<v&&(Ze(Y[v]),Array.prototype.splice.call(Y,v,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=da(c))&&(y=c.g[y.toString()],c=-1,y&&(c=tn(y,v,A,z)),(v=-1<c?y[c]:null)&&fa(v))}function fa(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[at])ut(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(cs(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=da(y))?(ut(v,c),v.h==0&&(v.src=null,y[hn]=null)):Ze(c)}}}function cs(c){return c in Xn?Xn[c]:Xn[c]="on"+c}function vf(c,y){if(c.da)c=!0;else{y=new Ae(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&fa(c),c=v.call(A,y)}return c}function da(c){return c=c[hn],c instanceof rt?c:null}var Do="__closure_events_fn_"+(1e9*Math.random()>>>0);function Nu(c){return typeof c=="function"?c:(c[Do]||(c[Do]=function(y){return c.handleEvent(y)}),c[Do])}function gt(){W.call(this),this.i=new rt(this),this.M=this,this.F=null}I(gt,W),gt.prototype[at]=!0,gt.prototype.removeEventListener=function(c,y,v,A){Oo(this,c,y,v,A)};function $e(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new J(y,c);else if(y instanceof J)y.target=y.target||c;else{var z=y;y=new J(A,c),O(y,z)}if(z=!0,v)for(var Y=v.length-1;0<=Y;Y--){var he=y.g=v[Y];z=An(he,A,!0,y)&&z}if(he=y.g=c,z=An(he,A,!0,y)&&z,z=An(he,A,!1,y)&&z,v)for(Y=0;Y<v.length;Y++)he=y.g=v[Y],z=An(he,A,!1,y)&&z}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)Ze(v[A]);delete c.g[y],c.h--}}this.F=null},gt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},gt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function An(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Y=0;Y<y.length;++Y){var he=y[Y];if(he&&!he.da&&he.capture==v){var ze=he.listener,kt=he.ha||he.src;he.fa&&ut(c.i,he),z=ze.call(kt,A)!==!1&&z}}return z&&!A.defaultPrevented}function nn(c,y,v){if(typeof c=="function")v&&(c=C(c,v));else if(c&&typeof c.handleEvent=="function")c=C(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Iu(c){c.g=nn(()=>{c.g=null,c.i&&(c.i=!1,Iu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Ef extends W{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Iu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(c){W.call(this),this.h=c,this.g={}}I(hs,W);var fs=[];function ds(c){de(c.g,function(y,v){this.g.hasOwnProperty(v)&&fa(y)},c),c.g={}}hs.prototype.N=function(){hs.aa.N.call(this),ds(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wn=m.JSON.stringify,ma=m.JSON.parse,ms=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Mo(){}Mo.prototype.h=null;function Vo(c){return c.h||(c.h=c.i())}function Po(){}var ki={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ui(){J.call(this,"d")}I(Ui,J);function ko(){J.call(this,"c")}I(ko,J);var li={},Uo=null;function _r(){return Uo=Uo||new gt}li.La="serverreachability";function pa(c){J.call(this,li.La,c)}I(pa,J);function vr(c){const y=_r();$e(y,new pa(y))}li.STAT_EVENT="statevent";function xu(c,y){J.call(this,li.STAT_EVENT,c),this.stat=y}I(xu,J);function ht(c){const y=_r();$e(y,new xu(y,c))}li.Ma="timingevent";function Pt(c,y){J.call(this,li.Ma,c),this.size=y}I(Pt,J);function It(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Un(){this.g=!0}Un.prototype.xa=function(){this.g=!1};function jo(c,y,v,A,z,Y){c.info(function(){if(c.g)if(Y)for(var he="",ze=Y.split("&"),kt=0;kt<ze.length;kt++){var qe=ze[kt].split("=");if(1<qe.length){var zt=qe[0];qe=qe[1];var Ut=zt.split("_");he=2<=Ut.length&&Ut[1]=="type"?he+(zt+"="+qe+"&"):he+(zt+"=redacted&")}}else he=null;else he=Y;return"XMLHTTP REQ ("+A+") [attempt "+z+"]: "+y+`
`+v+`
`+he})}function Tf(c,y,v,A,z,Y,he){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+z+"]: "+y+`
`+v+`
`+Y+" "+he})}function Er(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ps(c,v)+(A?" "+A:"")})}function Ou(c,y){c.info(function(){return"TIMEOUT: "+y})}Un.prototype.info=function(){};function ps(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var z=A[1];if(Array.isArray(z)&&!(1>z.length)){var Y=z[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var he=1;he<z.length;he++)z[he]=""}}}}return Wn(v)}catch{return y}}var Tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ui;function ci(){}I(ci,Mo),ci.prototype.g=function(){return new XMLHttpRequest},ci.prototype.i=function(){return{}},ui=new ci;function fn(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new At}function At(){this.i=null,this.g="",this.h=!1}var Lo={},ga={};function Jn(c,y,v){c.L=1,c.v=Es(wn(y)),c.m=v,c.P=!0,Li(c,null)}function Li(c,y){c.F=Date.now(),gs(c),c.A=wn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Go(v.i,"t",A),c.C=0,v=c.j.J,c.h=new At,c.g=Qu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Ef(C(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(fs[0]=z.toString()),z=fs);for(var Y=0;Y<z.length;Y++){var he=Pi(v,z[Y],A||y.handleEvent,!1,y.h||y);if(!he)break;y.g[he.key]=he}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),jo(c.i,c.u,c.A,c.l,c.R,c.m)}fn.prototype.ca=function(c){c=c.target;const y=this.M;y&&zn(c)==3?y.j():this.Y(c)},fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ut=zn(this.g);var y=this.g.Ba();const Qi=this.g.Z();if(!(3>Ut)&&(Ut!=3||this.g&&(this.h.h||this.g.oa()||Lu(this.g)))){this.J||Ut!=4||y==7||(y==8||0>=Qi?vr(3):vr(2)),br(this);var v=this.g.Z();this.X=v;t:if(Du(this)){var A=Lu(this.g);c="";var z=A.length,Y=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),hi(this);var he="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(Y&&y==z-1)});A.length=0,this.h.g+=c,this.C=0,he=this.h.g}else he=this.g.oa();if(this.o=v==200,Tf(this.i,this.u,this.A,this.l,this.R,Ut,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,kt=this.g;if((ze=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(ze)){var qe=ze;break t}}qe=null}if(v=qe)Er(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ys(this,v);else{this.o=!1,this.s=3,ht(12),Kt(this),hi(this);break e}}if(this.P){v=!0;let Qt;for(;!this.J&&this.C<he.length;)if(Qt=Mu(this,he),Qt==ga){Ut==4&&(this.s=4,ht(14),v=!1),Er(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Lo){this.s=4,ht(15),Er(this.i,this.l,he,"[Invalid Chunk]"),v=!1;break}else Er(this.i,this.l,Qt,null),ys(this,Qt);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ut!=4||he.length!=0||this.h.h||(this.s=1,ht(16),v=!1),this.o=this.o&&v,!v)Er(this.i,this.l,he,"[Invalid Chunked Response]"),Kt(this),hi(this);else if(0<he.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+he.length),Ns(zt),zt.M=!0,ht(11))}}else Er(this.i,this.l,he,null),ys(this,he);Ut==4&&Kt(this),this.o&&!this.J&&(Ut==4?Hu(this.j,this):(this.o=!1,gs(this)))}else Rf(this.g),v==400&&0<he.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),Kt(this),hi(this)}}}catch{}finally{}};function Du(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Mu(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?ga:(v=Number(y.substring(v,A)),isNaN(v)?Lo:(A+=1,A+v>y.length?ga:(y=y.slice(A,A+v),c.C=A+v,y)))}fn.prototype.cancel=function(){this.J=!0,Kt(this)};function gs(c){c.S=Date.now()+c.I,Vu(c,c.I)}function Vu(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=It(C(c.ba,c),y)}function br(c){c.B&&(m.clearTimeout(c.B),c.B=null)}fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Ou(this.i,this.A),this.L!=2&&(vr(),ht(17)),Kt(this),this.s=2,hi(this)):Vu(this,this.S-c)};function hi(c){c.j.G==0||c.J||Hu(c.j,c)}function Kt(c){br(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,ds(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function ys(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Bo(v.h,c))){if(!c.K&&Bo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var z=A;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Na(v),Ra(v);else break e;Xo(v),ht(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=It(C(v.Za,v),6e3));if(1>=_a(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ki(v,11)}else if((c.K||v.g==c)&&Na(v),!ae(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let qe=z[y];if(v.T=qe[0],qe=qe[1],v.G==2)if(qe[0]=="c"){v.K=qe[1],v.ia=qe[2];const zt=qe[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Ut=qe[4];Ut!=null&&(v.Aa=Ut,v.j.info("SVER="+v.Aa));const Qi=qe[5];Qi!=null&&typeof Qi=="number"&&0<Qi&&(A=1.5*Qi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Qt=c.g;if(Qt){const _i=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var Y=A.h;Y.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(va(Y,Y.h),Y.h=null))}if(A.D){const Jo=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(A.ya=Jo,et(A.I,A.D,Jo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var he=c;if(A.qa=Ku(A,A.J?A.ia:null,A.W),he.K){dn(A.h,he);var ze=he,kt=A.L;kt&&(ze.I=kt),ze.B&&(br(ze),gs(ze)),A.g=he}else qu(A);0<v.i.length&&Ca(v)}else qe[0]!="stop"&&qe[0]!="close"||Ki(v,7);else v.G==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ki(v,7):Yo(v):qe[0]!="noop"&&v.l&&v.l.ta(qe),v.v=0)}}vr(4)}catch{}}var Pu=class{constructor(c,y){this.g=c,this.map=y}};function Bi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ya(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function _a(c){return c.h?1:c.g?c.g.size:0}function Bo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function va(c,y){c.g?c.g.add(y):c.h=y}function dn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Bi.prototype.cancel=function(){if(this.i=zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function zo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return B(c.i)}function bf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function Ea(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function qo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Ea(c),A=bf(c),z=A.length,Y=0;Y<z;Y++)y.call(void 0,A[Y],v&&v[Y],c)}var _s=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sf(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),z=null;if(0<=A){var Y=c[v].substring(0,A);z=c[v].substring(A+1)}else Y=c[v];y(Y,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function xt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xt){this.h=c.h,vs(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.s),this.l=c.l;var y=c.i,v=new qi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),zi(this,v),this.m=c.m}else c&&(y=String(c).match(_s))?(this.h=!1,vs(this,y[1]||"",!0),this.o=jn(y[2]||""),this.g=jn(y[3]||"",!0),Sr(this,y[4]),this.l=jn(y[5]||"",!0),zi(this,y[6]||"",!0),this.m=jn(y[7]||"")):(this.h=!1,this.i=new qi(null,this.h))}xt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ts(y,Fo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ts(y,Fo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Ts(v,v.charAt(0)=="/"?Af:Ho,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Ts(v,Ta)),c.join("")};function wn(c){return new xt(c)}function vs(c,y,v){c.j=v?jn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function zi(c,y,v){y instanceof qi?(c.i=y,Uu(c.i,c.h)):(v||(y=Ts(y,wf)),c.i=new qi(y,c.h))}function et(c,y,v){c.i.set(y,v)}function Es(c){return et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function jn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ts(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,ku),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ku(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Ho=/[#\?:]/g,Af=/[#\?]/g,wf=/[#\?@]/g,Ta=/#/g;function qi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&Sf(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=qi.prototype,i.add=function(c,y){Ln(this),this.i=null,c=fi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Fi(c,y){Ln(c),y=fi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Hi(c,y){return Ln(c),y=fi(c,y),c.g.has(y)}i.forEach=function(c,y){Ln(this),this.g.forEach(function(v,A){v.forEach(function(z){c.call(y,z,A,this)},this)},this)},i.na=function(){Ln(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const z=c[A];for(let Y=0;Y<z.length;Y++)v.push(y[A])}return v},i.V=function(c){Ln(this);let y=[];if(typeof c=="string")Hi(this,c)&&(y=y.concat(this.g.get(fi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Ln(this),this.i=null,c=fi(this,c),Hi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Go(c,y,v){Fi(c,y),0<v.length&&(c.i=null,c.g.set(fi(c,y),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const Y=encodeURIComponent(String(A)),he=this.V(A);for(A=0;A<he.length;A++){var z=Y;he[A]!==""&&(z+="="+encodeURIComponent(String(he[A]))),c.push(z)}}return this.i=c.join("&")};function fi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Uu(c,y){y&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(v,A){var z=A.toLowerCase();A!=z&&(Fi(this,A),Go(this,z,v))},c)),c.j=y}function bs(c,y){const v=new Un;if(m.Image){const A=new Image;A.onload=D(Bn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=D(Bn,v,"TestLoadImage: error",!1,y,A),A.onabort=D(Bn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=D(Bn,v,"TestLoadImage: timeout",!1,y,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Zn(c,y){const v=new Un,A=new AbortController,z=setTimeout(()=>{A.abort(),Bn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(Y=>{clearTimeout(z),Y.ok?Bn(v,"TestPingServer: ok",!0,y):Bn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Bn(v,"TestPingServer: error",!1,y)})}function Bn(c,y,v,A,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),A(v)}catch{}}function Ss(){this.g=new ms}function di(c,y,v){const A=v||"";try{qo(c,function(z,Y){let he=z;g(z)&&(he=Wn(z)),y.push(A+Y+"="+encodeURIComponent(he))})}catch(z){throw y.push(A+"type="+encodeURIComponent("_badmap")),z}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}I(Ar,Mo),Ar.prototype.g=function(){return new Gi(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function Gi(c,y){gt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Gi,gt),i=Gi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,pi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?mi(this):pi(this),this.readyState==3&&Ko(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},i.Qa=function(c){this.g&&(this.response=c,mi(this))},i.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let y="";return de(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Bt(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Qo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):et(c,y,v))}function Ye(c){gt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ye,gt);var ba=/^https?$/i,As=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ui.g(),this.v=this.o?Vo(this.o):Vo(ui),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){ju(this,Y);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var z in A)v.set(z,A[z]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const Y of A.keys())v.set(Y,A.get(Y));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(Y=>Y.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||A||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,he]of v)this.g.setRequestHeader(Y,he);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ws(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ju(this,Y)}};function ju(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Sa(c),gi(c)}function Sa(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),gi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},i.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof h<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)nn(c.Ea,0,c);else if($e(c,"readystatechange"),zn(c)==4){c.h=!1;try{const he=c.Z();e:switch(he){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=he===0){var z=String(c.D).match(_s)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),A=!ba.test(z?z.toLowerCase():"")}v=A}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var Y=2<zn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Sa(c)}}finally{gi(c)}}}}function gi(c,y){if(c.g){ws(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||$e(c,"ready");try{v.onreadystatechange=A}catch{}}}function ws(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ma(y)}};function Lu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Rf(c){const y={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ae(c[A]))continue;var v=k(c[A]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Y=y[z]||[];y[z]=Y,Y.push(v)}P(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Rs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new Un,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Rs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Rs("baseRetryDelayMs",5e3,c),this.cb=Rs("retryDelaySeedMs",1e4,c),this.Wa=Rs("forwardChannelMaxRetries",2,c),this.wa=Rs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(c&&c.concurrentRequestLimit),this.Da=new Ss,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=wa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){ht(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Ku(this,null,this.W),Ca(this)};function Yo(c){if(Bu(c),c.G==3){var y=c.U++,v=wn(c.I);if(et(v,"SID",c.K),et(v,"RID",y),et(v,"TYPE","terminate"),Cs(c,v),y=new fn(c,c.j,y),y.L=2,y.v=Es(wn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Qu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),gs(y)}Gu(c)}function Ra(c){c.g&&(Ns(c),c.g.cancel(),c.g=null)}function Bu(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Na(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!ya(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||V(),pe||(ce(),pe=!0),De.add(y,c),c.B=0}}function Cf(c,y){return _a(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=It(C(c.Ga,c,y),Wo(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new fn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=R(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(z.H=Y,Y=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=zu(this,z,y),v=wn(this.I),et(v,"RID",c),et(v,"CVER",22),this.D&&et(v,"X-HTTP-Session-Id",this.D),Cs(this,v),Y&&(this.O?y="headers="+encodeURIComponent(String(Qo(Y)))+"&"+y:this.m&&Bt(v,this.m,Y)),va(this.h,z),this.Ua&&et(v,"TYPE","init"),this.P?(et(v,"$req",y),et(v,"SID","null"),z.T=!0,Jn(z,v,null)):Jn(z,v,y),this.G=2}}else this.G==3&&(c?$o(this,c):this.i.length==0||ya(this.h)||$o(this))};function $o(c,y){var v;y?v=y.l:v=c.U++;const A=wn(c.I);et(A,"SID",c.K),et(A,"RID",v),et(A,"AID",c.T),Cs(c,A),c.m&&c.o&&Bt(A,c.m,c.o),v=new fn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=zu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),va(c.h,v),Jn(v,A,y)}function Cs(c,y){c.H&&de(c.H,function(v,A){et(y,A,v)}),c.l&&qo({},function(v,A){et(y,A,v)})}function zu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?C(c.l.Na,c.l,c):null;e:{var z=c.i;let Y=-1;for(;;){const he=["count="+v];Y==-1?0<v?(Y=z[0].g,he.push("ofs="+Y)):Y=0:he.push("ofs="+Y);let ze=!0;for(let kt=0;kt<v;kt++){let qe=z[kt].g;const zt=z[kt].map;if(qe-=Y,0>qe)Y=Math.max(0,z[kt].g-100),ze=!1;else try{di(zt,he,"req"+qe+"_")}catch{A&&A(zt)}}if(ze){A=he.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function qu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||V(),pe||(ce(),pe=!0),De.add(y,c),c.v=0}}function Xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=It(C(c.Fa,c),Wo(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Fu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=It(C(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),Ra(this),Fu(this))};function Ns(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Fu(c){c.g=new fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=wn(c.qa);et(y,"RID","rpc"),et(y,"SID",c.K),et(y,"AID",c.T),et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&et(y,"TO",c.ja),et(y,"TYPE","xmlhttp"),Cs(c,y),c.m&&c.o&&Bt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Es(wn(y)),v.m=null,v.P=!0,Li(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ra(this),Xo(this),ht(19))};function Na(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Hu(c,y){var v=null;if(c.g==y){Na(c),Ns(c),c.g=null;var A=2}else if(Bo(c.h,y))v=y.D,dn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;A=_r(),$e(A,new Pt(A,v)),Ca(c)}else qu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(A==1&&Cf(c,y)||A==2&&Xo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:Ki(c,5);break;case 4:Ki(c,10);break;case 3:Ki(c,6);break;default:Ki(c,2)}}}function Wo(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ki(c,y){if(c.j.info("Error code "+y),y==2){var v=C(c.fb,c),A=c.Xa;const z=!A;A=new xt(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vs(A,"https"),Es(A),z?bs(A.toString(),v):Zn(A.toString(),v)}else ht(2);c.G=0,c.l&&c.l.sa(y),Gu(c),Bu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const y=zo(c.h);(y.length!=0||c.i.length!=0)&&(M(c.ka,y),M(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Ku(c,y,v){var A=v instanceof xt?wn(v):new xt(v);if(A.g!="")y&&(A.g=y+"."+A.g),Sr(A,A.s);else{var z=m.location;A=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Y=new xt(null);A&&vs(Y,A),y&&(Y.g=y),z&&Sr(Y,z),v&&(Y.l=v),A=Y}return v=c.D,y=c.ya,v&&y&&et(A,v,y),et(A,"VER",c.la),Cs(c,A),A}function Qu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Ar({eb:v})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}i=Yu.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ia(){}Ia.prototype.g=function(c,y){return new mn(c,y)};function mn(c,y){gt.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ae(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ae(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yi(this)}I(mn,gt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Yo(this.g)},mn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Wn(c),c=v);y.i.push(new Pu(y.Ya++,c)),y.G==3&&Ca(y)},mn.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,mn.aa.N.call(this)};function $u(c){Ui.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}I($u,Ui);function Xu(){ko.call(this),this.status=1}I(Xu,ko);function yi(c){this.g=c}I(yi,Yu),yi.prototype.ua=function(){$e(this.g,"a")},yi.prototype.ta=function(c){$e(this.g,new $u(c))},yi.prototype.sa=function(c){$e(this.g,new Xu)},yi.prototype.ra=function(){$e(this.g,"b")},Ia.prototype.createWebChannel=Ia.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,r1=function(){return new Ia},i1=function(){return _r()},n1=li,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tr.NO_ERROR=0,Tr.TIMEOUT=8,Tr.HTTP_ERROR=6,ch=Tr,ji.COMPLETE="complete",t1=ji,Po.EventType=ki,ki.OPEN="a",ki.CLOSE="b",ki.ERROR="c",ki.MESSAGE="d",gt.prototype.listen=gt.prototype.K,Hl=Po,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,e1=Ye}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const P0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=new Cp("@firebase/firestore");function zl(){return ta.logLevel}function _e(i,...e){if(ta.logLevel<=Be.DEBUG){const t=e.map(zp);ta.debug(`Firestore (${wo}): ${i}`,...t)}}function pr(i,...e){if(ta.logLevel<=Be.ERROR){const t=e.map(zp);ta.error(`Firestore (${wo}): ${i}`,...t)}}function po(i,...e){if(ta.logLevel<=Be.WARN){const t=e.map(zp);ta.warn(`Firestore (${wo}): ${i}`,...t)}}function zp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(i="Unexpected state"){const e=`FIRESTORE (${wo}) INTERNAL ASSERTION FAILED: `+i;throw pr(e),new Error(e)}function Je(i,e){i||Ne()}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends Vi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(on.UNAUTHENTICATED))}shutdown(){}}class FC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class HC{constructor(e){this.t=e,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Je(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{_e("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(_e("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(_e("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Je(typeof s.accessToken=="string"),new s1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string"),new on(e)}}class GC{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=on.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class KC{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new GC(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(on.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class QC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YC{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Je(this.o===void 0);const s=u=>{u.error!=null&&_e("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,_e("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{_e("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):_e("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Je(typeof t.token=="string"),this.R=t.token,new QC(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=$C(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Ke(i,e){return i<e?-1:i>e?1:0}function go(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new vt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new vt(0,0))}static max(){return new Ie(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ne(),s===void 0?s=e.length-t:s>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return ru.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ru?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ct extends ru{construct(e,t,s){return new ct(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const XC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends ru{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return XC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(ct.fromString(e))}static fromName(e){return new Te(ct.fromString(e).popFirst(5))}static empty(){return new Te(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new ct(e.slice()))}}function WC(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(s===1e9?new vt(t+1,0):new vt(t,s));return new as(o,Te.empty(),e)}function JC(i){return new as(i.readTime,i.key,-1)}class as{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new as(Ie.min(),Te.empty(),-1)}static max(){return new as(Ie.max(),Te.empty(),-1)}}function ZC(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=Te.comparator(i.documentKey,e.documentKey),t!==0?t:Ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yu(i){if(i.code!==se.FAILED_PRECONDITION||i.message!==eN)throw i;_e("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new le((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof le?t:le.resolve(t)}catch(t){return le.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):le.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):le.reject(t)}static resolve(e){return new le((t,s)=>{t(e)})}static reject(e){return new le((t,s)=>{s(e)})}static waitFor(e){return new le((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=le.resolve(!1);for(const s of e)t=t.next(o=>o?le.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new le((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,t){return new le((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function nN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function _u(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}qp.oe=-1;function Jh(i){return i==null}function Dh(i){return i===0&&1/i==-1/0}function iN(i){return typeof i=="number"&&Number.isInteger(i)&&!Dh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function ca(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function o1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new pt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zc(this.root,e,this.comparator,!0)}}class Zc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new U0(this.data.getIterator())}getIteratorFrom(e){return new U0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class U0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new Mn([])}unionWith(e){let t=new Zt(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new Mn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return go(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new l1("Invalid base64 string: "+u):u}}(e);return new en(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const rN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(i){if(Je(!!i),typeof i=="string"){let e=0;const t=rN.exec(i);if(Je(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Ct(i.seconds),nanos:Ct(i.nanos)}}function Ct(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function na(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Hp(i){const e=i.mapValue.fields.__previous_value__;return Fp(e)?Hp(e):e}function su(i){const e=os(i.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e,t,s,o,u,h,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}class au{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new au("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eh={mapValue:{}};function ia(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Fp(i)?4:oN(i)?9007199254740991:aN(i)?10:11:Ne()}function Mi(i,e){if(i===e)return!0;const t=ia(i);if(t!==ia(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return su(i).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=os(o.timestampValue),m=os(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return na(o.bytesValue).isEqual(na(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ct(o.geoPointValue.latitude)===Ct(u.geoPointValue.latitude)&&Ct(o.geoPointValue.longitude)===Ct(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ct(o.integerValue)===Ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Ct(o.doubleValue),m=Ct(u.doubleValue);return h===m?Dh(h)===Dh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return go(i.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(k0(h)!==k0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Mi(h[p],m[p])))return!1;return!0}(i,e);default:return Ne()}}function ou(i,e){return(i.values||[]).find(t=>Mi(t,e))!==void 0}function yo(i,e){if(i===e)return 0;const t=ia(i),s=ia(e);if(t!==s)return Ke(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=Ct(u.integerValue||u.doubleValue),p=Ct(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return j0(i.timestampValue,e.timestampValue);case 4:return j0(su(i),su(e));case 5:return Ke(i.stringValue,e.stringValue);case 6:return function(u,h){const m=na(u),p=na(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ke(m[g],p[g]);if(E!==0)return E}return Ke(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ke(Ct(u.latitude),Ct(h.latitude));return m!==0?m:Ke(Ct(u.longitude),Ct(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return L0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const S=u.fields||{},C=h.fields||{},D=(m=S.value)===null||m===void 0?void 0:m.arrayValue,I=(p=C.value)===null||p===void 0?void 0:p.arrayValue,B=Ke(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=I==null?void 0:I.values)===null||E===void 0?void 0:E.length)||0);return B!==0?B:L0(D,I)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===eh.mapValue&&h===eh.mapValue)return 0;if(u===eh.mapValue)return 1;if(h===eh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const C=Ke(p[S],E[S]);if(C!==0)return C;const D=yo(m[p[S]],g[E[S]]);if(D!==0)return D}return Ke(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Ne()}}function j0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ke(i,e);const t=os(i),s=os(e),o=Ke(t.seconds,s.seconds);return o!==0?o:Ke(t.nanos,s.nanos)}function L0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=yo(t[o],s[o]);if(u)return u}return Ke(t.length,s.length)}function _o(i){return ep(i)}function ep(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=os(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return na(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return Te.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=ep(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ep(t.fields[h])}`;return o+"}"}(i.mapValue):Ne()}function B0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function tp(i){return!!i&&"integerValue"in i}function Gp(i){return!!i&&"arrayValue"in i}function z0(i){return!!i&&"nullValue"in i}function q0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function hh(i){return!!i&&"mapValue"in i}function aN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Yl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ca(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Yl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Yl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function oN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.value=e}static empty(){return new bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!hh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(t)}setAll(e){let t=Jt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Yl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());hh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Mi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];hh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){ca(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new bn(Yl(this.value))}}function u1(i){const e=[];return ca(i.fields,(t,s)=>{const o=new Jt([t]);if(hh(s)){const u=u1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new ln(e,0,Ie.min(),Ie.min(),Ie.min(),bn.empty(),0)}static newFoundDocument(e,t,s,o){return new ln(e,1,t,Ie.min(),s,o,0)}static newNoDocument(e,t){return new ln(e,2,t,Ie.min(),Ie.min(),bn.empty(),0)}static newUnknownDocument(e,t){return new ln(e,3,t,Ie.min(),Ie.min(),bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,t){this.position=e,this.inclusive=t}}function F0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=Te.comparator(Te.fromName(h.referenceValue),t.key):s=yo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function H0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Mi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,t="asc"){this.field=e,this.dir=t}}function lN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{}class Vt extends c1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new cN(e,t,s):t==="array-contains"?new dN(e,s):t==="in"?new mN(e,s):t==="not-in"?new pN(e,s):t==="array-contains-any"?new gN(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new hN(e,s):new fN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(yo(t,this.value)):t!==null&&ia(this.value)===ia(t)&&this.matchesComparison(yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends c1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ai(e,t)}matches(e){return h1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function h1(i){return i.op==="and"}function f1(i){return uN(i)&&h1(i)}function uN(i){for(const e of i.filters)if(e instanceof ai)return!1;return!0}function np(i){if(i instanceof Vt)return i.field.canonicalString()+i.op.toString()+_o(i.value);if(f1(i))return i.filters.map(e=>np(e)).join(",");{const e=i.filters.map(t=>np(t)).join(",");return`${i.op}(${e})`}}function d1(i,e){return i instanceof Vt?function(s,o){return o instanceof Vt&&s.op===o.op&&s.field.isEqual(o.field)&&Mi(s.value,o.value)}(i,e):i instanceof ai?function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&d1(h,o.filters[m]),!0):!1}(i,e):void Ne()}function m1(i){return i instanceof Vt?function(t){return`${t.field.canonicalString()} ${t.op} ${_o(t.value)}`}(i):i instanceof ai?function(t){return t.op.toString()+" {"+t.getFilters().map(m1).join(" ,")+"}"}(i):"Filter"}class cN extends Vt{constructor(e,t,s){super(e,t,s),this.key=Te.fromName(s.referenceValue)}matches(e){const t=Te.comparator(e.key,this.key);return this.matchesComparison(t)}}class hN extends Vt{constructor(e,t){super(e,"in",t),this.keys=p1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class fN extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=p1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function p1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>Te.fromName(s.referenceValue))}class dN extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gp(t)&&ou(t.arrayValue,this.value)}}class mN extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ou(this.value.arrayValue,t)}}class pN extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ou(this.value.arrayValue,t)}}class gN extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function G0(i,e=null,t=[],s=[],o=null,u=null,h=null){return new yN(i,e,t,s,o,u,h)}function Kp(i){const e=xe(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>np(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Jh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>_o(s)).join(",")),e.ue=t}return e.ue}function Qp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!lN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!d1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!H0(i.startAt,e.startAt)&&H0(i.endAt,e.endAt)}function ip(i){return Te.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function _N(i,e,t,s,o,u,h,m){return new vu(i,e,t,s,o,u,h,m)}function g1(i){return new vu(i)}function K0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function y1(i){return i.collectionGroup!==null}function $l(i){const e=xe(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Zt(Jt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Vh(u,s))}),t.has(Jt.keyField().canonicalString())||e.ce.push(new Vh(Jt.keyField(),s))}return e.ce}function xi(i){const e=xe(i);return e.le||(e.le=vN(e,$l(i))),e.le}function vN(i,e){if(i.limitType==="F")return G0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Vh(o.field,u)});const t=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return G0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function rp(i,e){const t=i.filters.concat([e]);return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function sp(i,e,t){return new vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zh(i,e){return Qp(xi(i),xi(e))&&i.limitType===e.limitType}function _1(i){return`${Kp(xi(i))}|lt:${i.limitType}`}function ro(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>m1(o)).join(", ")}]`),Jh(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>_o(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(xi(i))}; limitType=${i.limitType})`}function ef(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):Te.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of $l(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=F0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,$l(s),o)||s.endAt&&!function(h,m,p){const g=F0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,$l(s),o))}(i,e)}function EN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function v1(i){return(e,t)=>{let s=!1;for(const o of $l(i)){const u=TN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function TN(i,e,t){const s=i.field.isKeyField()?Te.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?yo(p,g):Ne()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ca(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return o1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN=new pt(Te.comparator);function gr(){return bN}const E1=new pt(Te.comparator);function Gl(...i){let e=E1;for(const t of i)e=e.insert(t.key,t);return e}function T1(i){let e=E1;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Ks(){return Xl()}function b1(){return Xl()}function Xl(){return new Ro(i=>i.toString(),(i,e)=>i.isEqual(e))}const SN=new pt(Te.comparator),AN=new Zt(Te.comparator);function Le(...i){let e=AN;for(const t of i)e=e.add(t);return e}const wN=new Zt(Ke);function RN(){return wN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function S1(i){return{integerValue:""+i}}function CN(i,e){return iN(e)?S1(e):Yp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(){this._=void 0}}function NN(i,e,t){return i instanceof Ph?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fp(u)&&(u=Hp(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):i instanceof lu?w1(i,e):i instanceof uu?R1(i,e):function(o,u){const h=A1(o,u),m=Q0(h)+Q0(o.Pe);return tp(h)&&tp(o.Pe)?S1(m):Yp(o.serializer,m)}(i,e)}function IN(i,e,t){return i instanceof lu?w1(i,e):i instanceof uu?R1(i,e):t}function A1(i,e){return i instanceof kh?function(s){return tp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Ph extends tf{}class lu extends tf{constructor(e){super(),this.elements=e}}function w1(i,e){const t=C1(e);for(const s of i.elements)t.some(o=>Mi(o,s))||t.push(s);return{arrayValue:{values:t}}}class uu extends tf{constructor(e){super(),this.elements=e}}function R1(i,e){let t=C1(e);for(const s of i.elements)t=t.filter(o=>!Mi(o,s));return{arrayValue:{values:t}}}class kh extends tf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Q0(i){return Ct(i.integerValue||i.doubleValue)}function C1(i){return Gp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function xN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof lu&&o instanceof lu||s instanceof uu&&o instanceof uu?go(s.elements,o.elements,Mi):s instanceof kh&&o instanceof kh?Mi(s.Pe,o.Pe):s instanceof Ph&&o instanceof Ph}(i.transform,e.transform)}class ON{constructor(e,t){this.version=e,this.transformResults=t}}class si{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new si}static exists(e){return new si(void 0,e)}static updateTime(e){return new si(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class nf{}function N1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new $p(i.key,si.none()):new Eu(i.key,i.data,si.none());{const t=i.data,s=bn.empty();let o=new Zt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new us(i.key,s,new Mn(o.toArray()),si.none())}}function DN(i,e,t){i instanceof Eu?function(o,u,h){const m=o.value.clone(),p=$0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof us?function(o,u,h){if(!fh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=$0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(I1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Wl(i,e,t,s){return i instanceof Eu?function(u,h,m,p){if(!fh(u.precondition,h))return m;const g=u.value.clone(),E=X0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof us?function(u,h,m,p){if(!fh(u.precondition,h))return m;const g=X0(u.fieldTransforms,p,h),E=h.data;return E.setAll(I1(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(S=>S.field))}(i,e,t,s):function(u,h,m){return fh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function MN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=A1(s.transform,o||null);u!=null&&(t===null&&(t=bn.empty()),t.set(s.field,u))}return t||null}function Y0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&go(s,o,(u,h)=>xN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Eu extends nf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class us extends nf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function I1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function $0(i,e,t){const s=new Map;Je(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,IN(h,m,t[o]))}return s}function X0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,NN(u,h,e))}return s}class $p extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends nf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&DN(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Wl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=b1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=N1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ie.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&go(this.mutations,e.mutations,(t,s)=>Y0(t,s))&&go(this.baseMutations,e.baseMutations,(t,s)=>Y0(t,s))}}class Xp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Je(e.mutations.length===s.length);let o=function(){return SN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Xp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mt,He;function jN(i){switch(i){default:return Ne();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function x1(i){if(i===void 0)return pr("GRPC error has no .code"),se.UNKNOWN;switch(i){case Mt.OK:return se.OK;case Mt.CANCELLED:return se.CANCELLED;case Mt.UNKNOWN:return se.UNKNOWN;case Mt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Mt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Mt.INTERNAL:return se.INTERNAL;case Mt.UNAVAILABLE:return se.UNAVAILABLE;case Mt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Mt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Mt.NOT_FOUND:return se.NOT_FOUND;case Mt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Mt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Mt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Mt.ABORTED:return se.ABORTED;case Mt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Mt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Mt.DATA_LOSS:return se.DATA_LOSS;default:return Ne()}}(He=Mt||(Mt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN=new $s([4294967295,4294967295],0);function W0(i){const e=LN().encode(i),t=new ZT;return t.update(e),new Uint8Array(t.digest())}function J0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new $s([t,s],0),new $s([o,u],0)]}class Wp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Kl(`Invalid padding: ${t}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=$s.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply($s.fromNumber(s)));return o.compare(BN)===1&&(o=new $s([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=W0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Wp(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ie===0)return;const t=W0(e),[s,o]=J0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Tu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new rf(Ie.min(),o,new pt(Ke),gr(),Le())}}class Tu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Tu(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class O1{constructor(e,t){this.targetId=e,this.me=t}}class D1{constructor(e,t,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class Z0{constructor(){this.fe=0,this.ge=tE(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Le(),t=Le(),s=Le();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ne()}}),new Tu(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=tE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class zN{constructor(e){this.Le=e,this.Be=new Map,this.ke=gr(),this.qe=eE(),this.Qe=new pt(Ke)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(ip(u))if(s===0){const h=new Te(u.path);this.Ue(t,h,ln.newNoDocument(h,Ie.min()))}else Je(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),p=m?this.Xe(m,e,h):1;if(p!==0){this.je(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,g)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=na(s).toUint8Array()}catch(p){if(p instanceof l1)return po("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Wp(h,o,u)}catch(p){return po(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((u,h)=>{const m=this.Je(h);if(m){if(u.current&&ip(m.target)){const p=new Te(m.target.path);this.ke.get(p)!==null||this.it(h,p)||this.Ue(h,p,ln.newNoDocument(p,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Le();this.qe.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new rf(e,t,this.Qe,this.ke,s);return this.ke=gr(),this.qe=eE(),this.Qe=new pt(Ke),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Z0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Zt(Ke),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||_e("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Z0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function eE(){return new pt(Te.comparator)}function tE(){return new pt(Te.comparator)}const qN={asc:"ASCENDING",desc:"DESCENDING"},FN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HN={and:"AND",or:"OR"};class GN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ap(i,e){return i.useProto3Json||Jh(e)?e:{value:e}}function Uh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function M1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function KN(i,e){return Uh(i,e.toTimestamp())}function Oi(i){return Je(!!i),Ie.fromTimestamp(function(t){const s=os(t);return new vt(s.seconds,s.nanos)}(i))}function Jp(i,e){return op(i,e).canonicalString()}function op(i,e){const t=function(o){return new ct(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function V1(i){const e=ct.fromString(i);return Je(L1(e)),e}function lp(i,e){return Jp(i.databaseId,e.path)}function Dm(i,e){const t=V1(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Te(k1(t))}function P1(i,e){return Jp(i.databaseId,e)}function QN(i){const e=V1(i);return e.length===4?ct.emptyPath():k1(e)}function up(i){return new ct(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function k1(i){return Je(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function nE(i,e,t){return{name:lp(i,e),fields:t.value.mapValue.fields}}function YN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Je(E===void 0||typeof E=="string"),en.fromBase64String(E||"")):(Je(E===void 0||E instanceof Buffer||E instanceof Uint8Array),en.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?se.UNKNOWN:x1(g.code);return new ye(E,g.message||"")}(h);t=new D1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Dm(i,s.document.name),u=Oi(s.document.updateTime),h=s.document.createTime?Oi(s.document.createTime):Ie.min(),m=new bn({mapValue:{fields:s.document.fields}}),p=ln.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];t=new dh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Dm(i,s.document),u=s.readTime?Oi(s.readTime):Ie.min(),h=ln.newNoDocument(o,u),m=s.removedTargetIds||[];t=new dh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Dm(i,s.document),u=s.removedTargetIds||[];t=new dh([],u,o,null)}else{if(!("filter"in e))return Ne();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new UN(o,u),m=s.targetId;t=new O1(m,h)}}return t}function $N(i,e){let t;if(e instanceof Eu)t={update:nE(i,e.key,e.value)};else if(e instanceof $p)t={delete:lp(i,e.key)};else if(e instanceof us)t={update:nE(i,e.key,e.data),updateMask:rI(e.fieldMask)};else{if(!(e instanceof VN))return Ne();t={verify:lp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Ph)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof lu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof kh)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw Ne()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:KN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ne()}(i,e.precondition)),t}function XN(i,e){return i&&i.length>0?(Je(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Oi(o.updateTime):Oi(u);return h.isEqual(Ie.min())&&(h=Oi(u)),new ON(h,o.transformResults||[])}(t,e))):[]}function WN(i,e){return{documents:[P1(i,e.path)]}}function JN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=P1(i,o);const u=function(g){if(g.length!==0)return j1(ai.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(C){return{field:so(C.field),direction:tI(C.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=ap(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:t,parent:o}}function ZN(i){let e=QN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Je(s===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];t.where&&(u=function(S){const C=U1(S);return C instanceof ai&&f1(C)?C.getFilters():[C]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(C=>function(I){return new Vh(ao(I.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(C))}(t.orderBy));let m=null;t.limit&&(m=function(S){let C;return C=typeof S=="object"?S.value:S,Jh(C)?null:C}(t.limit));let p=null;t.startAt&&(p=function(S){const C=!!S.before,D=S.values||[];return new Mh(D,C)}(t.startAt));let g=null;return t.endAt&&(g=function(S){const C=!S.before,D=S.values||[];return new Mh(D,C)}(t.endAt)),_N(e,o,h,u,m,"F",p,g)}function eI(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function U1(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ao(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(t.unaryFilter.field);return Vt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(t.unaryFilter.field);return Vt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ao(t.unaryFilter.field);return Vt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(i):i.fieldFilter!==void 0?function(t){return Vt.create(ao(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ai.create(t.compositeFilter.filters.map(s=>U1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(i):Ne()}function tI(i){return qN[i]}function nI(i){return FN[i]}function iI(i){return HN[i]}function so(i){return{fieldPath:i.canonicalString()}}function ao(i){return Jt.fromServerFormat(i.fieldPath)}function j1(i){return i instanceof Vt?function(t){if(t.op==="=="){if(q0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(z0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(q0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(z0(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:nI(t.op),value:t.value}}}(i):i instanceof ai?function(t){const s=t.getFilters().map(o=>j1(o));return s.length===1?s[0]:{compositeFilter:{op:iI(t.op),filters:s}}}(i):Ne()}function rI(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function L1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t,s,o,u=Ie.min(),h=Ie.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.ct=e}}function aI(i){const e=ZN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?sp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.un=new lI}addToCollectionParentIndex(e,t){return this.un.add(t),le.resolve()}getCollectionParents(e,t){return le.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return le.resolve()}deleteFieldIndex(e,t){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,t){return le.resolve()}getDocumentsMatchingTarget(e,t){return le.resolve(null)}getIndexType(e,t){return le.resolve(0)}getFieldIndexes(e,t){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,t){return le.resolve(as.min())}getMinOffsetFromCollectionGroup(e,t){return le.resolve(as.min())}updateCollectionGroup(e,t,s){return le.resolve()}updateIndexEntries(e,t){return le.resolve()}}class lI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Zt(ct.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Zt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new vo(0)}static kn(){return new vo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.changes=new Ro(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?le.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Wl(s.mutation,o,Mn.empty(),vt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=Ks();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Gl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Ks();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=gr();const h=Xl(),m=function(){return Xl()}();return t.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof us)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Wl(E.mutation,g,E.mutation.getFieldMask(),vt.now())):h.set(g.key,Mn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var S;return m.set(g,new cI(E,(S=h.get(g))!==null&&S!==void 0?S:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Xl();let o=new pt((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let E=s.get(p)||Mn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const S=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,S)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,S=b1();E.forEach(C=>{if(!u.has(C)){const D=N1(t.get(C),s.get(C));D!==null&&S.set(C,D),u=u.add(C)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,S))}return le.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return Te.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):y1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):le.resolve(Ks());let m=-1,p=u;return h.next(g=>le.forEach(g,(E,S)=>(m<S.largestBatchId&&(m=S.largestBatchId),u.get(E)?le.resolve():this.remoteDocumentCache.getEntry(e,E).next(C=>{p=p.insert(E,C)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(E=>({batchId:m,changes:T1(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Te(t)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>le.forEach(m,p=>{const g=function(S,C){return new vu(C,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((S,C)=>{h=h.insert(S,C)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,ln.newInvalidDocument(E)))});let m=Gl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&Wl(E.mutation,g,Mn.empty(),vt.now()),ef(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return le.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Oi(o.createTime)}}(t)),le.resolve()}getNamedQuery(e,t){return le.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:aI(o.bundledQuery),readTime:Oi(o.readTime)}}(t)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.overlays=new pt(Te.comparator),this.Ir=new Map}getOverlay(e,t){return le.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ks();return le.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.ht(e,t,u)}),le.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),le.resolve()}getOverlaysForCollection(e,t,s){const o=Ks(),u=t.length+1,h=new Te(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return le.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new pt((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=Ks(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=Ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return le.resolve(m)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new kN(t,s));let u=this.Ir.get(t);u===void 0&&(u=Le(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Tr=new Zt(Gt.Er),this.dr=new Zt(Gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new Gt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Vr(new Gt(e,t))}mr(e,t){e.forEach(s=>this.removeReference(s,t))}gr(e){const t=new Te(new ct([])),s=new Gt(t,e),o=new Gt(t,e+1),u=[];return this.dr.forEachInRange([s,o],h=>{this.Vr(h),u.push(h.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Te(new ct([])),s=new Gt(t,e),o=new Gt(t,e+1);let u=Le();return this.dr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Gt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Te.comparator(e.key,t.key)||Ke(e.wr,t.wr)}static Ar(e,t){return Ke(e.wr,t.wr)||Te.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Gt.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new PN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.br=this.br.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return le.resolve(h)}lookupMutationBatch(e,t){return le.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return le.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],h=>{const m=this.Dr(h.wr);u.push(m)}),le.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Zt(Ke);return t.forEach(o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],m=>{s=s.add(m.wr)})}),le.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;Te.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new Te(u),0);let m=new Zt(Ke);return this.br.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.wr)),!0)},h),le.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Je(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return le.forEach(t.mutations,o=>{const u=new Gt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,t){const s=new Gt(t,0),o=this.br.firstAfterOrEqual(s);return le.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.Mr=e,this.docs=function(){return new pt(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return le.resolve(s?s.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let s=gr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():ln.newInvalidDocument(o))}),le.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=gr();const h=t.path,m=new Te(h.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||ZC(JC(E),s)<=0||(o.has(E.key)||ef(t,E))&&(u=u.insert(E.key,E.mutableCopy()))}return le.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ne()}Or(e,t){return le.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new yI(this)}getSize(e){return le.resolve(this.size)}}class yI extends uI{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),le.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.persistence=e,this.Nr=new Ro(t=>Kp(t),Qp),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zp,this.targetCount=0,this.kr=vo.Bn()}forEachTarget(e,t){return this.Nr.forEach((s,o)=>t(o)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),le.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new vo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,le.resolve()}updateTargetData(e,t){return this.Kn(t),le.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),le.waitFor(u).next(()=>o)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return le.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),le.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),le.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),le.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return le.resolve(s)}containsKey(e,t){return le.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t){this.qr={},this.overlays={},this.Qr=new qp(0),this.Kr=!1,this.Kr=!0,this.$r=new mI,this.referenceDelegate=e(this),this.Ur=new _I(this),this.indexManager=new oI,this.remoteDocumentCache=function(o){return new gI(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new sI(t),this.Gr=new fI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new dI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new pI(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){_e("MemoryPersistence","Starting transaction:",e);const o=new EI(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,t){return le.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,t)))}}class EI extends tN{constructor(e){super(),this.currentSequenceNumber=e}}class eg{constructor(e){this.persistence=e,this.Jr=new Zp,this.Yr=null}static Zr(e){return new eg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),le.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),le.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),le.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,s=>{const o=Te.fromPath(s);return this.ei(e,o).next(u=>{u||t.removeEntry(o,Ie.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return le.or([()=>le.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new tg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return S2()?8:nN(cn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Zi(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new TI;return this.Xi(e,t,h).next(m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)})}).next(()=>u.result)}es(e,t,s,o){return s.documentReadCount<this.ji?(zl()<=Be.DEBUG&&_e("QueryEngine","SDK will not create cache indexes for query:",ro(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(zl()<=Be.DEBUG&&_e("QueryEngine","Query:",ro(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(zl()<=Be.DEBUG&&_e("QueryEngine","The SDK decides to create cache indexes for query:",ro(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xi(t))):le.resolve())}Yi(e,t){if(K0(t))return le.resolve(null);let s=xi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=sp(t,null,"F"),s=xi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.Ji.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ts(t,m);return this.ns(t,g,h,p.readTime)?this.Yi(e,sp(t,null,"F")):this.rs(e,g,t,p)}))})))}Zi(e,t,s,o){return K0(t)||o.isEqual(Ie.min())?le.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const h=this.ts(t,u);return this.ns(t,h,s,o)?le.resolve(null):(zl()<=Be.DEBUG&&_e("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(t)),this.rs(e,h,t,WC(o,-1)).next(m=>m))})}ts(e,t){let s=new Zt(v1(e));return t.forEach((o,u)=>{ef(e,u)&&(s=s.add(u))}),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return zl()<=Be.DEBUG&&_e("QueryEngine","Using full collection scan to execute query:",ro(t)),this.Ji.getDocumentsMatchingQuery(e,t,as.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new pt(Ke),this._s=new Ro(u=>Kp(u),Qp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function AI(i,e,t,s){return new SI(i,e,t,s)}async function B1(i,e){const t=xe(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return t.localDocuments.getDocuments(s,p).next(g=>({hs:g,removedBatchIds:h,addedBatchIds:m}))})})}function wI(i,e){const t=xe(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const S=g.batch,C=S.keys();let D=le.resolve();return C.forEach(I=>{D=D.next(()=>E.getEntry(p,I)).next(B=>{const M=g.docVersions.get(I);Je(M!==null),B.version.compareTo(M)<0&&(S.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),E.addEntry(B)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,S))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function z1(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function RI(i,e){const t=xe(i),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach((E,S)=>{const C=o.get(S);if(!C)return;m.push(t.Ur.removeMatchingKeys(u,E.removedDocuments,S).next(()=>t.Ur.addMatchingKeys(u,E.addedDocuments,S)));let D=C.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(S)!==null?D=D.withResumeToken(en.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,s)),o=o.insert(S,D),function(B,M,te){return B.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0}(C,D,E)&&m.push(t.Ur.updateTargetData(u,D))});let p=gr(),g=Le();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(CI(u,h,e.documentUpdates).next(E=>{p=E.Ps,g=E.Is})),!s.isEqual(Ie.min())){const E=t.Ur.getLastRemoteSnapshotVersion(u).next(S=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return le.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.os=o,u))}function CI(i,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=gr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ie.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):_e("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ps:h,Is:o}})}function NI(i,e){const t=xe(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function II(i,e){const t=xe(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ur.getTargetData(s,e).next(u=>u?(o=u,le.resolve(o)):t.Ur.allocateTargetId(s).next(h=>(o=new Jr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s})}async function cp(i,e,t){const s=xe(i),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!_u(h))throw h;_e("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function iE(i,e,t){const s=xe(i);let o=Ie.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const S=xe(p),C=S._s.get(E);return C!==void 0?le.resolve(S.os.get(C)):S.Ur.getTargetData(g,E)}(s,h,xi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:Ie.min(),t?u:Le())).next(m=>(xI(s,EN(e),m),{documents:m,Ts:u})))}function xI(i,e,t){let s=i.us.get(e)||Ie.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.us.set(e,s)}class rE{constructor(){this.activeTargetIds=RN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OI{constructor(){this.so=new rE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new rE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){_e("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){_e("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let th=null;function Mm(){return th===null?th=function(){return 268435456+Math.round(2147483648*Math.random())}():th++,"0x"+th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class PI extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,h){const m=Mm(),p=this.xo(t,s.toUriEncodedString());_e("RestConnection",`Sending RPC '${t}' ${m}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,u,h),this.No(t,p,g,o).then(E=>(_e("RestConnection",`Received RPC '${t}' ${m}: `,E),E),E=>{throw po("RestConnection",`RPC '${t}' ${m} failed with error: `,E,"url: ",p,"request:",o),E})}Lo(t,s,o,u,h,m){return this.Mo(t,s,o,u,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}xo(t,s){const o=MI[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=Mm();return new Promise((h,m)=>{const p=new e1;p.setWithCredentials(!0),p.listenOnce(t1.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case ch.NO_ERROR:const E=p.getResponseJson();_e(an,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case ch.TIMEOUT:_e(an,`RPC '${e}' ${u} timed out`),m(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case ch.HTTP_ERROR:const S=p.getStatus();if(_e(an,`RPC '${e}' ${u} failed with status:`,S,"response text:",p.getResponseText()),S>0){let C=p.getResponseJson();Array.isArray(C)&&(C=C[0]);const D=C==null?void 0:C.error;if(D&&D.status&&D.message){const I=function(M){const te=M.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(te)>=0?te:se.UNKNOWN}(D.status);m(new ye(I,D.message))}else m(new ye(se.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{_e(an,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);_e(an,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Bo(e,t,s){const o=Mm(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=r1(),m=i1(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const E=u.join("");_e(an,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=h.createWebChannel(E,p);let C=!1,D=!1;const I=new VI({Io:M=>{D?_e(an,`Not sending because RPC '${e}' stream ${o} is closed:`,M):(C||(_e(an,`Opening RPC '${e}' stream ${o} transport.`),S.open(),C=!0),_e(an,`RPC '${e}' stream ${o} sending:`,M),S.send(M))},To:()=>S.close()}),B=(M,te,ae)=>{M.listen(te,K=>{try{ae(K)}catch(ue){setTimeout(()=>{throw ue},0)}})};return B(S,Hl.EventType.OPEN,()=>{D||(_e(an,`RPC '${e}' stream ${o} transport opened.`),I.yo())}),B(S,Hl.EventType.CLOSE,()=>{D||(D=!0,_e(an,`RPC '${e}' stream ${o} transport closed`),I.So())}),B(S,Hl.EventType.ERROR,M=>{D||(D=!0,po(an,`RPC '${e}' stream ${o} transport errored:`,M),I.So(new ye(se.UNAVAILABLE,"The operation could not be completed")))}),B(S,Hl.EventType.MESSAGE,M=>{var te;if(!D){const ae=M.data[0];Je(!!ae);const K=ae,ue=K.error||((te=K[0])===null||te===void 0?void 0:te.error);if(ue){_e(an,`RPC '${e}' stream ${o} received error:`,ue);const re=ue.status;let de=function(N){const O=Mt[N];if(O!==void 0)return x1(O)}(re),P=ue.message;de===void 0&&(de=se.INTERNAL,P="Unknown error status: "+re+" with message "+ue.message),D=!0,I.So(new ye(de,P)),S.close()}else _e(an,`RPC '${e}' stream ${o} received:`,ae),I.bo(ae)}}),B(m,n1.STAT_EVENT,M=>{M.stat===Zm.PROXY?_e(an,`RPC '${e}' stream ${o} detected buffering proxy`):M.stat===Zm.NOPROXY&&_e(an,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.wo()},0),I}}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sf(i){return new GN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&_e("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,t,s,o,u,h,m,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new q1(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===se.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===t&&this.P_(s,o)},s=>{e(()=>{const o=new ye(se.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return _e("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(_e("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class kI extends F1{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=YN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ie.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ie.min():h.readTime?Oi(h.readTime):Ie.min()}(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=up(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=ip(p)?{documents:WN(u,p)}:{query:JN(u,p)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=M1(u,h.resumeToken);const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ie.min())>0){m.readTime=Uh(u,h.snapshotVersion.toTimestamp());const g=ap(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=eI(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=up(this.serializer),t.removeTarget=e,this.a_(t)}}class UI extends F1{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Je(!!e.streamToken),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=XN(e.writeResults,e.commitTime),s=Oi(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=up(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>$N(this.serializer,s))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Mo(e,op(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ye(se.UNKNOWN,u.toString())})}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Lo(e,op(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ye(se.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class LI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(pr(t),this.D_=!1):_e("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(h=>{s.enqueueAndForget(async()=>{ha(this)&&(_e("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.L_.add(4),await bu(g),g.q_.set("Unknown"),g.L_.delete(4),await af(g)}(this))})}),this.q_=new LI(s,o)}}async function af(i){if(ha(i))for(const e of i.B_)await e(!0)}async function bu(i){for(const e of i.B_)await e(!1)}function H1(i,e){const t=xe(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),sg(t)?rg(t):Co(t).r_()&&ig(t,e))}function ng(i,e){const t=xe(i),s=Co(t);t.N_.delete(e),s.r_()&&G1(t,e),t.N_.size===0&&(s.r_()?s.o_():ha(t)&&t.q_.set("Unknown"))}function ig(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Co(i).A_(e)}function G1(i,e){i.Q_.xe(e),Co(i).R_(e)}function rg(i){i.Q_=new zN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),Co(i).start(),i.q_.v_()}function sg(i){return ha(i)&&!Co(i).n_()&&i.N_.size>0}function ha(i){return xe(i).L_.size===0}function K1(i){i.Q_=void 0}async function zI(i){i.q_.set("Online")}async function qI(i){i.N_.forEach((e,t)=>{ig(i,e)})}async function FI(i,e){K1(i),sg(i)?(i.q_.M_(e),rg(i)):i.q_.set("Unknown")}async function HI(i,e,t){if(i.q_.set("Online"),e instanceof D1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.N_.delete(m),o.Q_.removeTarget(m))}(i,e)}catch(s){_e("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(i,s)}else if(e instanceof dh?i.Q_.Ke(e):e instanceof O1?i.Q_.He(e):i.Q_.We(e),!t.isEqual(Ie.min()))try{const s=await z1(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.N_.get(g);E&&u.N_.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.N_.get(p);if(!E)return;u.N_.set(p,E.withResumeToken(en.EMPTY_BYTE_STRING,E.snapshotVersion)),G1(u,p);const S=new Jr(E.target,p,g,E.sequenceNumber);ig(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){_e("RemoteStore","Failed to raise snapshot:",s),await jh(i,s)}}async function jh(i,e,t){if(!_u(e))throw e;i.L_.add(1),await bu(i),i.q_.set("Offline"),t||(t=()=>z1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{_e("RemoteStore","Retrying IndexedDB access"),await t(),i.L_.delete(1),await af(i)})}function Q1(i,e){return e().catch(t=>jh(i,t,e))}async function of(i){const e=xe(i),t=ls(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;GI(e);)try{const o=await NI(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,KI(e,o)}catch(o){await jh(e,o)}Y1(e)&&$1(e)}function GI(i){return ha(i)&&i.O_.length<10}function KI(i,e){i.O_.push(e);const t=ls(i);t.r_()&&t.V_&&t.m_(e.mutations)}function Y1(i){return ha(i)&&!ls(i).n_()&&i.O_.length>0}function $1(i){ls(i).start()}async function QI(i){ls(i).p_()}async function YI(i){const e=ls(i);for(const t of i.O_)e.m_(t.mutations)}async function $I(i,e,t){const s=i.O_.shift(),o=Xp.from(s,e,t);await Q1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await of(i)}async function XI(i,e){e&&ls(i).V_&&await async function(s,o){if(function(h){return jN(h)&&h!==se.ABORTED}(o.code)){const u=s.O_.shift();ls(s).s_(),await Q1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await of(s)}}(i,e),Y1(i)&&$1(i)}async function aE(i,e){const t=xe(i);t.asyncQueue.verifyOperationInProgress(),_e("RemoteStore","RemoteStore received new credentials");const s=ha(t);t.L_.add(3),await bu(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await af(t)}async function WI(i,e){const t=xe(i);e?(t.L_.delete(2),await af(t)):e||(t.L_.add(2),await bu(t),t.q_.set("Unknown"))}function Co(i){return i.K_||(i.K_=function(t,s,o){const u=xe(t);return u.w_(),new kI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:zI.bind(null,i),Ro:qI.bind(null,i),mo:FI.bind(null,i),d_:HI.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),sg(i)?rg(i):i.q_.set("Unknown")):(await i.K_.stop(),K1(i))})),i.K_}function ls(i){return i.U_||(i.U_=function(t,s,o){const u=xe(t);return u.w_(),new UI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:QI.bind(null,i),mo:XI.bind(null,i),f_:YI.bind(null,i),g_:$I.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await of(i)):(await i.U_.stop(),i.O_.length>0&&(_e("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new ag(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(i,e){if(pr("AsyncQueue",`${e}: ${i}`),_u(i))return new ye(se.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.comparator=e?(t,s)=>e(t,s)||Te.comparator(t.key,s.key):(t,s)=>Te.comparator(t.key,s.key),this.keyedMap=Gl(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.W_=new pt(Te.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,s)=>{e.push(s)}),e}}class Eo{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Eo(e,t,co.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class ZI{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=xe(t),u=o.queries;o.queries=lE(),u.forEach((h,m)=>{for(const p of m.j_)p.onError(s)})})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function lE(){return new Ro(i=>_1(i),Zh)}async function ex(i,e){const t=xe(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new JI,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=og(h,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&lg(t)}async function tx(i,e){const t=xe(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function nx(i,e){const t=xe(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(o)&&(s=!0);h.z_=o}}s&&lg(t)}function ix(i,e,t){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function lg(i){i.Y_.forEach(e=>{e.next()})}var hp,uE;(uE=hp||(hp={})).ea="default",uE.Cache="cache";class rx{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.key=e}}class W1{constructor(e){this.key=e}}class sx{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Le(),this.mutatedKeys=Le(),this.Aa=v1(e),this.Ra=new co(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new oE,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const C=o.get(E),D=ef(this.query,S)?S:null,I=!!C&&this.mutatedKeys.has(C.key),B=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let M=!1;C&&D?C.data.isEqual(D.data)?I!==B&&(s.track({type:3,doc:D}),M=!0):this.ga(C,D)||(s.track({type:2,doc:D}),M=!0,(p&&this.Aa(D,p)>0||g&&this.Aa(D,g)<0)&&(m=!0)):!C&&D?(s.track({type:0,doc:D}),M=!0):C&&!D&&(s.track({type:1,doc:C}),M=!0,(p||g)&&(m=!0)),M&&(D?(h=h.add(D),u=B?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort((E,S)=>function(D,I){const B=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return B(D)-B(I)}(E.type,S.type)||this.Aa(E.doc,S.doc)),this.pa(s),o=o!=null&&o;const m=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,h.length!==0||g?{snapshot:new Eo(this.query,e.Ra,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new oE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Le(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const t=[];return e.forEach(s=>{this.da.has(s)||t.push(new W1(s))}),this.da.forEach(s=>{e.has(s)||t.push(new X1(s))}),t}ba(e){this.Ta=e.Ts,this.da=Le();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Eo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class ax{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ox{constructor(e){this.key=e,this.va=!1}}class lx{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new Ro(m=>_1(m),Zh),this.Ma=new Map,this.xa=new Set,this.Oa=new pt(Te.comparator),this.Na=new Map,this.La=new Zp,this.Ba={},this.ka=new Map,this.qa=vo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function ux(i,e,t=!0){const s=ib(i);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await J1(s,e,t,!0),o}async function cx(i,e){const t=ib(i);await J1(t,e,!0,!1)}async function J1(i,e,t,s){const o=await II(i.localStore,xi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await hx(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&H1(i.remoteStore,o),m}async function hx(i,e,t,s,o){i.Ka=(S,C,D)=>async function(B,M,te,ae){let K=M.view.ma(te);K.ns&&(K=await iE(B.localStore,M.query,!1).then(({documents:P})=>M.view.ma(P,K)));const ue=ae&&ae.targetChanges.get(M.targetId),re=ae&&ae.targetMismatches.get(M.targetId)!=null,de=M.view.applyChanges(K,B.isPrimaryClient,ue,re);return hE(B,M.targetId,de.wa),de.snapshot}(i,S,C,D);const u=await iE(i.localStore,e,!0),h=new sx(e,u.Ts),m=h.ma(u.documents),p=Tu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);hE(i,t,g.wa);const E=new ax(e,t,h);return i.Fa.set(e,E),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),g.snapshot}async function fx(i,e,t){const s=xe(i),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter(h=>!Zh(h,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await cp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&ng(s.remoteStore,o.targetId),fp(s,o.targetId)}).catch(yu)):(fp(s,o.targetId),await cp(s.localStore,o.targetId,!0))}async function dx(i,e){const t=xe(i),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),ng(t.remoteStore,s.targetId))}async function mx(i,e,t){const s=Tx(i);try{const o=await function(h,m){const p=xe(h),g=vt.now(),E=m.reduce((D,I)=>D.add(I.key),Le());let S,C;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let I=gr(),B=Le();return p.cs.getEntries(D,E).next(M=>{I=M,I.forEach((te,ae)=>{ae.isValidDocument()||(B=B.add(te))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,I)).next(M=>{S=M;const te=[];for(const ae of m){const K=MN(ae,S.get(ae.key).overlayedDocument);K!=null&&te.push(new us(ae.key,K,u1(K.value.mapValue),si.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,te,m)}).next(M=>{C=M;const te=M.applyToLocalDocumentSet(S,B);return p.documentOverlayCache.saveOverlays(D,M.batchId,te)})}).then(()=>({batchId:C.batchId,changes:T1(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ba[h.currentUser.toKey()];g||(g=new pt(Ke)),g=g.insert(m,p),h.Ba[h.currentUser.toKey()]=g}(s,o.batchId,t),await Su(s,o.changes),await of(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");t.reject(u)}}async function Z1(i,e){const t=xe(i);try{const s=await RI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Na.get(u);h&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?Je(h.va):o.removedDocuments.size>0&&(Je(h.va),h.va=!1))}),await Su(t,s,e)}catch(s){await yu(s)}}function cE(i,e,t){const s=xe(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach((u,h)=>{const m=h.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=xe(h);p.onlineState=m;let g=!1;p.queries.forEach((E,S)=>{for(const C of S.j_)C.Z_(m)&&(g=!0)}),g&&lg(p)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function px(i,e,t){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let h=new pt(Te.comparator);h=h.insert(u,ln.newNoDocument(u,Ie.min()));const m=Le().add(u),p=new rf(Ie.min(),new Map,new pt(Ke),h,m);await Z1(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),ug(s)}else await cp(s.localStore,e,!1).then(()=>fp(s,e,t)).catch(yu)}async function gx(i,e){const t=xe(i),s=e.batch.batchId;try{const o=await wI(t.localStore,e);tb(t,s,null),eb(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Su(t,o)}catch(o){await yu(o)}}async function yx(i,e,t){const s=xe(i);try{const o=await function(h,m){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(S=>(Je(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(g,S))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);tb(s,e,t),eb(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Su(s,o)}catch(o){await yu(o)}}function eb(i,e){(i.ka.get(e)||[]).forEach(t=>{t.resolve()}),i.ka.delete(e)}function tb(i,e,t){const s=xe(i);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function fp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),t&&i.Ca.$a(s,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(s=>{i.La.containsKey(s)||nb(i,s)})}function nb(i,e){i.xa.delete(e.path.canonicalString());const t=i.Oa.get(e);t!==null&&(ng(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),ug(i))}function hE(i,e,t){for(const s of t)s instanceof X1?(i.La.addReference(s.key,e),_x(i,s)):s instanceof W1?(_e("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||nb(i,s.key)):Ne()}function _x(i,e){const t=e.key,s=t.path.canonicalString();i.Oa.get(t)||i.xa.has(s)||(_e("SyncEngine","New document in limbo: "+t),i.xa.add(s),ug(i))}function ug(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const t=new Te(ct.fromString(e)),s=i.qa.next();i.Na.set(s,new ox(t)),i.Oa=i.Oa.insert(t,s),H1(i.remoteStore,new Jr(xi(g1(t.path)),s,"TargetPurposeLimboResolution",qp.oe))}}async function Su(i,e,t){const s=xe(i),o=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach((m,p)=>{h.push(s.Ka(p,e,t).then(g=>{var E;if((g||t)&&s.isPrimaryClient){const S=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(g){o.push(g);const S=tg.Wi(p.targetId,g);u.push(S)}}))}),await Promise.all(h),s.Ca.d_(o),await async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>le.forEach(g,C=>le.forEach(C.$i,D=>E.persistence.referenceDelegate.addReference(S,C.targetId,D)).next(()=>le.forEach(C.Ui,D=>E.persistence.referenceDelegate.removeReference(S,C.targetId,D)))))}catch(S){if(!_u(S))throw S;_e("LocalStore","Failed to update sequence numbers: "+S)}for(const S of g){const C=S.targetId;if(!S.fromCache){const D=E.os.get(C),I=D.snapshotVersion,B=D.withLastLimboFreeSnapshotVersion(I);E.os=E.os.insert(C,B)}}}(s.localStore,u))}async function vx(i,e){const t=xe(i);if(!t.currentUser.isEqual(e)){_e("SyncEngine","User change. New user:",e.toKey());const s=await B1(t.localStore,e);t.currentUser=e,function(u,h){u.ka.forEach(m=>{m.forEach(p=>{p.reject(new ye(se.CANCELLED,h))})}),u.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Su(t,s.hs)}}function Ex(i,e){const t=xe(i),s=t.Na.get(e);if(s&&s.va)return Le().add(s.key);{let o=Le();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const m=t.Fa.get(h);o=o.unionWith(m.view.Va)}return o}}function ib(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ex.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=px.bind(null,e),e.Ca.d_=nx.bind(null,e.eventManager),e.Ca.$a=ix.bind(null,e.eventManager),e}function Tx(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yx.bind(null,e),e}class Lh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=sf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return AI(this.persistence,new bI,e.initialUser,this.serializer)}Ga(e){return new vI(eg.Zr,this.serializer)}Wa(e){return new OI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lh.provider={build:()=>new Lh};class dp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=vx.bind(null,this.syncEngine),await WI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZI}()}createDatastore(e){const t=sf(e.databaseInfo.databaseId),s=function(u){return new PI(u)}(e.databaseInfo);return function(u,h,m,p){return new jI(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new BI(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>cE(this.syncEngine,t,0),function(){return sE.D()?new sE:new DI}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,E){const S=new lx(o,u,h,m,p,g);return E&&(S.Qa=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=xe(o);_e("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await bu(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=a1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{_e("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(_e("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=og(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pm(i,e){i.asyncQueue.verifyOperationInProgress(),_e("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await B1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function fE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Ax(i);_e("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>aE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>aE(e.remoteStore,o)),i._onlineComponents=e}async function Ax(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){_e("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===se.FAILED_PRECONDITION||o.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;po("Error using user provided cache. Falling back to memory cache: "+t),await Pm(i,new Lh)}}else _e("FirestoreClient","Using default OfflineComponentProvider"),await Pm(i,new Lh);return i._offlineComponents}async function rb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(_e("FirestoreClient","Using user provided OnlineComponentProvider"),await fE(i,i._uninitializedComponentsProvider._online)):(_e("FirestoreClient","Using default OnlineComponentProvider"),await fE(i,new dp))),i._onlineComponents}function wx(i){return rb(i).then(e=>e.syncEngine)}async function Rx(i){const e=await rb(i),t=e.eventManager;return t.onListen=ux.bind(null,e.syncEngine),t.onUnlisten=fx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=cx.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dx.bind(null,e.syncEngine),t}function Cx(i,e,t={}){const s=new is;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new bx({next:C=>{E.Za(),h.enqueueAndForget(()=>tx(u,S)),C.fromCache&&p.source==="server"?g.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(C)},error:C=>g.reject(C)}),S=new rx(m,E,{includeMetadataChanges:!0,_a:!0});return ex(u,S)}(await Rx(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(i,e,t){if(!t)throw new ye(se.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Nx(i,e,t,s){if(e===!0&&s===!0)throw new ye(se.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function mE(i){if(!Te.isDocumentKey(i))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function pE(i){if(Te.isDocumentKey(i))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function lf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ne()}function ra(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=lf(i);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uf{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qC;switch(s.type){case"firstParty":return new KC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=dE.get(t);s&&(_e("ComponentProvider","Removing Datastore"),dE.delete(t),s.terminate())}(this),Promise.resolve()}}function Ix(i,e,t,s={}){var o;const u=(i=ra(i,uf))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&po("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=on.MOCK_USER;else{m=pT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new on(g)}i._authCredentials=new FC(new s1(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new No(this.firestore,e,this._query)}}class Pn{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pn(this.firestore,e,this._key)}}class rs extends No{constructor(e,t,s){super(e,t,g1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pn(this.firestore,null,new Te(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function wi(i,e,...t){if(i=Et(i),ab("collection","path",e),i instanceof uf){const s=ct.fromString(e,...t);return pE(s),new rs(i,null,s)}{if(!(i instanceof Pn||i instanceof rs))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return pE(s),new rs(i.firestore,null,s)}}function yn(i,e,...t){if(i=Et(i),arguments.length===1&&(e=a1.newId()),ab("doc","path",e),i instanceof uf){const s=ct.fromString(e,...t);return mE(s),new Pn(i,null,new Te(s))}{if(!(i instanceof Pn||i instanceof rs))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ct.fromString(e,...t));return mE(s),new Pn(i.firestore,i instanceof rs?i.converter:null,new Te(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new q1(this,"async_queue_retry"),this.Vu=()=>{const s=Vm();s&&_e("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Vm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Vm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new is;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!_u(e))throw e;_e("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=ag.createAndSchedule(this,e,t,s,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Au extends uf{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new yE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function xx(i,e){const t=typeof i=="object"?i:Ip(),s=typeof i=="string"?i:"(default)",o=Yh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=fT("firestore");u&&Ix(o,...u)}return o}function ob(i){if(i._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Ox(i),i._firestoreClient}function Ox(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new sN(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,sb(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new Sx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(en.fromBase64String(e))}catch(t){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new To(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=/^__.*__$/;class Mx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Eu(e,this.data,t,this.fieldTransforms)}}class lb{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new us(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ub(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class dg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Bh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(ub(this.Cu)&&Dx.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Vx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||sf(e)}Qu(e,t,s,o=!1){return new dg({Cu:e,methodName:t,qu:s,path:Jt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mg(i){const e=i._freezeSettings(),t=sf(i._databaseId);return new Vx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Px(i,e,t,s,o,u={}){const h=i.Qu(u.merge||u.mergeFields?2:0,e,t,o);pg("Data must be an object, but it was:",h,s);const m=cb(s,h);let p,g;if(u.merge)p=new Mn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const S of u.mergeFields){const C=mp(e,S,t);if(!h.contains(C))throw new ye(se.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);fb(E,C)||E.push(C)}p=new Mn(E),g=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,g=h.fieldTransforms;return new Mx(new bn(m),p,g)}class hf extends cg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}function kx(i,e,t,s){const o=i.Qu(1,e,t);pg("Data must be an object, but it was:",o,s);const u=[],h=bn.empty();ca(s,(p,g)=>{const E=gg(e,p,t);g=Et(g);const S=o.Nu(E);if(g instanceof hf)u.push(E);else{const C=wu(g,S);C!=null&&(u.push(E),h.set(E,C))}});const m=new Mn(u);return new lb(h,m,o.fieldTransforms)}function Ux(i,e,t,s,o,u){const h=i.Qu(1,e,t),m=[mp(e,s,t)],p=[o];if(u.length%2!=0)throw new ye(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<u.length;C+=2)m.push(mp(e,u[C])),p.push(u[C+1]);const g=[],E=bn.empty();for(let C=m.length-1;C>=0;--C)if(!fb(g,m[C])){const D=m[C];let I=p[C];I=Et(I);const B=h.Nu(D);if(I instanceof hf)g.push(D);else{const M=wu(I,B);M!=null&&(g.push(D),E.set(D,M))}}const S=new Mn(g);return new lb(E,S,h.fieldTransforms)}function jx(i,e,t,s=!1){return wu(t,i.Qu(s?4:3,e))}function wu(i,e){if(hb(i=Et(i)))return pg("Unsupported field value:",e,i),cb(i,e);if(i instanceof cg)return function(s,o){if(!ub(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=wu(m,o.Lu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Et(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return CN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=vt.fromDate(s);return{timestampValue:Uh(o.serializer,u)}}if(s instanceof vt){const u=new vt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Uh(o.serializer,u)}}if(s instanceof hg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:M1(o.serializer,s._byteString)};if(s instanceof Pn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof fg)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Yp(m.serializer,p)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${lf(s)}`)}(i,e)}function cb(i,e){const t={};return o1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ca(i,(s,o)=>{const u=wu(o,e.Mu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function hb(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof vt||i instanceof hg||i instanceof To||i instanceof Pn||i instanceof cg||i instanceof fg)}function pg(i,e,t){if(!hb(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=lf(t);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function mp(i,e,t){if((e=Et(e))instanceof cf)return e._internalPath;if(typeof e=="string")return gg(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Lx=new RegExp("[~\\*/\\[\\]]");function gg(i,e,t){if(e.search(Lx)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new cf(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Bh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ye(se.INVALID_ARGUMENT,m+i+p)}function fb(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(mb("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Bx extends db{data(){return super.data()}}function mb(i,e){return typeof e=="string"?gg(i,e):e instanceof cf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class qx extends yg{}function mh(i,e,...t){let s=[];e instanceof yg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof vg).length,m=u.filter(p=>p instanceof _g).length;if(h>1||h>0&&m>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class _g extends qx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new _g(e,t,s)}_apply(e){const t=this._parse(e);return pb(e._query,t),new No(e.firestore,e.converter,rp(e._query,t))}_parse(e){const t=mg(e.firestore);return function(u,h,m,p,g,E,S){let C;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){vE(S,E);const D=[];for(const I of S)D.push(_E(p,u,I));C={arrayValue:{values:D}}}else C=_E(p,u,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||vE(S,E),C=jx(m,h,S,E==="in"||E==="not-in");return Vt.create(g,E,C)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class vg extends yg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new vg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ai.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)pb(h,p),h=rp(h,p)}(e._query,t),new No(e.firestore,e.converter,rp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function _E(i,e,t){if(typeof(t=Et(t))=="string"){if(t==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!y1(e)&&t.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ct.fromString(t));if(!Te.isDocumentKey(s))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return B0(i,new Te(s))}if(t instanceof Pn)return B0(i,t._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lf(t)}.`)}function vE(i,e){if(!Array.isArray(i)||i.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pb(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Fx{convertValue(e,t="none"){switch(ia(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(na(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return ca(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Ct(h.doubleValue));return new fg(u)}convertGeoPoint(e){return new hg(Ct(e.latitude),Ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hp(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const t=os(e);return new vt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ct.fromString(e);Je(L1(s));const o=new au(s.get(1),s.get(3)),u=new Te(s.popFirst(5));return o.isEqual(t)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gx extends db{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ph(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(mb("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class ph extends Gx{data(e={}){return super.data(e)}}class Kx{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new nh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new ph(this._firestore,this._userDataWriter,s.key,s,new nh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ph(o._firestore,o._userDataWriter,m.doc.key,m.doc,new nh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:Qx(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Qx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class Yx extends Fx{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pn(this.firestore,null,t)}}function Xs(i){i=ra(i,No);const e=ra(i.firestore,Au),t=ob(e),s=new Yx(e);return zx(i._query),Cx(t,i._query).then(o=>new Kx(e,s,i,o))}function Jl(i,e,t,...s){i=ra(i,Pn);const o=ra(i.firestore,Au),u=mg(o);let h;return h=typeof(e=Et(e))=="string"||e instanceof cf?Ux(u,"updateDoc",i._key,e,t,s):kx(u,"updateDoc",i._key,e),bg(o,[h.toMutation(i._key,si.exists(!0))])}function Eg(i){return bg(ra(i.firestore,Au),[new $p(i._key,si.none())])}function Tg(i,e){const t=ra(i.firestore,Au),s=yn(i),o=Hx(i.converter,e);return bg(t,[Px(mg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,si.exists(!1))]).then(()=>s)}function bg(i,e){return function(s,o){const u=new is;return s.asyncQueue.enqueueAndForget(async()=>mx(await wx(s),o,u)),u.promise}(ob(i),e)}(function(e,t=!0){(function(o){wo=o})(la),Zs(new ss("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Au(new HC(s.getProvider("auth-internal")),new YC(s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Ni(P0,"4.7.3",e),Ni(P0,"4.7.3","esm2017")})();const $x={apiKey:"AIzaSyDU9EPsYVmpwNWzQWifSdZIxJcpMo6Pk-I",authDomain:"booktracker-e1be7.firebaseapp.com",projectId:"booktracker-e1be7",storageBucket:"booktracker-e1be7.firebasestorage.app",messagingSenderId:"683431497366",appId:"1:683431497366:web:ea521a8fcd6b1eb83bbcb7"},gb=_T($x),Nt=BC(gb),$n=xx(gb),Xx=new or;C4(Nt,FT).catch(i=>{console.error("Erro na persistência:",i)});function Wx(){const i=Nt.currentUser,e=hu(),[t,s]=Q.useState(!1),[o,u]=Q.useState(window.innerWidth<=968);Q.useEffect(()=>{const p=()=>{u(window.innerWidth<=968),window.innerWidth>968&&s(!1)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const h=()=>{o&&s(!1)},m=async()=>{try{await x4(Nt),e("/login")}catch(p){console.error("Erro ao fazer logout:",p),alert("Erro ao sair da conta! Tente novamente.")}};return _.jsxs("div",{className:"app-container",children:[o&&_.jsx("button",{className:"menu-toggle",onClick:()=>s(!t),"aria-label":t?"Fechar menu":"Abrir menu",children:t?_.jsx(aT,{}):_.jsx(Ww,{})}),_.jsxs("aside",{className:`sidebar ${t?"open":""}`,children:[_.jsxs("div",{className:"user-info",children:[_.jsx("img",{src:(i==null?void 0:i.photoURL)||"/default-user.png",alt:"Foto do usuário",className:"user-photo"}),_.jsxs("div",{className:"user-details",children:[_.jsx("span",{className:"user-name",children:(i==null?void 0:i.displayName)||"Usuário"}),_.jsxs("button",{onClick:m,className:"logout-button",children:[_.jsx(s2,{})," Sair"]})]})]}),_.jsxs("nav",{className:"nav-menu",children:[_.jsxs(Bl,{to:"/dashboard",className:"nav-item",onClick:h,children:[_.jsx(n2,{className:"nav-icon"}),_.jsx("span",{children:"Dashboard"})]}),_.jsxs(Bl,{to:"/add-book",className:"nav-item",onClick:h,children:[_.jsx(ho,{className:"nav-icon"}),_.jsx("span",{children:"Adicionar Livro"})]}),_.jsxs(Bl,{to:"/collection",className:"nav-item",onClick:h,children:[_.jsx(Ci,{className:"nav-icon"}),_.jsx("span",{children:"Coleção"})]}),_.jsxs(Bl,{to:"/folders",className:"nav-item",onClick:h,children:[_.jsx(sh,{className:"nav-icon"}),_.jsx("span",{children:"Pastas"})]}),_.jsxs(Bl,{to:"/profile",className:"nav-item",onClick:h,children:[_.jsx(oT,{className:"nav-icon"}),_.jsx("span",{children:"Perfil"})]})]})]}),_.jsx("main",{className:"main-content",children:_.jsx(XE,{})})]})}function Jx(){return _.jsxs("div",{className:"landing-container",children:[_.jsxs("nav",{className:"landing-nav",children:[_.jsxs("div",{className:"logo",children:[_.jsx("span",{className:"book-icon",children:"📚"})," BookTracker"]}),_.jsx("div",{className:"nav-links",children:_.jsx(es,{to:"/login",className:"login-link",children:"Login"})})]}),_.jsxs("header",{className:"landing-header",children:[_.jsxs("div",{className:"header-content",children:[_.jsx("h1",{children:"BookTracker"}),_.jsx("p",{className:"tagline",children:"Organize, acompanhe e descubra sua jornada literária"}),_.jsx(es,{to:"/login",className:"cta-button",children:"Começar Agora"})]}),_.jsx("div",{className:"header-image",children:_.jsx("div",{className:"header-image",children:_.jsx("div",{className:"book-shelf",children:_.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 400 300",children:[_.jsx("path",{fill:"#5f6c7b",d:"M20 280h360v20H20z"}),_.jsxs("g",{transform:"translate(50 80)",children:[_.jsx("path",{fill:"#4361ee",d:"M0 0h40v200H0z"}),_.jsx("path",{fill:"#3f37c9",d:"M0 0h40v20H0z"}),_.jsx("path",{fill:"#4cc9f0",transform:"translate(60)",d:"M0 0h35v180H0z"}),_.jsx("path",{fill:"#3a86ff",d:"M60 0h35v15H60z"}),_.jsx("path",{fill:"#ff6b6b",transform:"translate(110)",d:"M0 0h30v220H0z"}),_.jsx("path",{fill:"#d62828",d:"M110 0h30v18H110z"}),_.jsxs("g",{transform:"rotate(-5 280 100)",children:[_.jsx("path",{fill:"#94d2bd",d:"M180 20h40v190h-40z"}),_.jsx("path",{fill:"#0a9396",d:"M180 20h40v15h-40z"})]}),_.jsxs("g",{transform:"translate(240 30)",children:[_.jsx("path",{fill:"#f4a261",d:"M0 0h50v160H0z"}),_.jsx("path",{fill:"#e76f51",d:"M0 0h50v20H0z"}),_.jsx("path",{fill:"#e9c46a",d:"M25 0h25v160H25z"})]})]}),_.jsx("path",{fill:"#4a4e69",d:"M50 260h300v10H50z",opacity:"0.5"}),_.jsx("circle",{cx:"380",cy:"270",r:"8",fill:"#4cc9f0"})]})})})})]}),_.jsxs("section",{className:"features",children:[_.jsxs("div",{className:"feature-card",children:[_.jsx("div",{className:"feature-icon",children:_.jsx(Ci,{})}),_.jsx("h2",{children:"Organize sua coleção"}),_.jsx("p",{children:"Cadastre todos os seus livros em um só lugar e acompanhe seu progresso de leitura com facilidade."})]}),_.jsxs("div",{className:"feature-card",children:[_.jsx("div",{className:"feature-icon",children:_.jsx(nT,{})}),_.jsx("h2",{children:"Estatísticas detalhadas"}),_.jsx("p",{children:"Visualize seus hábitos de leitura com gráficos interativos e descubra padrões interessantes."})]}),_.jsxs("div",{className:"feature-card",children:[_.jsx("div",{className:"feature-icon",children:_.jsx(i2,{})}),_.jsx("h2",{children:"Acesso em qualquer lugar"}),_.jsx("p",{children:"Use em qualquer dispositivo com sincronização automática para nunca perder seus dados."})]})]}),_.jsxs("footer",{className:"landing-footer",children:[_.jsxs("div",{className:"cta-section",children:[_.jsx("h2",{children:"Pronto para organizar sua biblioteca?"}),_.jsx(es,{to:"/login",className:"cta-button",children:"Criar conta grátis"})]}),_.jsx("div",{className:"footer-info",children:_.jsx("p",{children:"© 2025 BookTracker. Todos os direitos reservados."})})]})]})}function Zx(){const i=hu(),e=async()=>{try{await $4(Nt,Xx),i("/dashboard")}catch(t){console.error("Erro no login:",t)}};return _.jsx("div",{className:"login-container",children:_.jsxs("div",{className:"login-card",children:[_.jsxs("div",{className:"app-logo",children:[_.jsx("span",{className:"book-icon",children:"📚"}),_.jsx("h1",{children:"BookTracker"})]}),_.jsx("h2",{children:"Bem-vindo de volta"}),_.jsx("p",{className:"login-subtitle",children:"Continue sua jornada literária"}),_.jsxs("button",{className:"google-login-btn",onClick:e,children:[_.jsx(Xw,{className:"google-icon"}),_.jsx("span",{children:"Entrar com Google"})]}),_.jsxs(es,{to:"/",className:"back-link",children:[_.jsx(tT,{})," Voltar para a página inicial"]})]})})}function eO(){var j;const[i,e]=Q.useState([]),[t,s]=Q.useState({total:0,read:0,favoriteGenre:"Nenhum",avgRating:0,fastestBook:"Nenhum",mostReadAuthor:"Nenhum",booksThisYear:0,bestReadingMonth:"Nenhum",totalPages:0,booksThisMonth:0}),[o,u]=Q.useState({title:"",value:""}),[h,m]=Q.useState(0),[p,g]=Q.useState(!0),[E,S]=Q.useState([]),[C,D]=Q.useState(!1),[I,B]=Q.useState(null),[M,te]=Q.useState({type:"annual",target:"",progress:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""}),[ae,K]=Q.useState(!1),[ue,re]=Q.useState(null);Q.useEffect(()=>{(async()=>{try{const me=Nt.currentUser;if(me){const Ve=yn($n,"users",me.uid),$=wi(Ve,"books"),pe=(await Xs(mh($))).docs.map(W=>({id:W.id,...W.data()}));e(pe),de(pe);const De=wi(Ve,"goals"),Z=(await Xs(mh(De))).docs.map(W=>{var fe,Ae,Ee,at;const J=W.data();return{id:W.id,...J,endDate:((Ae=(fe=J.endDate)==null?void 0:fe.toDate)==null?void 0:Ae.call(fe).toISOString().split("T")[0])||"",createdAt:((at=(Ee=J.createdAt)==null?void 0:Ee.toDate)==null?void 0:at.call(Ee).toISOString().split("T")[0])||""}});S(Z)}}catch(me){console.error("Erro ao carregar dados:",me)}finally{g(!1)}})()},[]),Q.useEffect(()=>{const w=[{title:"Livro Mais Rápido",value:t.fastestBook},{title:"Autor Mais Lido",value:t.mostReadAuthor},{title:"Livros Lidos Este Ano",value:t.booksThisYear},{title:"Mês de Maior Leitura",value:t.bestReadingMonth},{title:"Páginas Lidas Total",value:`${t.totalPages} páginas`}],me=setInterval(()=>{m(Ve=>(Ve+1)%w.length),u(w[h])},5e3);return()=>clearInterval(me)},[h,t]);const de=w=>{const me=w.filter(W=>W.status==="Concluído"),Ve=w.map(W=>W.rating).filter(W=>W>0),$=new Date().getFullYear(),ce=new Date().getMonth()+1,pe=w.reduce((W,J)=>(W[J.genre]=(W[J.genre]||0)+1,W),{}),De=me.reduce((W,J)=>{if(J.startDate&&J.endDate&&J.pages){const fe=new Date(J.startDate),Ae=new Date(J.endDate),Ee=Math.max(1,(Ae-fe)/(1e3*3600*24)),at=Math.round(J.pages/Ee);return at>W.speed?{title:J.title,speed:at}:W}return W},{title:"Nenhum",speed:0}),V=me.reduce((W,J)=>(W[J.author]=(W[J.author]||0)+1,W),{}),Z=me.reduce((W,J)=>{if(J.endDate){const fe=new Date(J.endDate).toLocaleString("pt-BR",{month:"long"});W[fe]=(W[fe]||0)+1}return W},{});s({total:w.length,read:me.length,favoriteGenre:Object.keys(pe).reduce((W,J)=>pe[W]>pe[J]?W:J,"Nenhum"),avgRating:Ve.length?(Ve.reduce((W,J)=>W+J,0)/Ve.length).toFixed(1):0,fastestBook:De.title!=="Nenhum"?`${De.title} (${De.speed} pgs/dia)`:"Nenhum",mostReadAuthor:Object.keys(V).reduce((W,J)=>V[W]>V[J]?W:J,"Nenhum"),booksThisYear:me.filter(W=>W.endDate&&new Date(W.endDate).getFullYear()===$).length,bestReadingMonth:Object.keys(Z).reduce((W,J)=>Z[W]>Z[J]?W:J,"Nenhum"),totalPages:me.reduce((W,J)=>W+(J.pages||0),0),booksThisMonth:me.filter(W=>W.endDate&&new Date(W.endDate).getMonth()+1===ce).length})},P=async w=>{w.preventDefault();try{const me=Nt.currentUser;if(!me)throw new Error("Usuário não autenticado");const Ve=yn($n,"users",me.uid),$=wi(Ve,"goals"),ce={...M,target:Number(M.target),progress:Number(M.progress),endDate:vt.fromDate(new Date(M.endDate)),createdAt:I?vt.fromDate(new Date(I.createdAt)):vt.now(),description:M.description};if(I){const V=yn($,I.id);await Jl(V,ce)}else await Tg($,ce);const De=(await Xs(mh($))).docs.map(V=>{var W,J,fe,Ae;const Z=V.data();return{id:V.id,...Z,endDate:((J=(W=Z.endDate)==null?void 0:W.toDate)==null?void 0:J.call(W).toISOString().split("T")[0])||"",createdAt:((Ae=(fe=Z.createdAt)==null?void 0:fe.toDate)==null?void 0:Ae.call(fe).toISOString().split("T")[0])||""}});S(De),D(!1),B(null),te({type:"annual",target:"",progress:0,startDate:new Date().toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0],description:""})}catch(me){console.error("Erro ao salvar meta:",me),alert(`Erro: ${me.message}`)}},R=w=>{B(w),te({type:w.type,target:w.target,progress:w.progress,startDate:w.startDate,endDate:w.endDate,description:w.description}),D(!0)},N=async()=>{try{const w=Nt.currentUser;if(!w)throw new Error("Usuário não autenticado");const me=yn($n,"users",w.uid),Ve=yn(wi(me,"goals"),ue);await Eg(Ve),S($=>$.filter(ce=>ce.id!==ue)),K(!1)}catch(w){console.error("Erro ao excluir meta:",w),alert(`Erro: ${w.message}`)}},O=w=>{switch(w.type){case"annual":return Math.min(t.booksThisYear/w.target*100,100).toFixed(0);case"monthly":return Math.min(t.booksThisMonth/w.target*100,100).toFixed(0);default:return Math.min(w.progress/w.target*100,100).toFixed(0)}},k=()=>_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h3",{children:"Confirmar Exclusão"}),_.jsx("p",{children:"Tem certeza que deseja excluir esta meta permanentemente?"}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{className:"modal-button cancel",onClick:()=>K(!1),children:"Cancelar"}),_.jsx("button",{className:"modal-button confirm",onClick:N,children:"Confirmar"})]})]})});return p?_.jsxs("div",{className:"loading-container",children:[_.jsx(rT,{className:"loading-spinner"}),_.jsx("p",{children:"Carregando estatísticas..."})]}):_.jsxs("div",{className:"dashboard-container",children:[_.jsxs("header",{className:"dashboard-header",children:[_.jsxs("h1",{children:["Bem-vindo, ",((j=Nt.currentUser)==null?void 0:j.displayName)||"Leitor","!"]}),_.jsxs("div",{className:"quick-actions",children:[_.jsxs(es,{to:"/add-book",className:"action-button",children:[_.jsx(ho,{})," Adicionar Livro"]}),_.jsxs(es,{to:"/collection",className:"action-button",children:[_.jsx(Ci,{})," Minha Coleção"]})]})]}),_.jsxs("div",{className:"stats-grid",children:[_.jsxs("div",{className:"stat-card purple",children:[_.jsx(Ci,{className:"stat-icon"}),_.jsx("h3",{children:"Total de Livros"}),_.jsx("p",{children:t.total})]}),_.jsxs("div",{className:"stat-card dark-purple",children:[_.jsx(Jw,{className:"stat-icon"}),_.jsx("h3",{children:"Livros Lidos"}),_.jsx("p",{children:t.read})]}),_.jsxs("div",{className:"stat-card purple",children:[_.jsx(iT,{className:"stat-icon"}),_.jsx("h3",{children:"Gênero Favorito"}),_.jsx("p",{children:t.favoriteGenre})]}),_.jsxs("div",{className:"stat-card dark-purple",children:[_.jsx(nu,{className:"stat-icon"}),_.jsx("h3",{children:"Nota Média"}),_.jsxs("p",{children:[t.avgRating,"/5"]})]}),_.jsxs("div",{className:"stat-card animated-card",children:[_.jsx(nT,{className:"stat-icon"}),_.jsx("h3",{children:o.title}),_.jsx("p",{children:o.value})]})]}),_.jsxs("div",{className:"goals-section",children:[_.jsxs("div",{className:"section-header",children:[_.jsx("h2",{children:"Metas de Leitura"}),_.jsxs("button",{className:"add-goal-button",onClick:()=>D(!0),children:[_.jsx(ho,{})," Nova Meta"]})]}),_.jsx("div",{className:"goals-grid",children:E.map(w=>_.jsxs("div",{className:"goal-card",children:[_.jsxs("div",{className:"goal-header",children:[_.jsx(Zw,{className:"goal-icon"}),_.jsx("h3",{children:w.description||`Meta ${w.type}`}),_.jsx("span",{className:"goal-type",children:w.type}),_.jsxs("div",{className:"goal-actions",children:[_.jsx("button",{className:"icon-button edit",onClick:()=>R(w),children:_.jsx(Kh,{})}),_.jsx("button",{className:"icon-button delete",onClick:()=>{re(w.id),K(!0)},children:_.jsx(Rp,{})})]})]}),_.jsx("div",{className:"progress-bar",children:_.jsxs("div",{className:"progress-fill",style:{width:`${O(w)}%`},children:[O(w),"%"]})}),_.jsxs("div",{className:"goal-details",children:[_.jsxs("div",{children:[_.jsx("span",{children:"Progresso: "}),_.jsx("strong",{children:Math.min(w.type==="annual"?t.booksThisYear:w.type==="monthly"?t.booksThisMonth:w.progress,w.target)}),_.jsxs("span",{children:["/",w.target]})]}),_.jsxs("div",{children:[_.jsx("span",{children:"Prazo: "}),w.endDate&&new Date(w.endDate).toLocaleDateString("pt-BR")]})]})]},w.id))})]}),C&&_.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h3",{children:I?"Editar Meta":"Criar Nova Meta"}),_.jsxs("form",{onSubmit:P,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Tipo de Meta"}),_.jsxs("select",{value:M.type,onChange:w=>te({...M,type:w.target.value}),className:"form-input",required:!0,children:[_.jsx("option",{value:"annual",children:"Anual"}),_.jsx("option",{value:"monthly",children:"Mensal"}),_.jsx("option",{value:"custom",children:"Personalizada"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Descrição (opcional)"}),_.jsx("input",{type:"text",value:M.description,onChange:w=>te({...M,description:w.target.value}),className:"form-input",placeholder:"Ex.: Meta de Verão 2025"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Objetivo (número de livros)"}),_.jsx("input",{type:"number",min:"1",value:M.target,onChange:w=>te({...M,target:w.target.value}),className:"form-input",required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Prazo Final"}),_.jsx("input",{type:"date",value:M.endDate,min:new Date().toISOString().split("T")[0],onChange:w=>te({...M,endDate:w.target.value}),className:"form-input",required:!0})]}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{type:"button",className:"modal-button cancel",onClick:()=>{D(!1),B(null)},children:"Cancelar"}),_.jsx("button",{type:"submit",className:"modal-button confirm",children:I?"Salvar Alterações":"Criar Meta"})]})]})]})}),ae&&_.jsx(k,{}),_.jsxs("div",{className:"recent-books",children:[_.jsx("h2",{children:"Últimas Adições"}),i.slice(0,3).map(w=>_.jsxs("div",{className:"book-item",children:[_.jsx("img",{src:w.cover||"default-book.png",alt:w.title}),_.jsxs("div",{children:[_.jsx("h4",{children:w.title}),_.jsx("p",{children:w.author})]})]},w.id))]})]})}const tO=async(i,e)=>{try{const t=yn($n,"users",i),s=wi(t,"books");return(await Tg(s,{...e,createdAt:new Date,updatedAt:new Date})).id}catch(t){throw console.error("Erro ao adicionar livro:",t),t}};function nO(i,e,t){var s=this,o=Q.useRef(null),u=Q.useRef(0),h=Q.useRef(null),m=Q.useRef([]),p=Q.useRef(),g=Q.useRef(),E=Q.useRef(i),S=Q.useRef(!0);E.current=i;var C=typeof window<"u",D=!e&&e!==0&&C;if(typeof i!="function")throw new TypeError("Expected a function");e=+e||0;var I=!!(t=t||{}).leading,B=!("trailing"in t)||!!t.trailing,M="maxWait"in t,te="debounceOnServer"in t&&!!t.debounceOnServer,ae=M?Math.max(+t.maxWait||0,e):null;Q.useEffect(function(){return S.current=!0,function(){S.current=!1}},[]);var K=Q.useMemo(function(){var ue=function(O){var k=m.current,j=p.current;return m.current=p.current=null,u.current=O,g.current=E.current.apply(j,k)},re=function(O,k){D&&cancelAnimationFrame(h.current),h.current=D?requestAnimationFrame(O):setTimeout(O,k)},de=function(O){if(!S.current)return!1;var k=O-o.current;return!o.current||k>=e||k<0||M&&O-u.current>=ae},P=function(O){return h.current=null,B&&m.current?ue(O):(m.current=p.current=null,g.current)},R=function O(){var k=Date.now();if(de(k))return P(k);if(S.current){var j=e-(k-o.current),w=M?Math.min(j,ae-(k-u.current)):j;re(O,w)}},N=function(){if(C||te){var O=Date.now(),k=de(O);if(m.current=[].slice.call(arguments),p.current=s,o.current=O,k){if(!h.current&&S.current)return u.current=o.current,re(R,e),I?ue(o.current):g.current;if(M)return re(R,e),ue(o.current)}return h.current||re(R,e),g.current}};return N.cancel=function(){h.current&&(D?cancelAnimationFrame(h.current):clearTimeout(h.current)),u.current=0,m.current=o.current=p.current=h.current=null},N.isPending=function(){return!!h.current},N.flush=function(){return h.current?P(Date.now()):g.current},N},[I,M,e,ae,B,D,C,te]);return K}function iO(i,e){return i===e}function rO(i,e,t){var s=iO,o=Q.useRef(i),u=Q.useState({})[1],h=nO(Q.useCallback(function(p){o.current=p,u({})},[u]),e,t),m=Q.useRef(i);return s(m.current,i)||(h(i),m.current=i),[o.current,h]}function yb(i,e){return function(){return i.apply(e,arguments)}}const{toString:sO}=Object.prototype,{getPrototypeOf:Sg}=Object,ff=(i=>e=>{const t=sO.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),oi=i=>(i=i.toLowerCase(),e=>ff(e)===i),df=i=>e=>typeof e===i,{isArray:Io}=Array,cu=df("undefined");function aO(i){return i!==null&&!cu(i)&&i.constructor!==null&&!cu(i.constructor)&&kn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const _b=oi("ArrayBuffer");function oO(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&_b(i.buffer),e}const lO=df("string"),kn=df("function"),vb=df("number"),mf=i=>i!==null&&typeof i=="object",uO=i=>i===!0||i===!1,gh=i=>{if(ff(i)!=="object")return!1;const e=Sg(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},cO=oi("Date"),hO=oi("File"),fO=oi("Blob"),dO=oi("FileList"),mO=i=>mf(i)&&kn(i.pipe),pO=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||kn(i.append)&&((e=ff(i))==="formdata"||e==="object"&&kn(i.toString)&&i.toString()==="[object FormData]"))},gO=oi("URLSearchParams"),[yO,_O,vO,EO]=["ReadableStream","Request","Response","Headers"].map(oi),TO=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ru(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Io(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function Eb(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Tb=i=>!cu(i)&&i!==Qs;function pp(){const{caseless:i}=Tb(this)&&this||{},e={},t=(s,o)=>{const u=i&&Eb(e,o)||o;gh(e[u])&&gh(s)?e[u]=pp(e[u],s):gh(s)?e[u]=pp({},s):Io(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Ru(arguments[s],t);return e}const bO=(i,e,t,{allOwnKeys:s}={})=>(Ru(e,(o,u)=>{t&&kn(o)?i[u]=yb(o,t):i[u]=o},{allOwnKeys:s}),i),SO=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),AO=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},wO=(i,e,t,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&Sg(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},RO=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},CO=i=>{if(!i)return null;if(Io(i))return i;let e=i.length;if(!vb(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},NO=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&Sg(Uint8Array)),IO=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},xO=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},OO=oi("HTMLFormElement"),DO=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),EE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),MO=oi("RegExp"),bb=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};Ru(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},VO=i=>{bb(i,(e,t)=>{if(kn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(kn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},PO=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Io(i)?s(i):s(String(i).split(e)),t},kO=()=>{},UO=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function jO(i){return!!(i&&kn(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const LO=i=>{const e=new Array(10),t=(s,o)=>{if(mf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Io(s)?[]:{};return Ru(s,(h,m)=>{const p=t(h,o+1);!cu(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return t(i,0)},BO=oi("AsyncFunction"),zO=i=>i&&(mf(i)||kn(i))&&kn(i.then)&&kn(i.catch),Sb=((i,e)=>i?setImmediate:e?((t,s)=>(Qs.addEventListener("message",({source:o,data:u})=>{o===Qs&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Qs.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",kn(Qs.postMessage)),qO=typeof queueMicrotask<"u"?queueMicrotask.bind(Qs):typeof process<"u"&&process.nextTick||Sb,X={isArray:Io,isArrayBuffer:_b,isBuffer:aO,isFormData:pO,isArrayBufferView:oO,isString:lO,isNumber:vb,isBoolean:uO,isObject:mf,isPlainObject:gh,isReadableStream:yO,isRequest:_O,isResponse:vO,isHeaders:EO,isUndefined:cu,isDate:cO,isFile:hO,isBlob:fO,isRegExp:MO,isFunction:kn,isStream:mO,isURLSearchParams:gO,isTypedArray:NO,isFileList:dO,forEach:Ru,merge:pp,extend:bO,trim:TO,stripBOM:SO,inherits:AO,toFlatObject:wO,kindOf:ff,kindOfTest:oi,endsWith:RO,toArray:CO,forEachEntry:IO,matchAll:xO,isHTMLForm:OO,hasOwnProperty:EE,hasOwnProp:EE,reduceDescriptors:bb,freezeMethods:VO,toObjectSet:PO,toCamelCase:DO,noop:kO,toFiniteNumber:UO,findKey:Eb,global:Qs,isContextDefined:Tb,isSpecCompliantForm:jO,toJSONObject:LO,isAsyncFn:BO,isThenable:zO,setImmediate:Sb,asap:qO};function Oe(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}X.inherits(Oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:X.toJSONObject(this.config),code:this.code,status:this.status}}});const Ab=Oe.prototype,wb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{wb[i]={value:i}});Object.defineProperties(Oe,wb);Object.defineProperty(Ab,"isAxiosError",{value:!0});Oe.from=(i,e,t,s,o,u)=>{const h=Object.create(Ab);return X.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),Oe.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const FO=null;function gp(i){return X.isPlainObject(i)||X.isArray(i)}function Rb(i){return X.endsWith(i,"[]")?i.slice(0,-2):i}function TE(i,e,t){return i?i.concat(e).map(function(o,u){return o=Rb(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function HO(i){return X.isArray(i)&&!i.some(gp)}const GO=X.toFlatObject(X,{},null,function(e){return/^is[A-Z]/.test(e)});function pf(i,e,t){if(!X.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=X.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,M){return!X.isUndefined(M[B])});const s=t.metaTokens,o=t.visitor||E,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&X.isSpecCompliantForm(e);if(!X.isFunction(o))throw new TypeError("visitor must be a function");function g(I){if(I===null)return"";if(X.isDate(I))return I.toISOString();if(!p&&X.isBlob(I))throw new Oe("Blob is not supported. Use a Buffer instead.");return X.isArrayBuffer(I)||X.isTypedArray(I)?p&&typeof Blob=="function"?new Blob([I]):Buffer.from(I):I}function E(I,B,M){let te=I;if(I&&!M&&typeof I=="object"){if(X.endsWith(B,"{}"))B=s?B:B.slice(0,-2),I=JSON.stringify(I);else if(X.isArray(I)&&HO(I)||(X.isFileList(I)||X.endsWith(B,"[]"))&&(te=X.toArray(I)))return B=Rb(B),te.forEach(function(K,ue){!(X.isUndefined(K)||K===null)&&e.append(h===!0?TE([B],ue,u):h===null?B:B+"[]",g(K))}),!1}return gp(I)?!0:(e.append(TE(M,B,u),g(I)),!1)}const S=[],C=Object.assign(GO,{defaultVisitor:E,convertValue:g,isVisitable:gp});function D(I,B){if(!X.isUndefined(I)){if(S.indexOf(I)!==-1)throw Error("Circular reference detected in "+B.join("."));S.push(I),X.forEach(I,function(te,ae){(!(X.isUndefined(te)||te===null)&&o.call(e,te,X.isString(ae)?ae.trim():ae,B,C))===!0&&D(te,B?B.concat(ae):[ae])}),S.pop()}}if(!X.isObject(i))throw new TypeError("data must be an object");return D(i),e}function bE(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Ag(i,e){this._pairs=[],i&&pf(i,this,e)}const Cb=Ag.prototype;Cb.append=function(e,t){this._pairs.push([e,t])};Cb.toString=function(e){const t=e?function(s){return e.call(this,s,bE)}:bE;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function KO(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Nb(i,e,t){if(!e)return i;const s=t&&t.encode||KO;X.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=X.isURLSearchParams(e)?e.toString():new Ag(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class SE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){X.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Ib={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},QO=typeof URLSearchParams<"u"?URLSearchParams:Ag,YO=typeof FormData<"u"?FormData:null,$O=typeof Blob<"u"?Blob:null,XO={isBrowser:!0,classes:{URLSearchParams:QO,FormData:YO,Blob:$O},protocols:["http","https","file","blob","url","data"]},wg=typeof window<"u"&&typeof document<"u",yp=typeof navigator=="object"&&navigator||void 0,WO=wg&&(!yp||["ReactNative","NativeScript","NS"].indexOf(yp.product)<0),JO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ZO=wg&&window.location.href||"http://localhost",eD=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wg,hasStandardBrowserEnv:WO,hasStandardBrowserWebWorkerEnv:JO,navigator:yp,origin:ZO},Symbol.toStringTag,{value:"Module"})),un={...eD,...XO};function tD(i,e){return pf(i,new un.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return un.isNode&&X.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function nD(i){return X.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function iD(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function xb(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=t.length;return h=!h&&X.isArray(o)?o.length:h,p?(X.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!X.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&X.isArray(o[h])&&(o[h]=iD(o[h])),!m)}if(X.isFormData(i)&&X.isFunction(i.entries)){const t={};return X.forEachEntry(i,(s,o)=>{e(nD(s),o,t,0)}),t}return null}function rD(i,e,t){if(X.isString(i))try{return(e||JSON.parse)(i),X.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const Cu={transitional:Ib,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=X.isObject(e);if(u&&X.isHTMLForm(e)&&(e=new FormData(e)),X.isFormData(e))return o?JSON.stringify(xb(e)):e;if(X.isArrayBuffer(e)||X.isBuffer(e)||X.isStream(e)||X.isFile(e)||X.isBlob(e)||X.isReadableStream(e))return e;if(X.isArrayBufferView(e))return e.buffer;if(X.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return tD(e,this.formSerializer).toString();if((m=X.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return pf(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),rD(e)):e}],transformResponse:[function(e){const t=this.transitional||Cu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(X.isResponse(e)||X.isReadableStream(e))return e;if(e&&X.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?Oe.from(m,Oe.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:un.classes.FormData,Blob:un.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};X.forEach(["delete","get","head","post","put","patch"],i=>{Cu.headers[i]={}});const sD=X.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aD=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&sD[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},AE=Symbol("internals");function ql(i){return i&&String(i).trim().toLowerCase()}function yh(i){return i===!1||i==null?i:X.isArray(i)?i.map(yh):String(i)}function oD(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const lD=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function km(i,e,t,s,o){if(X.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!X.isString(e)){if(X.isString(s))return e.indexOf(s)!==-1;if(X.isRegExp(s))return s.test(e)}}function uD(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function cD(i,e){const t=X.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let Sn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,p,g){const E=ql(p);if(!E)throw new Error("header name must be a non-empty string");const S=X.findKey(o,E);(!S||o[S]===void 0||g===!0||g===void 0&&o[S]!==!1)&&(o[S||p]=yh(m))}const h=(m,p)=>X.forEach(m,(g,E)=>u(g,E,p));if(X.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(X.isString(e)&&(e=e.trim())&&!lD(e))h(aD(e),t);else if(X.isHeaders(e))for(const[m,p]of e.entries())u(p,m,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=ql(e),e){const s=X.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return oD(o);if(X.isFunction(t))return t.call(this,o,s);if(X.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ql(e),e){const s=X.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||km(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=ql(h),h){const m=X.findKey(s,h);m&&(!t||km(s,s[m],m,t))&&(delete s[m],o=!0)}}return X.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||km(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return X.forEach(this,(o,u)=>{const h=X.findKey(s,u);if(h){t[h]=yh(o),delete t[u];return}const m=e?uD(u):String(u).trim();m!==u&&delete t[u],t[m]=yh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return X.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&X.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[AE]=this[AE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=ql(h);s[m]||(cD(o,h),s[m]=!0)}return X.isArray(e)?e.forEach(u):u(e),this}};Sn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);X.reduceDescriptors(Sn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});X.freezeMethods(Sn);function Um(i,e){const t=this||Cu,s=e||t,o=Sn.from(s.headers);let u=s.data;return X.forEach(i,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function Ob(i){return!!(i&&i.__CANCEL__)}function xo(i,e,t){Oe.call(this,i??"canceled",Oe.ERR_CANCELED,e,t),this.name="CanceledError"}X.inherits(xo,Oe,{__CANCEL__:!0});function Db(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new Oe("Request failed with status code "+t.status,[Oe.ERR_BAD_REQUEST,Oe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function hD(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function fD(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),E=s[u];h||(h=g),t[o]=p,s[o]=g;let S=u,C=0;for(;S!==o;)C+=t[S++],S=S%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const D=E&&g-E;return D?Math.round(C*1e3/D):void 0}}function dD(i,e){let t=0,s=1e3/e,o,u;const h=(g,E=Date.now())=>{t=E,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const E=Date.now(),S=E-t;S>=s?h(g,E):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-S)))},()=>o&&h(o)]}const zh=(i,e,t=3)=>{let s=0;const o=fD(50,250);return dD(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),E=h<=m;s=h;const S={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&E?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(S)},t)},wE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},RE=i=>(...e)=>X.asap(()=>i(...e)),mD=un.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,un.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(un.origin),un.navigator&&/(msie|trident)/i.test(un.navigator.userAgent)):()=>!0,pD=un.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];X.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),X.isString(s)&&h.push("path="+s),X.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function gD(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function yD(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function Mb(i,e,t){let s=!gD(e);return i&&(s||t==!1)?yD(i,e):e}const CE=i=>i instanceof Sn?{...i}:i;function sa(i,e){e=e||{};const t={};function s(g,E,S,C){return X.isPlainObject(g)&&X.isPlainObject(E)?X.merge.call({caseless:C},g,E):X.isPlainObject(E)?X.merge({},E):X.isArray(E)?E.slice():E}function o(g,E,S,C){if(X.isUndefined(E)){if(!X.isUndefined(g))return s(void 0,g,S,C)}else return s(g,E,S,C)}function u(g,E){if(!X.isUndefined(E))return s(void 0,E)}function h(g,E){if(X.isUndefined(E)){if(!X.isUndefined(g))return s(void 0,g)}else return s(void 0,E)}function m(g,E,S){if(S in e)return s(g,E);if(S in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,E,S)=>o(CE(g),CE(E),S,!0)};return X.forEach(Object.keys(Object.assign({},i,e)),function(E){const S=p[E]||o,C=S(i[E],e[E],E);X.isUndefined(C)&&S!==m||(t[E]=C)}),t}const Vb=i=>{const e=sa({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=Sn.from(h),e.url=Nb(Mb(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if(X.isFormData(t)){if(un.hasStandardBrowserEnv||un.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,...E]=p?p.split(";").map(S=>S.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",...E].join("; "))}}if(un.hasStandardBrowserEnv&&(s&&X.isFunction(s)&&(s=s(e)),s||s!==!1&&mD(e.url))){const g=o&&u&&pD.read(u);g&&h.set(o,g)}return e},_D=typeof XMLHttpRequest<"u",vD=_D&&function(i){return new Promise(function(t,s){const o=Vb(i);let u=o.data;const h=Sn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,E,S,C,D,I;function B(){D&&D(),I&&I(),o.cancelToken&&o.cancelToken.unsubscribe(E),o.signal&&o.signal.removeEventListener("abort",E)}let M=new XMLHttpRequest;M.open(o.method.toUpperCase(),o.url,!0),M.timeout=o.timeout;function te(){if(!M)return;const K=Sn.from("getAllResponseHeaders"in M&&M.getAllResponseHeaders()),re={data:!m||m==="text"||m==="json"?M.responseText:M.response,status:M.status,statusText:M.statusText,headers:K,config:i,request:M};Db(function(P){t(P),B()},function(P){s(P),B()},re),M=null}"onloadend"in M?M.onloadend=te:M.onreadystatechange=function(){!M||M.readyState!==4||M.status===0&&!(M.responseURL&&M.responseURL.indexOf("file:")===0)||setTimeout(te)},M.onabort=function(){M&&(s(new Oe("Request aborted",Oe.ECONNABORTED,i,M)),M=null)},M.onerror=function(){s(new Oe("Network Error",Oe.ERR_NETWORK,i,M)),M=null},M.ontimeout=function(){let ue=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const re=o.transitional||Ib;o.timeoutErrorMessage&&(ue=o.timeoutErrorMessage),s(new Oe(ue,re.clarifyTimeoutError?Oe.ETIMEDOUT:Oe.ECONNABORTED,i,M)),M=null},u===void 0&&h.setContentType(null),"setRequestHeader"in M&&X.forEach(h.toJSON(),function(ue,re){M.setRequestHeader(re,ue)}),X.isUndefined(o.withCredentials)||(M.withCredentials=!!o.withCredentials),m&&m!=="json"&&(M.responseType=o.responseType),g&&([C,I]=zh(g,!0),M.addEventListener("progress",C)),p&&M.upload&&([S,D]=zh(p),M.upload.addEventListener("progress",S),M.upload.addEventListener("loadend",D)),(o.cancelToken||o.signal)&&(E=K=>{M&&(s(!K||K.type?new xo(null,i,M):K),M.abort(),M=null)},o.cancelToken&&o.cancelToken.subscribe(E),o.signal&&(o.signal.aborted?E():o.signal.addEventListener("abort",E)));const ae=hD(o.url);if(ae&&un.protocols.indexOf(ae)===-1){s(new Oe("Unsupported protocol "+ae+":",Oe.ERR_BAD_REQUEST,i));return}M.send(u||null)})},ED=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const E=g instanceof Error?g:this.reason;s.abort(E instanceof Oe?E:new xo(E instanceof Error?E.message:E))}};let h=e&&setTimeout(()=>{h=null,u(new Oe(`timeout ${e} of ms exceeded`,Oe.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>X.asap(m),p}},TD=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},bD=async function*(i,e){for await(const t of SD(i))yield*TD(t,e)},SD=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},NE=(i,e,t,s)=>{const o=bD(i,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:E}=await o.next();if(g){m(),p.close();return}let S=E.byteLength;if(t){let C=u+=S;t(C)}p.enqueue(new Uint8Array(E))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},gf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Pb=gf&&typeof ReadableStream=="function",AD=gf&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),kb=(i,...e)=>{try{return!!i(...e)}catch{return!1}},wD=Pb&&kb(()=>{let i=!1;const e=new Request(un.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),IE=64*1024,_p=Pb&&kb(()=>X.isReadableStream(new Response("").body)),qh={stream:_p&&(i=>i.body)};gf&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!qh[e]&&(qh[e]=X.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new Oe(`Response type '${e}' is not supported`,Oe.ERR_NOT_SUPPORT,s)})})})(new Response);const RD=async i=>{if(i==null)return 0;if(X.isBlob(i))return i.size;if(X.isSpecCompliantForm(i))return(await new Request(un.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(X.isArrayBufferView(i)||X.isArrayBuffer(i))return i.byteLength;if(X.isURLSearchParams(i)&&(i=i+""),X.isString(i))return(await AD(i)).byteLength},CD=async(i,e)=>{const t=X.toFiniteNumber(i.getContentLength());return t??RD(e)},ND=gf&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:E,withCredentials:S="same-origin",fetchOptions:C}=Vb(i);g=g?(g+"").toLowerCase():"text";let D=ED([o,u&&u.toAbortSignal()],h),I;const B=D&&D.unsubscribe&&(()=>{D.unsubscribe()});let M;try{if(p&&wD&&t!=="get"&&t!=="head"&&(M=await CD(E,s))!==0){let re=new Request(e,{method:"POST",body:s,duplex:"half"}),de;if(X.isFormData(s)&&(de=re.headers.get("content-type"))&&E.setContentType(de),re.body){const[P,R]=wE(M,zh(RE(p)));s=NE(re.body,IE,P,R)}}X.isString(S)||(S=S?"include":"omit");const te="credentials"in Request.prototype;I=new Request(e,{...C,signal:D,method:t.toUpperCase(),headers:E.normalize().toJSON(),body:s,duplex:"half",credentials:te?S:void 0});let ae=await fetch(I);const K=_p&&(g==="stream"||g==="response");if(_p&&(m||K&&B)){const re={};["status","statusText","headers"].forEach(N=>{re[N]=ae[N]});const de=X.toFiniteNumber(ae.headers.get("content-length")),[P,R]=m&&wE(de,zh(RE(m),!0))||[];ae=new Response(NE(ae.body,IE,P,()=>{R&&R(),B&&B()}),re)}g=g||"text";let ue=await qh[X.findKey(qh,g)||"text"](ae,i);return!K&&B&&B(),await new Promise((re,de)=>{Db(re,de,{data:ue,headers:Sn.from(ae.headers),status:ae.status,statusText:ae.statusText,config:i,request:I})})}catch(te){throw B&&B(),te&&te.name==="TypeError"&&/fetch/i.test(te.message)?Object.assign(new Oe("Network Error",Oe.ERR_NETWORK,i,I),{cause:te.cause||te}):Oe.from(te,te&&te.code,i,I)}}),vp={http:FO,xhr:vD,fetch:ND};X.forEach(vp,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const xE=i=>`- ${i}`,ID=i=>X.isFunction(i)||i===null||i===!1,Ub={getAdapter:i=>{i=X.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!ID(t)&&(s=vp[(h=String(t)).toLowerCase()],s===void 0))throw new Oe(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(xE).join(`
`):" "+xE(u[0]):"as no adapter specified";throw new Oe("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:vp};function jm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new xo(null,i)}function OE(i){return jm(i),i.headers=Sn.from(i.headers),i.data=Um.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Ub.getAdapter(i.adapter||Cu.adapter)(i).then(function(s){return jm(i),s.data=Um.call(i,i.transformResponse,s),s.headers=Sn.from(s.headers),s},function(s){return Ob(s)||(jm(i),s&&s.response&&(s.response.data=Um.call(i,i.transformResponse,s.response),s.response.headers=Sn.from(s.response.headers))),Promise.reject(s)})}const jb="1.8.4",yf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{yf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const DE={};yf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+jb+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new Oe(o(h," has been removed"+(t?" in "+t:"")),Oe.ERR_DEPRECATED);return t&&!DE[h]&&(DE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};yf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function xD(i,e,t){if(typeof i!="object")throw new Oe("options must be an object",Oe.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],p=m===void 0||h(m,u,i);if(p!==!0)throw new Oe("option "+u+" must be "+p,Oe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Oe("Unknown option "+u,Oe.ERR_BAD_OPTION)}}const _h={assertOptions:xD,validators:yf},Ai=_h.validators;let Ws=class{constructor(e){this.defaults=e,this.interceptors={request:new SE,response:new SE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=sa(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&_h.assertOptions(s,{silentJSONParsing:Ai.transitional(Ai.boolean),forcedJSONParsing:Ai.transitional(Ai.boolean),clarifyTimeoutError:Ai.transitional(Ai.boolean)},!1),o!=null&&(X.isFunction(o)?t.paramsSerializer={serialize:o}:_h.assertOptions(o,{encode:Ai.function,serialize:Ai.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),_h.assertOptions(t,{baseUrl:Ai.spelling("baseURL"),withXsrfToken:Ai.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&X.merge(u.common,u[t.method]);u&&X.forEach(["delete","get","head","post","put","patch","common"],I=>{delete u[I]}),t.headers=Sn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(t)===!1||(p=p&&B.synchronous,m.unshift(B.fulfilled,B.rejected))});const g=[];this.interceptors.response.forEach(function(B){g.push(B.fulfilled,B.rejected)});let E,S=0,C;if(!p){const I=[OE.bind(this),void 0];for(I.unshift.apply(I,m),I.push.apply(I,g),C=I.length,E=Promise.resolve(t);S<C;)E=E.then(I[S++],I[S++]);return E}C=m.length;let D=t;for(S=0;S<C;){const I=m[S++],B=m[S++];try{D=I(D)}catch(M){B.call(this,M);break}}try{E=OE.call(this,D)}catch(I){return Promise.reject(I)}for(S=0,C=g.length;S<C;)E=E.then(g[S++],g[S++]);return E}getUri(e){e=sa(this.defaults,e);const t=Mb(e.baseURL,e.url,e.allowAbsoluteUrls);return Nb(t,e.params,e.paramsSerializer)}};X.forEach(["delete","get","head","options"],function(e){Ws.prototype[e]=function(t,s){return this.request(sa(s||{},{method:e,url:t,data:(s||{}).data}))}});X.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(sa(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}Ws.prototype[e]=t(),Ws.prototype[e+"Form"]=t(!0)});let OD=class Lb{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new xo(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lb(function(o){e=o}),cancel:e}}};function DD(i){return function(t){return i.apply(null,t)}}function MD(i){return X.isObject(i)&&i.isAxiosError===!0}const Ep={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ep).forEach(([i,e])=>{Ep[e]=i});function Bb(i){const e=new Ws(i),t=yb(Ws.prototype.request,e);return X.extend(t,Ws.prototype,e,{allOwnKeys:!0}),X.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Bb(sa(i,o))},t}const Tt=Bb(Cu);Tt.Axios=Ws;Tt.CanceledError=xo;Tt.CancelToken=OD;Tt.isCancel=Ob;Tt.VERSION=jb;Tt.toFormData=pf;Tt.AxiosError=Oe;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=DD;Tt.isAxiosError=MD;Tt.mergeConfig=sa;Tt.AxiosHeaders=Sn;Tt.formToJSON=i=>xb(X.isHTMLForm(i)?new FormData(i):i);Tt.getAdapter=Ub.getAdapter;Tt.HttpStatusCode=Ep;Tt.default=Tt;const{Axios:c3,AxiosError:h3,CanceledError:f3,isCancel:d3,CancelToken:m3,VERSION:p3,all:g3,Cancel:y3,isAxiosError:_3,spread:v3,toFormData:E3,AxiosHeaders:T3,HttpStatusCode:b3,formToJSON:S3,getAdapter:A3,mergeConfig:w3}=Tt,VD="https://www.googleapis.com/books/v1/volumes?q=",PD="https://openlibrary.org/search.json?q=";async function zb(i){var e,t,s,o,u;try{const[h,m]=await Promise.allSettled([Tt.get(`${VD}${encodeURIComponent(i)}`),Tt.get(`${PD}${encodeURIComponent(i)}&limit=5`)]),p=((t=(e=h.value)==null?void 0:e.data)==null?void 0:t.items)||[],g=((o=(s=m.value)==null?void 0:s.data)==null?void 0:o.docs)||[],E=p.filter(I=>{var M,te;return(((te=(M=I.volumeInfo)==null?void 0:M.title)==null?void 0:te.toLowerCase())||"").includes(i.toLowerCase())});let S={};if(E.length>0)S=E[0].volumeInfo;else if(g.length>0){const I=g[0];S={title:I.title||"",authors:I.author_name||[],categories:((u=I.subject)==null?void 0:u.slice(0,5))||[],description:Array.isArray(I.first_sentence)?I.first_sentence.join(" "):I.first_sentence||"",pageCount:I.number_of_pages_median||null,averageRating:0}}const C=E.map(I=>{var B,M,te;return(te=(M=(B=I.volumeInfo)==null?void 0:B.imageLinks)==null?void 0:M.thumbnail)==null?void 0:te.replace("http://","https://")}).filter(Boolean),D=g.map(I=>I.cover_edition_key?`https://covers.openlibrary.org/b/olid/${I.cover_edition_key}-L.jpg`:null).filter(Boolean);return{title:S.title||"",authors:S.authors?S.authors.join(", "):"",genres:S.categories?S.categories.join(", "):"",description:S.description||"",pageCount:Number.isInteger(S.pageCount)?S.pageCount:null,averageRating:S.averageRating||0,images:[...new Set([...C,...D])]}}catch(h){return console.error("Erro ao buscar dados do livro:",h),null}}function kD({onSubmit:i,loading:e}){const[t,s]=Q.useState(""),[o]=rO(t,500),[u,h]=Q.useState({title:"",author:"",genre:"",pages:0,synopsis:"",cover:"",status:"Não iniciado",rating:0,averageRating:0,startDate:"",endDate:""}),[m,p]=Q.useState(!1),[g,E]=Q.useState([]);Q.useEffect(()=>{(async()=>{if(o){p(!0);try{const I=await zb(o);I&&(h(B=>{var M;return{...B,title:I.title||B.title,author:I.authors||B.author,genre:I.genres||B.genre,synopsis:I.description||"Sem descrição disponível",pages:I.pageCount||0,cover:((M=I.images)==null?void 0:M[0])||B.cover,averageRating:I.averageRating||0}}),E(I.images||[]))}catch(I){console.error("Erro na busca:",I)}p(!1)}})()},[o]);const S=D=>{var I;if(D.preventDefault(),!u.title){alert("Por favor, insira pelo menos o título do livro");return}i({...u,userId:(I=Nt.currentUser)==null?void 0:I.uid})},C=D=>{const I=Math.min(Math.max(Number(D)||0,0),5),B=Math.floor(I),M=I%1>=.5,te=Math.max(5-B-(M?1:0),0);return _.jsxs("div",{className:"rating-container",children:[[...Array(B)].map((ae,K)=>_.jsx(nu,{className:"rating-star filled"},`full-${K}`)),M&&_.jsx(sT,{className:"rating-star half-filled"}),[...Array(te)].map((ae,K)=>_.jsx(nu,{className:"rating-star empty"},`empty-${K}`))]})};return _.jsxs("form",{onSubmit:S,className:"book-form",children:[_.jsx("div",{className:"search-container",children:_.jsxs("div",{className:"search-box",children:[_.jsx("input",{type:"text",placeholder:"Digite o nome do livro para buscar",value:t,onChange:D=>s(D.target.value),className:"search-input"}),m?_.jsx("div",{className:"loading-spinner"}):_.jsx(r2,{className:"search-icon"})]})}),_.jsxs("div",{className:"form-container",children:[_.jsxs("div",{className:"book-preview",children:[_.jsxs("div",{className:"cover-container",children:[u.cover?_.jsx("img",{src:u.cover,alt:"Capa do livro",className:"book-cover"}):_.jsx("div",{className:"cover-placeholder",children:_.jsx(Ci,{className:"placeholder-icon"})}),g.length>0&&_.jsxs("div",{className:"cover-options-grid",children:[_.jsx("h4",{children:"Selecione uma capa:"}),_.jsx("div",{className:"cover-options",children:g.map((D,I)=>_.jsx("img",{src:D,alt:`Opção de capa ${I+1}`,className:`cover-option ${u.cover===D?"selected":""}`,onClick:()=>h({...u,cover:D})},I))})]})]}),_.jsxs("div",{className:"book-details",children:[_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Título",_.jsx("input",{type:"text",value:u.title,onChange:D=>h({...u,title:D.target.value}),className:"text-input",required:!0})]})}),_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Autor",_.jsx("input",{type:"text",value:u.author,onChange:D=>h({...u,author:D.target.value}),className:"text-input"})]})}),_.jsxs("div",{className:"form-row",children:[_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Gênero",_.jsx("input",{type:"text",value:u.genre,onChange:D=>h({...u,genre:D.target.value}),className:"text-input"})]})}),_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Páginas",_.jsx("input",{type:"number",value:u.pages||"",onChange:D=>h({...u,pages:parseInt(D.target.value)||0}),className:"number-input"}),u.pages===null&&_.jsx("p",{style:{color:"orange"},children:"Número de páginas não disponível."})]})})]}),_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Sinopse",_.jsx("textarea",{value:u.synopsis,onChange:D=>h({...u,synopsis:D.target.value}),className:"synopsis-textarea",rows:"5"})]})}),_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Nota Média",C(u.averageRating)]})})]})]}),_.jsxs("div",{className:"form-controls",children:[_.jsxs("div",{className:"status-rating-container",children:[_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Status",_.jsxs("select",{value:u.status,onChange:D=>h({...u,status:D.target.value}),className:"status-select",children:[_.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),_.jsx("option",{value:"Em andamento",children:"Em Andamento"}),_.jsx("option",{value:"Concluído",children:"Concluído"}),_.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]})}),_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Data de Início",_.jsx("input",{type:"date",value:u.startDate,onChange:D=>h({...u,startDate:D.target.value}),className:"text-input"})]})}),u.status==="Concluído"&&_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Data de Término",_.jsx("input",{type:"date",value:u.endDate,onChange:D=>h({...u,endDate:D.target.value}),className:"text-input"})]})}),_.jsx("div",{className:"input-group",children:_.jsxs("label",{className:"input-label",children:["Sua Avaliação",_.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:u.rating,onChange:D=>h({...u,rating:parseFloat(D.target.value)}),className:"number-input"}),C(u.rating)]})})]}),_.jsx("button",{type:"submit",className:"submit-button",disabled:e||m,children:e?_.jsxs(_.Fragment,{children:[_.jsx(rT,{className:"button-spinner"})," Salvando..."]}):_.jsxs(_.Fragment,{children:[_.jsx(ho,{className:"button-icon"})," Adicionar à Coleção"]})})]})]})]})}function UD(){const[i,e]=Q.useState(!1),t=hu(),s=async o=>{e(!0);try{await tO(Nt.currentUser.uid,o),t("/dashboard")}catch(u){alert("Erro ao salvar livro: "+u.message)}e(!1)};return _.jsx("div",{className:"add-book-container",children:_.jsxs("div",{className:"form-card",children:[_.jsxs("div",{className:"header-section",children:[_.jsxs("button",{className:"back-button",onClick:()=>t(-1),children:[_.jsx(tT,{})," Voltar"]}),_.jsxs("h1",{className:"form-title",children:[_.jsx(ho,{})," Adicionar Novo Livro"]})]}),_.jsx(kD,{onSubmit:s,loading:i})]})})}function jD(){const[i,e]=Q.useState([]),[t,s]=Q.useState(!0),[o,u]=Q.useState(null),[h,m]=Q.useState("all"),[p,g]=Q.useState("all"),[E,S]=Q.useState("title"),[C,D]=Q.useState("asc"),[I,B]=Q.useState([]),[M,te]=Q.useState(!1),[ae,K]=Q.useState(null),[ue,re]=Q.useState(!1),[de,P]=Q.useState(null),[R,N]=Q.useState(!1),[O,k]=Q.useState([]),[j,w]=Q.useState(!1),[me,Ve]=Q.useState({title:"",author:"",genre:"",status:"",rating:0,notes:"",cover:"",synopsis:""});Q.useEffect(()=>{const oe=async()=>{try{const Ze=Nt.currentUser;if(!Ze)throw new Error("Usuário não autenticado");const rt=yn($n,"users",Ze.uid),ut=wi(rt,"books"),tn=mh(ut),Xn=(await Xs(tn)).docs.map(Pi=>({id:Pi.id,...Pi.data()}));e(Xn),Re(Xn)}catch(Ze){u(Ze.message)}finally{s(!1)}},Re=Ze=>{const rt=[...new Set(Ze.map(ut=>ut.genre))];B(rt.filter(ut=>ut&&ut!==""))};oe()},[]);const $=async()=>{var oe;try{w(!0);const Re=await zb(me.title),Ze=((oe=Re==null?void 0:Re.images)==null?void 0:oe.filter(rt=>rt.startsWith("http")&&(rt.includes("googleapis")||rt.includes("openlibrary.org"))))||[];k(Ze)}catch(Re){console.error("Erro na busca de capas:",Re),k([])}finally{w(!1)}},ce=oe=>{Ve(Re=>({...Re,cover:oe})),N(!1)},pe=async oe=>{try{const Re=Nt.currentUser;if(!Re)return;const Ze=yn($n,"users",Re.uid,"books",oe),rt=i.find(ut=>ut.id===oe);await Jl(Ze,{favorite:!rt.favorite}),e(i.map(ut=>ut.id===oe?{...ut,favorite:!ut.favorite}:ut))}catch(Re){u(Re.message)}},De=async()=>{try{const oe=Nt.currentUser;if(!oe)return;const Re=yn($n,"users",oe.uid,"books",ae),Ze=wi($n,"users",oe.uid,"folders"),ut=(await Xs(Ze)).docs.map(async tn=>{var Xn;const hn=tn.data();if((Xn=hn.books)!=null&&Xn.includes(ae)){const Pi=hn.books.filter(_n=>_n!==ae);await Jl(tn.ref,{books:Pi})}});await Promise.all(ut),await Eg(Re),e(i.filter(tn=>tn.id!==ae)),te(!1)}catch(oe){u(oe.message),te(!1)}},V=oe=>{P(oe),Ve({title:oe.title,author:oe.author,genre:oe.genre,status:oe.status,rating:oe.rating||0,notes:oe.notes||"",cover:oe.cover||"",synopsis:oe.synopsis||""}),re(!0)},Z=oe=>{Ve({...me,[oe.target.name]:oe.target.value})},W=oe=>{Ve({...me,rating:oe})},J=async oe=>{oe.preventDefault();try{const Re=Nt.currentUser;if(!Re||!de)return;const Ze=yn($n,"users",Re.uid,"books",de.id);await Jl(Ze,{...me,cover:me.cover}),e(i.map(rt=>rt.id===de.id?{...rt,...me}:rt)),re(!1)}catch(Re){u(Re.message),re(!1)}},fe=oe=>{const Re=Math.min(Math.max(Number(oe)||0,0),5),Ze=Math.floor(Re),rt=Re%1>=.5&&Re<5,ut=Math.max(5-Ze-(rt?1:0),0);return _.jsxs("div",{className:"rating-container",children:[[...Array(Ze)].map((tn,hn)=>_.jsx(nu,{className:"rating-star filled"},`full-${hn}`)),rt&&_.jsx(sT,{className:"rating-star half-filled"}),[...Array(ut)].map((tn,hn)=>_.jsx(nu,{className:"rating-star empty"},`empty-${hn}`))]})},Ae=i.filter(oe=>(h==="all"||oe.status===h)&&(p==="all"||oe.genre===p)).sort((oe,Re)=>E==="title"?C==="asc"?oe.title.localeCompare(Re.title):Re.title.localeCompare(oe.title):E==="rating"?C==="asc"?oe.rating-Re.rating:Re.rating-oe.rating:0),Ee=()=>_.jsx("div",{className:"delete-modal",children:_.jsxs("div",{className:"modal-content",children:[_.jsx("h3",{children:"Confirmar exclusão"}),_.jsx("p",{children:"Tem certeza que deseja remover este livro da sua coleção?"}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{className:"modal-button confirm",onClick:De,children:"Confirmar"}),_.jsx("button",{className:"modal-button cancel",onClick:()=>te(!1),children:"Cancelar"})]})]})}),at=()=>_.jsx("div",{className:"edit-modal",children:_.jsxs("div",{className:"edit-form",children:[_.jsx("h3",{className:"edit-form-title",children:"Editar Livro"}),_.jsxs("div",{className:"book-info-header",children:[me.cover?_.jsx("img",{src:me.cover,alt:"Capa",className:"book-info-cover"}):_.jsx("div",{className:"cover-placeholder book-info-cover",children:_.jsx(Ci,{size:24})}),_.jsxs("div",{className:"book-info-text",children:[_.jsx("h4",{className:"book-title",children:me.title}),_.jsxs("p",{className:"book-author",children:["por ",me.author]}),_.jsxs("p",{className:"book-genre",children:["Gênero: ",me.genre||"Não informado"]})]})]}),_.jsxs("form",{onSubmit:J,children:[_.jsxs("div",{className:"form-grid",children:[_.jsxs("div",{className:"form-group full-width",children:[_.jsx("label",{children:"Capa do Livro"}),_.jsxs("div",{className:"cover-preview-container",children:[me.cover?_.jsx("img",{src:me.cover,alt:"Capa atual",className:"current-cover"}):_.jsx("div",{className:"cover-placeholder",children:_.jsx(Ci,{})}),_.jsx("button",{type:"button",className:"change-cover-button",onClick:()=>{N(!R),R||$()},children:R?"Fechar Opções":"Alterar Capa"})]}),R&&_.jsx("div",{className:"cover-selector-modal",children:j?_.jsx("div",{className:"loading-spinner"}):_.jsxs(_.Fragment,{children:[_.jsx("h4",{children:"Selecione uma nova capa:"}),_.jsx("div",{className:"cover-options-grid",children:O.map((oe,Re)=>_.jsx("img",{src:oe,alt:`Opção de capa ${Re+1}`,className:`cover-option ${me.cover===oe?"selected":""}`,onClick:()=>ce(oe)},Re))}),O.length===0&&_.jsx("p",{children:"Nenhuma capa alternativa encontrada."})]})})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Título"}),_.jsx("input",{type:"text",name:"title",value:me.title,onChange:Z,className:"form-input"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Autor"}),_.jsx("input",{type:"text",name:"author",value:me.author,onChange:Z,className:"form-input"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Gênero"}),_.jsx("input",{type:"text",name:"genre",value:me.genre,onChange:Z,className:"form-input"})]}),_.jsxs("div",{className:"form-group full-width",children:[_.jsx("label",{children:"Sinopse"}),_.jsx("div",{className:"synopsis-display",children:me.synopsis||"Nenhuma sinopse disponível"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Status"}),_.jsxs("select",{name:"status",value:me.status,onChange:Z,className:"form-input",children:[_.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),_.jsx("option",{value:"Em andamento",children:"Em Andamento"}),_.jsx("option",{value:"Concluído",children:"Concluído"}),_.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Data de Início"}),_.jsx("input",{type:"date",name:"startDate",value:me.startDate,onChange:Z,className:"form-input"})]}),me.status==="Concluído"&&_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Data de Término"}),_.jsx("input",{type:"date",name:"endDate",value:me.endDate,onChange:Z,className:"form-input"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Avaliação"}),_.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:me.rating,onChange:oe=>{const Re=parseFloat(oe.target.value),Ze=Math.min(Math.max(isNaN(Re)?0:Re,0),5);W(Ze)},className:"rating-input"}),_.jsx("div",{className:"rating-display",children:fe(me.rating)})]})]}),_.jsxs("div",{className:"form-group full-width",children:[_.jsx("label",{children:"Anotações"}),_.jsx("textarea",{name:"notes",value:me.notes,onChange:Z,className:"form-input form-textarea",placeholder:"Adicione suas anotações..."})]}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{type:"button",className:"modal-button cancel",onClick:()=>re(!1),children:"Cancelar"}),_.jsx("button",{type:"submit",className:"modal-button confirm",children:"Salvar Alterações"})]})]})]})});return t?_.jsx("div",{className:"loading-screen",children:"Carregando..."}):o?_.jsxs("div",{className:"error-screen",children:[_.jsx("h2",{children:"Erro ao carregar dados"}),_.jsx("p",{children:o})]}):_.jsxs("div",{className:"collection-container",children:[_.jsx("h1",{className:"collection-title",children:"📚 Sua Coleção"}),_.jsxs("div",{className:"controls",children:[_.jsxs("div",{className:"filter-group",children:[_.jsx(t2,{className:"filter-icon"}),_.jsxs("select",{value:h,onChange:oe=>m(oe.target.value),className:"filter-select",children:[_.jsx("option",{value:"all",children:"Todos os Status"}),_.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),_.jsx("option",{value:"Em andamento",children:"Em Andamento"}),_.jsx("option",{value:"Concluído",children:"Concluído"}),_.jsx("option",{value:"Abandonado",children:"Abandonado"})]}),_.jsxs("select",{value:p,onChange:oe=>g(oe.target.value),className:"filter-select",children:[_.jsx("option",{value:"all",children:"Todos os Gêneros"}),I.map(oe=>_.jsx("option",{value:oe,children:oe},oe))]})]}),_.jsxs("div",{className:"sort-group",children:[_.jsx(a2,{className:"sort-icon"}),_.jsxs("select",{value:E,onChange:oe=>S(oe.target.value),className:"sort-select",children:[_.jsx("option",{value:"title",children:"Ordenar por Título"}),_.jsx("option",{value:"rating",children:"Ordenar por Avaliação"})]}),_.jsx("button",{onClick:()=>D(C==="asc"?"desc":"asc"),className:"sort-order",children:C==="asc"?"A-Z":"Z-A"})]})]}),_.jsx("div",{className:"books-table",children:_.jsxs("table",{children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{children:"Capa"}),_.jsx("th",{children:"Título"}),_.jsx("th",{children:"Autor"}),_.jsx("th",{children:"Status"}),_.jsx("th",{children:"Avaliação"}),_.jsx("th",{children:"Ações"})]})}),_.jsx("tbody",{children:Ae.length>0?Ae.map(oe=>_.jsxs("tr",{children:[_.jsx("td",{children:oe.cover?_.jsx("img",{src:oe.cover,alt:oe.title,className:"book-cover"}):_.jsx("div",{className:"cover-placeholder",children:_.jsx(Ci,{})})}),_.jsx("td",{children:oe.title}),_.jsx("td",{children:oe.author}),_.jsx("td",{children:_.jsx("span",{className:`status-badge ${oe.status.toLowerCase().replace(" ","-")}`,children:oe.status})}),_.jsx("td",{children:fe(oe.rating)}),_.jsxs("td",{className:"actions-cell",children:[_.jsx("button",{onClick:()=>pe(oe.id),className:"icon-button",title:"Favoritar",children:oe.favorite?_.jsx(iT,{}):_.jsx(l2,{})}),_.jsx("button",{onClick:()=>V(oe),className:"icon-button",title:"Editar",children:_.jsx(Kh,{})}),_.jsx("button",{onClick:()=>{K(oe.id),te(!0)},className:"icon-button",title:"Remover",children:_.jsx(Rp,{})})]})]},oe.id)):_.jsx("tr",{children:_.jsx("td",{colSpan:"6",className:"no-books-message",children:"Nenhum livro encontrado com os filtros selecionados."})})})]})}),M&&Ee(),ue&&at()]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="firebasestorage.googleapis.com",Fb="storageBucket",LD=2*60*1e3,BD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St extends Vi{constructor(e,t,s=0){super(Lm(e),`Firebase Storage: ${t} (${Lm(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,St.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Lm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var bt;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(bt||(bt={}));function Lm(i){return"storage/"+i}function Rg(){const i="An unknown error occurred, please check the error payload for server response.";return new St(bt.UNKNOWN,i)}function zD(i){return new St(bt.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function qD(i){return new St(bt.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function FD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new St(bt.UNAUTHENTICATED,i)}function HD(){return new St(bt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function GD(i){return new St(bt.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function KD(){return new St(bt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function QD(){return new St(bt.CANCELED,"User canceled the upload/download.")}function YD(i){return new St(bt.INVALID_URL,"Invalid URL '"+i+"'.")}function $D(i){return new St(bt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function XD(){return new St(bt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Fb+"' property when initializing the app?")}function WD(){return new St(bt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function JD(){return new St(bt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ZD(i){return new St(bt.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Tp(i){return new St(bt.INVALID_ARGUMENT,i)}function Hb(){return new St(bt.APP_DELETED,"The Firebase app was deleted.")}function e6(i){return new St(bt.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Zl(i,e){return new St(bt.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function Fl(i){throw new St(bt.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=Vn.makeFromUrl(e,t)}catch{return new Vn(e,"")}if(s.path==="")return s;throw $D(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(ue){ue.path.charAt(ue.path.length-1)==="/"&&(ue.path_=ue.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(ue){ue.path_=decodeURIComponent(ue.path)}const E="v[A-Za-z0-9_]+",S=t.replace(/[.]/g,"\\."),C="(/([^?#]*).*)?$",D=new RegExp(`^https?://${S}/${E}/b/${o}/o${C}`,"i"),I={bucket:1,path:3},B=t===qb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,M="([^?#]*)",te=new RegExp(`^https?://${B}/${o}/${M}`,"i"),K=[{regex:m,indices:p,postModify:u},{regex:D,indices:I,postModify:g},{regex:te,indices:{bucket:1,path:2},postModify:g}];for(let ue=0;ue<K.length;ue++){const re=K[ue],de=re.regex.exec(e);if(de){const P=de[re.indices.bucket];let R=de[re.indices.path];R||(R=""),s=new Vn(P,R),re.postModify(s);break}}if(s==null)throw YD(e);return s}}class t6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function E(...M){g||(g=!0,e.apply(null,M))}function S(M){o=setTimeout(()=>{o=null,i(D,p())},M)}function C(){u&&clearTimeout(u)}function D(M,...te){if(g){C();return}if(M){C(),E.call(null,M,...te);return}if(p()||h){C(),E.call(null,M,...te);return}s<64&&(s*=2);let K;m===1?(m=2,K=0):K=(s+Math.random())*1e3,S(K)}let I=!1;function B(M){I||(I=!0,C(),!g&&(o!==null?(M||(m=2),clearTimeout(o),S(0)):M||(m=1)))}return S(0),u=setTimeout(()=>{h=!0,B(!0)},t),B}function i6(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(i){return i!==void 0}function s6(i){return typeof i=="object"&&!Array.isArray(i)}function Cg(i){return typeof i=="string"||i instanceof String}function ME(i){return Ng()&&i instanceof Blob}function Ng(){return typeof Blob<"u"}function VE(i,e,t,s){if(s<e)throw Tp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw Tp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function Gb(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Js;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Js||(Js={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,t,s,o,u,h,m,p,g,E,S,C=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=E,this.connectionFactory_=S,this.retry=C,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((D,I)=>{this.resolve_=D,this.reject_=I,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new ih(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Js.NO_ERROR,p=u.getStatus();if(!m||a6(p,this.additionalRetryCodes_)&&this.retry){const E=u.getErrorCode()===Js.ABORT;s(!1,new ih(!1,null,E));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new ih(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());r6(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Rg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?Hb():QD();h(p)}else{const p=KD();h(p)}};this.canceled_?t(!1,new ih(!1,null,!0)):this.backoffId_=n6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ih{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function l6(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function u6(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function c6(i,e){e&&(i["X-Firebase-GMPID"]=e)}function h6(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function f6(i,e,t,s,o,u,h=!0){const m=Gb(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return c6(g,e),l6(g,t),u6(g,u),h6(g,s),new o6(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function m6(...i){const e=d6();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Ng())return new Blob(i);throw new St(bt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function p6(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g6(i){if(typeof atob>"u")throw ZD("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bm{constructor(e,t){this.data=e,this.contentType=t||null}}function y6(i,e){switch(i){case Ri.RAW:return new Bm(Kb(e));case Ri.BASE64:case Ri.BASE64URL:return new Bm(Qb(i,e));case Ri.DATA_URL:return new Bm(v6(e),E6(e))}throw Rg()}function Kb(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function _6(i){let e;try{e=decodeURIComponent(i)}catch{throw Zl(Ri.DATA_URL,"Malformed data URL.")}return Kb(e)}function Qb(i,e){switch(i){case Ri.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Zl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ri.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Zl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=g6(e)}catch(o){throw o.message.includes("polyfill")?o:Zl(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Yb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Zl(Ri.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=T6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function v6(i){const e=new Yb(i);return e.base64?Qb(Ri.BASE64,e.rest):_6(e.rest)}function E6(i){return new Yb(i).contentType}function T6(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t){let s=0,o="";ME(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(ME(this.data_)){const s=this.data_,o=p6(s,e,t);return o===null?null:new Xr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Xr(s,!0)}}static getBlob(...e){if(Ng()){const t=e.map(s=>s instanceof Xr?s.data_:s);return new Xr(m6.apply(null,t))}else{const t=e.map(h=>Cg(h)?y6(Ri.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Xr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(i){let e;try{e=JSON.parse(i)}catch{return null}return s6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b6(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function S6(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function Xb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(i,e){return e}class gn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||A6}}let rh=null;function w6(i){return!Cg(i)||i.length<2?i:Xb(i)}function Wb(){if(rh)return rh;const i=[];i.push(new gn("bucket")),i.push(new gn("generation")),i.push(new gn("metageneration")),i.push(new gn("name","fullPath",!0));function e(u,h){return w6(h)}const t=new gn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new gn("size");return o.xform=s,i.push(o),i.push(new gn("timeCreated")),i.push(new gn("updated")),i.push(new gn("md5Hash",null,!0)),i.push(new gn("cacheControl",null,!0)),i.push(new gn("contentDisposition",null,!0)),i.push(new gn("contentEncoding",null,!0)),i.push(new gn("contentLanguage",null,!0)),i.push(new gn("contentType",null,!0)),i.push(new gn("metadata","customMetadata",!0)),rh=i,rh}function R6(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new Vn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function C6(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return R6(s,i),s}function Jb(i,e,t){const s=$b(e);return s===null?null:C6(i,s,t)}function N6(i,e,t,s){const o=$b(e);if(o===null||!Cg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const E=i.bucket,S=i.fullPath,C="/b/"+h(E)+"/o/"+h(S),D=Ig(C,t,s),I=Gb({alt:"media",token:g});return D+I})[0]}function I6(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class Zb{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(i){if(!i)throw Rg()}function x6(i,e){function t(s,o){const u=Jb(i,o,e);return eS(u!==null),u}return t}function O6(i,e){function t(s,o){const u=Jb(i,o,e);return eS(u!==null),N6(u,o,i.host,i._protocol)}return t}function tS(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=HD():o=FD():t.getStatus()===402?o=qD(i.bucket):t.getStatus()===403?o=GD(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function D6(i){const e=tS(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=zD(i.path)),u.serverResponse=o.serverResponse,u}return t}function M6(i,e,t){const s=e.fullServerUrl(),o=Ig(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Zb(o,u,O6(i,t),h);return m.errorHandler=D6(e),m}function V6(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function P6(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=V6(null,e)),s}function k6(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let K="";for(let ue=0;ue<2;ue++)K=K+Math.random().toString().slice(2);return K}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=P6(e,s,o),E=I6(g,t),S="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+E+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,C=`\r
--`+p+"--",D=Xr.getBlob(S,s,C);if(D===null)throw WD();const I={name:g.fullPath},B=Ig(u,i.host,i._protocol),M="POST",te=i.maxUploadRetryTime,ae=new Zb(B,M,x6(i,t),te);return ae.urlParams=I,ae.headers=h,ae.body=D.uploadData(),ae.errorHandler=tS(e),ae}class U6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Js.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Js.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Js.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw Fl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class j6 extends U6{initXhr(){this.xhr_.responseType="text"}}function nS(){return new j6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t){this._service=e,t instanceof Vn?this._location=t:this._location=Vn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new aa(e,t)}get root(){const e=new Vn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Xb(this._location.path)}get storage(){return this._service}get parent(){const e=b6(this._location.path);if(e===null)return null;const t=new Vn(this._location.bucket,e);return new aa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw e6(e)}}function L6(i,e,t){i._throwIfRoot("uploadBytes");const s=k6(i.storage,i._location,Wb(),new Xr(e,!0),t);return i.storage.makeRequestWithTokens(s,nS).then(o=>({metadata:o,ref:i}))}function B6(i){i._throwIfRoot("getDownloadURL");const e=M6(i.storage,i._location,Wb());return i.storage.makeRequestWithTokens(e,nS).then(t=>{if(t===null)throw JD();return t})}function z6(i,e){const t=S6(i._location.path,e),s=new Vn(i._location.bucket,t);return new aa(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(i){return/^[A-Za-z]+:\/\//.test(i)}function F6(i,e){return new aa(i,e)}function iS(i,e){if(i instanceof xg){const t=i;if(t._bucket==null)throw XD();const s=new aa(t,t._bucket);return e!=null?iS(s,e):s}else return e!==void 0?z6(i,e):i}function H6(i,e){if(e&&q6(e)){if(i instanceof xg)return F6(i,e);throw Tp("To use ref(service, url), the first argument must be a Storage instance.")}else return iS(i,e)}function PE(i,e){const t=e==null?void 0:e[Fb];return t==null?null:Vn.makeFromBucketSpec(t,i)}function G6(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:pT(o,i.app.options.projectId))}class xg{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=qb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LD,this._maxUploadRetryTime=BD,this._requests=new Set,o!=null?this._bucket=Vn.makeFromBucketSpec(o,this._host):this._bucket=PE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Vn.makeFromBucketSpec(this._url,e):this._bucket=PE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aa(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new t6(Hb());{const h=f6(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const kE="@firebase/storage",UE="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="storage";function K6(i,e,t){return i=Et(i),L6(i,e,t)}function Q6(i){return i=Et(i),B6(i)}function Y6(i,e){return i=Et(i),H6(i,e)}function $6(i=Ip(),e){i=Et(i);const s=Yh(i,rS).getImmediate({identifier:e}),o=fT("storage");return o&&X6(s,...o),s}function X6(i,e,t,s={}){G6(i,e,t,s)}function W6(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new xg(t,s,o,e,la)}function J6(){Zs(new ss(rS,W6,"PUBLIC").setMultipleInstances(!0)),Ni(kE,UE,""),Ni(kE,UE,"esm2017")}J6();function Z6(){const[i,e]=Q.useState(""),[t,s]=Q.useState(null),[o,u]=Q.useState(!1),h=Q.useRef(null),m=Nt.currentUser,p=(S,C)=>{s({type:S,message:C}),setTimeout(()=>s(null),3e3)},g=async S=>{if(S.preventDefault(),!i.trim()){p("error","O nome não pode estar vazio!");return}try{u(!0),await A0(m,{displayName:i.trim()}),e(""),p("success","Nome atualizado com sucesso!")}catch(C){p("error",`Erro ao atualizar nome: ${C.message}`)}finally{u(!1)}},E=async S=>{const C=S.target.files[0];if(C)try{u(!0);const D=$6(),I=Y6(D,`profilePhotos/${m.uid}`);await K6(I,C);const B=await Q6(I);await A0(m,{photoURL:B}),p("success","Foto atualizada com sucesso!")}catch(D){p("error",`Erro ao atualizar foto: ${D.message}`)}finally{u(!1),h.current.value=""}};return _.jsxs("div",{className:"profile-container",children:[t&&_.jsxs("div",{className:`custom-alert ${t.type}`,children:[_.jsx("div",{className:"alert-icon",children:t.type==="success"?_.jsx(e2,{}):_.jsx(o2,{})}),_.jsx("span",{children:t.message})]}),_.jsxs("div",{className:"profile-card",children:[_.jsxs("h1",{children:[_.jsx(oT,{className:"header-icon"}),"Configurações do Perfil"]}),_.jsxs("div",{className:"profile-section",children:[_.jsxs("div",{className:"photo-section",children:[_.jsx("img",{src:(m==null?void 0:m.photoURL)||"/default-user.png",alt:"Foto do usuário",className:"profile-photo"}),_.jsx("input",{type:"file",ref:h,onChange:E,accept:"image/*",hidden:!0}),_.jsxs("button",{className:"change-photo-btn",onClick:()=>h.current.click(),disabled:o,children:[_.jsx(Kh,{className:"btn-icon"}),o?"Atualizando...":"Alterar Foto"]})]}),_.jsxs("div",{className:"info-section",children:[_.jsxs("form",{onSubmit:g,className:"name-form",children:[_.jsxs("label",{children:["Nome:",_.jsx("input",{type:"text",value:i,onChange:S=>e(S.target.value),placeholder:"Digite seu novo nome",disabled:o})]}),_.jsx("button",{type:"submit",className:"update-btn",disabled:o||!i.trim(),children:o?"Atualizando...":"Atualizar Nome"})]}),_.jsx("div",{className:"user-info",children:_.jsxs("h3",{children:[_.jsx("strong",{children:"Email:"})," ",m==null?void 0:m.email]})})]})]})]})]})}function e3(){const[i,e]=Q.useState([]),[t,s]=Q.useState([]),[o,u]=Q.useState(!1),[h,m]=Q.useState(!1),[p,g]=Q.useState(null),[E,S]=Q.useState(null),[C,D]=Q.useState({name:"",description:"",books:[]});Q.useEffect(()=>{(async()=>{const ue=Nt.currentUser;if(ue)try{const re=yn($n,"users",ue.uid),de=wi(re,"folders"),P=await Xs(de);e(P.docs.map(O=>({id:O.id,...O.data()})));const R=wi(re,"books"),N=await Xs(R);s(N.docs.map(O=>({id:O.id,...O.data(),cover:O.data().cover||"",title:O.data().title||"Livro sem título"})))}catch(re){console.error("Erro ao carregar dados:",re)}})()},[]);const I=async K=>{K.preventDefault();const ue=Nt.currentUser;if(!(!ue||!C.name))try{const re=yn($n,"users",ue.uid),de=wi(re,"folders");if(p){const P=yn(de,p.id);await Jl(P,C),e(i.map(R=>R.id===p.id?{...C,id:R.id}:R))}else{const P=await Tg(de,{...C,createdAt:new Date});e([...i,{id:P.id,...C}])}u(!1),g(null),D({name:"",description:"",books:[]})}catch(re){console.error("Erro ao salvar pasta:",re),alert("Erro ao salvar! Verifique suas permissões e conexão.")}},B=async()=>{const K=Nt.currentUser;if(K)try{const ue=yn($n,"users",K.uid,"folders",E);await Eg(ue),e(i.filter(re=>re.id!==E)),m(!1)}catch(ue){console.error("Erro ao excluir pasta:",ue),m(!1)}},M=K=>{g(K),D({name:K.name,description:K.description,books:K.books||[]}),u(!0)},te=K=>{D(ue=>({...ue,books:ue.books.includes(K)?ue.books.filter(re=>re!==K):[...ue.books,K]}))},ae=()=>_.jsx("div",{className:"delete-modal",children:_.jsxs("div",{className:"delete-modal-content",children:[_.jsx("h3",{children:"Confirmar Exclusão"}),_.jsx("p",{children:"Tem certeza que deseja excluir esta pasta permanentemente?"}),_.jsxs("div",{className:"modal-actions",children:[_.jsx("button",{className:"btn-confirm",onClick:B,children:"Confirmar"}),_.jsx("button",{className:"btn-cancel",onClick:()=>m(!1),children:"Cancelar"})]})]})});return _.jsxs("div",{className:"folders-container",children:[_.jsxs("div",{className:"folders-header",children:[_.jsxs("h1",{children:[_.jsx(sh,{})," Minhas Pastas"]}),_.jsxs("button",{onClick:()=>u(!0),className:"btn-primary","aria-label":"Criar nova pasta",children:[_.jsx(ho,{})," Nova Pasta"]})]}),o&&_.jsx("div",{className:"folder-form-modal",children:_.jsxs("div",{className:"folder-form-content",children:[_.jsxs("div",{className:"form-header",children:[_.jsx("h2",{children:p?"Editar Pasta":"Nova Pasta"}),_.jsx("button",{onClick:()=>{u(!1),g(null),D({name:"",description:"",books:[]})},className:"close-btn","aria-label":"Fechar",children:_.jsx(aT,{})})]}),_.jsxs("form",{onSubmit:I,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"folder-name",children:"Nome da Pasta *"}),_.jsx("input",{id:"folder-name",type:"text",value:C.name,onChange:K=>D({...C,name:K.target.value}),required:!0,maxLength:"50",placeholder:"Digite o nome da pasta"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"folder-description",children:"Descrição"}),_.jsx("textarea",{id:"folder-description",value:C.description,onChange:K=>D({...C,description:K.target.value}),maxLength:"200",placeholder:"Adicione uma descrição para a pasta"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Selecionar Livros"}),_.jsx("div",{className:"books-selection",children:t.length>0?t.map(K=>_.jsxs("label",{className:"book-selection-item",children:[_.jsx("input",{type:"checkbox",checked:C.books.includes(K.id),onChange:()=>te(K.id),className:"hidden-checkbox"}),_.jsxs("div",{className:"book-select-card",children:[K.cover?_.jsx("img",{src:K.cover,alt:K.title,className:"book-select-cover",loading:"lazy"}):_.jsx("div",{className:"cover-placeholder",children:_.jsx(Ci,{className:"placeholder-icon"})}),_.jsx("span",{className:"book-select-title",children:K.title})]})]},K.id)):_.jsx("p",{children:"Nenhum livro disponível para adicionar à pasta."})})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>{u(!1),g(null),D({name:"",description:"",books:[]})},children:"Cancelar"}),_.jsx("button",{type:"submit",className:"btn-confirm",children:p?"Salvar Alterações":"Criar Pasta"})]})]})]})}),_.jsx("div",{className:"folders-grid",children:i.map(K=>{var ue;return _.jsxs("div",{className:"folder-card",children:[_.jsxs("div",{className:"folder-header",children:[_.jsx(sh,{className:"folder-icon"}),_.jsxs("h3",{children:[K.name," (",((ue=K.books)==null?void 0:ue.length)||0,")"]})]}),K.description&&_.jsx("p",{className:"folder-description",children:K.description}),_.jsx("div",{className:"folder-books",children:_.jsx("div",{className:"books-list",children:t.filter(re=>{var de;return(de=K.books)==null?void 0:de.includes(re.id)}).map(re=>_.jsx("div",{className:"book-item",children:re.cover?_.jsx("img",{src:re.cover,alt:re.title,className:"book-thumbnail"}):_.jsx("div",{className:"thumbnail-placeholder",children:_.jsx(Ci,{})})},re.id))})}),_.jsxs("div",{className:"folder-actions",children:[_.jsxs("button",{onClick:()=>M(K),className:"btn-primary",children:[_.jsx(Kh,{})," Editar"]}),_.jsxs("button",{onClick:()=>{S(K.id),m(!0)},className:"btn-primary",title:"Remover",children:[_.jsx(Rp,{})," Excluir"]})]})]},K.id)})}),i.length===0&&!o&&_.jsxs("div",{className:"empty-state",children:[_.jsx(sh,{size:64}),_.jsx("p",{children:"Nenhuma pasta criada ainda"})]}),h&&_.jsx(ae,{})]})}function t3(){return _.jsx(JE,{children:_.jsxs(xw,{children:[_.jsx(ii,{path:"/",element:_.jsx(Jx,{})}),_.jsx(ii,{path:"/login",element:_.jsx(Zx,{})}),_.jsx(ii,{element:_.jsx(n3,{}),children:_.jsxs(ii,{element:_.jsx(Wx,{}),children:[_.jsx(ii,{path:"/dashboard",element:_.jsx(eO,{})}),_.jsx(ii,{path:"/collection",element:_.jsx(jD,{})}),_.jsx(ii,{path:"/folders",element:_.jsx(e3,{})}),_.jsx(ii,{path:"/add-book",element:_.jsx(UD,{})}),_.jsx(ii,{path:"/profile",element:_.jsx(Z6,{})})]})}),_.jsx(ii,{path:"*",element:_.jsx($E,{to:"/"})})]})})}function n3(){const[i,e]=Q.useState(!1);return Q.useEffect(()=>{const t=Nt.onAuthStateChanged(s=>{console.log("Status de autenticação:",s?"Autenticado":"Não autenticado"),e(!0)});return()=>t()},[]),i?Nt.currentUser?_.jsx(JE,{children:_.jsx(XE,{})}):(console.log("Redirecionando para login"),_.jsx($E,{to:"/login",replace:!0})):_.jsx("div",{className:"loading",children:"Carregando..."})}function i3({children:i}){const[e,t]=Q.useState(null),[s,o]=Q.useState(!0);return Q.useEffect(()=>{const u=Nt.onAuthStateChanged(h=>{t(h),o(!1)});return()=>u()},[]),_.jsx("div",{children:s?_.jsx("div",{className:"loading-screen",children:"Carregando..."}):i})}qA.createRoot(document.getElementById("root")).render(_.jsx(fr.StrictMode,{children:_.jsx(Uw,{basename:"/booktracker",children:_.jsx(i3,{children:_.jsx(t3,{})})})}));
