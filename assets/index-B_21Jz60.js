var CS=Object.defineProperty;var NS=(i,e,t)=>e in i?CS(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Uv=(i,e,t)=>NS(i,typeof e!="symbol"?e+"":e,t);function IS(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function VE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pm={exports:{}},kl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lv;function xS(){if(Lv)return kl;Lv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return kl.Fragment=e,kl.jsx=t,kl.jsxs=t,kl}var jv;function OS(){return jv||(jv=1,pm.exports=xS()),pm.exports}var T=OS(),gm={exports:{}},De={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bv;function DS(){if(Bv)return De;Bv=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function w(V){return V===null||typeof V!="object"?null:(V=A&&V[A]||V["@@iterator"],typeof V=="function"?V:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,B={};function P(V,te,he){this.props=V,this.context=te,this.refs=B,this.updater=he||O}P.prototype.isReactComponent={},P.prototype.setState=function(V,te){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,te,"setState")},P.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function Z(){}Z.prototype=P.prototype;function re(V,te,he){this.props=V,this.context=te,this.refs=B,this.updater=he||O}var K=re.prototype=new Z;K.constructor=re,x(K,P.prototype),K.isPureReactComponent=!0;var oe=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function M(V,te,he,le,_e,Oe){return he=Oe.ref,{$$typeof:i,type:V,key:te,ref:he!==void 0?he:null,props:Oe}}function R(V,te){return M(V.type,te,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===i}function D(V){var te={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(he){return te[he]})}var k=/\/+/g;function L(V,te){return typeof V=="object"&&V!==null&&V.key!=null?D(""+V.key):te.toString(36)}function I(){}function Ie(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(te){V.status==="pending"&&(V.status="fulfilled",V.value=te)},function(te){V.status==="pending"&&(V.status="rejected",V.reason=te)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function it(V,te,he,le,_e){var Oe=typeof V;(Oe==="undefined"||Oe==="boolean")&&(V=null);var be=!1;if(V===null)be=!0;else switch(Oe){case"bigint":case"string":case"number":be=!0;break;case"object":switch(V.$$typeof){case i:case e:be=!0;break;case _:return be=V._init,it(be(V._payload),te,he,le,_e)}}if(be)return _e=_e(V),be=le===""?"."+L(V,0):le,oe(_e)?(he="",be!=null&&(he=be.replace(k,"$&/")+"/"),it(_e,te,he,"",function(Se){return Se})):_e!=null&&(C(_e)&&(_e=R(_e,he+(_e.key==null||V&&V.key===_e.key?"":(""+_e.key).replace(k,"$&/")+"/")+be)),te.push(_e)),1;be=0;var Rt=le===""?".":le+":";if(oe(V))for(var se=0;se<V.length;se++)le=V[se],Oe=Rt+L(le,se),be+=it(le,te,he,Oe,_e);else if(se=w(V),typeof se=="function")for(V=se.call(V),se=0;!(le=V.next()).done;)le=le.value,Oe=Rt+L(le,se++),be+=it(le,te,he,Oe,_e);else if(Oe==="object"){if(typeof V.then=="function")return it(Ie(V),te,he,le,_e);throw te=String(V),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return be}function X(V,te,he){if(V==null)return V;var le=[],_e=0;return it(V,le,"","",function(Oe){return te.call(he,Oe,_e++)}),le}function ce(V){if(V._status===-1){var te=V._result;te=te(),te.then(function(he){(V._status===0||V._status===-1)&&(V._status=1,V._result=he)},function(he){(V._status===0||V._status===-1)&&(V._status=2,V._result=he)}),V._status===-1&&(V._status=0,V._result=te)}if(V._status===1)return V._result.default;throw V._result}var ge=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function Fe(){}return De.Children={map:X,forEach:function(V,te,he){X(V,function(){te.apply(this,arguments)},he)},count:function(V){var te=0;return X(V,function(){te++}),te},toArray:function(V){return X(V,function(te){return te})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},De.Component=P,De.Fragment=t,De.Profiler=o,De.PureComponent=re,De.StrictMode=s,De.Suspense=p,De.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,De.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ie.H.useMemoCache(V)}},De.cache=function(V){return function(){return V.apply(null,arguments)}},De.cloneElement=function(V,te,he){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var le=x({},V.props),_e=V.key,Oe=void 0;if(te!=null)for(be in te.ref!==void 0&&(Oe=void 0),te.key!==void 0&&(_e=""+te.key),te)!fe.call(te,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&te.ref===void 0||(le[be]=te[be]);var be=arguments.length-2;if(be===1)le.children=he;else if(1<be){for(var Rt=Array(be),se=0;se<be;se++)Rt[se]=arguments[se+2];le.children=Rt}return M(V.type,_e,void 0,void 0,Oe,le)},De.createContext=function(V){return V={$$typeof:h,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:u,_context:V},V},De.createElement=function(V,te,he){var le,_e={},Oe=null;if(te!=null)for(le in te.key!==void 0&&(Oe=""+te.key),te)fe.call(te,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(_e[le]=te[le]);var be=arguments.length-2;if(be===1)_e.children=he;else if(1<be){for(var Rt=Array(be),se=0;se<be;se++)Rt[se]=arguments[se+2];_e.children=Rt}if(V&&V.defaultProps)for(le in be=V.defaultProps,be)_e[le]===void 0&&(_e[le]=be[le]);return M(V,Oe,void 0,void 0,null,_e)},De.createRef=function(){return{current:null}},De.forwardRef=function(V){return{$$typeof:m,render:V}},De.isValidElement=C,De.lazy=function(V){return{$$typeof:_,_payload:{_status:-1,_result:V},_init:ce}},De.memo=function(V,te){return{$$typeof:g,type:V,compare:te===void 0?null:te}},De.startTransition=function(V){var te=ie.T,he={};ie.T=he;try{var le=V(),_e=ie.S;_e!==null&&_e(he,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(Fe,ge)}catch(Oe){ge(Oe)}finally{ie.T=te}},De.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},De.use=function(V){return ie.H.use(V)},De.useActionState=function(V,te,he){return ie.H.useActionState(V,te,he)},De.useCallback=function(V,te){return ie.H.useCallback(V,te)},De.useContext=function(V){return ie.H.useContext(V)},De.useDebugValue=function(){},De.useDeferredValue=function(V,te){return ie.H.useDeferredValue(V,te)},De.useEffect=function(V,te,he){var le=ie.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(V,te)},De.useId=function(){return ie.H.useId()},De.useImperativeHandle=function(V,te,he){return ie.H.useImperativeHandle(V,te,he)},De.useInsertionEffect=function(V,te){return ie.H.useInsertionEffect(V,te)},De.useLayoutEffect=function(V,te){return ie.H.useLayoutEffect(V,te)},De.useMemo=function(V,te){return ie.H.useMemo(V,te)},De.useOptimistic=function(V,te){return ie.H.useOptimistic(V,te)},De.useReducer=function(V,te,he){return ie.H.useReducer(V,te,he)},De.useRef=function(V){return ie.H.useRef(V)},De.useState=function(V){return ie.H.useState(V)},De.useSyncExternalStore=function(V,te,he){return ie.H.useSyncExternalStore(V,te,he)},De.useTransition=function(){return ie.H.useTransition()},De.version="19.1.0",De}var zv;function Ep(){return zv||(zv=1,gm.exports=DS()),gm.exports}var $=Ep();const ur=VE($),MS=IS({__proto__:null,default:ur},[$]);var ym={exports:{}},Ul={},_m={exports:{}},vm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function VS(){return qv||(qv=1,function(i){function e(X,ce){var ge=X.length;X.push(ce);e:for(;0<ge;){var Fe=ge-1>>>1,V=X[Fe];if(0<o(V,ce))X[Fe]=ce,X[ge]=V,ge=Fe;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var ce=X[0],ge=X.pop();if(ge!==ce){X[0]=ge;e:for(var Fe=0,V=X.length,te=V>>>1;Fe<te;){var he=2*(Fe+1)-1,le=X[he],_e=he+1,Oe=X[_e];if(0>o(le,ge))_e<V&&0>o(Oe,le)?(X[Fe]=Oe,X[_e]=ge,Fe=_e):(X[Fe]=le,X[he]=ge,Fe=he);else if(_e<V&&0>o(Oe,ge))X[Fe]=Oe,X[_e]=ge,Fe=_e;else break e}}return ce}function o(X,ce){var ge=X.sortIndex-ce.sortIndex;return ge!==0?ge:X.id-ce.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,A=null,w=3,O=!1,x=!1,B=!1,P=!1,Z=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,K=typeof setImmediate<"u"?setImmediate:null;function oe(X){for(var ce=t(g);ce!==null;){if(ce.callback===null)s(g);else if(ce.startTime<=X)s(g),ce.sortIndex=ce.expirationTime,e(p,ce);else break;ce=t(g)}}function ie(X){if(B=!1,oe(X),!x)if(t(p)!==null)x=!0,fe||(fe=!0,L());else{var ce=t(g);ce!==null&&it(ie,ce.startTime-X)}}var fe=!1,M=-1,R=5,C=-1;function D(){return P?!0:!(i.unstable_now()-C<R)}function k(){if(P=!1,fe){var X=i.unstable_now();C=X;var ce=!0;try{e:{x=!1,B&&(B=!1,re(M),M=-1),O=!0;var ge=w;try{t:{for(oe(X),A=t(p);A!==null&&!(A.expirationTime>X&&D());){var Fe=A.callback;if(typeof Fe=="function"){A.callback=null,w=A.priorityLevel;var V=Fe(A.expirationTime<=X);if(X=i.unstable_now(),typeof V=="function"){A.callback=V,oe(X),ce=!0;break t}A===t(p)&&s(p),oe(X)}else s(p);A=t(p)}if(A!==null)ce=!0;else{var te=t(g);te!==null&&it(ie,te.startTime-X),ce=!1}}break e}finally{A=null,w=ge,O=!1}ce=void 0}}finally{ce?L():fe=!1}}}var L;if(typeof K=="function")L=function(){K(k)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Ie=I.port2;I.port1.onmessage=k,L=function(){Ie.postMessage(null)}}else L=function(){Z(k,0)};function it(X,ce){M=Z(function(){X(i.unstable_now())},ce)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function(X){switch(w){case 1:case 2:case 3:var ce=3;break;default:ce=w}var ge=w;w=ce;try{return X()}finally{w=ge}},i.unstable_requestPaint=function(){P=!0},i.unstable_runWithPriority=function(X,ce){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var ge=w;w=X;try{return ce()}finally{w=ge}},i.unstable_scheduleCallback=function(X,ce,ge){var Fe=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Fe+ge:Fe):ge=Fe,X){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ge+V,X={id:_++,callback:ce,priorityLevel:X,startTime:ge,expirationTime:V,sortIndex:-1},ge>Fe?(X.sortIndex=ge,e(g,X),t(p)===null&&X===t(g)&&(B?(re(M),M=-1):B=!0,it(ie,ge-Fe))):(X.sortIndex=V,e(p,X),x||O||(x=!0,fe||(fe=!0,L()))),X},i.unstable_shouldYield=D,i.unstable_wrapCallback=function(X){var ce=w;return function(){var ge=w;w=ce;try{return X.apply(this,arguments)}finally{w=ge}}}}(vm)),vm}var Fv;function PS(){return Fv||(Fv=1,_m.exports=VS()),_m.exports}var Em={exports:{}},rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function kS(){if(Hv)return rn;Hv=1;var i=Ep();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,rn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},rn.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},rn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},rn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},rn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,O=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:O}):_==="script"&&s.d.X(p,{crossOrigin:A,integrity:w,fetchPriority:O,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},rn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},rn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},rn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},rn.requestFormReset=function(p){s.d.r(p)},rn.unstable_batchedUpdates=function(p,g){return p(g)},rn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},rn.useFormStatus=function(){return h.H.useHostTransitionStatus()},rn.version="19.1.0",rn}var Gv;function PE(){if(Gv)return Em.exports;Gv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=kS(),Em.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kv;function US(){if(Kv)return Ul;Kv=1;var i=PS(),e=Ep(),t=PE();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),Z=Symbol.for("react.provider"),re=Symbol.for("react.consumer"),K=Symbol.for("react.context"),oe=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function L(n){return n===null||typeof n!="object"?null:(n=k&&n[k]||n["@@iterator"],typeof n=="function"?n:null)}var I=Symbol.for("react.client.reference");function Ie(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===I?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case P:return"Profiler";case B:return"StrictMode";case ie:return"Suspense";case fe:return"SuspenseList";case C:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case O:return"Portal";case K:return(n.displayName||"Context")+".Provider";case re:return(n._context.displayName||"Context")+".Consumer";case oe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case M:return r=n.displayName||null,r!==null?r:Ie(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return Ie(n(r))}catch{}}return null}var it=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Fe=[],V=-1;function te(n){return{current:n}}function he(n){0>V||(n.current=Fe[V],Fe[V]=null,V--)}function le(n,r){V++,Fe[V]=n.current,n.current=r}var _e=te(null),Oe=te(null),be=te(null),Rt=te(null);function se(n,r){switch(le(be,r),le(Oe,n),le(_e,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?hv(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=hv(r),n=fv(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}he(_e),le(_e,n)}function Se(){he(_e),he(Oe),he(be)}function Je(n){n.memoizedState!==null&&le(Rt,n);var r=_e.current,a=fv(r,n.type);r!==a&&(le(Oe,n),le(_e,a))}function st(n){Oe.current===n&&(he(_e),he(Oe)),Rt.current===n&&(he(Rt),Ol._currentValue=ge)}var ht=Object.prototype.hasOwnProperty,Qn=i.unstable_scheduleCallback,Mn=i.unstable_cancelCallback,pr=i.unstable_shouldYield,ls=i.unstable_requestPaint,Vn=i.unstable_now,pf=i.unstable_getCurrentPriorityLevel,Io=i.unstable_ImmediatePriority,ca=i.unstable_UserBlockingPriority,us=i.unstable_NormalPriority,gf=i.unstable_LowPriority,ha=i.unstable_IdlePriority,xo=i.log,Ru=i.unstable_setDisableYieldValue,pt=null,Ye=null;function En(n){if(typeof xo=="function"&&Ru(n),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(pt,n)}catch{}}var tn=Math.clz32?Math.clz32:cs,Cu=Math.log,yf=Math.LN2;function cs(n){return n>>>=0,n===0?32:31-(Cu(n)/yf|0)|0}var hs=256,fs=4194304;function Yn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function fa(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Yn(l):(E&=b,E!==0?f=Yn(E):a||(a=b&~n,a!==0&&(f=Yn(a))))):(b=l&~d,b!==0?f=Yn(b):E!==0?f=Yn(E):a||(a=l&~n,a!==0&&(f=Yn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function ds(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Oo(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Do(){var n=hs;return hs<<=1,(hs&4194048)===0&&(hs=256),n}function Mo(){var n=fs;return fs<<=1,(fs&62914560)===0&&(fs=4194304),n}function Di(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function Mi(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Vo(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,N=n.expirationTimes,F=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-tn(a),ee=1<<W;b[W]=0,N[W]=-1;var H=F[W];if(H!==null)for(F[W]=null,W=0;W<H.length;W++){var G=H[W];G!==null&&(G.lane&=-536870913)}a&=~ee}l!==0&&ai(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function ai(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-tn(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function Po(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-tn(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function gr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function da(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function yr(){var n=ce.p;return n!==0?n:(n=window.event,n===void 0?32:Ov(n.type))}function Nu(n,r){var a=ce.p;try{return ce.p=n,r()}finally{ce.p=a}}var ut=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ut,Ct="__reactProps$"+ut,Pn="__reactContainer$"+ut,ko="__reactEvents$"+ut,_f="__reactListeners$"+ut,_r="__reactHandles$"+ut,Iu="__reactResources$"+ut,ms="__reactMarker$"+ut;function vr(n){delete n[Mt],delete n[Ct],delete n[ko],delete n[_f],delete n[_r]}function Vi(n){var r=n[Mt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Pn]||a[Mt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=gv(n);n!==null;){if(a=n[Mt])return a;n=gv(n)}return r}n=a,a=n.parentNode}return null}function oi(n){if(n=n[Mt]||n[Pn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function li(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function cn(n){var r=n[Iu];return r||(r=n[Iu]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function bt(n){n[ms]=!0}var Uo=new Set,ma={};function $n(n,r){Pi(n,r),Pi(n+"Capture",r)}function Pi(n,r){for(ma[n]=r,n=0;n<r.length;n++)Uo.add(r[n])}var xu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ou={},ps={};function Du(n){return ht.call(ps,n)?!0:ht.call(Ou,n)?!1:xu.test(n)?ps[n]=!0:(Ou[n]=!0,!1)}function Er(n,r,a){if(Du(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function ui(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Kt(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var gs,Mu;function ki(n){if(gs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);gs=r&&r[1]||"",Mu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+gs+n+Mu}var pa=!1;function ga(n,r){if(!n||pa)return"";pa=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(G){var H=G}Reflect.construct(n,[],ee)}else{try{ee.call()}catch(G){H=G}n.call(ee.prototype)}}else{try{throw Error()}catch(G){H=G}(ee=n())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(G){if(G&&H&&typeof G.stack=="string")return[G.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var N=E.split(`
`),F=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===F.length)for(l=N.length-1,f=F.length-1;1<=l&&0<=f&&N[l]!==F[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==F[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==F[f]){var W=`
`+N[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{pa=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?ki(a):""}function Lo(n){switch(n.tag){case 26:case 27:case 5:return ki(n.type);case 16:return ki("Lazy");case 13:return ki("Suspense");case 19:return ki("SuspenseList");case 0:case 15:return ga(n.type,!1);case 11:return ga(n.type.render,!1);case 1:return ga(n.type,!0);case 31:return ki("Activity");default:return""}}function ya(n){try{var r="";do r+=Lo(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function hn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function jo(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function vf(n){var r=jo(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function _a(n){n._valueTracker||(n._valueTracker=vf(n))}function Bo(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=jo(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function ys(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ef=/[\n"\\]/g;function Nt(n){return n.replace(Ef,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Tn(n,r,a,l,f,d,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+hn(r)):n.value!==""+hn(r)&&(n.value=""+hn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Tr(n,E,hn(r)):a!=null?Tr(n,E,hn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+hn(b):n.removeAttribute("name")}function _s(n,r,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+hn(a):"",r=r!=null?""+hn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Tr(n,r,a){r==="number"&&ys(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Ui(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+hn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function Ze(n,r,a){if(r!=null&&(r=""+hn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+hn(a):""}function vs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(it(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=hn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function kn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Es=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vu(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Es.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function zo(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Vu(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Vu(n,d,r[d])}function qo(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(n){return bf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Li=null;function Un(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ji=null,Bi=null;function Fo(n){var r=oi(n);if(r&&(n=r.stateNode)){var a=n[Ct]||null;e:switch(n=r.stateNode,r.type){case"input":if(Tn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Nt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[Ct]||null;if(!f)throw Error(s(90));Tn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&Bo(l)}break e;case"textarea":Ze(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Ui(n,!!a.multiple,r,!1)}}}var ci=!1;function Pu(n,r,a){if(ci)return n(r,a);ci=!0;try{var l=n(r);return l}finally{if(ci=!1,(ji!==null||Bi!==null)&&(Nc(),ji&&(r=ji,n=Bi,Bi=ji=null,Fo(r),n)))for(r=0;r<n.length;r++)Fo(n[r])}}function Ts(n,r){var a=n.stateNode;if(a===null)return null;var l=a[Ct]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ln=!1;if(Xn)try{var bs={};Object.defineProperty(bs,"passive",{get:function(){Ln=!0}}),window.addEventListener("test",bs,bs),window.removeEventListener("test",bs,bs)}catch{Ln=!1}var hi=null,br=null,zi=null;function Ho(){if(zi)return zi;var n,r=br,a=r.length,l,f="value"in hi?hi.value:hi.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return zi=f.slice(n,1<l?1-l:void 0)}function fi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function di(){return!0}function Go(){return!1}function Bt(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?di:Go,this.isPropagationStopped=Go,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),r}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=Bt(Qe),As=_({},Qe,{view:0,detail:0}),ku=Bt(As),Ta,ba,mi,Ss=_({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==mi&&(mi&&n.type==="mousemove"?(Ta=n.screenX-mi.screenX,ba=n.screenY-mi.screenY):ba=Ta=0,mi=n),Ta)},movementY:function(n){return"movementY"in n?n.movementY:ba}}),jn=Bt(Ss),Uu=_({},Ss,{dataTransfer:0}),Af=Bt(Uu),ws=_({},As,{relatedTarget:0}),Aa=Bt(ws),Ko=_({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=Bt(Ko),Lu=_({},Qe,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),wa=Bt(Lu),Sf=_({},Qe,{data:0}),Qo=Bt(Sf),Rs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ju={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Bu[n])?!!r[n]:!1}function Cs(){return Yo}var zu=_({},As,{key:function(n){if(n.key){var r=Rs[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ju[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(n){return n.type==="keypress"?fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Ra=Bt(zu),qu=_({},Ss,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$o=Bt(qu),qi=_({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),Fu=Bt(qi),Hu=_({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gu=Bt(Hu),Ku=_({},Ss,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=Bt(Ku),fn=_({},Qe,{newState:0,oldState:0}),Qu=Bt(fn),Yu=[9,13,27,32],pi=Xn&&"CompositionEvent"in window,c=null;Xn&&"documentMode"in document&&(c=document.documentMode);var y=Xn&&"TextEvent"in window&&!c,v=Xn&&(!pi||c&&8<c&&11>=c),S=" ",z=!1;function Q(n,r){switch(n){case"keyup":return Yu.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var je=!1;function Vt(n,r){switch(n){case"compositionend":return ue(r);case"keypress":return r.which!==32?null:(z=!0,S);case"textInput":return n=r.data,n===S&&z?null:n;default:return null}}function Be(n,r){if(je)return n==="compositionend"||!pi&&Q(n,r)?(n=Ho(),zi=br=hi=null,je=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var zt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!zt[n.type]:r==="textarea"}function Fi(n,r,a,l){ji?Bi?Bi.push(l):Bi=[l]:ji=l,r=Vc(r,"onChange"),0<r.length&&(a=new Ea("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Qt=null,gi=null;function Xo(n){av(n,0)}function $u(n){var r=li(n);if(Bo(r))return n}function Cg(n,r){if(n==="change")return r}var Ng=!1;if(Xn){var wf;if(Xn){var Rf="oninput"in document;if(!Rf){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Rf=typeof Ig.oninput=="function"}wf=Rf}else wf=!1;Ng=wf&&(!document.documentMode||9<document.documentMode)}function xg(){Qt&&(Qt.detachEvent("onpropertychange",Og),gi=Qt=null)}function Og(n){if(n.propertyName==="value"&&$u(gi)){var r=[];Fi(r,gi,n,Un(n)),Pu(Xo,r)}}function iA(n,r,a){n==="focusin"?(xg(),Qt=r,gi=a,Qt.attachEvent("onpropertychange",Og)):n==="focusout"&&xg()}function rA(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $u(gi)}function sA(n,r){if(n==="click")return $u(r)}function aA(n,r){if(n==="input"||n==="change")return $u(r)}function oA(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var bn=typeof Object.is=="function"?Object.is:oA;function Wo(n,r){if(bn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ht.call(r,f)||!bn(n[f],r[f]))return!1}return!0}function Dg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Mg(n,r){var a=Dg(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dg(a)}}function Vg(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Vg(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Pg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=ys(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=ys(n.document)}return r}function Cf(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var lA=Xn&&"documentMode"in document&&11>=document.documentMode,Na=null,Nf=null,Jo=null,If=!1;function kg(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;If||Na==null||Na!==ys(l)||(l=Na,"selectionStart"in l&&Cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Wo(Jo,l)||(Jo=l,l=Vc(Nf,"onSelect"),0<l.length&&(r=new Ea("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Na)))}function Ns(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ia={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},xf={},Ug={};Xn&&(Ug=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Is(n){if(xf[n])return xf[n];if(!Ia[n])return n;var r=Ia[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Ug)return xf[n]=r[a];return n}var Lg=Is("animationend"),jg=Is("animationiteration"),Bg=Is("animationstart"),uA=Is("transitionrun"),cA=Is("transitionstart"),hA=Is("transitioncancel"),zg=Is("transitionend"),qg=new Map,Of="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Of.push("scrollEnd");function Wn(n,r){qg.set(n,r),$n(r,[n])}var Fg=new WeakMap;function Bn(n,r){if(typeof n=="object"&&n!==null){var a=Fg.get(n);return a!==void 0?a:(r={value:n,source:r,stack:ya(r)},Fg.set(n,r),r)}return{value:n,source:r,stack:ya(r)}}var zn=[],xa=0,Df=0;function Xu(){for(var n=xa,r=Df=xa=0;r<n;){var a=zn[r];zn[r++]=null;var l=zn[r];zn[r++]=null;var f=zn[r];zn[r++]=null;var d=zn[r];if(zn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&Hg(a,f,d)}}function Wu(n,r,a,l){zn[xa++]=n,zn[xa++]=r,zn[xa++]=a,zn[xa++]=l,Df|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Mf(n,r,a,l){return Wu(n,r,a,l),Ju(n)}function Oa(n,r){return Wu(n,null,null,r),Ju(n)}function Hg(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-tn(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function Ju(n){if(50<Al)throw Al=0,jd=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Da={};function fA(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,r,a,l){return new fA(n,r,a,l)}function Vf(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Hi(n,r){var a=n.alternate;return a===null?(a=An(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function Gg(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function Zu(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")Vf(n)&&(E=1);else if(typeof n=="string")E=mS(n,a,_e.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case C:return n=An(31,a,r,f),n.elementType=C,n.lanes=d,n;case x:return xs(a.children,f,d,r);case B:E=8,f|=24;break;case P:return n=An(12,a,r,f|2),n.elementType=P,n.lanes=d,n;case ie:return n=An(13,a,r,f),n.elementType=ie,n.lanes=d,n;case fe:return n=An(19,a,r,f),n.elementType=fe,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Z:case K:E=10;break e;case re:E=9;break e;case oe:E=11;break e;case M:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=An(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function xs(n,r,a,l){return n=An(7,n,l,r),n.lanes=a,n}function Pf(n,r,a){return n=An(6,n,null,r),n.lanes=a,n}function kf(n,r,a){return r=An(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Ma=[],Va=0,ec=null,tc=0,qn=[],Fn=0,Os=null,Gi=1,Ki="";function Ds(n,r){Ma[Va++]=tc,Ma[Va++]=ec,ec=n,tc=r}function Kg(n,r,a){qn[Fn++]=Gi,qn[Fn++]=Ki,qn[Fn++]=Os,Os=n;var l=Gi;n=Ki;var f=32-tn(l)-1;l&=~(1<<f),a+=1;var d=32-tn(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,Gi=1<<32-tn(r)+f|a<<f|l,Ki=d+n}else Gi=1<<d|a<<f|l,Ki=n}function Uf(n){n.return!==null&&(Ds(n,1),Kg(n,1,0))}function Lf(n){for(;n===ec;)ec=Ma[--Va],Ma[Va]=null,tc=Ma[--Va],Ma[Va]=null;for(;n===Os;)Os=qn[--Fn],qn[Fn]=null,Ki=qn[--Fn],qn[Fn]=null,Gi=qn[--Fn],qn[Fn]=null}var dn=null,gt=null,Ke=!1,Ms=null,yi=!1,jf=Error(s(519));function Vs(n){var r=Error(s(418,""));throw tl(Bn(r,n)),jf}function Qg(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[Mt]=n,r[Ct]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<wl.length;a++)ke(wl[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),_s(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),vs(r,l.value,l.defaultValue,l.children),_a(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||cv(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=Pc),r=!0):r=!1,r||Vs(n)}function Yg(n){for(dn=n.return;dn;)switch(dn.tag){case 5:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:dn=dn.return}}function Zo(n){if(n!==dn)return!1;if(!Ke)return Yg(n),Ke=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||tm(n.type,n.memoizedProps)),a=!a),a&&gt&&Vs(n),Yg(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){gt=Zn(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}gt=null}}else r===27?(r=gt,Lr(n.type)?(n=sm,sm=null,gt=n):gt=r):gt=dn?Zn(n.stateNode.nextSibling):null;return!0}function el(){gt=dn=null,Ke=!1}function $g(){var n=Ms;return n!==null&&(yn===null?yn=n:yn.push.apply(yn,n),Ms=null),n}function tl(n){Ms===null?Ms=[n]:Ms.push(n)}var Bf=te(null),Ps=null,Qi=null;function Ar(n,r,a){le(Bf,r._currentValue),r._currentValue=a}function Yi(n){n._currentValue=Bf.current,he(Bf)}function zf(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function qf(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var N=0;N<r.length;N++)if(b.context===r[N]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),zf(d.return,a,n),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),zf(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function nl(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;bn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Rt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Ol):n=[Ol])}f=f.return}n!==null&&qf(r,n,a,l),r.flags|=262144}function nc(n){for(n=n.firstContext;n!==null;){if(!bn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ks(n){Ps=n,Qi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function nn(n){return Xg(Ps,n)}function ic(n,r){return Ps===null&&ks(n),Xg(n,r)}function Xg(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Qi===null){if(n===null)throw Error(s(308));Qi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else Qi=Qi.next=r;return a}var dA=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},mA=i.unstable_scheduleCallback,pA=i.unstable_NormalPriority,kt={$$typeof:K,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ff(){return{controller:new dA,data:new Map,refCount:0}}function il(n){n.refCount--,n.refCount===0&&mA(pA,function(){n.controller.abort()})}var rl=null,Hf=0,Pa=0,ka=null;function gA(n,r){if(rl===null){var a=rl=[];Hf=0,Pa=Kd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Hf++,r.then(Wg,Wg),r}function Wg(){if(--Hf===0&&rl!==null){ka!==null&&(ka.status="fulfilled");var n=rl;rl=null,Pa=0,ka=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function yA(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Jg=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&gA(n,r),Jg!==null&&Jg(n,r)};var Us=te(null);function Gf(){var n=Us.current;return n!==null?n:at.pooledCache}function rc(n,r){r===null?le(Us,Us.current):le(Us,r.pool)}function Zg(){var n=Gf();return n===null?null:{parent:kt._currentValue,pool:n}}var sl=Error(s(460)),ey=Error(s(474)),sc=Error(s(542)),Kf={then:function(){}};function ty(n){return n=n.status,n==="fulfilled"||n==="rejected"}function ac(){}function ny(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(ac,ac),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ry(n),n;default:if(typeof r.status=="string")r.then(ac,ac);else{if(n=at,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,ry(n),n}throw al=r,sl}}var al=null;function iy(){if(al===null)throw Error(s(459));var n=al;return al=null,n}function ry(n){if(n===sl||n===sc)throw Error(s(483))}var Sr=!1;function Qf(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function wr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Rr(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,($e&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=Ju(n),Hg(n,null,a),r}return Wu(n,l,r,a),Ju(n)}function ol(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Po(n,a)}}function $f(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var Xf=!1;function ll(){if(Xf){var n=ka;if(n!==null)throw n}}function ul(n,r,a,l){Xf=!1;var f=n.updateQueue;Sr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,F=N.next;N.next=null,E===null?d=F:E.next=F,E=N;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=F:b.next=F,W.lastBaseUpdate=N))}if(d!==null){var ee=f.baseState;E=0,W=F=N=null,b=d;do{var H=b.lane&-536870913,G=H!==b.lane;if(G?(ze&H)===H:(l&H)===H){H!==0&&H===Pa&&(Xf=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Ae=n,Ee=b;H=r;var nt=a;switch(Ee.tag){case 1:if(Ae=Ee.payload,typeof Ae=="function"){ee=Ae.call(nt,ee,H);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ee.payload,H=typeof Ae=="function"?Ae.call(nt,ee,H):Ae,H==null)break e;ee=_({},ee,H);break e;case 2:Sr=!0}}H=b.callback,H!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[H]:G.push(H))}else G={lane:H,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(F=W=G,N=ee):W=W.next=G,E|=H;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);W===null&&(N=ee),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Vr|=E,n.lanes=E,n.memoizedState=ee}}function sy(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function ay(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)sy(a[n],r)}var Ua=te(null),oc=te(0);function oy(n,r){n=tr,le(oc,n),le(Ua,r),tr=n|r.baseLanes}function Wf(){le(oc,tr),le(Ua,Ua.current)}function Jf(){tr=oc.current,he(Ua),he(oc)}var Cr=0,Me=null,et=null,It=null,lc=!1,La=!1,Ls=!1,uc=0,cl=0,ja=null,_A=0;function At(){throw Error(s(321))}function Zf(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!bn(n[a],r[a]))return!1;return!0}function ed(n,r,a,l,f,d){return Cr=d,Me=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?Hy:Gy,Ls=!1,d=a(l,f),Ls=!1,La&&(d=uy(r,a,l,f)),ly(n),d}function ly(n){X.H=pc;var r=et!==null&&et.next!==null;if(Cr=0,It=et=Me=null,lc=!1,cl=0,ja=null,r)throw Error(s(300));n===null||qt||(n=n.dependencies,n!==null&&nc(n)&&(qt=!0))}function uy(n,r,a,l){Me=n;var f=0;do{if(La&&(ja=null),cl=0,La=!1,25<=f)throw Error(s(301));if(f+=1,It=et=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=wA,d=r(a,l)}while(La);return d}function vA(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?hl(r):r,n=n.useState()[0],(et!==null?et.memoizedState:null)!==n&&(Me.flags|=1024),r}function td(){var n=uc!==0;return uc=0,n}function nd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function id(n){if(lc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}lc=!1}Cr=0,It=et=Me=null,La=!1,cl=uc=0,ja=null}function pn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Me.memoizedState=It=n:It=It.next=n,It}function xt(){if(et===null){var n=Me.alternate;n=n!==null?n.memoizedState:null}else n=et.next;var r=It===null?Me.memoizedState:It.next;if(r!==null)It=r,et=n;else{if(n===null)throw Me.alternate===null?Error(s(467)):Error(s(310));et=n,n={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},It===null?Me.memoizedState=It=n:It=It.next=n}return It}function rd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(n){var r=cl;return cl+=1,ja===null&&(ja=[]),n=ny(ja,n,r),r=Me,(It===null?r.memoizedState:It.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?Hy:Gy),n}function cc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return hl(n);if(n.$$typeof===K)return nn(n)}throw Error(s(438,String(n)))}function sd(n){var r=null,a=Me.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Me.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=rd(),Me.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=D;return r.index++,a}function $i(n,r){return typeof r=="function"?r(n):r}function hc(n){var r=xt();return ad(r,et,n)}function ad(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=E=null,N=null,F=r,W=!1;do{var ee=F.lane&-536870913;if(ee!==F.lane?(ze&ee)===ee:(Cr&ee)===ee){var H=F.revertLane;if(H===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),ee===Pa&&(W=!0);else if((Cr&H)===H){F=F.next,H===Pa&&(W=!0);continue}else ee={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=ee,E=d):N=N.next=ee,Me.lanes|=H,Vr|=H;ee=F.action,Ls&&a(d,ee),d=F.hasEagerState?F.eagerState:a(d,ee)}else H={lane:ee,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(b=N=H,E=d):N=N.next=H,Me.lanes|=ee,Vr|=ee;F=F.next}while(F!==null&&F!==r);if(N===null?E=d:N.next=b,!bn(d,n.memoizedState)&&(qt=!0,W&&(a=ka,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function od(n){var r=xt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);bn(d,r.memoizedState)||(qt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function cy(n,r,a){var l=Me,f=xt(),d=Ke;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!bn((et||f).memoizedState,a);E&&(f.memoizedState=a,qt=!0),f=f.queue;var b=dy.bind(null,l,f,n);if(fl(2048,8,b,[n]),f.getSnapshot!==r||E||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ba(9,fc(),fy.bind(null,l,f,a,r),null),at===null)throw Error(s(349));d||(Cr&124)!==0||hy(l,r,a)}return a}function hy(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Me.updateQueue,r===null?(r=rd(),Me.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function fy(n,r,a,l){r.value=a,r.getSnapshot=l,my(r)&&py(n)}function dy(n,r,a){return a(function(){my(r)&&py(n)})}function my(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!bn(n,a)}catch{return!0}}function py(n){var r=Oa(n,2);r!==null&&Nn(r,n,2)}function ld(n){var r=pn();if(typeof n=="function"){var a=n;if(n=a(),Ls){En(!0);try{a()}finally{En(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:n},r}function gy(n,r,a,l){return n.baseState=a,ad(n,et,typeof l=="function"?l:$i)}function EA(n,r,a,l,f){if(mc(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,yy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function yy(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=X.T,E={};X.T=E;try{var b=a(f,l),N=X.S;N!==null&&N(E,b),_y(n,r,b)}catch(F){ud(n,r,F)}finally{X.T=d}}else try{d=a(f,l),_y(n,r,d)}catch(F){ud(n,r,F)}}function _y(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vy(n,r,l)},function(l){return ud(n,r,l)}):vy(n,r,a)}function vy(n,r,a){r.status="fulfilled",r.value=a,Ey(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,yy(n,a)))}function ud(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Ey(r),r=r.next;while(r!==l)}n.action=null}function Ey(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function Ty(n,r){return r}function by(n,r){if(Ke){var a=at.formState;if(a!==null){e:{var l=Me;if(Ke){if(gt){t:{for(var f=gt,d=yi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Zn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){gt=Zn(f.nextSibling),l=f.data==="F!";break e}}Vs(l)}l=!1}l&&(r=a[0])}}return a=pn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ty,lastRenderedState:r},a.queue=l,a=zy.bind(null,Me,l),l.dispatch=a,l=ld(!1),d=md.bind(null,Me,!1,l.queue),l=pn(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=EA.bind(null,Me,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function Ay(n){var r=xt();return Sy(r,et,n)}function Sy(n,r,a){if(r=ad(n,r,Ty)[0],n=hc($i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=hl(r)}catch(E){throw E===sl?sc:E}else l=r;r=xt();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Me.flags|=2048,Ba(9,fc(),TA.bind(null,f,a),null)),[l,d,n]}function TA(n,r){n.action=r}function wy(n){var r=xt(),a=et;if(a!==null)return Sy(r,a,n);xt(),r=r.memoizedState,a=xt();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function Ba(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Me.updateQueue,r===null&&(r=rd(),Me.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function fc(){return{destroy:void 0,resource:void 0}}function Ry(){return xt().memoizedState}function dc(n,r,a,l){var f=pn();l=l===void 0?null:l,Me.flags|=n,f.memoizedState=Ba(1|r,fc(),a,l)}function fl(n,r,a,l){var f=xt();l=l===void 0?null:l;var d=f.memoizedState.inst;et!==null&&l!==null&&Zf(l,et.memoizedState.deps)?f.memoizedState=Ba(r,d,a,l):(Me.flags|=n,f.memoizedState=Ba(1|r,d,a,l))}function Cy(n,r){dc(8390656,8,n,r)}function Ny(n,r){fl(2048,8,n,r)}function Iy(n,r){return fl(4,2,n,r)}function xy(n,r){return fl(4,4,n,r)}function Oy(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function Dy(n,r,a){a=a!=null?a.concat([n]):null,fl(4,4,Oy.bind(null,r,n),a)}function cd(){}function My(n,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Zf(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function Vy(n,r){var a=xt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Zf(r,l[1]))return l[0];if(l=n(),Ls){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l}function hd(n,r,a){return a===void 0||(Cr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=U_(),Me.lanes|=n,Vr|=n,a)}function Py(n,r,a,l){return bn(a,r)?a:Ua.current!==null?(n=hd(n,a,l),bn(n,r)||(qt=!0),n):(Cr&42)===0?(qt=!0,n.memoizedState=a):(n=U_(),Me.lanes|=n,Vr|=n,r)}function ky(n,r,a,l,f){var d=ce.p;ce.p=d!==0&&8>d?d:8;var E=X.T,b={};X.T=b,md(n,!1,r,a);try{var N=f(),F=X.S;if(F!==null&&F(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=yA(N,l);dl(n,r,W,Cn(n))}else dl(n,r,l,Cn(n))}catch(ee){dl(n,r,{then:function(){},status:"rejected",reason:ee},Cn())}finally{ce.p=d,X.T=E}}function bA(){}function fd(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Uy(n).queue;ky(n,f,r,ge,a===null?bA:function(){return Ly(n),a(l)})}function Uy(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Ly(n){var r=Uy(n).next.queue;dl(n,r,{},Cn())}function dd(){return nn(Ol)}function jy(){return xt().memoizedState}function By(){return xt().memoizedState}function AA(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=Cn();n=wr(a);var l=Rr(r,n,a);l!==null&&(Nn(l,r,a),ol(l,r,a)),r={cache:Ff()},n.payload=r;return}r=r.return}}function SA(n,r,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},mc(n)?qy(r,a):(a=Mf(n,r,a,l),a!==null&&(Nn(a,n,l),Fy(a,r,l)))}function zy(n,r,a){var l=Cn();dl(n,r,a,l)}function dl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(mc(n))qy(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,bn(b,E))return Wu(n,r,f,0),at===null&&Xu(),!1}catch{}finally{}if(a=Mf(n,r,f,l),a!==null)return Nn(a,n,l),Fy(a,r,l),!0}return!1}function md(n,r,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},mc(n)){if(r)throw Error(s(479))}else r=Mf(n,a,l,2),r!==null&&Nn(r,n,2)}function mc(n){var r=n.alternate;return n===Me||r!==null&&r===Me}function qy(n,r){La=lc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function Fy(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,Po(n,a)}}var pc={readContext:nn,use:cc,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useLayoutEffect:At,useInsertionEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useSyncExternalStore:At,useId:At,useHostTransitionStatus:At,useFormState:At,useActionState:At,useOptimistic:At,useMemoCache:At,useCacheRefresh:At},Hy={readContext:nn,use:cc,useCallback:function(n,r){return pn().memoizedState=[n,r===void 0?null:r],n},useContext:nn,useEffect:Cy,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,dc(4194308,4,Oy.bind(null,r,n),a)},useLayoutEffect:function(n,r){return dc(4194308,4,n,r)},useInsertionEffect:function(n,r){dc(4,2,n,r)},useMemo:function(n,r){var a=pn();r=r===void 0?null:r;var l=n();if(Ls){En(!0);try{n()}finally{En(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=pn();if(a!==void 0){var f=a(r);if(Ls){En(!0);try{a(r)}finally{En(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=SA.bind(null,Me,n),[l.memoizedState,n]},useRef:function(n){var r=pn();return n={current:n},r.memoizedState=n},useState:function(n){n=ld(n);var r=n.queue,a=zy.bind(null,Me,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:cd,useDeferredValue:function(n,r){var a=pn();return hd(a,n,r)},useTransition:function(){var n=ld(!1);return n=ky.bind(null,Me,n.queue,!0,!1),pn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Me,f=pn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),at===null)throw Error(s(349));(ze&124)!==0||hy(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Cy(dy.bind(null,l,d,n),[n]),l.flags|=2048,Ba(9,fc(),fy.bind(null,l,d,a,r),null),a},useId:function(){var n=pn(),r=at.identifierPrefix;if(Ke){var a=Ki,l=Gi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=uc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=_A++,r="«"+r+"r"+a.toString(32)+"»";return n.memoizedState=r},useHostTransitionStatus:dd,useFormState:by,useActionState:by,useOptimistic:function(n){var r=pn();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=md.bind(null,Me,!0,a),a.dispatch=r,[n,r]},useMemoCache:sd,useCacheRefresh:function(){return pn().memoizedState=AA.bind(null,Me)}},Gy={readContext:nn,use:cc,useCallback:My,useContext:nn,useEffect:Ny,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:xy,useMemo:Vy,useReducer:hc,useRef:Ry,useState:function(){return hc($i)},useDebugValue:cd,useDeferredValue:function(n,r){var a=xt();return Py(a,et.memoizedState,n,r)},useTransition:function(){var n=hc($i)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:hl(n),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:dd,useFormState:Ay,useActionState:Ay,useOptimistic:function(n,r){var a=xt();return gy(a,et,n,r)},useMemoCache:sd,useCacheRefresh:By},wA={readContext:nn,use:cc,useCallback:My,useContext:nn,useEffect:Ny,useImperativeHandle:Dy,useInsertionEffect:Iy,useLayoutEffect:xy,useMemo:Vy,useReducer:od,useRef:Ry,useState:function(){return od($i)},useDebugValue:cd,useDeferredValue:function(n,r){var a=xt();return et===null?hd(a,n,r):Py(a,et.memoizedState,n,r)},useTransition:function(){var n=od($i)[0],r=xt().memoizedState;return[typeof n=="boolean"?n:hl(n),r]},useSyncExternalStore:cy,useId:jy,useHostTransitionStatus:dd,useFormState:wy,useActionState:wy,useOptimistic:function(n,r){var a=xt();return et!==null?gy(a,et,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:sd,useCacheRefresh:By},za=null,ml=0;function gc(n){var r=ml;return ml+=1,za===null&&(za=[]),ny(za,n,r)}function pl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function yc(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function Ky(n){var r=n._init;return r(n._payload)}function Qy(n){function r(j,U){if(n){var q=j.deletions;q===null?(j.deletions=[U],j.flags|=16):q.push(U)}}function a(j,U){if(!n)return null;for(;U!==null;)r(j,U),U=U.sibling;return null}function l(j){for(var U=new Map;j!==null;)j.key!==null?U.set(j.key,j):U.set(j.index,j),j=j.sibling;return U}function f(j,U){return j=Hi(j,U),j.index=0,j.sibling=null,j}function d(j,U,q){return j.index=q,n?(q=j.alternate,q!==null?(q=q.index,q<U?(j.flags|=67108866,U):q):(j.flags|=67108866,U)):(j.flags|=1048576,U)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function b(j,U,q,J){return U===null||U.tag!==6?(U=Pf(q,j.mode,J),U.return=j,U):(U=f(U,q),U.return=j,U)}function N(j,U,q,J){var de=q.type;return de===x?W(j,U,q.props.children,J,q.key):U!==null&&(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ky(de)===U.type)?(U=f(U,q.props),pl(U,q),U.return=j,U):(U=Zu(q.type,q.key,q.props,null,j.mode,J),pl(U,q),U.return=j,U)}function F(j,U,q,J){return U===null||U.tag!==4||U.stateNode.containerInfo!==q.containerInfo||U.stateNode.implementation!==q.implementation?(U=kf(q,j.mode,J),U.return=j,U):(U=f(U,q.children||[]),U.return=j,U)}function W(j,U,q,J,de){return U===null||U.tag!==7?(U=xs(q,j.mode,J,de),U.return=j,U):(U=f(U,q),U.return=j,U)}function ee(j,U,q){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=Pf(""+U,j.mode,q),U.return=j,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return q=Zu(U.type,U.key,U.props,null,j.mode,q),pl(q,U),q.return=j,q;case O:return U=kf(U,j.mode,q),U.return=j,U;case R:var J=U._init;return U=J(U._payload),ee(j,U,q)}if(it(U)||L(U))return U=xs(U,j.mode,q,null),U.return=j,U;if(typeof U.then=="function")return ee(j,gc(U),q);if(U.$$typeof===K)return ee(j,ic(j,U),q);yc(j,U)}return null}function H(j,U,q,J){var de=U!==null?U.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return de!==null?null:b(j,U,""+q,J);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case w:return q.key===de?N(j,U,q,J):null;case O:return q.key===de?F(j,U,q,J):null;case R:return de=q._init,q=de(q._payload),H(j,U,q,J)}if(it(q)||L(q))return de!==null?null:W(j,U,q,J,null);if(typeof q.then=="function")return H(j,U,gc(q),J);if(q.$$typeof===K)return H(j,U,ic(j,q),J);yc(j,q)}return null}function G(j,U,q,J,de){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return j=j.get(q)||null,b(U,j,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return j=j.get(J.key===null?q:J.key)||null,N(U,j,J,de);case O:return j=j.get(J.key===null?q:J.key)||null,F(U,j,J,de);case R:var Ve=J._init;return J=Ve(J._payload),G(j,U,q,J,de)}if(it(J)||L(J))return j=j.get(q)||null,W(U,j,J,de,null);if(typeof J.then=="function")return G(j,U,q,gc(J),de);if(J.$$typeof===K)return G(j,U,q,ic(U,J),de);yc(U,J)}return null}function Ae(j,U,q,J){for(var de=null,Ve=null,ye=U,Te=U=0,Ht=null;ye!==null&&Te<q.length;Te++){ye.index>Te?(Ht=ye,ye=null):Ht=ye.sibling;var He=H(j,ye,q[Te],J);if(He===null){ye===null&&(ye=Ht);break}n&&ye&&He.alternate===null&&r(j,ye),U=d(He,U,Te),Ve===null?de=He:Ve.sibling=He,Ve=He,ye=Ht}if(Te===q.length)return a(j,ye),Ke&&Ds(j,Te),de;if(ye===null){for(;Te<q.length;Te++)ye=ee(j,q[Te],J),ye!==null&&(U=d(ye,U,Te),Ve===null?de=ye:Ve.sibling=ye,Ve=ye);return Ke&&Ds(j,Te),de}for(ye=l(ye);Te<q.length;Te++)Ht=G(ye,j,Te,q[Te],J),Ht!==null&&(n&&Ht.alternate!==null&&ye.delete(Ht.key===null?Te:Ht.key),U=d(Ht,U,Te),Ve===null?de=Ht:Ve.sibling=Ht,Ve=Ht);return n&&ye.forEach(function(Fr){return r(j,Fr)}),Ke&&Ds(j,Te),de}function Ee(j,U,q,J){if(q==null)throw Error(s(151));for(var de=null,Ve=null,ye=U,Te=U=0,Ht=null,He=q.next();ye!==null&&!He.done;Te++,He=q.next()){ye.index>Te?(Ht=ye,ye=null):Ht=ye.sibling;var Fr=H(j,ye,He.value,J);if(Fr===null){ye===null&&(ye=Ht);break}n&&ye&&Fr.alternate===null&&r(j,ye),U=d(Fr,U,Te),Ve===null?de=Fr:Ve.sibling=Fr,Ve=Fr,ye=Ht}if(He.done)return a(j,ye),Ke&&Ds(j,Te),de;if(ye===null){for(;!He.done;Te++,He=q.next())He=ee(j,He.value,J),He!==null&&(U=d(He,U,Te),Ve===null?de=He:Ve.sibling=He,Ve=He);return Ke&&Ds(j,Te),de}for(ye=l(ye);!He.done;Te++,He=q.next())He=G(ye,j,Te,He.value,J),He!==null&&(n&&He.alternate!==null&&ye.delete(He.key===null?Te:He.key),U=d(He,U,Te),Ve===null?de=He:Ve.sibling=He,Ve=He);return n&&ye.forEach(function(RS){return r(j,RS)}),Ke&&Ds(j,Te),de}function nt(j,U,q,J){if(typeof q=="object"&&q!==null&&q.type===x&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case w:e:{for(var de=q.key;U!==null;){if(U.key===de){if(de=q.type,de===x){if(U.tag===7){a(j,U.sibling),J=f(U,q.props.children),J.return=j,j=J;break e}}else if(U.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===R&&Ky(de)===U.type){a(j,U.sibling),J=f(U,q.props),pl(J,q),J.return=j,j=J;break e}a(j,U);break}else r(j,U);U=U.sibling}q.type===x?(J=xs(q.props.children,j.mode,J,q.key),J.return=j,j=J):(J=Zu(q.type,q.key,q.props,null,j.mode,J),pl(J,q),J.return=j,j=J)}return E(j);case O:e:{for(de=q.key;U!==null;){if(U.key===de)if(U.tag===4&&U.stateNode.containerInfo===q.containerInfo&&U.stateNode.implementation===q.implementation){a(j,U.sibling),J=f(U,q.children||[]),J.return=j,j=J;break e}else{a(j,U);break}else r(j,U);U=U.sibling}J=kf(q,j.mode,J),J.return=j,j=J}return E(j);case R:return de=q._init,q=de(q._payload),nt(j,U,q,J)}if(it(q))return Ae(j,U,q,J);if(L(q)){if(de=L(q),typeof de!="function")throw Error(s(150));return q=de.call(q),Ee(j,U,q,J)}if(typeof q.then=="function")return nt(j,U,gc(q),J);if(q.$$typeof===K)return nt(j,U,ic(j,q),J);yc(j,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,U!==null&&U.tag===6?(a(j,U.sibling),J=f(U,q),J.return=j,j=J):(a(j,U),J=Pf(q,j.mode,J),J.return=j,j=J),E(j)):a(j,U)}return function(j,U,q,J){try{ml=0;var de=nt(j,U,q,J);return za=null,de}catch(ye){if(ye===sl||ye===sc)throw ye;var Ve=An(29,ye,null,j.mode);return Ve.lanes=J,Ve.return=j,Ve}finally{}}}var qa=Qy(!0),Yy=Qy(!1),Hn=te(null),_i=null;function Nr(n){var r=n.alternate;le(Ut,Ut.current&1),le(Hn,n),_i===null&&(r===null||Ua.current!==null||r.memoizedState!==null)&&(_i=n)}function $y(n){if(n.tag===22){if(le(Ut,Ut.current),le(Hn,n),_i===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(_i=n)}}else Ir()}function Ir(){le(Ut,Ut.current),le(Hn,Hn.current)}function Xi(n){he(Hn),_i===n&&(_i=null),he(Ut)}var Ut=te(0);function _c(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||rm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function pd(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var gd={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=Cn(),f=wr(l);f.payload=r,a!=null&&(f.callback=a),r=Rr(n,f,l),r!==null&&(Nn(r,n,l),ol(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=Cn(),f=wr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Rr(n,f,l),r!==null&&(Nn(r,n,l),ol(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=Cn(),l=wr(a);l.tag=2,r!=null&&(l.callback=r),r=Rr(n,l,a),r!==null&&(Nn(r,n,a),ol(r,n,a))}};function Xy(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Wo(a,l)||!Wo(f,d):!0}function Wy(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&gd.enqueueReplaceState(r,r.state,null)}function js(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var vc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function Jy(n){vc(n)}function Zy(n){console.error(n)}function e_(n){vc(n)}function Ec(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function t_(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yd(n,r,a){return a=wr(a),a.tag=3,a.payload={element:null},a.callback=function(){Ec(n,r)},a}function n_(n){return n=wr(n),n.tag=3,n}function i_(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){t_(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){t_(r,a,l),typeof f!="function"&&(Pr===null?Pr=new Set([this]):Pr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function RA(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&nl(r,a,f,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return _i===null?zd():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Fd(n,l,f)),!1;case 22:return a.flags|=65536,l===Kf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Fd(n,l,f)),!1}throw Error(s(435,a.tag))}return Fd(n,l,f),zd(),!1}if(Ke)return r=Hn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==jf&&(n=Error(s(422),{cause:l}),tl(Bn(n,a)))):(l!==jf&&(r=Error(s(423),{cause:l}),tl(Bn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=Bn(l,a),f=yd(n.stateNode,l,f),$f(n,f),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:l});if(d=Bn(d,a),bl===null?bl=[d]:bl.push(d),yt!==4&&(yt=2),r===null)return!0;l=Bn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=yd(a.stateNode,l,n),$f(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Pr===null||!Pr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=n_(f),i_(f,n,a,l),$f(a,f),!1}a=a.return}while(a!==null);return!1}var r_=Error(s(461)),qt=!1;function Yt(n,r,a,l){r.child=n===null?Yy(r,null,a,l):qa(r,n.child,a,l)}function s_(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return ks(r),l=ed(n,r,a,E,d,f),b=td(),n!==null&&!qt?(nd(n,r,f),Wi(n,r,f)):(Ke&&b&&Uf(r),r.flags|=1,Yt(n,r,l,f),r.child)}function a_(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Vf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,o_(n,r,d,l,f)):(n=Zu(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!wd(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Wo,a(E,l)&&n.ref===r.ref)return Wi(n,r,f)}return r.flags|=1,n=Hi(d,l),n.ref=r.ref,n.return=r,r.child=n}function o_(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Wo(d,l)&&n.ref===r.ref)if(qt=!1,r.pendingProps=l=d,wd(n,f))(n.flags&131072)!==0&&(qt=!0);else return r.lanes=n.lanes,Wi(n,r,f)}return _d(n,r,a,l,f)}function l_(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return u_(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&rc(r,d!==null?d.cachePool:null),d!==null?oy(r,d):Wf(),$y(r);else return r.lanes=r.childLanes=536870912,u_(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(rc(r,d.cachePool),oy(r,d),Ir(),r.memoizedState=null):(n!==null&&rc(r,null),Wf(),Ir());return Yt(n,r,f,a),r.child}function u_(n,r,a,l){var f=Gf();return f=f===null?null:{parent:kt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&rc(r,null),Wf(),$y(r),n!==null&&nl(n,r,l,!0),null}function Tc(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function _d(n,r,a,l,f){return ks(r),a=ed(n,r,a,l,void 0,f),l=td(),n!==null&&!qt?(nd(n,r,f),Wi(n,r,f)):(Ke&&l&&Uf(r),r.flags|=1,Yt(n,r,a,f),r.child)}function c_(n,r,a,l,f,d){return ks(r),r.updateQueue=null,a=uy(r,l,a,f),ly(n),l=td(),n!==null&&!qt?(nd(n,r,d),Wi(n,r,d)):(Ke&&l&&Uf(r),r.flags|=1,Yt(n,r,a,d),r.child)}function h_(n,r,a,l,f){if(ks(r),r.stateNode===null){var d=Da,E=a.contextType;typeof E=="object"&&E!==null&&(d=nn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=gd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},Qf(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?nn(E):Da,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(pd(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&gd.enqueueReplaceState(d,d.state,null),ul(r,l,d,f),ll(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,N=js(a,b);d.props=N;var F=d.context,W=a.contextType;E=Da,typeof W=="object"&&W!==null&&(E=nn(W));var ee=a.getDerivedStateFromProps;W=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||F!==E)&&Wy(r,d,l,E),Sr=!1;var H=r.memoizedState;d.state=H,ul(r,l,d,f),ll(),F=r.memoizedState,b||H!==F||Sr?(typeof ee=="function"&&(pd(r,a,ee,l),F=r.memoizedState),(N=Sr||Xy(r,a,N,l,H,F,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=F),d.props=l,d.state=F,d.context=E,l=N):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,Yf(n,r),E=r.memoizedProps,W=js(a,E),d.props=W,ee=r.pendingProps,H=d.context,F=a.contextType,N=Da,typeof F=="object"&&F!==null&&(N=nn(F)),b=a.getDerivedStateFromProps,(F=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||H!==N)&&Wy(r,d,l,N),Sr=!1,H=r.memoizedState,d.state=H,ul(r,l,d,f),ll();var G=r.memoizedState;E!==ee||H!==G||Sr||n!==null&&n.dependencies!==null&&nc(n.dependencies)?(typeof b=="function"&&(pd(r,a,b,l),G=r.memoizedState),(W=Sr||Xy(r,a,W,l,H,G,N)||n!==null&&n.dependencies!==null&&nc(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,N)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=N,l=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&H===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,Tc(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=qa(r,n.child,null,f),r.child=qa(r,null,a,f)):Yt(n,r,a,f),r.memoizedState=d.state,n=r.child):n=Wi(n,r,f),n}function f_(n,r,a,l){return el(),r.flags|=256,Yt(n,r,a,l),r.child}var vd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ed(n){return{baseLanes:n,cachePool:Zg()}}function Td(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Gn),n}function d_(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Ut.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Ke){if(f?Nr(r):Ir(),Ke){var b=gt,N;if(N=b){e:{for(N=b,b=yi;N.nodeType!==8;){if(!b){b=null;break e}if(N=Zn(N.nextSibling),N===null){b=null;break e}}b=N}b!==null?(r.memoizedState={dehydrated:b,treeContext:Os!==null?{id:Gi,overflow:Ki}:null,retryLane:536870912,hydrationErrors:null},N=An(18,null,null,0),N.stateNode=b,N.return=r,r.child=N,dn=r,gt=null,N=!0):N=!1}N||Vs(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return rm(b)?r.lanes=32:r.lanes=536870912,null;Xi(r)}return b=l.children,l=l.fallback,f?(Ir(),f=r.mode,b=bc({mode:"hidden",children:b},f),l=xs(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=Ed(a),f.childLanes=Td(n,E,a),r.memoizedState=vd,l):(Nr(r),bd(r,b))}if(N=n.memoizedState,N!==null&&(b=N.dehydrated,b!==null)){if(d)r.flags&256?(Nr(r),r.flags&=-257,r=Ad(n,r,a)):r.memoizedState!==null?(Ir(),r.child=n.child,r.flags|=128,r=null):(Ir(),f=l.fallback,b=r.mode,l=bc({mode:"visible",children:l.children},b),f=xs(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,qa(r,n.child,null,a),l=r.child,l.memoizedState=Ed(a),l.childLanes=Td(n,E,a),r.memoizedState=vd,r=f);else if(Nr(r),rm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var F=E.dgst;E=F,l=Error(s(419)),l.stack="",l.digest=E,tl({value:l,source:null,stack:null}),r=Ad(n,r,a)}else if(qt||nl(n,r,a,!1),E=(a&n.childLanes)!==0,qt||E){if(E=at,E!==null&&(l=a&-a,l=(l&42)!==0?1:gr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==N.retryLane))throw N.retryLane=l,Oa(n,l),Nn(E,n,l),r_;b.data==="$?"||zd(),r=Ad(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=N.treeContext,gt=Zn(b.nextSibling),dn=r,Ke=!0,Ms=null,yi=!1,n!==null&&(qn[Fn++]=Gi,qn[Fn++]=Ki,qn[Fn++]=Os,Gi=n.id,Ki=n.overflow,Os=r),r=bd(r,l.children),r.flags|=4096);return r}return f?(Ir(),f=l.fallback,b=r.mode,N=n.child,F=N.sibling,l=Hi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,F!==null?f=Hi(F,f):(f=xs(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=Ed(a):(N=b.cachePool,N!==null?(F=kt._currentValue,N=N.parent!==F?{parent:F,pool:F}:N):N=Zg(),b={baseLanes:b.baseLanes|a,cachePool:N}),f.memoizedState=b,f.childLanes=Td(n,E,a),r.memoizedState=vd,l):(Nr(r),a=n.child,n=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function bd(n,r){return r=bc({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function bc(n,r){return n=An(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function Ad(n,r,a){return qa(r,n.child,null,a),n=bd(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function m_(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),zf(n.return,r,a)}function Sd(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function p_(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Yt(n,r,l.children,a),l=Ut.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&m_(n,a,r);else if(n.tag===19)m_(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(le(Ut,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&_c(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Sd(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&_c(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}Sd(r,!0,a,null,d);break;case"together":Sd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Wi(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Vr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(nl(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=Hi(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=Hi(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function wd(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&nc(n)))}function CA(n,r,a){switch(r.tag){case 3:se(r,r.stateNode.containerInfo),Ar(r,kt,n.memoizedState.cache),el();break;case 27:case 5:Je(r);break;case 4:se(r,r.stateNode.containerInfo);break;case 10:Ar(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?d_(n,r,a):(Nr(r),n=Wi(n,r,a),n!==null?n.sibling:null);Nr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(nl(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return p_(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(Ut,Ut.current),l)break;return null;case 22:case 23:return r.lanes=0,l_(n,r,a);case 24:Ar(r,kt,n.memoizedState.cache)}return Wi(n,r,a)}function g_(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)qt=!0;else{if(!wd(n,a)&&(r.flags&128)===0)return qt=!1,CA(n,r,a);qt=(n.flags&131072)!==0}else qt=!1,Ke&&(r.flags&1048576)!==0&&Kg(r,tc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Vf(l)?(n=js(l,n),r.tag=1,r=h_(null,r,l,n,a)):(r.tag=0,r=_d(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===oe){r.tag=11,r=s_(null,r,l,n,a);break e}else if(f===M){r.tag=14,r=a_(null,r,l,n,a);break e}}throw r=Ie(l)||l,Error(s(306,r,""))}}return r;case 0:return _d(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=js(l,r.pendingProps),h_(n,r,l,f,a);case 3:e:{if(se(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,Yf(n,r),ul(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Ar(r,kt,l),l!==d.cache&&qf(r,[kt],a,!0),ll(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=f_(n,r,l,a);break e}else if(l!==f){f=Bn(Error(s(424)),r),tl(f),r=f_(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(gt=Zn(n.firstChild),dn=r,Ke=!0,Ms=null,yi=!0,a=Yy(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(el(),l===f){r=Wi(n,r,a);break e}Yt(n,r,l,a)}r=r.child}return r;case 26:return Tc(n,r),n===null?(a=Ev(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ke||(a=r.type,n=r.pendingProps,l=kc(be.current).createElement(a),l[Mt]=r,l[Ct]=n,Xt(l,a,n),bt(l),r.stateNode=l):r.memoizedState=Ev(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Je(r),n===null&&Ke&&(l=r.stateNode=yv(r.type,r.pendingProps,be.current),dn=r,yi=!0,f=gt,Lr(r.type)?(sm=f,gt=Zn(l.firstChild)):gt=f),Yt(n,r,r.pendingProps.children,a),Tc(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Ke&&((f=l=gt)&&(l=tS(l,r.type,r.pendingProps,yi),l!==null?(r.stateNode=l,dn=r,gt=Zn(l.firstChild),yi=!1,f=!0):f=!1),f||Vs(r)),Je(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,tm(f,d)?l=null:E!==null&&tm(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=ed(n,r,vA,null,null,a),Ol._currentValue=f),Tc(n,r),Yt(n,r,l,a),r.child;case 6:return n===null&&Ke&&((n=a=gt)&&(a=nS(a,r.pendingProps,yi),a!==null?(r.stateNode=a,dn=r,gt=null,n=!0):n=!1),n||Vs(r)),null;case 13:return d_(n,r,a);case 4:return se(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=qa(r,null,l,a):Yt(n,r,l,a),r.child;case 11:return s_(n,r,r.type,r.pendingProps,a);case 7:return Yt(n,r,r.pendingProps,a),r.child;case 8:return Yt(n,r,r.pendingProps.children,a),r.child;case 12:return Yt(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ar(r,r.type,l.value),Yt(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,ks(r),f=nn(f),l=l(f),r.flags|=1,Yt(n,r,l,a),r.child;case 14:return a_(n,r,r.type,r.pendingProps,a);case 15:return o_(n,r,r.type,r.pendingProps,a);case 19:return p_(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=bc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Hi(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return l_(n,r,a);case 24:return ks(r),l=nn(kt),n===null?(f=Gf(),f===null&&(f=at,d=Ff(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},Qf(r),Ar(r,kt,f)):((n.lanes&a)!==0&&(Yf(n,r),ul(r,null,null,a),ll()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ar(r,kt,l)):(l=d.cache,Ar(r,kt,l),l!==f.cache&&qf(r,[kt],a,!0))),Yt(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Ji(n){n.flags|=4}function y_(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!wv(r)){if(r=Hn.current,r!==null&&((ze&4194048)===ze?_i!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==_i))throw al=Kf,ey;n.flags|=8192}}function Ac(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Mo():536870912,n.lanes|=r,Ka|=r)}function gl(n,r){if(!Ke)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ft(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function NA(n,r,a){var l=r.pendingProps;switch(Lf(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(r),null;case 1:return ft(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Yi(kt),Se(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Zo(r)?Ji(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,$g())),ft(r),null;case 26:return a=r.memoizedState,n===null?(Ji(r),a!==null?(ft(r),y_(r,a)):(ft(r),r.flags&=-16777217)):a?a!==n.memoizedState?(Ji(r),ft(r),y_(r,a)):(ft(r),r.flags&=-16777217):(n.memoizedProps!==l&&Ji(r),ft(r),r.flags&=-16777217),null;case 27:st(r),a=be.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ft(r),null}n=_e.current,Zo(r)?Qg(r):(n=yv(f,l,a),r.stateNode=n,Ji(r))}return ft(r),null;case 5:if(st(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&Ji(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ft(r),null}if(n=_e.current,Zo(r))Qg(r);else{switch(f=kc(be.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[Mt]=r,n[Ct]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Xt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Ji(r)}}return ft(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&Ji(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=be.current,Zo(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=dn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[Mt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||cv(n.nodeValue,a)),n||Vs(r)}else n=kc(n).createTextNode(l),n[Mt]=r,r.stateNode=n}return ft(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Zo(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Mt]=r}else el(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ft(r),f=!1}else f=$g(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Xi(r),r):(Xi(r),null)}if(Xi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),Ac(r,r.updateQueue),ft(r),null;case 4:return Se(),n===null&&Xd(r.stateNode.containerInfo),ft(r),null;case 10:return Yi(r.type),ft(r),null;case 19:if(he(Ut),f=r.memoizedState,f===null)return ft(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)gl(f,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=_c(n),d!==null){for(r.flags|=128,gl(f,!1),n=d.updateQueue,r.updateQueue=n,Ac(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)Gg(a,n),a=a.sibling;return le(Ut,Ut.current&1|2),r.child}n=n.sibling}f.tail!==null&&Vn()>Rc&&(r.flags|=128,l=!0,gl(f,!1),r.lanes=4194304)}else{if(!l)if(n=_c(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,Ac(r,n),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Ke)return ft(r),null}else 2*Vn()-f.renderingStartTime>Rc&&a!==536870912&&(r.flags|=128,l=!0,gl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Vn(),r.sibling=null,n=Ut.current,le(Ut,l?n&1|2:n&1),r):(ft(r),null);case 22:case 23:return Xi(r),Jf(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ft(r),r.subtreeFlags&6&&(r.flags|=8192)):ft(r),a=r.updateQueue,a!==null&&Ac(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&he(Us),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Yi(kt),ft(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function IA(n,r){switch(Lf(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return Yi(kt),Se(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return st(r),null;case 13:if(Xi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));el()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return he(Ut),null;case 4:return Se(),null;case 10:return Yi(r.type),null;case 22:case 23:return Xi(r),Jf(),n!==null&&he(Us),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return Yi(kt),null;case 25:return null;default:return null}}function __(n,r){switch(Lf(r),r.tag){case 3:Yi(kt),Se();break;case 26:case 27:case 5:st(r);break;case 4:Se();break;case 13:Xi(r);break;case 19:he(Ut);break;case 10:Yi(r.type);break;case 22:case 23:Xi(r),Jf(),n!==null&&he(Us);break;case 24:Yi(kt)}}function yl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){rt(r,r.return,b)}}function xr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var N=a,F=b;try{F()}catch(W){rt(f,N,W)}}}l=l.next}while(l!==d)}}catch(W){rt(r,r.return,W)}}function v_(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{ay(r,a)}catch(l){rt(n,n.return,l)}}}function E_(n,r,a){a.props=js(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){rt(n,r,l)}}function _l(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){rt(n,r,f)}}function vi(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){rt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){rt(n,r,f)}else a.current=null}function T_(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){rt(n,n.return,f)}}function Rd(n,r,a){try{var l=n.stateNode;XA(l,n.type,a,r),l[Ct]=r}catch(f){rt(n,n.return,f)}}function b_(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Lr(n.type)||n.tag===4}function Cd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||b_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Lr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Nd(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Pc));else if(l!==4&&(l===27&&Lr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Nd(n,r,a),n=n.sibling;n!==null;)Nd(n,r,a),n=n.sibling}function Sc(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Lr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(Sc(n,r,a),n=n.sibling;n!==null;)Sc(n,r,a),n=n.sibling}function A_(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Xt(r,l,a),r[Mt]=n,r[Ct]=a}catch(d){rt(n,n.return,d)}}var Zi=!1,St=!1,Id=!1,S_=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function xA(n,r){if(n=n.containerInfo,Zd=qc,n=Pg(n),Cf(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,N=-1,F=0,W=0,ee=n,H=null;t:for(;;){for(var G;ee!==a||f!==0&&ee.nodeType!==3||(b=E+f),ee!==d||l!==0&&ee.nodeType!==3||(N=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(G=ee.firstChild)!==null;)H=ee,ee=G;for(;;){if(ee===n)break t;if(H===a&&++F===f&&(b=E),H===d&&++W===l&&(N=E),(G=ee.nextSibling)!==null)break;ee=H,H=ee.parentNode}ee=G}a=b===-1||N===-1?null:{start:b,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(em={focusedElem:n,selectionRange:a},qc=!1,Ft=r;Ft!==null;)if(r=Ft,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Ft=n;else for(;Ft!==null;){switch(r=Ft,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=js(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(Ee){rt(a,a.return,Ee)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)im(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":im(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Ft=n;break}Ft=r.return}}function w_(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Or(n,a),l&4&&yl(5,a);break;case 1:if(Or(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){rt(a,a.return,E)}else{var f=js(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){rt(a,a.return,E)}}l&64&&v_(a),l&512&&_l(a,a.return);break;case 3:if(Or(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{ay(n,r)}catch(E){rt(a,a.return,E)}}break;case 27:r===null&&l&4&&A_(a);case 26:case 5:Or(n,a),r===null&&l&4&&T_(a),l&512&&_l(a,a.return);break;case 12:Or(n,a);break;case 13:Or(n,a),l&4&&N_(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=jA.bind(null,a),iS(n,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){r=r!==null&&r.memoizedState!==null||St,f=Zi;var d=St;Zi=l,(St=r)&&!d?Dr(n,a,(a.subtreeFlags&8772)!==0):Or(n,a),Zi=f,St=d}break;case 30:break;default:Or(n,a)}}function R_(n){var r=n.alternate;r!==null&&(n.alternate=null,R_(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&vr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ct=null,gn=!1;function er(n,r,a){for(a=a.child;a!==null;)C_(n,r,a),a=a.sibling}function C_(n,r,a){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(pt,a)}catch{}switch(a.tag){case 26:St||vi(a,r),er(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:St||vi(a,r);var l=ct,f=gn;Lr(a.type)&&(ct=a.stateNode,gn=!1),er(n,r,a),Cl(a.stateNode),ct=l,gn=f;break;case 5:St||vi(a,r);case 6:if(l=ct,f=gn,ct=null,er(n,r,a),ct=l,gn=f,ct!==null)if(gn)try{(ct.nodeType===9?ct.body:ct.nodeName==="HTML"?ct.ownerDocument.body:ct).removeChild(a.stateNode)}catch(d){rt(a,r,d)}else try{ct.removeChild(a.stateNode)}catch(d){rt(a,r,d)}break;case 18:ct!==null&&(gn?(n=ct,pv(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),Pl(n)):pv(ct,a.stateNode));break;case 4:l=ct,f=gn,ct=a.stateNode.containerInfo,gn=!0,er(n,r,a),ct=l,gn=f;break;case 0:case 11:case 14:case 15:St||xr(2,a,r),St||xr(4,a,r),er(n,r,a);break;case 1:St||(vi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&E_(a,r,l)),er(n,r,a);break;case 21:er(n,r,a);break;case 22:St=(l=St)||a.memoizedState!==null,er(n,r,a),St=l;break;default:er(n,r,a)}}function N_(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Pl(n)}catch(a){rt(r,r.return,a)}}function OA(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new S_),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new S_),r;default:throw Error(s(435,n.tag))}}function xd(n,r){var a=OA(n);r.forEach(function(l){var f=BA.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Sn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Lr(b.type)){ct=b.stateNode,gn=!1;break e}break;case 5:ct=b.stateNode,gn=!1;break e;case 3:case 4:ct=b.stateNode.containerInfo,gn=!0;break e}b=b.return}if(ct===null)throw Error(s(160));C_(d,E,f),ct=null,gn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)I_(r,n),r=r.sibling}var Jn=null;function I_(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Sn(r,n),wn(n),l&4&&(xr(3,n,n.return),yl(3,n),xr(5,n,n.return));break;case 1:Sn(r,n),wn(n),l&512&&(St||a===null||vi(a,a.return)),l&64&&Zi&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(Sn(r,n),wn(n),l&512&&(St||a===null||vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ms]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Xt(d,l,a),d[Mt]=n,bt(d),l=d;break e;case"link":var E=Av("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=Av("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(l),Xt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=n,bt(d),l=d}n.stateNode=l}else Sv(f,n.type,n.stateNode);else n.stateNode=bv(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Sv(f,n.type,n.stateNode):bv(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&Rd(n,n.memoizedProps,a.memoizedProps)}break;case 27:Sn(r,n),wn(n),l&512&&(St||a===null||vi(a,a.return)),a!==null&&l&4&&Rd(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Sn(r,n),wn(n),l&512&&(St||a===null||vi(a,a.return)),n.flags&32){f=n.stateNode;try{kn(f,"")}catch(G){rt(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,Rd(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Id=!0);break;case 6:if(Sn(r,n),wn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){rt(n,n.return,G)}}break;case 3:if(jc=null,f=Jn,Jn=Uc(r.containerInfo),Sn(r,n),Jn=f,wn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Pl(r.containerInfo)}catch(G){rt(n,n.return,G)}Id&&(Id=!1,x_(n));break;case 4:l=Jn,Jn=Uc(n.stateNode.containerInfo),Sn(r,n),wn(n),Jn=l;break;case 12:Sn(r,n),wn(n);break;case 13:Sn(r,n),wn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(kd=Vn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xd(n,l)));break;case 22:f=n.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,F=Zi,W=St;if(Zi=F||f,St=W||N,Sn(r,n),St=W,Zi=F,wn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||N||Zi||St||Bs(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){N=a=r;try{if(d=N.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=N.stateNode;var ee=N.memoizedProps.style,H=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(G){rt(N,N.return,G)}}}else if(r.tag===6){if(a===null){N=r;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(G){rt(N,N.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,xd(n,a))));break;case 19:Sn(r,n),wn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,xd(n,l)));break;case 30:break;case 21:break;default:Sn(r,n),wn(n)}}function wn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(b_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Cd(n);Sc(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(kn(E,""),a.flags&=-33);var b=Cd(n);Sc(n,b,E);break;case 3:case 4:var N=a.stateNode.containerInfo,F=Cd(n);Nd(n,F,N);break;default:throw Error(s(161))}}catch(W){rt(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function x_(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;x_(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function Or(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)w_(n,r.alternate,r),r=r.sibling}function Bs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:xr(4,r,r.return),Bs(r);break;case 1:vi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&E_(r,r.return,a),Bs(r);break;case 27:Cl(r.stateNode);case 26:case 5:vi(r,r.return),Bs(r);break;case 22:r.memoizedState===null&&Bs(r);break;case 30:Bs(r);break;default:Bs(r)}n=n.sibling}}function Dr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Dr(f,d,a),yl(4,d);break;case 1:if(Dr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){rt(l,l.return,F)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)sy(N[f],b)}catch(F){rt(l,l.return,F)}}a&&E&64&&v_(d),_l(d,d.return);break;case 27:A_(d);case 26:case 5:Dr(f,d,a),a&&l===null&&E&4&&T_(d),_l(d,d.return);break;case 12:Dr(f,d,a);break;case 13:Dr(f,d,a),a&&E&4&&N_(f,d);break;case 22:d.memoizedState===null&&Dr(f,d,a),_l(d,d.return);break;case 30:break;default:Dr(f,d,a)}r=r.sibling}}function Od(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&il(a))}function Dd(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&il(n))}function Ei(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)O_(n,r,a,l),r=r.sibling}function O_(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ei(n,r,a,l),f&2048&&yl(9,r);break;case 1:Ei(n,r,a,l);break;case 3:Ei(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&il(n)));break;case 12:if(f&2048){Ei(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){rt(r,r.return,N)}}else Ei(n,r,a,l);break;case 13:Ei(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Ei(n,r,a,l):vl(n,r):d._visibility&2?Ei(n,r,a,l):(d._visibility|=2,Fa(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Od(E,r);break;case 24:Ei(n,r,a,l),f&2048&&Dd(r.alternate,r);break;default:Ei(n,r,a,l)}}function Fa(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,b=a,N=l,F=E.flags;switch(E.tag){case 0:case 11:case 15:Fa(d,E,b,N,f),yl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?Fa(d,E,b,N,f):vl(d,E):(W._visibility|=2,Fa(d,E,b,N,f)),f&&F&2048&&Od(E.alternate,E);break;case 24:Fa(d,E,b,N,f),f&&F&2048&&Dd(E.alternate,E);break;default:Fa(d,E,b,N,f)}r=r.sibling}}function vl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:vl(a,l),f&2048&&Od(l.alternate,l);break;case 24:vl(a,l),f&2048&&Dd(l.alternate,l);break;default:vl(a,l)}r=r.sibling}}var El=8192;function Ha(n){if(n.subtreeFlags&El)for(n=n.child;n!==null;)D_(n),n=n.sibling}function D_(n){switch(n.tag){case 26:Ha(n),n.flags&El&&n.memoizedState!==null&&gS(Jn,n.memoizedState,n.memoizedProps);break;case 5:Ha(n);break;case 3:case 4:var r=Jn;Jn=Uc(n.stateNode.containerInfo),Ha(n),Jn=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=El,El=16777216,Ha(n),El=r):Ha(n));break;default:Ha(n)}}function M_(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Tl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,P_(l,n)}M_(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)V_(n),n=n.sibling}function V_(n){switch(n.tag){case 0:case 11:case 15:Tl(n),n.flags&2048&&xr(9,n,n.return);break;case 3:Tl(n);break;case 12:Tl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,wc(n)):Tl(n);break;default:Tl(n)}}function wc(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ft=l,P_(l,n)}M_(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:xr(8,r,r.return),wc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,wc(r));break;default:wc(r)}n=n.sibling}}function P_(n,r){for(;Ft!==null;){var a=Ft;switch(a.tag){case 0:case 11:case 15:xr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:il(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ft=l;else e:for(a=n;Ft!==null;){l=Ft;var f=l.sibling,d=l.return;if(R_(l),l===a){Ft=null;break e}if(f!==null){f.return=d,Ft=f;break e}Ft=d}}}var DA={getCacheForType:function(n){var r=nn(kt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},MA=typeof WeakMap=="function"?WeakMap:Map,$e=0,at=null,Pe=null,ze=0,Xe=0,Rn=null,Mr=!1,Ga=!1,Md=!1,tr=0,yt=0,Vr=0,zs=0,Vd=0,Gn=0,Ka=0,bl=null,yn=null,Pd=!1,kd=0,Rc=1/0,Cc=null,Pr=null,$t=0,kr=null,Qa=null,Ya=0,Ud=0,Ld=null,k_=null,Al=0,jd=null;function Cn(){if(($e&2)!==0&&ze!==0)return ze&-ze;if(X.T!==null){var n=Pa;return n!==0?n:Kd()}return yr()}function U_(){Gn===0&&(Gn=(ze&536870912)===0||Ke?Do():536870912);var n=Hn.current;return n!==null&&(n.flags|=32),Gn}function Nn(n,r,a){(n===at&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&($a(n,0),Ur(n,ze,Gn,!1)),Mi(n,a),(($e&2)===0||n!==at)&&(n===at&&(($e&2)===0&&(zs|=a),yt===4&&Ur(n,ze,Gn,!1)),Ti(n))}function L_(n,r,a){if(($e&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||ds(n,r),f=l?kA(n,r):qd(n,r,!0),d=l;do{if(f===0){Ga&&!l&&Ur(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!VA(a)){f=qd(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=bl;var N=b.current.memoizedState.isDehydrated;if(N&&($a(b,E).flags|=256),E=qd(b,E,!1),E!==2){if(Md&&!N){b.errorRecoveryDisabledLanes|=d,zs|=d,f=4;break e}d=yn,yn=f,d!==null&&(yn===null?yn=d:yn.push.apply(yn,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){$a(n,0),Ur(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ur(l,r,Gn,!Mr);break e;case 2:yn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=kd+300-Vn(),10<f)){if(Ur(l,r,Gn,!Mr),fa(l,0,!0)!==0)break e;l.timeoutHandle=dv(j_.bind(null,l,a,yn,Cc,Pd,r,Gn,zs,Ka,Mr,d,2,-0,0),f);break e}j_(l,a,yn,Cc,Pd,r,Gn,zs,Ka,Mr,d,0,-0,0)}}break}while(!0);Ti(n)}function j_(n,r,a,l,f,d,E,b,N,F,W,ee,H,G){if(n.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(xl={stylesheets:null,count:0,unsuspend:pS},D_(r),ee=yS(),ee!==null)){n.cancelPendingCommit=ee(K_.bind(null,n,r,d,a,l,f,E,b,N,W,1,H,G)),Ur(n,d,E,!F);return}K_(n,r,d,a,l,f,E,b,N)}function VA(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!bn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(n,r,a,l){r&=~Vd,r&=~zs,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-tn(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&ai(n,a,r)}function Nc(){return($e&6)===0?(Sl(0),!1):!0}function Bd(){if(Pe!==null){if(Xe===0)var n=Pe.return;else n=Pe,Qi=Ps=null,id(n),za=null,ml=0,n=Pe;for(;n!==null;)__(n.alternate,n),n=n.return;Pe=null}}function $a(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,JA(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Bd(),at=n,Pe=a=Hi(n.current,null),ze=r,Xe=0,Rn=null,Mr=!1,Ga=ds(n,r),Md=!1,Ka=Gn=Vd=zs=Vr=yt=0,yn=bl=null,Pd=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-tn(l),d=1<<f;r|=n[f],l&=~d}return tr=r,Xu(),a}function B_(n,r){Me=null,X.H=pc,r===sl||r===sc?(r=iy(),Xe=3):r===ey?(r=iy(),Xe=4):Xe=r===r_?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Rn=r,Pe===null&&(yt=1,Ec(n,Bn(r,n.current)))}function z_(){var n=X.H;return X.H=pc,n===null?pc:n}function q_(){var n=X.A;return X.A=DA,n}function zd(){yt=4,Mr||(ze&4194048)!==ze&&Hn.current!==null||(Ga=!0),(Vr&134217727)===0&&(zs&134217727)===0||at===null||Ur(at,ze,Gn,!1)}function qd(n,r,a){var l=$e;$e|=2;var f=z_(),d=q_();(at!==n||ze!==r)&&(Cc=null,$a(n,r)),r=!1;var E=yt;e:do try{if(Xe!==0&&Pe!==null){var b=Pe,N=Rn;switch(Xe){case 8:Bd(),E=6;break e;case 3:case 2:case 9:case 6:Hn.current===null&&(r=!0);var F=Xe;if(Xe=0,Rn=null,Xa(n,b,N,F),a&&Ga){E=0;break e}break;default:F=Xe,Xe=0,Rn=null,Xa(n,b,N,F)}}PA(),E=yt;break}catch(W){B_(n,W)}while(!0);return r&&n.shellSuspendCounter++,Qi=Ps=null,$e=l,X.H=f,X.A=d,Pe===null&&(at=null,ze=0,Xu()),E}function PA(){for(;Pe!==null;)F_(Pe)}function kA(n,r){var a=$e;$e|=2;var l=z_(),f=q_();at!==n||ze!==r?(Cc=null,Rc=Vn()+500,$a(n,r)):Ga=ds(n,r);e:do try{if(Xe!==0&&Pe!==null){r=Pe;var d=Rn;t:switch(Xe){case 1:Xe=0,Rn=null,Xa(n,r,d,1);break;case 2:case 9:if(ty(d)){Xe=0,Rn=null,H_(r);break}r=function(){Xe!==2&&Xe!==9||at!==n||(Xe=7),Ti(n)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:ty(d)?(Xe=0,Rn=null,H_(r)):(Xe=0,Rn=null,Xa(n,r,d,7));break;case 5:var E=null;switch(Pe.tag){case 26:E=Pe.memoizedState;case 5:case 27:var b=Pe;if(!E||wv(E)){Xe=0,Rn=null;var N=b.sibling;if(N!==null)Pe=N;else{var F=b.return;F!==null?(Pe=F,Ic(F)):Pe=null}break t}}Xe=0,Rn=null,Xa(n,r,d,5);break;case 6:Xe=0,Rn=null,Xa(n,r,d,6);break;case 8:Bd(),yt=6;break e;default:throw Error(s(462))}}UA();break}catch(W){B_(n,W)}while(!0);return Qi=Ps=null,X.H=l,X.A=f,$e=a,Pe!==null?0:(at=null,ze=0,Xu(),yt)}function UA(){for(;Pe!==null&&!pr();)F_(Pe)}function F_(n){var r=g_(n.alternate,n,tr);n.memoizedProps=n.pendingProps,r===null?Ic(n):Pe=r}function H_(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=c_(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=c_(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:id(r);default:__(a,r),r=Pe=Gg(r,tr),r=g_(a,r,tr)}n.memoizedProps=n.pendingProps,r===null?Ic(n):Pe=r}function Xa(n,r,a,l){Qi=Ps=null,id(r),za=null,ml=0;var f=r.return;try{if(RA(n,f,r,a,ze)){yt=1,Ec(n,Bn(a,n.current)),Pe=null;return}}catch(d){if(f!==null)throw Pe=f,d;yt=1,Ec(n,Bn(a,n.current)),Pe=null;return}r.flags&32768?(Ke||l===1?n=!0:Ga||(ze&536870912)!==0?n=!1:(Mr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),G_(r,n)):Ic(r)}function Ic(n){var r=n;do{if((r.flags&32768)!==0){G_(r,Mr);return}n=r.return;var a=NA(r.alternate,r,tr);if(a!==null){Pe=a;return}if(r=r.sibling,r!==null){Pe=r;return}Pe=r=n}while(r!==null);yt===0&&(yt=5)}function G_(n,r){do{var a=IA(n.alternate,n);if(a!==null){a.flags&=32767,Pe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Pe=n;return}Pe=n=a}while(n!==null);yt=6,Pe=null}function K_(n,r,a,l,f,d,E,b,N){n.cancelPendingCommit=null;do xc();while($t!==0);if(($e&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=Df,Vo(n,a,d,E,b,N),n===at&&(Pe=at=null,ze=0),Qa=r,kr=n,Ya=a,Ud=d,Ld=f,k_=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,zA(us,function(){return W_(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=ce.p,ce.p=2,E=$e,$e|=4;try{xA(n,r,a)}finally{$e=E,ce.p=f,X.T=l}}$t=1,Q_(),Y_(),$_()}}function Q_(){if($t===1){$t=0;var n=kr,r=Qa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var f=$e;$e|=4;try{I_(r,n);var d=em,E=Pg(n.containerInfo),b=d.focusedElem,N=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Vg(b.ownerDocument.documentElement,b)){if(N!==null&&Cf(b)){var F=N.start,W=N.end;if(W===void 0&&(W=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(W,b.value.length);else{var ee=b.ownerDocument||document,H=ee&&ee.defaultView||window;if(H.getSelection){var G=H.getSelection(),Ae=b.textContent.length,Ee=Math.min(N.start,Ae),nt=N.end===void 0?Ee:Math.min(N.end,Ae);!G.extend&&Ee>nt&&(E=nt,nt=Ee,Ee=E);var j=Mg(b,Ee),U=Mg(b,nt);if(j&&U&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==U.node||G.focusOffset!==U.offset)){var q=ee.createRange();q.setStart(j.node,j.offset),G.removeAllRanges(),Ee>nt?(G.addRange(q),G.extend(U.node,U.offset)):(q.setEnd(U.node,U.offset),G.addRange(q))}}}}for(ee=[],G=b;G=G.parentNode;)G.nodeType===1&&ee.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var J=ee[b];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}qc=!!Zd,em=Zd=null}finally{$e=f,ce.p=l,X.T=a}}n.current=r,$t=2}}function Y_(){if($t===2){$t=0;var n=kr,r=Qa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=ce.p;ce.p=2;var f=$e;$e|=4;try{w_(n,r.alternate,r)}finally{$e=f,ce.p=l,X.T=a}}$t=3}}function $_(){if($t===4||$t===3){$t=0,ls();var n=kr,r=Qa,a=Ya,l=k_;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?$t=5:($t=0,Qa=kr=null,X_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Pr=null),da(a),r=r.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=ce.p,ce.p=2,X.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{X.T=r,ce.p=f}}(Ya&3)!==0&&xc(),Ti(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===jd?Al++:(Al=0,jd=n):Al=0,Sl(0)}}function X_(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,il(r)))}function xc(n){return Q_(),Y_(),$_(),W_()}function W_(){if($t!==5)return!1;var n=kr,r=Ud;Ud=0;var a=da(Ya),l=X.T,f=ce.p;try{ce.p=32>a?32:a,X.T=null,a=Ld,Ld=null;var d=kr,E=Ya;if($t=0,Qa=kr=null,Ya=0,($e&6)!==0)throw Error(s(331));var b=$e;if($e|=4,V_(d.current),O_(d,d.current,E,a),$e=b,Sl(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(pt,d)}catch{}return!0}finally{ce.p=f,X.T=l,X_(n,r)}}function J_(n,r,a){r=Bn(a,r),r=yd(n.stateNode,r,2),n=Rr(n,r,2),n!==null&&(Mi(n,2),Ti(n))}function rt(n,r,a){if(n.tag===3)J_(n,n,a);else for(;r!==null;){if(r.tag===3){J_(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Pr===null||!Pr.has(l))){n=Bn(a,n),a=n_(2),l=Rr(r,a,2),l!==null&&(i_(a,l,r,n),Mi(l,2),Ti(l));break}}r=r.return}}function Fd(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new MA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Md=!0,f.add(a),n=LA.bind(null,n,r,a),r.then(n,n))}function LA(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,at===n&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Vn()-kd?($e&2)===0&&$a(n,0):Vd|=a,Ka===ze&&(Ka=0)),Ti(n)}function Z_(n,r){r===0&&(r=Mo()),n=Oa(n,r),n!==null&&(Mi(n,r),Ti(n))}function jA(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),Z_(n,a)}function BA(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),Z_(n,a)}function zA(n,r){return Qn(n,r)}var Oc=null,Wa=null,Hd=!1,Dc=!1,Gd=!1,qs=0;function Ti(n){n!==Wa&&n.next===null&&(Wa===null?Oc=Wa=n:Wa=Wa.next=n),Dc=!0,Hd||(Hd=!0,FA())}function Sl(n,r){if(!Gd&&Dc){Gd=!0;do for(var a=!1,l=Oc;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-tn(42|n)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,iv(l,d))}else d=ze,d=fa(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||ds(l,d)||(a=!0,iv(l,d));l=l.next}while(a);Gd=!1}}function qA(){ev()}function ev(){Dc=Hd=!1;var n=0;qs!==0&&(WA()&&(n=qs),qs=0);for(var r=Vn(),a=null,l=Oc;l!==null;){var f=l.next,d=tv(l,r);d===0?(l.next=null,a===null?Oc=f:a.next=f,f===null&&(Wa=a)):(a=l,(n!==0||(d&3)!==0)&&(Dc=!0)),l=f}Sl(n)}function tv(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-tn(d),b=1<<E,N=f[E];N===-1?((b&a)===0||(b&l)!==0)&&(f[E]=Oo(b,r)):N<=r&&(n.expiredLanes|=b),d&=~b}if(r=at,a=ze,a=fa(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&Mn(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||ds(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&Mn(l),da(a)){case 2:case 8:a=ca;break;case 32:a=us;break;case 268435456:a=ha;break;default:a=us}return l=nv.bind(null,n),a=Qn(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&Mn(l),n.callbackPriority=2,n.callbackNode=null,2}function nv(n,r){if($t!==0&&$t!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(xc()&&n.callbackNode!==a)return null;var l=ze;return l=fa(n,n===at?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(L_(n,l,r),tv(n,Vn()),n.callbackNode!=null&&n.callbackNode===a?nv.bind(null,n):null)}function iv(n,r){if(xc())return null;L_(n,r,!0)}function FA(){ZA(function(){($e&6)!==0?Qn(Io,qA):ev()})}function Kd(){return qs===0&&(qs=Do()),qs}function rv(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:va(""+n)}function sv(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function HA(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=rv((f[Ct]||null).action),E=l.submitter;E&&(r=(r=E[Ct]||null)?rv(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new Ea("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var N=E?sv(f,E):new FormData(f);fd(a,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=E?sv(f,E):new FormData(f),fd(a,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var Qd=0;Qd<Of.length;Qd++){var Yd=Of[Qd],GA=Yd.toLowerCase(),KA=Yd[0].toUpperCase()+Yd.slice(1);Wn(GA,"on"+KA)}Wn(Lg,"onAnimationEnd"),Wn(jg,"onAnimationIteration"),Wn(Bg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(uA,"onTransitionRun"),Wn(cA,"onTransitionStart"),Wn(hA,"onTransitionCancel"),Wn(zg,"onTransitionEnd"),Pi("onMouseEnter",["mouseout","mouseover"]),Pi("onMouseLeave",["mouseout","mouseover"]),Pi("onPointerEnter",["pointerout","pointerover"]),Pi("onPointerLeave",["pointerout","pointerover"]),$n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),$n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),$n("onBeforeInput",["compositionend","keypress","textInput","paste"]),$n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),$n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),QA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wl));function av(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],N=b.instance,F=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){vc(W)}f.currentTarget=null,d=N}else for(E=0;E<l.length;E++){if(b=l[E],N=b.instance,F=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=F;try{d(f)}catch(W){vc(W)}f.currentTarget=null,d=N}}}}function ke(n,r){var a=r[ko];a===void 0&&(a=r[ko]=new Set);var l=n+"__bubble";a.has(l)||(ov(r,n,2,!1),a.add(l))}function $d(n,r,a){var l=0;r&&(l|=4),ov(a,n,l,r)}var Mc="_reactListening"+Math.random().toString(36).slice(2);function Xd(n){if(!n[Mc]){n[Mc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(QA.has(a)||$d(a,!1,n),$d(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Mc]||(r[Mc]=!0,$d("selectionchange",!1,r))}}function ov(n,r,a,l){switch(Ov(r)){case 2:var f=ES;break;case 8:f=TS;break;default:f=cm}a=f.bind(null,r,a,n),f=void 0,!Ln||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Wd(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var N=E.tag;if((N===3||N===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Vi(b),E===null)return;if(N=E.tag,N===5||N===6||N===26||N===27){l=d=E;continue e}b=b.parentNode}}l=l.return}Pu(function(){var F=d,W=Un(a),ee=[];e:{var H=qg.get(n);if(H!==void 0){var G=Ea,Ae=n;switch(n){case"keypress":if(fi(a)===0)break e;case"keydown":case"keyup":G=Ra;break;case"focusin":Ae="focus",G=Aa;break;case"focusout":Ae="blur",G=Aa;break;case"beforeblur":case"afterblur":G=Aa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Fu;break;case Lg:case jg:case Bg:G=Sa;break;case zg:G=Gu;break;case"scroll":case"scrollend":G=ku;break;case"wheel":G=Ca;break;case"copy":case"cut":case"paste":G=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=$o;break;case"toggle":case"beforetoggle":G=Qu}var Ee=(r&4)!==0,nt=!Ee&&(n==="scroll"||n==="scrollend"),j=Ee?H!==null?H+"Capture":null:H;Ee=[];for(var U=F,q;U!==null;){var J=U;if(q=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||q===null||j===null||(J=Ts(U,j),J!=null&&Ee.push(Rl(U,J,q))),nt)break;U=U.return}0<Ee.length&&(H=new G(H,Ae,null,a,W),ee.push({event:H,listeners:Ee}))}}if((r&7)===0){e:{if(H=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",H&&a!==Li&&(Ae=a.relatedTarget||a.fromElement)&&(Vi(Ae)||Ae[Pn]))break e;if((G||H)&&(H=W.window===W?W:(H=W.ownerDocument)?H.defaultView||H.parentWindow:window,G?(Ae=a.relatedTarget||a.toElement,G=F,Ae=Ae?Vi(Ae):null,Ae!==null&&(nt=u(Ae),Ee=Ae.tag,Ae!==nt||Ee!==5&&Ee!==27&&Ee!==6)&&(Ae=null)):(G=null,Ae=F),G!==Ae)){if(Ee=jn,J="onMouseLeave",j="onMouseEnter",U="mouse",(n==="pointerout"||n==="pointerover")&&(Ee=$o,J="onPointerLeave",j="onPointerEnter",U="pointer"),nt=G==null?H:li(G),q=Ae==null?H:li(Ae),H=new Ee(J,U+"leave",G,a,W),H.target=nt,H.relatedTarget=q,J=null,Vi(W)===F&&(Ee=new Ee(j,U+"enter",Ae,a,W),Ee.target=q,Ee.relatedTarget=nt,J=Ee),nt=J,G&&Ae)t:{for(Ee=G,j=Ae,U=0,q=Ee;q;q=Ja(q))U++;for(q=0,J=j;J;J=Ja(J))q++;for(;0<U-q;)Ee=Ja(Ee),U--;for(;0<q-U;)j=Ja(j),q--;for(;U--;){if(Ee===j||j!==null&&Ee===j.alternate)break t;Ee=Ja(Ee),j=Ja(j)}Ee=null}else Ee=null;G!==null&&lv(ee,H,G,Ee,!1),Ae!==null&&nt!==null&&lv(ee,nt,Ae,Ee,!0)}}e:{if(H=F?li(F):window,G=H.nodeName&&H.nodeName.toLowerCase(),G==="select"||G==="input"&&H.type==="file")var de=Cg;else if(Pt(H))if(Ng)de=aA;else{de=rA;var Ve=iA}else G=H.nodeName,!G||G.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?F&&qo(F.elementType)&&(de=Cg):de=sA;if(de&&(de=de(n,F))){Fi(ee,de,a,W);break e}Ve&&Ve(n,H,F),n==="focusout"&&F&&H.type==="number"&&F.memoizedProps.value!=null&&Tr(H,"number",H.value)}switch(Ve=F?li(F):window,n){case"focusin":(Pt(Ve)||Ve.contentEditable==="true")&&(Na=Ve,Nf=F,Jo=null);break;case"focusout":Jo=Nf=Na=null;break;case"mousedown":If=!0;break;case"contextmenu":case"mouseup":case"dragend":If=!1,kg(ee,a,W);break;case"selectionchange":if(lA)break;case"keydown":case"keyup":kg(ee,a,W)}var ye;if(pi)e:{switch(n){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else je?Q(n,a)&&(Te="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(je||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&je&&(ye=Ho()):(hi=W,br="value"in hi?hi.value:hi.textContent,je=!0)),Ve=Vc(F,Te),0<Ve.length&&(Te=new Qo(Te,n,null,a,W),ee.push({event:Te,listeners:Ve}),ye?Te.data=ye:(ye=ue(a),ye!==null&&(Te.data=ye)))),(ye=y?Vt(n,a):Be(n,a))&&(Te=Vc(F,"onBeforeInput"),0<Te.length&&(Ve=new Qo("onBeforeInput","beforeinput",null,a,W),ee.push({event:Ve,listeners:Te}),Ve.data=ye)),HA(ee,n,F,a,W)}av(ee,r)})}function Rl(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Vc(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Ts(n,a),f!=null&&l.unshift(Rl(n,f,d)),f=Ts(n,r),f!=null&&l.push(Rl(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Ja(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function lv(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,N=b.alternate,F=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||F===null||(N=F,f?(F=Ts(a,d),F!=null&&E.unshift(Rl(a,F,N))):f||(F=Ts(a,d),F!=null&&E.push(Rl(a,F,N)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var YA=/\r\n?/g,$A=/\u0000|\uFFFD/g;function uv(n){return(typeof n=="string"?n:""+n).replace(YA,`
`).replace($A,"")}function cv(n,r){return r=uv(r),uv(n)===r}function Pc(){}function tt(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||kn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&kn(n,""+l);break;case"className":ui(n,"class",l);break;case"tabIndex":ui(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ui(n,a,l);break;case"style":zo(n,l,d);break;case"data":if(r!=="object"){ui(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&tt(n,r,"name",f.name,f,null),tt(n,r,"formEncType",f.formEncType,f,null),tt(n,r,"formMethod",f.formMethod,f,null),tt(n,r,"formTarget",f.formTarget,f,null)):(tt(n,r,"encType",f.encType,f,null),tt(n,r,"method",f.method,f,null),tt(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=va(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=Pc);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=va(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Er(n,"popover",l);break;case"xlinkActuate":Kt(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Kt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Kt(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Kt(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Kt(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Kt(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Kt(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Tf.get(a)||a,Er(n,a,l))}}function Jd(n,r,a,l,f,d){switch(a){case"style":zo(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?kn(n,l):(typeof l=="number"||typeof l=="bigint")&&kn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[Ct]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Er(n,a,l)}}}function Xt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(n,r,d,E,a,null)}}f&&tt(n,r,"srcSet",a.srcSet,a,null),l&&tt(n,r,"src",a.src,a,null);return;case"input":ke("invalid",n);var b=d=E=f=null,N=null,F=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":N=W;break;case"defaultChecked":F=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:tt(n,r,l,W,a,null)}}_s(n,d,b,N,F,E,f,!1),_a(n);return;case"select":ke("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:tt(n,r,f,b,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Ui(n,!!l,r,!1):a!=null&&Ui(n,!!l,a,!0);return;case"textarea":ke("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:tt(n,r,E,b,a,null)}vs(n,l,f,d),_a(n);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(n,r,N,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<wl.length;l++)ke(wl[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in a)if(a.hasOwnProperty(F)&&(l=a[F],l!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:tt(n,r,F,l,a,null)}return;default:if(qo(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Jd(n,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&tt(n,r,b,l,a,null))}function XA(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,N=null,F=null,W=null;for(G in a){var ee=a[G];if(a.hasOwnProperty(G)&&ee!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=ee;default:l.hasOwnProperty(G)||tt(n,r,G,null,l,ee)}}for(var H in l){var G=l[H];if(ee=a[H],l.hasOwnProperty(H)&&(G!=null||ee!=null))switch(H){case"type":d=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":W=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==ee&&tt(n,r,H,G,l,ee)}}Tn(n,E,b,N,F,W,d,f);return;case"select":G=E=b=H=null;for(d in a)if(N=a[d],a.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:l.hasOwnProperty(d)||tt(n,r,d,null,l,N)}for(f in l)if(d=l[f],N=a[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":H=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==N&&tt(n,r,f,d,l,N)}r=b,a=E,l=G,H!=null?Ui(n,!!a,H,!1):!!l!=!!a&&(r!=null?Ui(n,!!a,r,!0):Ui(n,!!a,a?[]:"",!1));return;case"textarea":G=H=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(n,r,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":H=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&tt(n,r,E,f,l,d)}Ze(n,H,G);return;case"option":for(var Ae in a)if(H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:tt(n,r,Ae,null,l,H)}for(N in l)if(H=l[N],G=a[N],l.hasOwnProperty(N)&&H!==G&&(H!=null||G!=null))switch(N){case"selected":n.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:tt(n,r,N,H,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ee in a)H=a[Ee],a.hasOwnProperty(Ee)&&H!=null&&!l.hasOwnProperty(Ee)&&tt(n,r,Ee,null,l,H);for(F in l)if(H=l[F],G=a[F],l.hasOwnProperty(F)&&H!==G&&(H!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,r));break;default:tt(n,r,F,H,l,G)}return;default:if(qo(r)){for(var nt in a)H=a[nt],a.hasOwnProperty(nt)&&H!==void 0&&!l.hasOwnProperty(nt)&&Jd(n,r,nt,void 0,l,H);for(W in l)H=l[W],G=a[W],!l.hasOwnProperty(W)||H===G||H===void 0&&G===void 0||Jd(n,r,W,H,l,G);return}}for(var j in a)H=a[j],a.hasOwnProperty(j)&&H!=null&&!l.hasOwnProperty(j)&&tt(n,r,j,null,l,H);for(ee in l)H=l[ee],G=a[ee],!l.hasOwnProperty(ee)||H===G||H==null&&G==null||tt(n,r,ee,H,l,G)}var Zd=null,em=null;function kc(n){return n.nodeType===9?n:n.ownerDocument}function hv(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function tm(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nm=null;function WA(){var n=window.event;return n&&n.type==="popstate"?n===nm?!1:(nm=n,!0):(nm=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,JA=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,ZA=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(n){return mv.resolve(null).then(n).catch(eS)}:dv;function eS(n){setTimeout(function(){throw n})}function Lr(n){return n==="head"}function pv(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&Cl(E.documentElement),a&2&&Cl(E.body),a&4)for(a=E.head,Cl(a),E=a.firstChild;E;){var b=E.nextSibling,N=E.nodeName;E[ms]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){n.removeChild(d),Pl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Pl(r)}function im(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":im(a),vr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function tS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[ms])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=Zn(n.nextSibling),n===null)break}return null}function nS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=Zn(n.nextSibling),n===null))return null;return n}function rm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function iS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function Zn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var sm=null;function gv(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function yv(n,r,a){switch(r=kc(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function Cl(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);vr(n)}var Kn=new Map,_v=new Set;function Uc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var nr=ce.d;ce.d={f:rS,r:sS,D:aS,C:oS,L:lS,m:uS,X:hS,S:cS,M:fS};function rS(){var n=nr.f(),r=Nc();return n||r}function sS(n){var r=oi(n);r!==null&&r.tag===5&&r.type==="form"?Ly(r):nr.r(n)}var Za=typeof document>"u"?null:document;function vv(n,r,a){var l=Za;if(l&&typeof r=="string"&&r){var f=Nt(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),_v.has(f)||(_v.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Xt(r,"link",n),bt(r),l.head.appendChild(r)))}}function aS(n){nr.D(n),vv("dns-prefetch",n,null)}function oS(n,r){nr.C(n,r),vv("preconnect",n,r)}function lS(n,r,a){nr.L(n,r,a);var l=Za;if(l&&n&&r){var f='link[rel="preload"][as="'+Nt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Nt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Nt(a.imageSizes)+'"]')):f+='[href="'+Nt(n)+'"]';var d=f;switch(r){case"style":d=eo(n);break;case"script":d=to(n)}Kn.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),Kn.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(Nl(d))||r==="script"&&l.querySelector(Il(d))||(r=l.createElement("link"),Xt(r,"link",n),bt(r),l.head.appendChild(r)))}}function uS(n,r){nr.m(n,r);var a=Za;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Nt(l)+'"][href="'+Nt(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(n)}if(!Kn.has(d)&&(n=_({rel:"modulepreload",href:n},r),Kn.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Il(d)))return}l=a.createElement("link"),Xt(l,"link",n),bt(l),a.head.appendChild(l)}}}function cS(n,r,a){nr.S(n,r,a);var l=Za;if(l&&n){var f=cn(l).hoistableStyles,d=eo(n);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(Nl(d)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=Kn.get(d))&&am(n,a);var N=E=l.createElement("link");bt(N),Xt(N,"link",n),N._p=new Promise(function(F,W){N.onload=F,N.onerror=W}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Lc(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function hS(n,r){nr.X(n,r);var a=Za;if(a&&n){var l=cn(a).hoistableScripts,f=to(n),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(n=_({src:n,async:!0},r),(r=Kn.get(f))&&om(n,r),d=a.createElement("script"),bt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function fS(n,r){nr.M(n,r);var a=Za;if(a&&n){var l=cn(a).hoistableScripts,f=to(n),d=l.get(f);d||(d=a.querySelector(Il(f)),d||(n=_({src:n,async:!0,type:"module"},r),(r=Kn.get(f))&&om(n,r),d=a.createElement("script"),bt(d),Xt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Ev(n,r,a,l){var f=(f=be.current)?Uc(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=eo(a.href),a=cn(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=eo(a.href);var d=cn(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(Nl(n)))&&!d._p&&(E.instance=d,E.state.loading=5),Kn.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Kn.set(n,a),d||dS(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=to(a),a=cn(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function eo(n){return'href="'+Nt(n)+'"'}function Nl(n){return'link[rel="stylesheet"]['+n+"]"}function Tv(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function dS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Xt(r,"link",a),bt(r),n.head.appendChild(r))}function to(n){return'[src="'+Nt(n)+'"]'}function Il(n){return"script[async]"+n}function bv(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+Nt(a.href)+'"]');if(l)return r.instance=l,bt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),bt(l),Xt(l,"style",f),Lc(l,a.precedence,n),r.instance=l;case"stylesheet":f=eo(a.href);var d=n.querySelector(Nl(f));if(d)return r.state.loading|=4,r.instance=d,bt(d),d;l=Tv(a),(f=Kn.get(f))&&am(l,f),d=(n.ownerDocument||n).createElement("link"),bt(d);var E=d;return E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Xt(d,"link",l),r.state.loading|=4,Lc(d,a.precedence,n),r.instance=d;case"script":return d=to(a.src),(f=n.querySelector(Il(d)))?(r.instance=f,bt(f),f):(l=a,(f=Kn.get(d))&&(l=_({},a),om(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),bt(f),Xt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Lc(l,a.precedence,n));return r.instance}function Lc(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function am(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function om(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var jc=null;function Av(n,r,a){if(jc===null){var l=new Map,f=jc=new Map;f.set(a,l)}else f=jc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[ms]||d[Mt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function Sv(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function mS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function wv(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var xl=null;function pS(){}function gS(n,r,a){if(xl===null)throw Error(s(475));var l=xl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=eo(a.href),d=n.querySelector(Nl(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Bc.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,bt(d);return}d=n.ownerDocument||n,a=Tv(a),(f=Kn.get(f))&&am(a,f),d=d.createElement("link"),bt(d);var E=d;E._p=new Promise(function(b,N){E.onload=b,E.onerror=N}),Xt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Bc.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function yS(){if(xl===null)throw Error(s(475));var n=xl;return n.stylesheets&&n.count===0&&lm(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&lm(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Bc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var zc=null;function lm(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,zc=new Map,r.forEach(_S,n),zc=null,Bc.call(n))}function _S(n,r){if(!(r.state.loading&4)){var a=zc.get(n);if(a)var l=a.get(null);else{a=new Map,zc.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Bc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var Ol={$$typeof:K,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function vS(n,r,a,l,f,d,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function Rv(n,r,a,l,f,d,E,b,N,F,W,ee){return n=new vS(n,r,a,E,b,N,F,ee),r=1,d===!0&&(r|=24),d=An(3,null,null,r),n.current=d,d.stateNode=n,r=Ff(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},Qf(d),n}function Cv(n){return n?(n=Da,n):Da}function Nv(n,r,a,l,f,d){f=Cv(f),l.context===null?l.context=f:l.pendingContext=f,l=wr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Rr(n,l,r),a!==null&&(Nn(a,n,r),ol(a,n,r))}function Iv(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function um(n,r){Iv(n,r),(n=n.alternate)&&Iv(n,r)}function xv(n){if(n.tag===13){var r=Oa(n,67108864);r!==null&&Nn(r,n,67108864),um(n,67108864)}}var qc=!0;function ES(n,r,a,l){var f=X.T;X.T=null;var d=ce.p;try{ce.p=2,cm(n,r,a,l)}finally{ce.p=d,X.T=f}}function TS(n,r,a,l){var f=X.T;X.T=null;var d=ce.p;try{ce.p=8,cm(n,r,a,l)}finally{ce.p=d,X.T=f}}function cm(n,r,a,l){if(qc){var f=hm(l);if(f===null)Wd(n,r,l,Fc,a),Dv(n,l);else if(AS(f,n,r,a,l))l.stopPropagation();else if(Dv(n,l),r&4&&-1<bS.indexOf(n)){for(;f!==null;){var d=oi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Yn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var N=1<<31-tn(E);b.entanglements[1]|=N,E&=~N}Ti(d),($e&6)===0&&(Rc=Vn()+500,Sl(0))}}break;case 13:b=Oa(d,2),b!==null&&Nn(b,d,2),Nc(),um(d,2)}if(d=hm(l),d===null&&Wd(n,r,l,Fc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Wd(n,r,l,null,a)}}function hm(n){return n=Un(n),fm(n)}var Fc=null;function fm(n){if(Fc=null,n=Vi(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Fc=n,null}function Ov(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pf()){case Io:return 2;case ca:return 8;case us:case gf:return 32;case ha:return 268435456;default:return 32}default:return 32}}var dm=!1,jr=null,Br=null,zr=null,Dl=new Map,Ml=new Map,qr=[],bS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dv(n,r){switch(n){case"focusin":case"focusout":jr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":zr=null;break;case"pointerover":case"pointerout":Dl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(r.pointerId)}}function Vl(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=oi(r),r!==null&&xv(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function AS(n,r,a,l,f){switch(r){case"focusin":return jr=Vl(jr,n,r,a,l,f),!0;case"dragenter":return Br=Vl(Br,n,r,a,l,f),!0;case"mouseover":return zr=Vl(zr,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Dl.set(d,Vl(Dl.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Ml.set(d,Vl(Ml.get(d)||null,n,r,a,l,f)),!0}return!1}function Mv(n){var r=Vi(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,Nu(n.priority,function(){if(a.tag===13){var l=Cn();l=gr(l);var f=Oa(a,l);f!==null&&Nn(f,a,l),um(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hc(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=hm(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Li=l,a.target.dispatchEvent(l),Li=null}else return r=oi(a),r!==null&&xv(r),n.blockedOn=a,!1;r.shift()}return!0}function Vv(n,r,a){Hc(n)&&a.delete(r)}function SS(){dm=!1,jr!==null&&Hc(jr)&&(jr=null),Br!==null&&Hc(Br)&&(Br=null),zr!==null&&Hc(zr)&&(zr=null),Dl.forEach(Vv),Ml.forEach(Vv)}function Gc(n,r){n.blockedOn===r&&(n.blockedOn=null,dm||(dm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,SS)))}var Kc=null;function Pv(n){Kc!==n&&(Kc=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kc===n&&(Kc=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(fm(l||a)===null)continue;break}var d=oi(a);d!==null&&(n.splice(r,3),r-=3,fd(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Pl(n){function r(N){return Gc(N,n)}jr!==null&&Gc(jr,n),Br!==null&&Gc(Br,n),zr!==null&&Gc(zr,n),Dl.forEach(r),Ml.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)Mv(a),a.blockedOn===null&&qr.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[Ct]||null;if(typeof d=="function")E||Pv(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[Ct]||null)b=E.formAction;else if(fm(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Pv(a)}}}function mm(n){this._internalRoot=n}Qc.prototype.render=mm.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=Cn();Nv(a,l,n,r,null,null)},Qc.prototype.unmount=mm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Nv(n.current,2,null,n,null,null),Nc(),r[Pn]=null}};function Qc(n){this._internalRoot=n}Qc.prototype.unstable_scheduleHydration=function(n){if(n){var r=yr();n={blockedOn:null,target:n,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,n),a===0&&Mv(n)}};var kv=e.version;if(kv!=="19.1.0")throw Error(s(527,kv,"19.1.0"));ce.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var wS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yc.isDisabled&&Yc.supportsFiber)try{pt=Yc.inject(wS),Ye=Yc}catch{}}return Ul.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=Jy,d=Zy,E=e_,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=Rv(n,1,!1,null,null,a,l,f,d,E,b,null),n[Pn]=r.current,Xd(n),new mm(r)},Ul.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=Jy,E=Zy,b=e_,N=null,F=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(N=a.unstable_transitionCallbacks),a.formState!==void 0&&(F=a.formState)),r=Rv(n,1,!0,r,a??null,l,f,d,E,b,N,F),r.context=Cv(null),a=r.current,l=Cn(),l=gr(l),f=wr(l),f.callback=null,Rr(a,f,l),a=l,r.current.lanes=a,Mi(r,a),Ti(r),n[Pn]=r.current,Xd(n),new Qc(r)},Ul.version="19.1.0",Ul}var Qv;function LS(){if(Qv)return ym.exports;Qv=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ym.exports=US(),ym.exports}var jS=LS();const BS=VE(jS);PE();/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wl(){return Wl=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Wl.apply(this,arguments)}var $r;(function(i){i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE"})($r||($r={}));const Yv="popstate";function zS(i){i===void 0&&(i={});function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Lm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:gh(o)}return FS(e,t,null,i)}function dt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Tp(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qS(){return Math.random().toString(36).substr(2,8)}function $v(i,e){return{usr:i.state,key:i.key,idx:e}}function Lm(i,e,t,s){return t===void 0&&(t=null),Wl({pathname:typeof i=="string"?i:i.pathname,search:"",hash:""},typeof e=="string"?Eo(e):e,{state:t,key:e&&e.key||s||qS()})}function gh(i){let{pathname:e="/",search:t="",hash:s=""}=i;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Eo(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substr(t),i=i.substr(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substr(s),i=i.substr(0,s)),i&&(e.pathname=i)}return e}function FS(i,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m=$r.Pop,p=null,g=_();g==null&&(g=0,h.replaceState(Wl({},h.state,{idx:g}),""));function _(){return(h.state||{idx:null}).idx}function A(){m=$r.Pop;let P=_(),Z=P==null?null:P-g;g=P,p&&p({action:m,location:B.location,delta:Z})}function w(P,Z){m=$r.Push;let re=Lm(B.location,P,Z);g=_()+1;let K=$v(re,g),oe=B.createHref(re);try{h.pushState(K,"",oe)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(oe)}u&&p&&p({action:m,location:B.location,delta:1})}function O(P,Z){m=$r.Replace;let re=Lm(B.location,P,Z);g=_();let K=$v(re,g),oe=B.createHref(re);h.replaceState(K,"",oe),u&&p&&p({action:m,location:B.location,delta:0})}function x(P){let Z=o.location.origin!=="null"?o.location.origin:o.location.href,re=typeof P=="string"?P:gh(P);return dt(Z,"No window.location.(origin|href) available to create URL for href: "+re),new URL(re,Z)}let B={get action(){return m},get location(){return i(o,h)},listen(P){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yv,A),p=P,()=>{o.removeEventListener(Yv,A),p=null}},createHref(P){return e(o,P)},createURL:x,encodeLocation(P){let Z=x(P);return{pathname:Z.pathname,search:Z.search,hash:Z.hash}},push:w,replace:O,go(P){return h.go(P)}};return B}var Xv;(function(i){i.data="data",i.deferred="deferred",i.redirect="redirect",i.error="error"})(Xv||(Xv={}));function HS(i,e,t){t===void 0&&(t="/");let s=typeof e=="string"?Eo(e):e,o=Jl(s.pathname||"/",t);if(o==null)return null;let u=kE(i);GS(u);let h=null;for(let m=0;h==null&&m<u.length;++m)h=ew(u[m],nw(o));return h}function kE(i,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(dt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let g=Wr([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(dt(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),kE(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:JS(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,h);else for(let p of UE(u.path))o(u,h,p)}),e}function UE(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=UE(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function GS(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:ZS(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const KS=/^:\w+$/,QS=3,YS=2,$S=1,XS=10,WS=-2,Wv=i=>i==="*";function JS(i,e){let t=i.split("/"),s=t.length;return t.some(Wv)&&(s+=WS),e&&(s+=YS),t.filter(o=>!Wv(o)).reduce((o,u)=>o+(KS.test(u)?QS:u===""?$S:XS),s)}function ZS(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function ew(i,e){let{routesMeta:t}=i,s={},o="/",u=[];for(let h=0;h<t.length;++h){let m=t[h],p=h===t.length-1,g=o==="/"?e:e.slice(o.length)||"/",_=jm({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},g);if(!_)return null;Object.assign(s,_.params);let A=m.route;u.push({params:s,pathname:Wr([o,_.pathname]),pathnameBase:aw(Wr([o,_.pathnameBase])),route:A}),_.pathnameBase!=="/"&&(o=Wr([o,_.pathnameBase]))}return u}function jm(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=tw(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,_,A)=>{let{paramName:w,isOptional:O}=_;if(w==="*"){let B=m[A]||"";h=u.slice(0,u.length-B.length).replace(/(.)\/+$/,"$1")}const x=m[A];return O&&!x?g[w]=void 0:g[w]=iw(x||"",w),g},{}),pathname:u,pathnameBase:h,pattern:i}}function tw(i,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Tp(i==="*"||!i.endsWith("*")||i.endsWith("/*"),'Route path "'+i+'" will be treated as if it were '+('"'+i.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+i.replace(/\*$/,"/*")+'".'));let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nw(i){try{return decodeURI(i)}catch(e){return Tp(!1,'The URL path "'+i+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),i}}function iw(i,e){try{return decodeURIComponent(i)}catch(t){return Tp(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+i+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+t+").")),i}}function Jl(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function rw(i,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?Eo(i):i;return{pathname:t?t.startsWith("/")?t:sw(t,e):e,search:ow(s),hash:lw(o)}}function sw(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Tm(i,e,t,s){return"Cannot include a '"+i+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function bp(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ap(i,e,t,s){s===void 0&&(s=!1);let o;typeof i=="string"?o=Eo(i):(o=Wl({},i),dt(!o.pathname||!o.pathname.includes("?"),Tm("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Tm("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Tm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else if(s){let A=e[e.length-1].replace(/^\//,"").split("/");if(h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A.pop();o.pathname=w.join("/")}m="/"+A.join("/")}else{let A=e.length-1;if(h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}m=A>=0?e[A]:"/"}let p=rw(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}const Wr=i=>i.join("/").replace(/\/\/+/g,"/"),aw=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),ow=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,lw=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function uw(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}const LE=["post","put","patch","delete"];new Set(LE);const cw=["get",...LE];new Set(cw);/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yh(){return yh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},yh.apply(this,arguments)}const zh=$.createContext(null),jE=$.createContext(null),sa=$.createContext(null),qh=$.createContext(null),mr=$.createContext({outlet:null,matches:[],isDataRoute:!1}),BE=$.createContext(null);function hw(i,e){let{relative:t}=e===void 0?{}:e;To()||dt(!1);let{basename:s,navigator:o}=$.useContext(sa),{hash:u,pathname:h,search:m}=Fh(i,{relative:t}),p=h;return s!=="/"&&(p=h==="/"?s:Wr([s,h])),o.createHref({pathname:p,search:m,hash:u})}function To(){return $.useContext(qh)!=null}function bo(){return To()||dt(!1),$.useContext(qh).location}function zE(i){$.useContext(sa).static||$.useLayoutEffect(i)}function lu(){let{isDataRoute:i}=$.useContext(mr);return i?Rw():fw()}function fw(){To()||dt(!1);let i=$.useContext(zh),{basename:e,navigator:t}=$.useContext(sa),{matches:s}=$.useContext(mr),{pathname:o}=bo(),u=JSON.stringify(bp(s).map(p=>p.pathnameBase)),h=$.useRef(!1);return zE(()=>{h.current=!0}),$.useCallback(function(p,g){if(g===void 0&&(g={}),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Ap(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Wr([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}const dw=$.createContext(null);function mw(i){let e=$.useContext(mr).outlet;return e&&$.createElement(dw.Provider,{value:i},e)}function Fh(i,e){let{relative:t}=e===void 0?{}:e,{matches:s}=$.useContext(mr),{pathname:o}=bo(),u=JSON.stringify(bp(s).map(h=>h.pathnameBase));return $.useMemo(()=>Ap(i,JSON.parse(u),o,t==="path"),[i,u,o,t])}function pw(i,e){return gw(i,e)}function gw(i,e,t){To()||dt(!1);let{navigator:s}=$.useContext(sa),{matches:o}=$.useContext(mr),u=o[o.length-1],h=u?u.params:{};u&&u.pathname;let m=u?u.pathnameBase:"/";u&&u.route;let p=bo(),g;if(e){var _;let B=typeof e=="string"?Eo(e):e;m==="/"||(_=B.pathname)!=null&&_.startsWith(m)||dt(!1),g=B}else g=p;let A=g.pathname||"/",w=m==="/"?A:A.slice(m.length)||"/",O=HS(i,{pathname:w}),x=Tw(O&&O.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Wr([m,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Wr([m,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,t);return e&&x?$.createElement(qh.Provider,{value:{location:yh({pathname:"/",search:"",hash:"",state:null,key:"default"},g),navigationType:$r.Pop}},x):x}function yw(){let i=ww(),e=uw(i)?i.status+" "+i.statusText:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,null)}const _w=$.createElement(yw,null);class vw extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?$.createElement(mr.Provider,{value:this.props.routeContext},$.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ew(i){let{routeContext:e,match:t,children:s}=i,o=$.useContext(zh);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(mr.Provider,{value:e},s)}function Tw(i,e,t){var s;if(e===void 0&&(e=[]),t===void 0&&(t=null),i==null){var o;if((o=t)!=null&&o.errors)i=t.matches;else return null}let u=i,h=(s=t)==null?void 0:s.errors;if(h!=null){let m=u.findIndex(p=>p.route.id&&(h==null?void 0:h[p.route.id]));m>=0||dt(!1),u=u.slice(0,Math.min(u.length,m+1))}return u.reduceRight((m,p,g)=>{let _=p.route.id?h==null?void 0:h[p.route.id]:null,A=null;t&&(A=p.route.errorElement||_w);let w=e.concat(u.slice(0,g+1)),O=()=>{let x;return _?x=A:p.route.Component?x=$.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=m,$.createElement(Ew,{match:p,routeContext:{outlet:m,matches:w,isDataRoute:t!=null},children:x})};return t&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?$.createElement(vw,{location:t.location,revalidation:t.revalidation,component:A,error:_,children:O(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):O()},null)}var qE=function(i){return i.UseBlocker="useBlocker",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i}(qE||{}),FE=function(i){return i.UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId",i}(FE||{});function bw(i){let e=$.useContext(zh);return e||dt(!1),e}function Aw(i){let e=$.useContext(jE);return e||dt(!1),e}function Sw(i){let e=$.useContext(mr);return e||dt(!1),e}function HE(i){let e=Sw(),t=e.matches[e.matches.length-1];return t.route.id||dt(!1),t.route.id}function ww(){var i;let e=$.useContext(BE),t=Aw(),s=HE();return e||((i=t.errors)==null?void 0:i[s])}function Rw(){let{router:i}=bw(qE.UseNavigateStable),e=HE(FE.UseNavigateStable),t=$.useRef(!1);return zE(()=>{t.current=!0}),$.useCallback(function(o,u){u===void 0&&(u={}),t.current&&(typeof o=="number"?i.navigate(o):i.navigate(o,yh({fromRouteId:e},u)))},[i,e])}function GE(i){let{to:e,replace:t,state:s,relative:o}=i;To()||dt(!1);let{matches:u}=$.useContext(mr),{pathname:h}=bo(),m=lu(),p=Ap(e,bp(u).map(_=>_.pathnameBase),h,o==="path"),g=JSON.stringify(p);return $.useEffect(()=>m(JSON.parse(g),{replace:t,state:s,relative:o}),[m,g,o,t,s]),null}function KE(i){return mw(i.context)}function ei(i){dt(!1)}function Cw(i){let{basename:e="/",children:t=null,location:s,navigationType:o=$r.Pop,navigator:u,static:h=!1}=i;To()&&dt(!1);let m=e.replace(/^\/*/,"/"),p=$.useMemo(()=>({basename:m,navigator:u,static:h}),[m,u,h]);typeof s=="string"&&(s=Eo(s));let{pathname:g="/",search:_="",hash:A="",state:w=null,key:O="default"}=s,x=$.useMemo(()=>{let B=Jl(g,m);return B==null?null:{location:{pathname:B,search:_,hash:A,state:w,key:O},navigationType:o}},[m,g,_,A,w,O,o]);return x==null?null:$.createElement(sa.Provider,{value:p},$.createElement(qh.Provider,{children:t,value:x}))}function Nw(i){let{children:e,location:t}=i;return pw(Bm(e),t)}new Promise(()=>{});function Bm(i,e){e===void 0&&(e=[]);let t=[];return $.Children.forEach(i,(s,o)=>{if(!$.isValidElement(s))return;let u=[...e,o];if(s.type===$.Fragment){t.push.apply(t,Bm(s.props.children,u));return}s.type!==ei&&dt(!1),!s.props.index||!s.props.children||dt(!1);let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Bm(s.props.children,u)),t.push(h)}),t}/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _h(){return _h=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},_h.apply(this,arguments)}function QE(i,e){if(i==null)return{};var t={},s=Object.keys(i),o,u;for(u=0;u<s.length;u++)o=s[u],!(e.indexOf(o)>=0)&&(t[o]=i[o]);return t}function Iw(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function xw(i,e){return i.button===0&&(!e||e==="_self")&&!Iw(i)}const Ow=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Dw=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],Mw=$.createContext({isTransitioning:!1}),Vw="startTransition",Jv=MS[Vw];function Pw(i){let{basename:e,children:t,future:s,window:o}=i,u=$.useRef();u.current==null&&(u.current=zS({window:o,v5Compat:!0}));let h=u.current,[m,p]=$.useState({action:h.action,location:h.location}),{v7_startTransition:g}=s||{},_=$.useCallback(A=>{g&&Jv?Jv(()=>p(A)):p(A)},[p,g]);return $.useLayoutEffect(()=>h.listen(_),[h,_]),$.createElement(Cw,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:h})}const kw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Uw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jr=$.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,unstable_viewTransition:A}=e,w=QE(e,Ow),{basename:O}=$.useContext(sa),x,B=!1;if(typeof g=="string"&&Uw.test(g)&&(x=g,kw))try{let K=new URL(window.location.href),oe=g.startsWith("//")?new URL(K.protocol+g):new URL(g),ie=Jl(oe.pathname,O);oe.origin===K.origin&&ie!=null?g=ie+oe.search+oe.hash:B=!0}catch{}let P=hw(g,{relative:o}),Z=jw(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,unstable_viewTransition:A});function re(K){s&&s(K),K.defaultPrevented||Z(K)}return $.createElement("a",_h({},w,{href:x||P,onClick:B||u?s:re,ref:t,target:p}))}),Ll=$.forwardRef(function(e,t){let{"aria-current":s="page",caseSensitive:o=!1,className:u="",end:h=!1,style:m,to:p,unstable_viewTransition:g,children:_}=e,A=QE(e,Dw),w=Fh(p,{relative:A.relative}),O=bo(),x=$.useContext(jE),{navigator:B}=$.useContext(sa),P=x!=null&&Bw(w)&&g===!0,Z=B.encodeLocation?B.encodeLocation(w).pathname:w.pathname,re=O.pathname,K=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;o||(re=re.toLowerCase(),K=K?K.toLowerCase():null,Z=Z.toLowerCase());const oe=Z!=="/"&&Z.endsWith("/")?Z.length-1:Z.length;let ie=re===Z||!h&&re.startsWith(Z)&&re.charAt(oe)==="/",fe=K!=null&&(K===Z||!h&&K.startsWith(Z)&&K.charAt(Z.length)==="/"),M={isActive:ie,isPending:fe,isTransitioning:P},R=ie?s:void 0,C;typeof u=="function"?C=u(M):C=[u,ie?"active":null,fe?"pending":null,P?"transitioning":null].filter(Boolean).join(" ");let D=typeof m=="function"?m(M):m;return $.createElement(Jr,_h({},A,{"aria-current":R,className:C,ref:t,style:D,to:p,unstable_viewTransition:g}),typeof _=="function"?_(M):_)});var zm;(function(i){i.UseScrollRestoration="useScrollRestoration",i.UseSubmit="useSubmit",i.UseSubmitFetcher="useSubmitFetcher",i.UseFetcher="useFetcher",i.useViewTransitionState="useViewTransitionState"})(zm||(zm={}));var Zv;(function(i){i.UseFetcher="useFetcher",i.UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration"})(Zv||(Zv={}));function Lw(i){let e=$.useContext(zh);return e||dt(!1),e}function jw(i,e){let{target:t,replace:s,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m}=e===void 0?{}:e,p=lu(),g=bo(),_=Fh(i,{relative:h});return $.useCallback(A=>{if(xw(A,t)){A.preventDefault();let w=s!==void 0?s:gh(g)===gh(_);p(i,{replace:w,state:o,preventScrollReset:u,relative:h,unstable_viewTransition:m})}},[g,p,_,s,o,t,i,u,h,m])}function Bw(i,e){e===void 0&&(e={});let t=$.useContext(Mw);t==null&&dt(!1);let{basename:s}=Lw(zm.useViewTransitionState),o=Fh(i,{relative:e.relative});if(!t.isTransitioning)return!1;let u=Jl(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Jl(t.nextLocation.pathname,s)||t.nextLocation.pathname;return jm(o.pathname,h)!=null||jm(o.pathname,u)!=null}class YE extends $.Component{constructor(){super(...arguments);Uv(this,"state",{hasError:!1,error:null})}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,s){console.error("Error Boundary:",t,s)}render(){return this.state.hasError?T.jsxs("div",{className:"error-boundary",children:[T.jsx("h2",{children:"Algo deu errado!"}),T.jsx("p",{children:this.state.error.message}),T.jsx(Jr,{to:"/",className:"retry-button",children:"Voltar para a página inicial"})]}):this.props.children}}var $E={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},e0=ur.createContext&&ur.createContext($E),zw=["attr","size","title"];function qw(i,e){if(i==null)return{};var t=Fw(i,e),s,o;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(i);for(o=0;o<u.length;o++)s=u[o],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(i,s)&&(t[s]=i[s])}return t}function Fw(i,e){if(i==null)return{};var t={};for(var s in i)if(Object.prototype.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;t[s]=i[s]}return t}function vh(){return vh=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},vh.apply(this,arguments)}function t0(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(i);e&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),t.push.apply(t,s)}return t}function Eh(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?t0(Object(t),!0).forEach(function(s){Hw(i,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):t0(Object(t)).forEach(function(s){Object.defineProperty(i,s,Object.getOwnPropertyDescriptor(t,s))})}return i}function Hw(i,e,t){return e=Gw(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}function Gw(i){var e=Kw(i,"string");return typeof e=="symbol"?e:e+""}function Kw(i,e){if(typeof i!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var s=t.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function XE(i){return i&&i.map((e,t)=>ur.createElement(e.tag,Eh({key:t},e.attr),XE(e.child)))}function lt(i){return e=>ur.createElement(Qw,vh({attr:Eh({},i.attr)},e),XE(i.child))}function Qw(i){var e=t=>{var{attr:s,size:o,title:u}=i,h=qw(i,zw),m=o||t.size||"1em",p;return t.className&&(p=t.className),i.className&&(p=(p?p+" ":"")+i.className),ur.createElement("svg",vh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,h,{className:p,style:Eh(Eh({color:i.color||t.color},t.style),i.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&ur.createElement("title",null,u),i.children)};return e0!==void 0?ur.createElement(e0.Consumer,null,t=>e(t)):e($E)}function Yw(i){return lt({attr:{viewBox:"0 0 488 512"},child:[{tag:"path",attr:{d:"M488 261.8C488 403.3 391.1 504 248 504 110.8 504 0 393.2 0 256S110.8 8 248 8c66.8 0 123 24.5 166.3 64.9l-67.5 64.9C258.5 52.6 94.3 116.6 94.3 256c0 86.5 69.1 156.6 153.7 156.6 98.2 0 135-70.4 140.8-106.9H248v-85.3h236.1c2.3 12.7 3.9 24.9 3.9 41.4z"},child:[]}]})(i)}function WE(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(i)}function $w(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(i)}function Xw(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(i)}function Si(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(i)}function Ww(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(i)}function Jw(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(i)}function Sp(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(i)}function Zw(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(i)}function ih(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"},child:[]}]})(i)}function JE(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(i)}function e2(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(i)}function t2(i){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(i)}function uu(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(i)}function n2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(i)}function i2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(i)}function r2(i){return lt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(i)}function s2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(i)}function ZE(i){return lt({attr:{viewBox:"0 0 536 512"},child:[{tag:"path",attr:{d:"M508.55 171.51L362.18 150.2 296.77 17.81C290.89 5.98 279.42 0 267.95 0c-11.4 0-22.79 5.9-28.69 17.81l-65.43 132.38-146.38 21.29c-26.25 3.8-36.77 36.09-17.74 54.59l105.89 103-25.06 145.48C86.98 495.33 103.57 512 122.15 512c4.93 0 10-1.17 14.87-3.75l130.95-68.68 130.94 68.7c4.86 2.55 9.92 3.71 14.83 3.71 18.6 0 35.22-16.61 31.66-37.4l-25.03-145.49 105.91-102.98c19.04-18.5 8.52-50.8-17.73-54.6zm-121.74 123.2l-18.12 17.62 4.28 24.88 19.52 113.45-102.13-53.59-22.38-11.74.03-317.19 51.03 103.29 11.18 22.63 25.01 3.64 114.23 16.63-82.65 80.38z"},child:[]}]})(i)}function Zl(i){return lt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M259.3 17.8L194 150.2 47.9 171.5c-26.2 3.8-36.7 36.1-17.7 54.6l105.7 103-25 145.5c-4.5 26.3 23.2 46 46.4 33.7L288 439.6l130.7 68.7c23.2 12.2 50.9-7.4 46.4-33.7l-25-145.5 105.7-103c19-18.5 8.5-50.8-17.7-54.6L382 150.2 316.7 17.8c-11.7-23.6-45.6-23.9-57.4 0z"},child:[]}]})(i)}function a2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(i)}function eT(i){return lt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(i)}function tT(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(i)}function nT(i){return lt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(i)}function o2(i){return lt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(i)}var n0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},l2=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,A=(u&3)<<4|m>>4;let w=(m&15)<<2|g>>6,O=g&63;p||(O=64,h||(w=64)),s.push(t[_],t[A],t[w],t[O])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(iT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):l2(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new u2;const w=u<<2|m>>4;if(s.push(w),g!==64){const O=m<<4&240|g>>2;if(s.push(O),A!==64){const x=g<<6&192|A;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class u2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c2=function(i){const e=iT(i);return rT.encodeByteArray(e,!0)},Th=function(i){return c2(i).replace(/\./g,"")},sT=function(i){try{return rT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f2=()=>h2().__FIREBASE_DEFAULTS__,d2=()=>{if(typeof process>"u"||typeof n0>"u")return;const i=n0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},m2=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&sT(i[1]);return e&&JSON.parse(e)},Hh=()=>{try{return f2()||d2()||m2()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},aT=i=>{var e,t;return(t=(e=Hh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[i]},oT=i=>{const e=aT(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},lT=()=>{var i;return(i=Hh())===null||i===void 0?void 0:i.config},uT=i=>{var e;return(e=Hh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[Th(JSON.stringify(t)),Th(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function g2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function y2(){var i;const e=(i=Hh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function v2(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function E2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function T2(){const i=un();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function b2(){return!y2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function A2(){try{return typeof indexedDB=="object"}catch{return!1}}function S2(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="FirebaseError";class Oi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=w2,Object.setPrototypeOf(this,Oi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?R2(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new Oi(o,m,s)}}function R2(i,e){return i.replace(C2,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const C2=/\{\$([^}]+)}/g;function N2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function bh(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(i0(u)&&i0(h)){if(!bh(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function i0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function I2(i,e){const t=new x2(i,e);return t.subscribe.bind(t)}class x2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");O2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=bm),o.error===void 0&&(o.error=bm),o.complete===void 0&&(o.complete=bm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function O2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function bm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(i){return i&&i._delegate?i._delegate:i}class is{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new p2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(V2(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:M2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M2(i){return i===Fs?void 0:i}function V2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new D2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Le||(Le={}));const k2={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},U2=Le.INFO,L2={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},j2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=L2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=U2,this._logHandler=j2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?k2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const B2=(i,e)=>e.some(t=>i instanceof t);let r0,s0;function z2(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function q2(){return s0||(s0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hT=new WeakMap,qm=new WeakMap,fT=new WeakMap,Am=new WeakMap,Rp=new WeakMap;function F2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(Zr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&hT.set(t,i)}).catch(()=>{}),Rp.set(e,i),e}function H2(i){if(qm.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});qm.set(i,e)}let Fm={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||fT.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Zr(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function G2(i){Fm=i(Fm)}function K2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(Sm(this),e,...t);return fT.set(s,e.sort?e.sort():[e]),Zr(s)}:q2().includes(i)?function(...e){return i.apply(Sm(this),e),Zr(hT.get(this))}:function(...e){return Zr(i.apply(Sm(this),e))}}function Q2(i){return typeof i=="function"?K2(i):(i instanceof IDBTransaction&&H2(i),B2(i,z2())?new Proxy(i,Fm):i)}function Zr(i){if(i instanceof IDBRequest)return F2(i);if(Am.has(i))return Am.get(i);const e=Q2(i);return e!==i&&(Am.set(i,e),Rp.set(e,i)),e}const Sm=i=>Rp.get(i);function Y2(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Zr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Zr(h.result),p.oldVersion,p.newVersion,Zr(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const $2=["get","getKey","getAll","getAllKeys","count"],X2=["put","add","delete","clear"],wm=new Map;function a0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(wm.get(e))return wm.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=X2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||$2.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return wm.set(e,u),u}G2(i=>({...i,get:(e,t,s)=>a0(e,t)||i.get(e,t,s),has:(e,t)=>!!a0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function J2(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hm="@firebase/app",o0="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new wp("@firebase/app"),Z2="@firebase/app-compat",eR="@firebase/analytics-compat",tR="@firebase/analytics",nR="@firebase/app-check-compat",iR="@firebase/app-check",rR="@firebase/auth",sR="@firebase/auth-compat",aR="@firebase/database",oR="@firebase/data-connect",lR="@firebase/database-compat",uR="@firebase/functions",cR="@firebase/functions-compat",hR="@firebase/installations",fR="@firebase/installations-compat",dR="@firebase/messaging",mR="@firebase/messaging-compat",pR="@firebase/performance",gR="@firebase/performance-compat",yR="@firebase/remote-config",_R="@firebase/remote-config-compat",vR="@firebase/storage",ER="@firebase/storage-compat",TR="@firebase/firestore",bR="@firebase/vertexai-preview",AR="@firebase/firestore-compat",SR="firebase",wR="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",RR={[Hm]:"fire-core",[Z2]:"fire-core-compat",[tR]:"fire-analytics",[eR]:"fire-analytics-compat",[iR]:"fire-app-check",[nR]:"fire-app-check-compat",[rR]:"fire-auth",[sR]:"fire-auth-compat",[aR]:"fire-rtdb",[oR]:"fire-data-connect",[lR]:"fire-rtdb-compat",[uR]:"fire-fn",[cR]:"fire-fn-compat",[hR]:"fire-iid",[fR]:"fire-iid-compat",[dR]:"fire-fcm",[mR]:"fire-fcm-compat",[pR]:"fire-perf",[gR]:"fire-perf-compat",[yR]:"fire-rc",[_R]:"fire-rc-compat",[vR]:"fire-gcs",[ER]:"fire-gcs-compat",[TR]:"fire-fst",[AR]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[SR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,CR=new Map,Km=new Map;function l0(i,e){try{i.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ws(i){const e=i.name;if(Km.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;Km.set(e,i);for(const t of Ah.values())l0(t,i);for(const t of CR.values())l0(t,i);return!0}function Gh(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function rr(i){return i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new cu("app","Firebase",NR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa=wR;function dT(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(t||(t=lT()),!t)throw es.create("no-options");const u=Ah.get(o);if(u){if(bh(t,u.options)&&bh(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const h=new P2(o);for(const p of Km.values())h.addComponent(p);const m=new IR(t,s,h);return Ah.set(o,m),m}function Cp(i=Gm){const e=Ah.get(i);if(!e&&i===Gm&&lT())return dT();if(!e)throw es.create("no-app",{appName:i});return e}function wi(i,e,t){var s;let o=(s=RR[i])!==null&&s!==void 0?s:i;t&&(o+=`-${t}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(m.join(" "));return}Ws(new is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="firebase-heartbeat-database",OR=1,eu="firebase-heartbeat-store";let Rm=null;function mT(){return Rm||(Rm=Y2(xR,OR,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(eu)}catch(t){console.warn(t)}}}}).catch(i=>{throw es.create("idb-open",{originalErrorMessage:i.message})})),Rm}async function DR(i){try{const t=(await mT()).transaction(eu),s=await t.objectStore(eu).get(pT(i));return await t.done,s}catch(e){if(e instanceof Oi)cr.warn(e.message);else{const t=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(t.message)}}}async function u0(i,e){try{const s=(await mT()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,pT(i)),await s.done}catch(t){if(t instanceof Oi)cr.warn(t.message);else{const s=es.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});cr.warn(s.message)}}}function pT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=1024,VR=30*24*60*60*1e3;class PR{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new UR(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=c0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=VR}),this._storage.overwrite(this._heartbeatsCache))}catch(s){cr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=c0(),{heartbeatsToSend:s,unsentEntries:o}=kR(this._heartbeatsCache.heartbeats),u=Th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return cr.warn(t),""}}}function c0(){return new Date().toISOString().substring(0,10)}function kR(i,e=MR){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),h0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),h0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class UR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A2()?S2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await DR(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return u0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return u0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function h0(i){return Th(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(i){Ws(new is("platform-logger",e=>new W2(e),"PRIVATE")),Ws(new is("heartbeat",e=>new PR(e),"PRIVATE")),wi(Hm,o0,i),wi(Hm,o0,"esm2017"),wi("fire-js","")}LR("");var jR="firebase",BR="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wi(jR,BR,"app");function Np(i,e){var t={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(t[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(t[s[o]]=i[s[o]]);return t}function gT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=gT,yT=new cu("auth","Firebase",gT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new wp("@firebase/auth");function qR(i,...e){Sh.logLevel<=Le.WARN&&Sh.warn(`Auth (${aa}): ${i}`,...e)}function rh(i,...e){Sh.logLevel<=Le.ERROR&&Sh.error(`Auth (${aa}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(i,...e){throw xp(i,...e)}function ni(i,...e){return xp(i,...e)}function Ip(i,e,t){const s=Object.assign(Object.assign({},zR()),{[e]:t});return new cu("auth","Firebase",s).create(e,{appName:i.name})}function Qs(i){return Ip(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function FR(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Ii(i,"argument-error"),Ip(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xp(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return yT.create(i,...e)}function we(i,e,...t){if(!i)throw xp(e,...t)}function sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw rh(e),new Error(e)}function hr(i,e){i||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function HR(){return f0()==="http:"||f0()==="https:"}function f0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||v2()||"connection"in navigator)?navigator.onLine:!0}function KR(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t){this.shortDelay=e,this.longDelay=t,hr(t>e,"Short delay should be less than long delay!"),this.isMobile=g2()||E2()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(i,e){hr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new fu(3e4,6e4);function Dp(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function oa(i,e,t,s,o={}){return vT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return _2()||(g.referrerPolicy="no-referrer"),_T.fetch()(ET(i,i.config.apiHost,t,m),g)})}async function vT(i,e,t){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},QR),e);try{const o=new XR(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw $c(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw $c(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw $c(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Ip(i,_,g);Ii(i,_)}}catch(o){if(o instanceof Oi)throw o;Ii(i,"network-request-failed",{message:String(o)})}}async function $R(i,e,t,s,o={}){const u=await oa(i,e,t,s,o);return"mfaPendingCredential"in u&&Ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}function ET(i,e,t,s){const o=`${e}${t}?${s}`;return i.config.emulator?Op(i.config,o):`${i.config.apiScheme}://${o}`}class XR{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ni(this.auth,"network-request-failed")),YR.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $c(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ni(i,e,s);return o.customData._tokenResponse=t,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WR(i,e){return oa(i,"POST","/v1/accounts:delete",e)}async function TT(i,e){return oa(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function JR(i,e=!1){const t=_t(i),s=await t.getIdToken(e),o=Mp(s);we(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(Cm(o.auth_time)),issuedAtTime:Gl(Cm(o.iat)),expirationTime:Gl(Cm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Cm(i){return Number(i)*1e3}function Mp(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return rh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(t);return o?JSON.parse(o):(rh("Failed to decode base64 JWT payload"),null)}catch(o){return rh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function d0(i){const e=Mp(i);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Oi&&ZR(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function ZR({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(i){var e;const t=i.auth,s=await i.getIdToken(),o=await co(i,TT(t,{idToken:s}));we(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?bT(u.providerUserInfo):[],m=nC(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(m!=null&&m.length),_=p?g:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Ym(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(i,A)}async function tC(i){const e=_t(i);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function nC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function bT(i){return i.map(e=>{var{providerId:t}=e,s=Np(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iC(i,e){const t=await vT(i,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=ET(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",_T.fetch()(h,{method:"POST",headers:m,body:s})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function rC(i,e){return oa(i,"POST","/v2/accounts:revokeToken",Dp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=d0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await iC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new so;return s&&(we(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(i,e){we(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,u=Np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await co(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return JR(this,e)}reload(){return tC(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await wh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(rr(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await co(this,WR(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,u,h,m,p,g,_;const A=(s=t.displayName)!==null&&s!==void 0?s:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,x=(h=t.photoURL)!==null&&h!==void 0?h:void 0,B=(m=t.tenantId)!==null&&m!==void 0?m:void 0,P=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,Z=(g=t.createdAt)!==null&&g!==void 0?g:void 0,re=(_=t.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:K,emailVerified:oe,isAnonymous:ie,providerData:fe,stsTokenManager:M}=t;we(K&&M,e,"internal-error");const R=so.fromJSON(this.name,M);we(typeof K=="string",e,"internal-error"),Hr(A,e.name),Hr(w,e.name),we(typeof oe=="boolean",e,"internal-error"),we(typeof ie=="boolean",e,"internal-error"),Hr(O,e.name),Hr(x,e.name),Hr(B,e.name),Hr(P,e.name),Hr(Z,e.name),Hr(re,e.name);const C=new ar({uid:K,auth:e,email:w,emailVerified:oe,displayName:A,isAnonymous:ie,photoURL:x,phoneNumber:O,tenantId:B,stsTokenManager:R,createdAt:Z,lastLoginAt:re});return fe&&Array.isArray(fe)&&(C.providerData=fe.map(D=>Object.assign({},D))),P&&(C._redirectEventId=P),C}static async _fromIdTokenResponse(e,t,s=!1){const o=new so;o.updateFromServerResponse(t);const u=new ar({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await wh(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?bT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(s);const p=new ar({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0=new Map;function or(i){hr(i instanceof Function,"Expected a class definition");let e=m0.get(i);return e?(hr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,m0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}AT.type="NONE";const p0=AT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(i,e,t){return`firebase:${i}:${e}:${t}`}class ao{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=sh(this.userKey,o.apiKey,u),this.fullPersistenceKey=sh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new ao(or(p0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||or(p0);const h=sh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){const A=ar._fromJSON(e,_);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ST(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(IT(e))return"Blackberry";if(xT(e))return"Webos";if(wT(e))return"Safari";if((e.includes("chrome/")||RT(e))&&!e.includes("edge/"))return"Chrome";if(NT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function ST(i=un()){return/firefox\//i.test(i)}function wT(i=un()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function RT(i=un()){return/crios\//i.test(i)}function CT(i=un()){return/iemobile/i.test(i)}function NT(i=un()){return/android/i.test(i)}function IT(i=un()){return/blackberry/i.test(i)}function xT(i=un()){return/webos/i.test(i)}function Vp(i=un()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function sC(i=un()){var e;return Vp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function aC(){return T2()&&document.documentMode===10}function OT(i=un()){return Vp(i)||NT(i)||xT(i)||IT(i)||/windows phone/i.test(i)||CT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DT(i,e=[]){let t;switch(i){case"Browser":t=g0(un());break;case"Worker":t=`${g0(un())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${aa}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(i,e={}){return oa(i,"GET","/v2/passwordPolicy",Dp(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=6;class cC{constructor(e){var t,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:uC,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=or(t)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await TT(this,{idToken:e}),s=await ar._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(rr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KR()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(rr(this.app))return Promise.reject(Qs(this));const t=e?_t(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return rr(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return rr(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await lC(this),t=new cC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await rC(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&or(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&qR(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Kh(i){return _t(i)}class y0{constructor(e){this.auth=e,this.observer=null,this.addObserver=I2(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(i){Pp=i}function dC(i){return Pp.loadJS(i)}function mC(){return Pp.gapiScript}function pC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(i,e){const t=Gh(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(bh(u,e??{}))return o;Ii(o,"already-initialized")}return t.initialize({options:e})}function yC(i,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(or);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function _C(i,e,t){const s=Kh(i);we(s._canInitEmulator,s,"emulator-config-failed"),we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=MT(e),{host:h,port:m}=vC(e),p=m===null?"":`:${m}`;s.config.emulator={url:`${u}//${h}${p}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),EC()}function MT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function vC(i){const e=MT(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:_0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:_0(h)}}}function _0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function EC(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,t){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(i,e){return $R(i,"POST","/v1/accounts:signInWithIdp",Dp(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="http://localhost";class Js extends VT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ii("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,u=Np(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new Js(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return oo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,oo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,oo(e,t)}buildRequest(){const e={requestUri:TC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=hu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class du extends kp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr extends du{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Gr.credentialFromTaggedObject(e)}static credentialFromError(e){return Gr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Gr.credential(e.oauthAccessToken)}catch{return null}}}Gr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Js._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ir.credential(t,s)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends du{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.GITHUB_SIGN_IN_METHOD="github.com";Kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends du{constructor(){super("twitter.com")}static credential(e,t){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return Qr.credential(t,s)}catch{return null}}}Qr.TWITTER_SIGN_IN_METHOD="twitter.com";Qr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await ar._fromIdTokenResponse(e,s,o),h=v0(s);return new ho({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=v0(s);return new ho({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function v0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Oi{constructor(e,t,s,o){var u;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Rh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new Rh(e,t,s,o)}}function PT(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Rh._fromErrorAndOperation(i,u,e,s):u})}async function bC(i,e,t=!1){const s=await co(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return ho._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AC(i,e,t=!1){const{auth:s}=i;if(rr(s.app))return Promise.reject(Qs(s));const o="reauthenticate";try{const u=await co(i,PT(s,o,e,i),t);we(u.idToken,s,"internal-error");const h=Mp(u.idToken);we(h,s,"internal-error");const{sub:m}=h;return we(i.uid===m,s,"user-mismatch"),ho._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SC(i,e,t=!1){if(rr(i.app))return Promise.reject(Qs(i));const s="signIn",o=await PT(i,s,e),u=await ho._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wC(i,e){return oa(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E0(i,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const s=_t(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await co(s,wC(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const m=s.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=s.displayName,m.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(i,e){return _t(i).setPersistence(e)}function CC(i,e,t,s){return _t(i).onIdTokenChanged(e,t,s)}function NC(i,e,t){return _t(i).beforeAuthStateChanged(e,t)}function IC(i){return _t(i).signOut()}const Ch="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Ch,"1"),this.storage.removeItem(Ch),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=1e3,OC=10;class UT extends kT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=OT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);aC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,OC):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},xC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}UT.type="LOCAL";const LT=UT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT extends kT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jT.type="SESSION";const BT=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Qh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await DC(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=Up("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(w.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ri(){return window}function VC(i){Ri().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function PC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function UC(){return zT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebaseLocalStorageDb",LC=1,Nh="firebaseLocalStorage",FT="fbase_key";class mu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Yh(i,e){return i.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function jC(){const i=indexedDB.deleteDatabase(qT);return new mu(i).toPromise()}function $m(){const i=indexedDB.open(qT,LC);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Nh,{keyPath:FT})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Nh)?e(s):(s.close(),await jC(),e(await $m()))})})}async function T0(i,e,t){const s=Yh(i,!0).put({[FT]:e,value:t});return new mu(s).toPromise()}async function BC(i,e){const t=Yh(i,!1).get(e),s=await new mu(t).toPromise();return s===void 0?null:s.value}function b0(i,e){const t=Yh(i,!0).delete(e);return new mu(t).toPromise()}const zC=800,qC=3;class HT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>qC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qh._getInstance(UC()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await PC(),!this.activeServiceWorker)return;this.sender=new MC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await T0(e,Ch,"1"),await b0(e,Ch),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>T0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>BC(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>b0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Yh(o,!1).getAll();return new mu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}HT.type="LOCAL";const FC=HT;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e){return e?or(e):(we(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp extends VT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function HC(i){return SC(i.auth,new Lp(i),i.bypassAuthState)}function GC(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),AC(t,new Lp(i),i.bypassAuthState)}async function KC(i){const{auth:e,user:t}=i;return we(t,e,"internal-error"),bC(t,new Lp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return KC;case"reauthViaPopup":case"reauthViaRedirect":return GC;default:Ii(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QC=new fu(2e3,1e4);async function YC(i,e,t){if(rr(i.app))return Promise.reject(ni(i,"operation-not-supported-in-this-environment"));const s=Kh(i);FR(i,e,kp);const o=GT(s,t);return new Hs(s,"signInViaPopup",e,o).executeNotNull()}class Hs extends KT{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Hs.currentPopupAction&&Hs.currentPopupAction.cancel(),Hs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Up();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QC.get())};e()}}Hs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="pendingRedirect",ah=new Map;class XC extends KT{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=ah.get(this.auth._key());if(!e){try{const s=await WC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}ah.set(this.auth._key(),e)}return this.bypassAuthState||ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WC(i,e){const t=e4(e),s=ZC(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function JC(i,e){ah.set(i._key(),e)}function ZC(i){return or(i._redirectPersistence)}function e4(i){return sh($C,i.config.apiKey,i.name)}async function t4(i,e,t=!1){if(rr(i.app))return Promise.reject(Qs(i));const s=Kh(i),o=GT(s,e),h=await new XC(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=10*60*1e3;class i4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!r4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!QT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(ni(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=n4&&this.cachedEventUids.clear(),this.cachedEventUids.has(A0(e))}saveEventToCache(e){this.cachedEventUids.add(A0(e)),this.lastProcessedEventTime=Date.now()}}function A0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function QT({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function r4(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QT(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s4(i,e={}){return oa(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o4=/^https?/;async function l4(i){if(i.config.emulator)return;const{authorizedDomains:e}=await s4(i);for(const t of e)try{if(u4(t))return}catch{}Ii(i,"unauthorized-domain")}function u4(i){const e=Qm(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!o4.test(t))return!1;if(a4.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4=new fu(3e4,6e4);function S0(){const i=Ri().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function h4(i){return new Promise((e,t)=>{var s,o,u;function h(){S0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{S0(),t(ni(i,"network-request-failed"))},timeout:c4.get()})}if(!((o=(s=Ri().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ri().gapi)===null||u===void 0)&&u.load)h();else{const m=pC("iframefcb");return Ri()[m]=()=>{gapi.load?h():t(ni(i,"network-request-failed"))},dC(`${mC()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw oh=null,e})}let oh=null;function f4(i){return oh=oh||h4(i),oh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d4=new fu(5e3,15e3),m4="__/auth/iframe",p4="emulator/auth/iframe",g4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},y4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _4(i){const e=i.config;we(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Op(e,p4):`https://${i.config.authDomain}/${m4}`,s={apiKey:e.apiKey,appName:i.name,v:aa},o=y4.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${hu(s).slice(1)}`}async function v4(i){const e=await f4(i),t=Ri().gapi;return we(t,i,"internal-error"),e.open({where:document.body,url:_4(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:g4,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ni(i,"network-request-failed"),m=Ri().setTimeout(()=>{u(h)},d4.get());function p(){Ri().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},T4=500,b4=600,A4="_blank",S4="http://localhost";class w0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function w4(i,e,t,s=T4,o=b4){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},E4),{width:s.toString(),height:o.toString(),top:u,left:h}),g=un().toLowerCase();t&&(m=RT(g)?A4:t),ST(g)&&(e=e||S4,p.scrollbars="yes");const _=Object.entries(p).reduce((w,[O,x])=>`${w}${O}=${x},`,"");if(sC(g)&&m!=="_self")return R4(e||"",m),new w0(null);const A=window.open(e||"",m,_);we(A,i,"popup-blocked");try{A.focus()}catch{}return new w0(A)}function R4(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4="__/auth/handler",N4="emulator/auth/handler",I4=encodeURIComponent("fac");async function R0(i,e,t,s,o,u){we(i.config.authDomain,i,"auth-domain-config-required"),we(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:aa,eventId:o};if(e instanceof kp){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",N2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof du){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${I4}=${encodeURIComponent(p)}`:"";return`${x4(i)}?${hu(m).slice(1)}${g}`}function x4({config:i}){return i.emulator?Op(i,N4):`https://${i.authDomain}/${C4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class O4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=BT,this._completeRedirectFn=t4,this._overrideRedirectResult=JC}async _openPopup(e,t,s,o){var u;hr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await R0(e,t,s,Qm(),o);return w4(e,h,Up())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await R0(e,t,s,Qm(),o);return VC(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await v4(e),s=new i4(e);return t.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Nm,{type:Nm},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Nm];h!==void 0&&t(!!h),Ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=l4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return OT()||wT()||Vp()}}const D4=O4;var C0="@firebase/auth",N0="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V4(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P4(i){Ws(new is("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;we(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DT(i)},g=new hC(s,o,u,p);return yC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),Ws(new is("auth-internal",e=>{const t=Kh(e.getProvider("auth").getImmediate());return(s=>new M4(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),wi(C0,N0,V4(i)),wi(C0,N0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=5*60,U4=uT("authIdTokenMaxAge")||k4;let I0=null;const L4=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>U4)return;const o=t==null?void 0:t.token;I0!==o&&(I0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j4(i=Cp()){const e=Gh(i,"auth");if(e.isInitialized())return e.getImmediate();const t=gC(i,{popupRedirectResolver:D4,persistence:[FC,LT,BT]}),s=uT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=L4(u.toString());NC(t,h,()=>h(t.currentUser)),CC(t,m=>h(m))}}const o=aT("auth");return o&&_C(t,`http://${o}`),t}function B4(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}fC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ni("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",B4().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P4("Browser");var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ys,YT;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function C(){}C.prototype=R.prototype,M.D=R.prototype,M.prototype=new C,M.prototype.constructor=M,M.C=function(D,k,L){for(var I=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)I[Ie-2]=arguments[Ie];return R.prototype[k].apply(D,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,C){C||(C=0);var D=Array(16);if(typeof R=="string")for(var k=0;16>k;++k)D[k]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(k=0;16>k;++k)D[k]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=M.g[0],C=M.g[1],k=M.g[2];var L=M.g[3],I=R+(L^C&(k^L))+D[0]+3614090360&4294967295;R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[1]+3905402710&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[2]+606105819&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[3]+3250441966&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(L^C&(k^L))+D[4]+4118548399&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[5]+1200080426&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[6]+2821735955&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[7]+4249261313&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(L^C&(k^L))+D[8]+1770035416&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[9]+2336552879&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[10]+4294925233&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[11]+2304563134&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(L^C&(k^L))+D[12]+1804603682&4294967295,R=C+(I<<7&4294967295|I>>>25),I=L+(k^R&(C^k))+D[13]+4254626195&4294967295,L=R+(I<<12&4294967295|I>>>20),I=k+(C^L&(R^C))+D[14]+2792965006&4294967295,k=L+(I<<17&4294967295|I>>>15),I=C+(R^k&(L^R))+D[15]+1236535329&4294967295,C=k+(I<<22&4294967295|I>>>10),I=R+(k^L&(C^k))+D[1]+4129170786&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[6]+3225465664&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[11]+643717713&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[0]+3921069994&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(k^L&(C^k))+D[5]+3593408605&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[10]+38016083&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[15]+3634488961&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[4]+3889429448&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(k^L&(C^k))+D[9]+568446438&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[14]+3275163606&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[3]+4107603335&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[8]+1163531501&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(k^L&(C^k))+D[13]+2850285829&4294967295,R=C+(I<<5&4294967295|I>>>27),I=L+(C^k&(R^C))+D[2]+4243563512&4294967295,L=R+(I<<9&4294967295|I>>>23),I=k+(R^C&(L^R))+D[7]+1735328473&4294967295,k=L+(I<<14&4294967295|I>>>18),I=C+(L^R&(k^L))+D[12]+2368359562&4294967295,C=k+(I<<20&4294967295|I>>>12),I=R+(C^k^L)+D[5]+4294588738&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[8]+2272392833&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[11]+1839030562&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[14]+4259657740&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(C^k^L)+D[1]+2763975236&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[4]+1272893353&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[7]+4139469664&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[10]+3200236656&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(C^k^L)+D[13]+681279174&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[0]+3936430074&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[3]+3572445317&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[6]+76029189&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(C^k^L)+D[9]+3654602809&4294967295,R=C+(I<<4&4294967295|I>>>28),I=L+(R^C^k)+D[12]+3873151461&4294967295,L=R+(I<<11&4294967295|I>>>21),I=k+(L^R^C)+D[15]+530742520&4294967295,k=L+(I<<16&4294967295|I>>>16),I=C+(k^L^R)+D[2]+3299628645&4294967295,C=k+(I<<23&4294967295|I>>>9),I=R+(k^(C|~L))+D[0]+4096336452&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[7]+1126891415&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[14]+2878612391&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[5]+4237533241&4294967295,C=k+(I<<21&4294967295|I>>>11),I=R+(k^(C|~L))+D[12]+1700485571&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[3]+2399980690&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[10]+4293915773&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[1]+2240044497&4294967295,C=k+(I<<21&4294967295|I>>>11),I=R+(k^(C|~L))+D[8]+1873313359&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[15]+4264355552&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[6]+2734768916&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[13]+1309151649&4294967295,C=k+(I<<21&4294967295|I>>>11),I=R+(k^(C|~L))+D[4]+4149444226&4294967295,R=C+(I<<6&4294967295|I>>>26),I=L+(C^(R|~k))+D[11]+3174756917&4294967295,L=R+(I<<10&4294967295|I>>>22),I=k+(R^(L|~C))+D[2]+718787259&4294967295,k=L+(I<<15&4294967295|I>>>17),I=C+(L^(k|~R))+D[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(k+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var C=R-this.blockSize,D=this.B,k=this.h,L=0;L<R;){if(k==0)for(;L<=C;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<R;)if(D[k++]=M.charCodeAt(L++),k==this.blockSize){o(this,D),k=0;break}}else for(;L<R;)if(D[k++]=M[L++],k==this.blockSize){o(this,D),k=0;break}}this.h=k,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var C=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=C&255,C/=256;for(this.u(M),M=Array(16),R=C=0;4>R;++R)for(var D=0;32>D;D+=8)M[C++]=this.g[R]>>>D&255;return M};function u(M,R){var C=m;return Object.prototype.hasOwnProperty.call(C,M)?C[M]:C[M]=R(M)}function h(M,R){this.h=R;for(var C=[],D=!0,k=M.length-1;0<=k;k--){var L=M[k]|0;D&&L==R||(C[k]=L,D=!1)}this.g=C}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new h([R|0],0>R?-1:0)}):new h([M|0],0>M?-1:0)}function g(M){if(isNaN(M)||!isFinite(M))return A;if(0>M)return P(g(-M));for(var R=[],C=1,D=0;M>=C;D++)R[D]=M/C|0,C*=4294967296;return new h(R,0)}function _(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return P(_(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=g(Math.pow(R,8)),D=A,k=0;k<M.length;k+=8){var L=Math.min(8,M.length-k),I=parseInt(M.substring(k,k+L),R);8>L?(L=g(Math.pow(R,L)),D=D.j(L).add(g(I))):(D=D.j(C),D=D.add(g(I)))}return D}var A=p(0),w=p(1),O=p(16777216);i=h.prototype,i.m=function(){if(B(this))return-P(this).m();for(var M=0,R=1,C=0;C<this.g.length;C++){var D=this.i(C);M+=(0<=D?D:4294967296+D)*R,R*=4294967296}return M},i.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(x(this))return"0";if(B(this))return"-"+P(this).toString(M);for(var R=g(Math.pow(M,6)),C=this,D="";;){var k=oe(C,R).g;C=Z(C,k.j(R));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(M);if(C=k,x(C))return L+D;for(;6>L.length;)L="0"+L;D=L+D}},i.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function x(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function B(M){return M.h==-1}i.l=function(M){return M=Z(this,M),B(M)?-1:x(M)?0:1};function P(M){for(var R=M.g.length,C=[],D=0;D<R;D++)C[D]=~M.g[D];return new h(C,~M.h).add(w)}i.abs=function(){return B(this)?P(this):this},i.add=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],D=0,k=0;k<=R;k++){var L=D+(this.i(k)&65535)+(M.i(k)&65535),I=(L>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);D=I>>>16,L&=65535,I&=65535,C[k]=I<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function Z(M,R){return M.add(P(R))}i.j=function(M){if(x(this)||x(M))return A;if(B(this))return B(M)?P(this).j(P(M)):P(P(this).j(M));if(B(M))return P(this.j(P(M)));if(0>this.l(O)&&0>M.l(O))return g(this.m()*M.m());for(var R=this.g.length+M.g.length,C=[],D=0;D<2*R;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var k=0;k<M.g.length;k++){var L=this.i(D)>>>16,I=this.i(D)&65535,Ie=M.i(k)>>>16,it=M.i(k)&65535;C[2*D+2*k]+=I*it,re(C,2*D+2*k),C[2*D+2*k+1]+=L*it,re(C,2*D+2*k+1),C[2*D+2*k+1]+=I*Ie,re(C,2*D+2*k+1),C[2*D+2*k+2]+=L*Ie,re(C,2*D+2*k+2)}for(D=0;D<R;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=R;D<2*R;D++)C[D]=0;return new h(C,0)};function re(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function K(M,R){this.g=M,this.h=R}function oe(M,R){if(x(R))throw Error("division by zero");if(x(M))return new K(A,A);if(B(M))return R=oe(P(M),R),new K(P(R.g),P(R.h));if(B(R))return R=oe(M,P(R)),new K(P(R.g),R.h);if(30<M.g.length){if(B(M)||B(R))throw Error("slowDivide_ only works with positive integers.");for(var C=w,D=R;0>=D.l(M);)C=ie(C),D=ie(D);var k=fe(C,1),L=fe(D,1);for(D=fe(D,2),C=fe(C,2);!x(D);){var I=L.add(D);0>=I.l(M)&&(k=k.add(C),L=I),D=fe(D,1),C=fe(C,1)}return R=Z(M,k.j(R)),new K(k,R)}for(k=A;0<=M.l(R);){for(C=Math.max(1,Math.floor(M.m()/R.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),L=g(C),I=L.j(R);B(I)||0<I.l(M);)C-=D,L=g(C),I=L.j(R);x(L)&&(L=w),k=k.add(L),M=Z(M,I)}return new K(k,M)}i.A=function(M){return oe(this,M).h},i.and=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)&M.i(D);return new h(C,this.h&M.h)},i.or=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)|M.i(D);return new h(C,this.h|M.h)},i.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),C=[],D=0;D<R;D++)C[D]=this.i(D)^M.i(D);return new h(C,this.h^M.h)};function ie(M){for(var R=M.g.length+1,C=[],D=0;D<R;D++)C[D]=M.i(D)<<1|M.i(D-1)>>>31;return new h(C,M.h)}function fe(M,R){var C=R>>5;R%=32;for(var D=M.g.length-C,k=[],L=0;L<D;L++)k[L]=0<R?M.i(L+C)>>>R|M.i(L+C+1)<<32-R:M.i(L+C);return new h(k,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,YT=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,Ys=h}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $T,ql,XT,lh,Xm,WT,JT,ZT;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,S=!1,z={next:function(){if(!S&&v<c.length){var Q=v++;return{value:y(Q,c[Q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,w.apply(null,arguments)}function O(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function x(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,z,Q){for(var ue=Array(arguments.length-2),je=2;je<arguments.length;je++)ue[je-2]=arguments[je];return y.prototype[z].apply(S,ue)}}function B(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function P(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const z=c.length||0,Q=S.length||0;c.length=z+Q;for(let ue=0;ue<Q;ue++)c[z+ue]=S[ue]}else c.push(S)}}class Z{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function re(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function oe(c){return oe[" "](c),c}oe[" "]=function(){};var ie=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function fe(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function M(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let Q=0;Q<C.length;Q++)v=C[Q],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function L(c){m.setTimeout(()=>{throw c},0)}function I(){var c=Fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Ie{constructor(){this.h=this.g=null}add(y,v){const S=it.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var it=new Z(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,Fe=new Ie,V=()=>{const c=m.Promise.resolve(void 0);ce=()=>{c.then(te)}};var te=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){L(v)}var y=it;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var _e=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function Oe(c,y){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ie){e:{try{oe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Oe.aa.h.call(this)}}x(Oe,le);var be={2:"touch",3:"pen",4:"mouse"};Oe.prototype.h=function(){Oe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Rt="closure_listenable_"+(1e6*Math.random()|0),se=0;function Se(c,y,v,S,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++se,this.da=this.fa=!1}function Je(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function st(c){this.src=c,this.g={},this.h=0}st.prototype.add=function(c,y,v,S,z){var Q=c.toString();c=this.g[Q],c||(c=this.g[Q]=[],this.h++);var ue=Qn(c,y,S,z);return-1<ue?(y=c[ue],v||(y.fa=!1)):(y=new Se(y,this.src,Q,!!S,z),y.fa=v,c.push(y)),y};function ht(c,y){var v=y.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,y,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(S,z,1),Q&&(Je(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Qn(c,y,v,S){for(var z=0;z<c.length;++z){var Q=c[z];if(!Q.da&&Q.listener==y&&Q.capture==!!v&&Q.ha==S)return z}return-1}var Mn="closure_lm_"+(1e6*Math.random()|0),pr={};function ls(c,y,v,S,z){if(Array.isArray(y)){for(var Q=0;Q<y.length;Q++)ls(c,y[Q],v,S,z);return null}return v=Ru(v),c&&c[Rt]?c.K(y,v,g(S)?!!S.capture:!1,z):Vn(c,y,v,!1,S,z)}function Vn(c,y,v,S,z,Q){if(!y)throw Error("Invalid event type");var ue=g(z)?!!z.capture:!!z,je=ha(c);if(je||(c[Mn]=je=new st(c)),v=je.add(y,v,S,ue,Q),v.proxy)return v;if(S=pf(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)_e||(z=ue),z===void 0&&(z=!1),c.addEventListener(y.toString(),S,z);else if(c.attachEvent)c.attachEvent(us(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pf(){function c(v){return y.call(c.src,c.listener,v)}const y=gf;return c}function Io(c,y,v,S,z){if(Array.isArray(y))for(var Q=0;Q<y.length;Q++)Io(c,y[Q],v,S,z);else S=g(S)?!!S.capture:!!S,v=Ru(v),c&&c[Rt]?(c=c.i,y=String(y).toString(),y in c.g&&(Q=c.g[y],v=Qn(Q,v,S,z),-1<v&&(Je(Q[v]),Array.prototype.splice.call(Q,v,1),Q.length==0&&(delete c.g[y],c.h--)))):c&&(c=ha(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Qn(y,v,S,z)),(v=-1<c?y[c]:null)&&ca(v))}function ca(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Rt])ht(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(us(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=ha(y))?(ht(v,c),v.h==0&&(v.src=null,y[Mn]=null)):Je(c)}}}function us(c){return c in pr?pr[c]:pr[c]="on"+c}function gf(c,y){if(c.da)c=!0;else{y=new Oe(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&ca(c),c=v.call(S,y)}return c}function ha(c){return c=c[Mn],c instanceof st?c:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ru(c){return typeof c=="function"?c:(c[xo]||(c[xo]=function(y){return c.handleEvent(y)}),c[xo])}function pt(){he.call(this),this.i=new st(this),this.M=this,this.F=null}x(pt,he),pt.prototype[Rt]=!0,pt.prototype.removeEventListener=function(c,y,v,S){Io(this,c,y,v,S)};function Ye(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new le(y,c);else if(y instanceof le)y.target=y.target||c;else{var z=y;y=new le(S,c),D(y,z)}if(z=!0,v)for(var Q=v.length-1;0<=Q;Q--){var ue=y.g=v[Q];z=En(ue,S,!0,y)&&z}if(ue=y.g=c,z=En(ue,S,!0,y)&&z,z=En(ue,S,!1,y)&&z,v)for(Q=0;Q<v.length;Q++)ue=y.g=v[Q],z=En(ue,S,!1,y)&&z}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Je(v[S]);delete c.g[y],c.h--}}this.F=null},pt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},pt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function En(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,Q=0;Q<y.length;++Q){var ue=y[Q];if(ue&&!ue.da&&ue.capture==v){var je=ue.listener,Vt=ue.ha||ue.src;ue.fa&&ht(c.i,ue),z=je.call(Vt,S)!==!1&&z}}return z&&!S.defaultPrevented}function tn(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Cu(c){c.g=tn(()=>{c.g=null,c.i&&(c.i=!1,Cu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class yf extends he{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Cu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function cs(c){he.call(this),this.h=c,this.g={}}x(cs,he);var hs=[];function fs(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ca(y)},c),c.g={}}cs.prototype.N=function(){cs.aa.N.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Yn=m.JSON.stringify,fa=m.JSON.parse,ds=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Oo(){}Oo.prototype.h=null;function Do(c){return c.h||(c.h=c.i())}function Mo(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Mi(){le.call(this,"d")}x(Mi,le);function Vo(){le.call(this,"c")}x(Vo,le);var ai={},Po=null;function gr(){return Po=Po||new pt}ai.La="serverreachability";function da(c){le.call(this,ai.La,c)}x(da,le);function yr(c){const y=gr();Ye(y,new da(y))}ai.STAT_EVENT="statevent";function Nu(c,y){le.call(this,ai.STAT_EVENT,c),this.stat=y}x(Nu,le);function ut(c){const y=gr();Ye(y,new Nu(y,c))}ai.Ma="timingevent";function Mt(c,y){le.call(this,ai.Ma,c),this.size=y}x(Mt,le);function Ct(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function ko(c,y,v,S,z,Q){c.info(function(){if(c.g)if(Q)for(var ue="",je=Q.split("&"),Vt=0;Vt<je.length;Vt++){var Be=je[Vt].split("=");if(1<Be.length){var zt=Be[0];Be=Be[1];var Pt=zt.split("_");ue=2<=Pt.length&&Pt[1]=="type"?ue+(zt+"="+Be+"&"):ue+(zt+"=redacted&")}}else ue=null;else ue=Q;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+ue})}function _f(c,y,v,S,z,Q,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+Q+" "+ue})}function _r(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ms(c,v)+(S?" "+S:"")})}function Iu(c,y){c.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function ms(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ue=1;ue<z.length;ue++)z[ue]=""}}}}return Yn(v)}catch{return y}}var vr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},oi;function li(){}x(li,Oo),li.prototype.g=function(){return new XMLHttpRequest},li.prototype.i=function(){return{}},oi=new li;function cn(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var Uo={},ma={};function $n(c,y,v){c.L=1,c.v=vs(Tn(y)),c.m=v,c.P=!0,Pi(c,null)}function Pi(c,y){c.F=Date.now(),ps(c),c.A=Tn(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Fo(v.i,"t",S),c.C=0,v=c.j.J,c.h=new bt,c.g=Gu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new yf(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(hs[0]=z.toString()),z=hs);for(var Q=0;Q<z.length;Q++){var ue=ls(v,z[Q],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),yr(),ko(c.i,c.u,c.A,c.l,c.R,c.m)}cn.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},cn.prototype.Y=function(c){try{if(c==this.g)e:{const Pt=jn(this.g);var y=this.g.Ba();const Fi=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Pt!=4||y==7||(y==8||0>=Fi?yr(3):yr(2)),Er(this);var v=this.g.Z();this.X=v;t:if(xu(this)){var S=Uu(this.g);c="";var z=S.length,Q=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),ui(this);var ue="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Q&&y==z-1)});S.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,_f(this.i,this.u,this.A,this.l,this.R,Pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Vt=this.g;if((je=Vt.g?Vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(je)){var Be=je;break t}}Be=null}if(v=Be)_r(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gs(this,v);else{this.o=!1,this.s=3,ut(12),Kt(this),ui(this);break e}}if(this.P){v=!0;let Qt;for(;!this.J&&this.C<ue.length;)if(Qt=Ou(this,ue),Qt==ma){Pt==4&&(this.s=4,ut(14),v=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(Qt==Uo){this.s=4,ut(15),_r(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else _r(this.i,this.l,Qt,null),gs(this,Qt);if(xu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||ue.length!=0||this.h.h||(this.s=1,ut(16),v=!1),this.o=this.o&&v,!v)_r(this.i,this.l,ue,"[Invalid Chunked Response]"),Kt(this),ui(this);else if(0<ue.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Cs(zt),zt.M=!0,ut(11))}}else _r(this.i,this.l,ue,null),gs(this,ue);Pt==4&&Kt(this),this.o&&!this.J&&(Pt==4?qu(this.j,this):(this.o=!1,ps(this)))}else Af(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Kt(this),ui(this)}}}catch{}finally{}};function xu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ou(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?ma:(v=Number(y.substring(v,S)),isNaN(v)?Uo:(S+=1,S+v>y.length?ma:(y=y.slice(S,S+v),c.C=S+v,y)))}cn.prototype.cancel=function(){this.J=!0,Kt(this)};function ps(c){c.S=Date.now()+c.I,Du(c,c.I)}function Du(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ct(w(c.ba,c),y)}function Er(c){c.B&&(m.clearTimeout(c.B),c.B=null)}cn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Iu(this.i,this.A),this.L!=2&&(yr(),ut(17)),Kt(this),this.s=2,ui(this)):Du(this,this.S-c)};function ui(c){c.j.G==0||c.J||qu(c.j,c)}function Kt(c){Er(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,fs(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function gs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Lo(v.h,c))){if(!c.K&&Lo(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ra(v),Sa(v);else break e;Yo(v),ut(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ct(w(v.Za,v),6e3));if(1>=ga(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else qi(v,11)}else if((c.K||v.g==c)&&Ra(v),!re(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let Be=z[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const zt=Be[3];zt!=null&&(v.la=zt,v.j.info("VER="+v.la));const Pt=Be[4];Pt!=null&&(v.Aa=Pt,v.j.info("SVER="+v.Aa));const Fi=Be[5];Fi!=null&&typeof Fi=="number"&&0<Fi&&(S=1.5*Fi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Qt=c.g;if(Qt){const gi=Qt.g?Qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var Q=S.h;Q.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(ya(Q,Q.h),Q.h=null))}if(S.D){const Xo=Qt.g?Qt.g.getResponseHeader("X-HTTP-Session-Id"):null;Xo&&(S.ya=Xo,Ze(S.I,S.D,Xo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ue=c;if(S.qa=Hu(S,S.J?S.ia:null,S.W),ue.K){hn(S.h,ue);var je=ue,Vt=S.L;Vt&&(je.I=Vt),je.B&&(Er(je),ps(je)),S.g=ue}else Bu(S);0<v.i.length&&wa(v)}else Be[0]!="stop"&&Be[0]!="close"||qi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?qi(v,7):Ko(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}yr(4)}catch{}}var Mu=class{constructor(c,y){this.g=c,this.map=y}};function ki(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ga(c){return c.h?1:c.g?c.g.size:0}function Lo(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ya(c,y){c.g?c.g.add(y):c.h=y}function hn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}ki.prototype.cancel=function(){if(this.i=jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function jo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return B(c.i)}function vf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function _a(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function Bo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=_a(c),S=vf(c),z=S.length,Q=0;Q<z;Q++)y.call(void 0,S[Q],v&&v[Q],c)}var ys=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ef(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),z=null;if(0<=S){var Q=c[v].substring(0,S);z=c[v].substring(S+1)}else Q=c[v];y(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Nt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nt){this.h=c.h,_s(this,c.j),this.o=c.o,this.g=c.g,Tr(this,c.s),this.l=c.l;var y=c.i,v=new Li;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Ui(this,v),this.m=c.m}else c&&(y=String(c).match(ys))?(this.h=!1,_s(this,y[1]||"",!0),this.o=kn(y[2]||""),this.g=kn(y[3]||"",!0),Tr(this,y[4]),this.l=kn(y[5]||"",!0),Ui(this,y[6]||"",!0),this.m=kn(y[7]||"")):(this.h=!1,this.i=new Li(null,this.h))}Nt.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Es(y,zo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Es(y,zo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Es(v,v.charAt(0)=="/"?Tf:qo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Es(v,va)),c.join("")};function Tn(c){return new Nt(c)}function _s(c,y,v){c.j=v?kn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Tr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Ui(c,y,v){y instanceof Li?(c.i=y,Pu(c.i,c.h)):(v||(y=Es(y,bf)),c.i=new Li(y,c.h))}function Ze(c,y,v){c.i.set(y,v)}function vs(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Es(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Vu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Vu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var zo=/[#\/\?@]/g,qo=/[#\?:]/g,Tf=/[#\?]/g,bf=/[#\?@]/g,va=/#/g;function Li(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Un(c){c.g||(c.g=new Map,c.h=0,c.i&&Ef(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Li.prototype,i.add=function(c,y){Un(this),this.i=null,c=ci(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function ji(c,y){Un(c),y=ci(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Bi(c,y){return Un(c),y=ci(c,y),c.g.has(y)}i.forEach=function(c,y){Un(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(y,z,S,this)},this)},this)},i.na=function(){Un(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const z=c[S];for(let Q=0;Q<z.length;Q++)v.push(y[S])}return v},i.V=function(c){Un(this);let y=[];if(typeof c=="string")Bi(this,c)&&(y=y.concat(this.g.get(ci(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Un(this),this.i=null,c=ci(this,c),Bi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Fo(c,y,v){ji(c,y),0<v.length&&(c.i=null,c.g.set(ci(c,y),B(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const Q=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var z=Q;ue[S]!==""&&(z+="="+encodeURIComponent(String(ue[S]))),c.push(z)}}return this.i=c.join("&")};function ci(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Pu(c,y){y&&!c.j&&(Un(c),c.i=null,c.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(ji(this,S),Fo(this,z,v))},c)),c.j=y}function Ts(c,y){const v=new Pn;if(m.Image){const S=new Image;S.onload=O(Ln,v,"TestLoadImage: loaded",!0,y,S),S.onerror=O(Ln,v,"TestLoadImage: error",!1,y,S),S.onabort=O(Ln,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=O(Ln,v,"TestLoadImage: timeout",!1,y,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function Xn(c,y){const v=new Pn,S=new AbortController,z=setTimeout(()=>{S.abort(),Ln(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Q=>{clearTimeout(z),Q.ok?Ln(v,"TestPingServer: ok",!0,y):Ln(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Ln(v,"TestPingServer: error",!1,y)})}function Ln(c,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function bs(){this.g=new ds}function hi(c,y,v){const S=v||"";try{Bo(c,function(z,Q){let ue=z;g(z)&&(ue=Yn(z)),y.push(S+Q+"="+encodeURIComponent(ue))})}catch(z){throw y.push(S+"type="+encodeURIComponent("_badmap")),z}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}x(br,Oo),br.prototype.g=function(){return new zi(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function zi(c,y){pt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}x(zi,pt),i=zi.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,di(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ho(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ho(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?fi(this):di(this),this.readyState==3&&Ho(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,fi(this))},i.Qa=function(c){this.g&&(this.response=c,fi(this))},i.ga=function(){this.g&&fi(this)};function fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,di(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Go(c){let y="";return fe(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Bt(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Go(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Ze(c,y,v))}function Qe(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}x(Qe,pt);var Ea=/^https?$/i,As=["POST","PUT"];i=Qe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():oi.g(),this.v=this.o?Do(this.o):Do(oi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Q){ku(this,Q);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Q of S.keys())v.set(Q,S.get(Q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(As,y,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ue]of v)this.g.setRequestHeader(Q,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ss(this),this.u=!0,this.g.send(c),this.u=!1}catch(Q){ku(this,Q)}};function ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ta(c),mi(c)}function Ta(c){c.A||(c.A=!0,Ye(c,"complete"),Ye(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ye(this,"complete"),Ye(this,"abort"),mi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},i.bb=function(){ba(this)};function ba(c){if(c.h&&typeof h<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)tn(c.Ea,0,c);else if(Ye(c,"readystatechange"),jn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ue===0){var z=String(c.D).match(ys)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!Ea.test(z?z.toLowerCase():"")}v=S}if(v)Ye(c,"complete"),Ye(c,"success");else{c.m=6;try{var Q=2<jn(c)?c.g.statusText:""}catch{Q=""}c.l=Q+" ["+c.Z()+"]",Ta(c)}}finally{mi(c)}}}}function mi(c,y){if(c.g){Ss(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ye(c,"ready");try{v.onreadystatechange=S}catch{}}}function Ss(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),fa(y)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Af(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(re(c[S]))continue;var v=k(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const Q=y[z]||[];y[z]=Q,Q.push(v)}M(y,function(S){return S.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Aa(c){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new ki(c&&c.concurrentRequestLimit),this.Da=new bs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Aa.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,S){ut(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Hu(this,null,this.W),wa(this)};function Ko(c){if(Lu(c),c.G==3){var y=c.U++,v=Tn(c.I);if(Ze(v,"SID",c.K),Ze(v,"RID",y),Ze(v,"TYPE","terminate"),Rs(c,v),y=new cn(c,c.j,y),y.L=2,y.v=vs(Tn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Gu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ps(y)}Fu(c)}function Sa(c){c.g&&(Cs(c),c.g.cancel(),c.g=null)}function Lu(c){Sa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ra(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function wa(c){if(!pa(c.h)&&!c.s){c.s=!0;var y=c.Ga;ce||V(),ge||(ce(),ge=!0),Fe.add(y,c),c.B=0}}function Sf(c,y){return ga(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ct(w(c.Ga,c,y),$o(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new cn(this,this.j,c);let Q=this.o;if(this.S&&(Q?(Q=R(Q),D(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ju(this,z,y),v=Tn(this.I),Ze(v,"RID",c),Ze(v,"CVER",22),this.D&&Ze(v,"X-HTTP-Session-Id",this.D),Rs(this,v),Q&&(this.O?y="headers="+encodeURIComponent(String(Go(Q)))+"&"+y:this.m&&Bt(v,this.m,Q)),ya(this.h,z),this.Ua&&Ze(v,"TYPE","init"),this.P?(Ze(v,"$req",y),Ze(v,"SID","null"),z.T=!0,$n(z,v,null)):$n(z,v,y),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||pa(this.h)||Qo(this))};function Qo(c,y){var v;y?v=y.l:v=c.U++;const S=Tn(c.I);Ze(S,"SID",c.K),Ze(S,"RID",v),Ze(S,"AID",c.T),Rs(c,S),c.m&&c.o&&Bt(S,c.m,c.o),v=new cn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ju(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ya(c.h,v),$n(v,S,y)}function Rs(c,y){c.H&&fe(c.H,function(v,S){Ze(y,S,v)}),c.l&&Bo({},function(v,S){Ze(y,S,v)})}function ju(c,y,v){v=Math.min(c.i.length,v);var S=c.l?w(c.l.Na,c.l,c):null;e:{var z=c.i;let Q=-1;for(;;){const ue=["count="+v];Q==-1?0<v?(Q=z[0].g,ue.push("ofs="+Q)):Q=0:ue.push("ofs="+Q);let je=!0;for(let Vt=0;Vt<v;Vt++){let Be=z[Vt].g;const zt=z[Vt].map;if(Be-=Q,0>Be)Q=Math.max(0,z[Vt].g-100),je=!1;else try{hi(zt,ue,"req"+Be+"_")}catch{S&&S(zt)}}if(je){S=ue.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function Bu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ce||V(),ge||(ce(),ge=!0),Fe.add(y,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ct(w(c.Fa,c),$o(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ct(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Sa(this),zu(this))};function Cs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new cn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Tn(c.qa);Ze(y,"RID","rpc"),Ze(y,"SID",c.K),Ze(y,"AID",c.T),Ze(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(y,"TO",c.ja),Ze(y,"TYPE","xmlhttp"),Rs(c,y),c.m&&c.o&&Bt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=vs(Tn(y)),v.m=null,v.P=!0,Pi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Sa(this),Yo(this),ut(19))};function Ra(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function qu(c,y){var v=null;if(c.g==y){Ra(c),Cs(c),c.g=null;var S=2}else if(Lo(c.h,y))v=y.D,hn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;S=gr(),Ye(S,new Mt(S,v)),wa(c)}else Bu(c);else if(z=y.s,z==3||z==0&&0<y.X||!(S==1&&Sf(c,y)||S==2&&Yo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:qi(c,5);break;case 4:qi(c,10);break;case 3:qi(c,6);break;default:qi(c,2)}}}function $o(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function qi(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),S=c.Xa;const z=!S;S=new Nt(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||_s(S,"https"),vs(S),z?Ts(S.toString(),v):Xn(S.toString(),v)}else ut(2);c.G=0,c.l&&c.l.sa(y),Fu(c),Lu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Fu(c){if(c.G=0,c.ka=[],c.l){const y=jo(c.h);(y.length!=0||c.i.length!=0)&&(P(c.ka,y),P(c.ka,c.i),c.h.i.length=0,B(c.i),c.i.length=0),c.l.ra()}}function Hu(c,y,v){var S=v instanceof Nt?Tn(v):new Nt(v);if(S.g!="")y&&(S.g=y+"."+S.g),Tr(S,S.s);else{var z=m.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var Q=new Nt(null);S&&_s(Q,S),y&&(Q.g=y),z&&Tr(Q,z),v&&(Q.l=v),S=Q}return v=c.D,y=c.ya,v&&y&&Ze(S,v,y),Ze(S,"VER",c.la),Rs(c,S),S}function Gu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Qe(new br({eb:v})):new Qe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ku(){}i=Ku.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ca(){}Ca.prototype.g=function(c,y){return new fn(c,y)};function fn(c,y){pt.call(this),this.g=new Aa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!re(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!re(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new pi(this)}x(fn,pt),fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},fn.prototype.close=function(){Ko(this.g)},fn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Yn(c),c=v);y.i.push(new Mu(y.Ya++,c)),y.G==3&&wa(y)},fn.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,fn.aa.N.call(this)};function Qu(c){Mi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}x(Qu,Mi);function Yu(){Vo.call(this),this.status=1}x(Yu,Vo);function pi(c){this.g=c}x(pi,Ku),pi.prototype.ua=function(){Ye(this.g,"a")},pi.prototype.ta=function(c){Ye(this.g,new Qu(c))},pi.prototype.sa=function(c){Ye(this.g,new Yu)},pi.prototype.ra=function(){Ye(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,fn.prototype.send=fn.prototype.o,fn.prototype.open=fn.prototype.m,fn.prototype.close=fn.prototype.close,ZT=function(){return new Ca},JT=function(){return gr()},WT=ai,Xm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vr.NO_ERROR=0,vr.TIMEOUT=8,vr.HTTP_ERROR=6,lh=vr,Vi.COMPLETE="complete",XT=Vi,Mo.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",pt.prototype.listen=pt.prototype.K,ql=Mo,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,$T=Qe}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});const O0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=new wp("@firebase/firestore");function jl(){return Zs.logLevel}function pe(i,...e){if(Zs.logLevel<=Le.DEBUG){const t=e.map(jp);Zs.debug(`Firestore (${Ao}): ${i}`,...t)}}function fr(i,...e){if(Zs.logLevel<=Le.ERROR){const t=e.map(jp);Zs.error(`Firestore (${Ao}): ${i}`,...t)}}function fo(i,...e){if(Zs.logLevel<=Le.WARN){const t=e.map(jp);Zs.warn(`Firestore (${Ao}): ${i}`,...t)}}function jp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(i="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+i;throw fr(e),new Error(e)}function We(i,e){i||Re()}function Ne(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Oi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class z4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(an.UNAUTHENTICATED))}shutdown(){}}class q4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class F4{constructor(e){this.t=e,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){We(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ts,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ts)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(We(typeof s.accessToken=="string"),new e1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return We(e===null||typeof e=="string"),new an(e)}}class H4{constructor(e,t,s){this.l=e,this.h=t,this.P=s,this.type="FirstParty",this.user=an.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class G4{constructor(e,t,s){this.l=e,this.h=t,this.P=s}getToken(){return Promise.resolve(new H4(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(an.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class K4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Q4{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){We(this.o===void 0);const s=u=>{u.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,pe("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We(typeof t.token=="string"),this.R=t.token,new K4(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const o=Y4(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%e.length))}return s}}function Ge(i,e){return i<e?-1:i>e?1:0}function mo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jt.fromMillis(Date.now())}static fromDate(e){return jt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new jt(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ge(this.nanoseconds,e.nanoseconds):Ge(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new jt(0,0))}static max(){return new Ce(new jt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t,s){t===void 0?t=0:t>e.length&&Re(),s===void 0?s=e.length-t:s>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return tu.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof tu?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=e.get(o),h=t.get(o);if(u<h)return-1;if(u>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ot extends tu{construct(e,t,s){return new ot(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ne.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new ot(t)}static emptyPath(){return new ot([])}}const $4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends tu{construct(e,t,s){return new Jt(e,t,s)}static isValidIdentifier(e){return $4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new me(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(t)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(ot.fromString(e))}static fromName(e){return new ve(ot.fromString(e).popFirst(5))}static empty(){return new ve(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ot.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new ot(e.slice()))}}function X4(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(s===1e9?new jt(t+1,0):new jt(t,s));return new rs(o,ve.empty(),e)}function W4(i){return new rs(i.readTime,i.key,-1)}class rs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new rs(Ce.min(),ve.empty(),-1)}static max(){return new rs(Ce.max(),ve.empty(),-1)}}function J4(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(i.documentKey,e.documentKey),t!==0?t:Ge(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pu(i){if(i.code!==ne.FAILED_PRECONDITION||i.message!==Z4)throw i;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,s)=>{t(e)})}static reject(e){return new ae((t,s)=>{s(e)})}static waitFor(e){return new ae((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ae.resolve(!1);for(const s of e)t=t.next(o=>o?ae.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ae((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ae((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function tN(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gu(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ie(s),this.se=s=>t.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Bp.oe=-1;function $h(i){return i==null}function Ih(i){return i===0&&1/i==-1/0}function nN(i){return typeof i=="number"&&Number.isInteger(i)&&!Ih(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function la(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function n1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new mt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wc(this.root,e,this.comparator,!0)}}class Wc{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=o??Wt.EMPTY,this.right=u??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Wt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Wt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,s,o,u){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new M0(this.data.getIterator())}getIteratorFrom(e){return new M0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Zt(this.comparator);return t.data=e,t}}class M0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new In([])}unionWith(e){let t=new Zt(Jt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new In(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new i1("Invalid base64 string: "+u):u}}(e);return new en(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new en(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ge(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}en.EMPTY_BYTE_STRING=new en("");const iN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(i){if(We(!!i),typeof i=="string"){let e=0;const t=iN.exec(i);if(We(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:wt(i.seconds),nanos:wt(i.nanos)}}function wt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ea(i){return typeof i=="string"?en.fromBase64String(i):en.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function qp(i){const e=i.mapValue.fields.__previous_value__;return zp(e)?qp(e):e}function nu(i){const e=ss(i.mapValue.fields.__local_write_time__.timestampValue);return new jt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,t,s,o,u,h,m,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}class iu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc={mapValue:{}};function ta(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?zp(i)?4:aN(i)?9007199254740991:sN(i)?10:11:Re()}function xi(i,e){if(i===e)return!0;const t=ta(i);if(t!==ta(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return nu(i).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ss(o.timestampValue),m=ss(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ea(o.bytesValue).isEqual(ea(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return wt(o.geoPointValue.latitude)===wt(u.geoPointValue.latitude)&&wt(o.geoPointValue.longitude)===wt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return wt(o.integerValue)===wt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=wt(o.doubleValue),m=wt(u.doubleValue);return h===m?Ih(h)===Ih(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return mo(i.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(D0(h)!==D0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!xi(h[p],m[p])))return!1;return!0}(i,e);default:return Re()}}function ru(i,e){return(i.values||[]).find(t=>xi(t,e))!==void 0}function po(i,e){if(i===e)return 0;const t=ta(i),s=ta(e);if(t!==s)return Ge(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ge(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=wt(u.integerValue||u.doubleValue),p=wt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return V0(i.timestampValue,e.timestampValue);case 4:return V0(nu(i),nu(e));case 5:return Ge(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ea(u),p=ea(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ge(m[g],p[g]);if(_!==0)return _}return Ge(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ge(wt(u.latitude),wt(h.latitude));return m!==0?m:Ge(wt(u.longitude),wt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return P0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,_;const A=u.fields||{},w=h.fields||{},O=(m=A.value)===null||m===void 0?void 0:m.arrayValue,x=(p=w.value)===null||p===void 0?void 0:p.arrayValue,B=Ge(((g=O==null?void 0:O.values)===null||g===void 0?void 0:g.length)||0,((_=x==null?void 0:x.values)===null||_===void 0?void 0:_.length)||0);return B!==0?B:P0(O,x)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===Jc.mapValue&&h===Jc.mapValue)return 0;if(u===Jc.mapValue)return 1;if(h===Jc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let A=0;A<p.length&&A<_.length;++A){const w=Ge(p[A],_[A]);if(w!==0)return w;const O=po(m[p[A]],g[_[A]]);if(O!==0)return O}return Ge(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Re()}}function V0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ge(i,e);const t=ss(i),s=ss(e),o=Ge(t.seconds,s.seconds);return o!==0?o:Ge(t.nanos,s.nanos)}function P0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=po(t[o],s[o]);if(u)return u}return Ge(t.length,s.length)}function go(i){return Wm(i)}function Wm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=ss(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return ea(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return ve.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=Wm(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${Wm(t.fields[h])}`;return o+"}"}(i.mapValue):Re()}function k0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Jm(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function U0(i){return!!i&&"nullValue"in i}function L0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function uh(i){return!!i&&"mapValue"in i}function sN(i){var e,t;return((t=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Kl(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return la(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Kl(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Kl(i.arrayValue.values[t]);return e}return Object.assign({},i)}function aN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!uh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(t)}setAll(e){let t=Jt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Kl(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());uh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];uh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){la(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new _n(Kl(this.value))}}function r1(i){const e=[];return la(i.fields,(t,s)=>{const o=new Jt([t]);if(uh(s)){const u=r1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new on(e,0,Ce.min(),Ce.min(),Ce.min(),_n.empty(),0)}static newFoundDocument(e,t,s,o){return new on(e,1,t,Ce.min(),s,o,0)}static newNoDocument(e,t){return new on(e,2,t,Ce.min(),Ce.min(),_n.empty(),0)}static newUnknownDocument(e,t){return new on(e,3,t,Ce.min(),Ce.min(),_n.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof on&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new on(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t){this.position=e,this.inclusive=t}}function j0(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),t.key):s=po(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function B0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!xi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e,t="asc"){this.field=e,this.dir=t}}function oN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{}class Dt extends s1{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new uN(e,t,s):t==="array-contains"?new fN(e,s):t==="in"?new dN(e,s):t==="not-in"?new mN(e,s):t==="array-contains-any"?new pN(e,s):new Dt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new cN(e,s):new hN(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(po(t,this.value)):t!==null&&ta(this.value)===ta(t)&&this.matchesComparison(po(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends s1{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ri(e,t)}matches(e){return a1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function a1(i){return i.op==="and"}function o1(i){return lN(i)&&a1(i)}function lN(i){for(const e of i.filters)if(e instanceof ri)return!1;return!0}function Zm(i){if(i instanceof Dt)return i.field.canonicalString()+i.op.toString()+go(i.value);if(o1(i))return i.filters.map(e=>Zm(e)).join(",");{const e=i.filters.map(t=>Zm(t)).join(",");return`${i.op}(${e})`}}function l1(i,e){return i instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)}(i,e):i instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&l1(h,o.filters[m]),!0):!1}(i,e):void Re()}function u1(i){return i instanceof Dt?function(t){return`${t.field.canonicalString()} ${t.op} ${go(t.value)}`}(i):i instanceof ri?function(t){return t.op.toString()+" {"+t.getFilters().map(u1).join(" ,")+"}"}(i):"Filter"}class uN extends Dt{constructor(e,t,s){super(e,t,s),this.key=ve.fromName(s.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class cN extends Dt{constructor(e,t){super(e,"in",t),this.keys=c1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class hN extends Dt{constructor(e,t){super(e,"not-in",t),this.keys=c1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function c1(i,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(s=>ve.fromName(s.referenceValue))}class fN extends Dt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Fp(t)&&ru(t.arrayValue,this.value)}}class dN extends Dt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ru(this.value.arrayValue,t)}}class mN extends Dt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ru(this.value.arrayValue,t)}}class pN extends Dt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function z0(i,e=null,t=[],s=[],o=null,u=null,h=null){return new gN(i,e,t,s,o,u,h)}function Hp(i){const e=Ne(i);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Zm(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),$h(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>go(s)).join(",")),e.ue=t}return e.ue}function Gp(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!oN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!l1(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!B0(i.startAt,e.startAt)&&B0(i.endAt,e.endAt)}function ep(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yN(i,e,t,s,o,u,h,m){return new yu(i,e,t,s,o,u,h,m)}function h1(i){return new yu(i)}function q0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function f1(i){return i.collectionGroup!==null}function Ql(i){const e=Ne(i);if(e.ce===null){e.ce=[];const t=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Zt(Jt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.ce.push(new Oh(u,s))}),t.has(Jt.keyField().canonicalString())||e.ce.push(new Oh(Jt.keyField(),s))}return e.ce}function Ci(i){const e=Ne(i);return e.le||(e.le=_N(e,Ql(i))),e.le}function _N(i,e){if(i.limitType==="F")return z0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Oh(o.field,u)});const t=i.endAt?new xh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new xh(i.startAt.position,i.startAt.inclusive):null;return z0(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function tp(i,e){const t=i.filters.concat([e]);return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function np(i,e,t){return new yu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Xh(i,e){return Gp(Ci(i),Ci(e))&&i.limitType===e.limitType}function d1(i){return`${Hp(Ci(i))}|lt:${i.limitType}`}function no(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>u1(o)).join(", ")}]`),$h(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>go(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(Ci(i))}; limitType=${i.limitType})`}function Wh(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Ql(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=j0(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Ql(s),o)||s.endAt&&!function(h,m,p){const g=j0(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Ql(s),o))}(i,e)}function vN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function m1(i){return(e,t)=>{let s=!1;for(const o of Ql(i)){const u=EN(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function EN(i,e,t){const s=i.field.isKeyField()?ve.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?po(p,g):Re()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Re()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){la(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new mt(ve.comparator);function dr(){return TN}const p1=new mt(ve.comparator);function Fl(...i){let e=p1;for(const t of i)e=e.insert(t.key,t);return e}function g1(i){let e=p1;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function Gs(){return Yl()}function y1(){return Yl()}function Yl(){return new So(i=>i.toString(),(i,e)=>i.isEqual(e))}const bN=new mt(ve.comparator),AN=new Zt(ve.comparator);function Ue(...i){let e=AN;for(const t of i)e=e.add(t);return e}const SN=new Zt(Ge);function wN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function _1(i){return{integerValue:""+i}}function RN(i,e){return nN(e)?_1(e):Kp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(){this._=void 0}}function CN(i,e,t){return i instanceof Dh?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&zp(u)&&(u=qp(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(t,e):i instanceof su?E1(i,e):i instanceof au?T1(i,e):function(o,u){const h=v1(o,u),m=F0(h)+F0(o.Pe);return Jm(h)&&Jm(o.Pe)?_1(m):Kp(o.serializer,m)}(i,e)}function NN(i,e,t){return i instanceof su?E1(i,e):i instanceof au?T1(i,e):t}function v1(i,e){return i instanceof Mh?function(s){return Jm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Dh extends Jh{}class su extends Jh{constructor(e){super(),this.elements=e}}function E1(i,e){const t=b1(e);for(const s of i.elements)t.some(o=>xi(o,s))||t.push(s);return{arrayValue:{values:t}}}class au extends Jh{constructor(e){super(),this.elements=e}}function T1(i,e){let t=b1(e);for(const s of i.elements)t=t.filter(o=>!xi(o,s));return{arrayValue:{values:t}}}class Mh extends Jh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function F0(i){return wt(i.integerValue||i.doubleValue)}function b1(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function IN(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof su&&o instanceof su||s instanceof au&&o instanceof au?mo(s.elements,o.elements,xi):s instanceof Mh&&o instanceof Mh?xi(s.Pe,o.Pe):s instanceof Dh&&o instanceof Dh}(i.transform,e.transform)}class xN{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ch(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Zh{}function A1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Qp(i.key,ii.none()):new _u(i.key,i.data,ii.none());{const t=i.data,s=_n.empty();let o=new Zt(Jt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new os(i.key,s,new In(o.toArray()),ii.none())}}function ON(i,e,t){i instanceof _u?function(o,u,h){const m=o.value.clone(),p=G0(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof os?function(o,u,h){if(!ch(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=G0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(S1(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function $l(i,e,t,s){return i instanceof _u?function(u,h,m,p){if(!ch(u.precondition,h))return m;const g=u.value.clone(),_=K0(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof os?function(u,h,m,p){if(!ch(u.precondition,h))return m;const g=K0(u.fieldTransforms,p,h),_=h.data;return _.setAll(S1(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,m){return ch(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function DN(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=v1(s.transform,o||null);u!=null&&(t===null&&(t=_n.empty()),t.set(s.field,u))}return t||null}function H0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,h)=>IN(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class _u extends Zh{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class os extends Zh{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function S1(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function G0(i,e,t){const s=new Map;We(i.length===t.length);for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,NN(h,m,t[o]))}return s}function K0(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,CN(u,h,e))}return s}class Qp extends Zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MN extends Zh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ON(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=$l(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=$l(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=y1();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=A1(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ce.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(t,s)=>H0(t,s))&&mo(this.baseMutations,e.baseMutations,(t,s)=>H0(t,s))}}class Yp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){We(e.mutations.length===s.length);let o=function(){return bN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ot,qe;function UN(i){switch(i){default:return Re();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function w1(i){if(i===void 0)return fr("GRPC error has no .code"),ne.UNKNOWN;switch(i){case Ot.OK:return ne.OK;case Ot.CANCELLED:return ne.CANCELLED;case Ot.UNKNOWN:return ne.UNKNOWN;case Ot.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case Ot.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case Ot.INTERNAL:return ne.INTERNAL;case Ot.UNAVAILABLE:return ne.UNAVAILABLE;case Ot.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case Ot.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case Ot.NOT_FOUND:return ne.NOT_FOUND;case Ot.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case Ot.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case Ot.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case Ot.ABORTED:return ne.ABORTED;case Ot.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case Ot.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case Ot.DATA_LOSS:return ne.DATA_LOSS;default:return Re()}}(qe=Ot||(Ot={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN=new Ys([4294967295,4294967295],0);function Q0(i){const e=LN().encode(i),t=new YT;return t.update(e),new Uint8Array(t.digest())}function Y0(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ys([t,s],0),new Ys([o,u],0)]}class $p{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Hl(`Invalid padding: ${t}`);if(s<0)throw new Hl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Hl(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Hl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ys.fromNumber(this.Ie)}Ee(e,t,s){let o=e.add(t.multiply(Ys.fromNumber(s)));return o.compare(jN)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Q0(e),[s,o]=Y0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);if(!this.de(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new $p(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Ie===0)return;const t=Q0(e),[s,o]=Y0(t);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,o,u);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Hl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new ef(Ce.min(),o,new mt(Ge),dr(),Ue())}}class vu{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new vu(s,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,t,s,o){this.Re=e,this.removedTargetIds=t,this.key=s,this.Ve=o}}class R1{constructor(e,t){this.targetId=e,this.me=t}}class C1{constructor(e,t,s=en.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class $0{constructor(){this.fe=0,this.ge=W0(),this.pe=en.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ue(),t=Ue(),s=Ue();return this.ge.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Re()}}),new vu(this.pe,this.ye,e,t,s)}Ce(){this.we=!1,this.ge=W0()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,We(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class BN{constructor(e){this.Le=e,this.Be=new Map,this.ke=dr(),this.qe=X0(),this.Qe=new mt(Ge)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const s=this.Ge(t);switch(e.state){case 0:this.ze(t)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),s.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((s,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,s=e.me.count,o=this.Je(t);if(o){const u=o.target;if(ep(u))if(s===0){const h=new ve(u.path);this.Ue(t,h,on.newNoDocument(h,Ce.min()))}else We(s===1);else{const h=this.Ye(t);if(h!==s){const m=this.Ze(e),p=m?this.Xe(m,e,h):1;if(p!==0){this.je(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,g)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=ea(s).toUint8Array()}catch(p){if(p instanceof i1)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $p(h,o,u)}catch(p){return fo(p instanceof Hl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,t,s){return t.me.count===s-this.nt(e,t.targetId)?0:2}nt(e,t){const s=this.Le.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Le.tt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,u,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((u,h)=>{const m=this.Je(h);if(m){if(u.current&&ep(m.target)){const p=new ve(m.target.path);this.ke.get(p)!==null||this.it(h,p)||this.Ue(h,p,on.newNoDocument(p,e))}u.be&&(t.set(h,u.ve()),u.Ce())}});let s=Ue();this.qe.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.Je(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const o=new ef(e,t,this.Qe,this.ke,s);return this.ke=dr(),this.qe=X0(),this.Qe=new mt(Ge),o}$e(e,t){if(!this.ze(e))return;const s=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,s),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,s){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),s&&(this.ke=this.ke.insert(t,s))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new $0,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Zt(Ge),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||pe("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new $0),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function X0(){return new mt(ve.comparator)}function W0(){return new mt(ve.comparator)}const zN={asc:"ASCENDING",desc:"DESCENDING"},qN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FN={and:"AND",or:"OR"};class HN{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ip(i,e){return i.useProto3Json||$h(e)?e:{value:e}}function Vh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function N1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function GN(i,e){return Vh(i,e.toTimestamp())}function Ni(i){return We(!!i),Ce.fromTimestamp(function(t){const s=ss(t);return new jt(s.seconds,s.nanos)}(i))}function Xp(i,e){return rp(i,e).canonicalString()}function rp(i,e){const t=function(o){return new ot(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function I1(i){const e=ot.fromString(i);return We(V1(e)),e}function sp(i,e){return Xp(i.databaseId,e.path)}function Im(i,e){const t=I1(e);if(t.get(1)!==i.databaseId.projectId)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new me(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ve(O1(t))}function x1(i,e){return Xp(i.databaseId,e)}function KN(i){const e=I1(i);return e.length===4?ot.emptyPath():O1(e)}function ap(i){return new ot(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function O1(i){return We(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function J0(i,e,t){return{name:sp(i,e),fields:t.value.mapValue.fields}}function QN(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Re()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(We(_===void 0||typeof _=="string"),en.fromBase64String(_||"")):(We(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),en.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?ne.UNKNOWN:w1(g.code);return new me(_,g.message||"")}(h);t=new C1(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Im(i,s.document.name),u=Ni(s.document.updateTime),h=s.document.createTime?Ni(s.document.createTime):Ce.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=on.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new hh(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Im(i,s.document),u=s.readTime?Ni(s.readTime):Ce.min(),h=on.newNoDocument(o,u),m=s.removedTargetIds||[];t=new hh([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Im(i,s.document),u=s.removedTargetIds||[];t=new hh([],u,o,null)}else{if(!("filter"in e))return Re();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new kN(o,u),m=s.targetId;t=new R1(m,h)}}return t}function YN(i,e){let t;if(e instanceof _u)t={update:J0(i,e.key,e.value)};else if(e instanceof Qp)t={delete:sp(i,e.key)};else if(e instanceof os)t={update:J0(i,e.key,e.data),updateMask:iI(e.fieldMask)};else{if(!(e instanceof MN))return Re();t={verify:sp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Dh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof su)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Mh)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw Re()}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:GN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Re()}(i,e.precondition)),t}function $N(i,e){return i&&i.length>0?(We(e!==void 0),i.map(t=>function(o,u){let h=o.updateTime?Ni(o.updateTime):Ni(u);return h.isEqual(Ce.min())&&(h=Ni(u)),new xN(h,o.transformResults||[])}(t,e))):[]}function XN(i,e){return{documents:[x1(i,e.path)]}}function WN(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=x1(i,o);const u=function(g){if(g.length!==0)return M1(ri.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(w){return{field:io(w.field),direction:eI(w.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=ip(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:t,parent:o}}function JN(i){let e=KN(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){We(s===1);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(A){const w=D1(A);return w instanceof ri&&o1(w)?w.getFilters():[w]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(w=>function(x){return new Oh(ro(x.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(A){let w;return w=typeof A=="object"?A.value:A,$h(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(A){const w=!!A.before,O=A.values||[];return new xh(O,w)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const w=!A.before,O=A.values||[];return new xh(O,w)}(t.endAt)),yN(e,o,h,u,m,"F",p,g)}function ZN(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function D1(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=ro(t.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(t.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(t.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=ro(t.unaryFilter.field);return Dt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(i):i.fieldFilter!==void 0?function(t){return Dt.create(ro(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return ri.create(t.compositeFilter.filters.map(s=>D1(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(i):Re()}function eI(i){return zN[i]}function tI(i){return qN[i]}function nI(i){return FN[i]}function io(i){return{fieldPath:i.canonicalString()}}function ro(i){return Jt.fromServerFormat(i.fieldPath)}function M1(i){return i instanceof Dt?function(t){if(t.op==="=="){if(L0(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NAN"}};if(U0(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(L0(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NAN"}};if(U0(t.value))return{unaryFilter:{field:io(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(t.field),op:tI(t.op),value:t.value}}}(i):i instanceof ri?function(t){const s=t.getFilters().map(o=>M1(o));return s.length===1?s[0]:{compositeFilter:{op:nI(t.op),filters:s}}}(i):Re()}function iI(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function V1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,t,s,o,u=Ce.min(),h=Ce.min(),m=en.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Xr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.ct=e}}function sI(i){const e=JN({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?np(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(){this.un=new oI}addToCollectionParentIndex(e,t){return this.un.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(rs.min())}updateCollectionGroup(e,t,s){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class oI{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Zt(ot.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Zt(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new yo(0)}static kn(){return new yo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(){this.changes=new So(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,on.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ae.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&$l(s.mutation,o,In.empty(),jt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Ue()){const o=Gs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Fl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=Gs();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Ue()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=dr();const h=Yl(),m=function(){return Yl()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof os)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),$l(_.mutation,g,_.mutation.getFieldMask(),jt.now())):h.set(g.key,In.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>{var A;return m.set(g,new uI(_,(A=h.get(g))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,t){const s=Yl();let o=new mt((h,m)=>h-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||In.empty();_=m.applyToLocalView(g,_),s.set(p,_);const A=(o.get(m.batchId)||Ue()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,A=y1();_.forEach(w=>{if(!u.has(w)){const O=A1(t.get(w),s.get(w));O!==null&&A.set(w,O),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ae.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):f1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ae.resolve(Gs());let m=-1,p=u;return h.next(g=>ae.forEach(g,(_,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(_)?ae.resolve():this.remoteDocumentCache.getEntry(e,_).next(w=>{p=p.insert(_,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Ue())).next(_=>({batchId:m,changes:g1(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(s=>{let o=Fl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Fl();return this.indexManager.getCollectionParents(e,u).next(m=>ae.forEach(m,p=>{const g=function(A,w){return new yu(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((A,w)=>{h=h.insert(A,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,on.newInvalidDocument(_)))});let m=Fl();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&$l(_.mutation,g,In.empty(),jt.now()),Wh(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ae.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Ni(o.createTime)}}(t)),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:sI(o.bundledQuery),readTime:Ni(o.readTime)}}(t)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.overlays=new mt(ve.comparator),this.Ir=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Gs();return ae.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.ht(e,t,u)}),ae.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.Ir.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Ir.delete(s)),ae.resolve()}getOverlaysForCollection(e,t,s){const o=Gs(),u=t.length+1,h=new ve(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ae.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new mt((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=Gs(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=Gs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ae.resolve(m)}ht(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Ir.get(o.largestBatchId).delete(s.key);this.Ir.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new PN(t,s));let u=this.Ir.get(t);u===void 0&&(u=Ue(),this.Ir.set(t,u)),this.Ir.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(){this.Tr=new Zt(Gt.Er),this.dr=new Zt(Gt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const s=new Gt(e,t);this.Tr=this.Tr.add(s),this.dr=this.dr.add(s)}Rr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Vr(new Gt(e,t))}mr(e,t){e.forEach(s=>this.removeReference(s,t))}gr(e){const t=new ve(new ot([])),s=new Gt(t,e),o=new Gt(t,e+1),u=[];return this.dr.forEachInRange([s,o],h=>{this.Vr(h),u.push(h.key)}),u}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ve(new ot([])),s=new Gt(t,e),o=new Gt(t,e+1);let u=Ue();return this.dr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Gt(e,0),s=this.Tr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ve.comparator(e.key,t.key)||Ge(e.wr,t.wr)}static Ar(e,t){return Ge(e.wr,t.wr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Zt(Gt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new VN(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.br=this.br.add(new Gt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ae.resolve(h)}lookupMutationBatch(e,t){return ae.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.vr(s),u=o<0?0:o;return ae.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gt(t,0),o=new Gt(t,Number.POSITIVE_INFINITY),u=[];return this.br.forEachInRange([s,o],h=>{const m=this.Dr(h.wr);u.push(m)}),ae.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Zt(Ge);return t.forEach(o=>{const u=new Gt(o,0),h=new Gt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([u,h],m=>{s=s.add(m.wr)})}),ae.resolve(this.Cr(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new Gt(new ve(u),0);let m=new Zt(Ge);return this.br.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.wr)),!0)},h),ae.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach(s=>{const o=this.Dr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){We(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let s=this.br;return ae.forEach(t.mutations,o=>{const u=new Gt(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=s})}On(e){}containsKey(e,t){const s=new Gt(t,0),o=this.br.firstAfterOrEqual(s);return ae.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.Mr=e,this.docs=function(){return new mt(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.Mr(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ae.resolve(s?s.document.mutableCopy():on.newInvalidDocument(t))}getEntries(e,t){let s=dr();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():on.newInvalidDocument(o))}),ae.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=dr();const h=t.path,m=new ve(h.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||J4(W4(_),s)<=0||(o.has(_.key)||Wh(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ae.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Re()}Or(e,t){return ae.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new gI(this)}getSize(e){return ae.resolve(this.size)}}class gI extends lI{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(s)}),ae.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.persistence=e,this.Nr=new So(t=>Hp(t),Gp),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wp,this.targetCount=0,this.kr=yo.Bn()}forEachTarget(e,t){return this.Nr.forEach((s,o)=>t(o)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.Lr&&(this.Lr=t),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new yo(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Kn(t),ae.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.Nr.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.Nr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ae.waitFor(u).next(()=>o)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const s=this.Nr.get(t)||null;return ae.resolve(s)}addMatchingKeys(e,t,s){return this.Br.Rr(t,s),ae.resolve()}removeMatchingKeys(e,t,s){this.Br.mr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ae.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Br.yr(t);return ae.resolve(s)}containsKey(e,t){return ae.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Bp(0),this.Kr=!1,this.Kr=!0,this.$r=new dI,this.referenceDelegate=e(this),this.Ur=new yI(this),this.indexManager=new aI,this.remoteDocumentCache=function(o){return new pI(o)}(s=>this.referenceDelegate.Wr(s)),this.serializer=new rI(t),this.Gr=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.qr[e.toKey()];return s||(s=new mI(t,this.referenceDelegate),this.qr[e.toKey()]=s),s}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,s){pe("MemoryPersistence","Starting transaction:",e);const o=new vI(this.Qr.next());return this.referenceDelegate.zr(),s(o).next(u=>this.referenceDelegate.jr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Hr(e,t){return ae.or(Object.values(this.qr).map(s=>()=>s.containsKey(e,t)))}}class vI extends eN{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.Jr=new Wp,this.Yr=null}static Zr(e){return new Jp(e)}get Xr(){if(this.Yr)return this.Yr;throw Re()}addReference(e,t,s){return this.Jr.addReference(s,t),this.Xr.delete(s.toString()),ae.resolve()}removeReference(e,t,s){return this.Jr.removeReference(s,t),this.Xr.add(s.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.Xr.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,s=>{const o=ve.fromPath(s);return this.ei(e,o).next(u=>{u||t.removeEntry(o,Ce.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(s=>{s?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ae.or([()=>ae.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.$i=s,this.Ui=o}static Wi(e,t){let s=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Zp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return b2()?8:tN(un())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.Yi(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.Zi(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new EI;return this.Xi(e,t,h).next(m=>{if(u.result=m,this.zi)return this.es(e,t,h,m.size)})}).next(()=>u.result)}es(e,t,s,o){return s.documentReadCount<this.ji?(jl()<=Le.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",no(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(jl()<=Le.DEBUG&&pe("QueryEngine","Query:",no(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.Hi*o?(jl()<=Le.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",no(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ci(t))):ae.resolve())}Yi(e,t){if(q0(t))return ae.resolve(null);let s=Ci(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=np(t,null,"F"),s=Ci(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ue(...u);return this.Ji.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.ts(t,m);return this.ns(t,g,h,p.readTime)?this.Yi(e,np(t,null,"F")):this.rs(e,g,t,p)}))})))}Zi(e,t,s,o){return q0(t)||o.isEqual(Ce.min())?ae.resolve(null):this.Ji.getDocuments(e,s).next(u=>{const h=this.ts(t,u);return this.ns(t,h,s,o)?ae.resolve(null):(jl()<=Le.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),no(t)),this.rs(e,h,t,X4(o,-1)).next(m=>m))})}ts(e,t){let s=new Zt(m1(e));return t.forEach((o,u)=>{Wh(e,u)&&(s=s.add(u))}),s}ns(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Xi(e,t,s){return jl()<=Le.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",no(t)),this.Ji.getDocumentsMatchingQuery(e,t,rs.min(),s)}rs(e,t,s,o){return this.Ji.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,t,s,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new mt(Ge),this._s=new So(u=>Hp(u),Gp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(s)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function AI(i,e,t,s){return new bI(i,e,t,s)}async function P1(i,e){const t=Ne(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.ls(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Ue();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({hs:g,removedBatchIds:h,addedBatchIds:m}))})})}function SI(i,e){const t=Ne(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.cs.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const A=g.batch,w=A.keys();let O=ae.resolve();return w.forEach(x=>{O=O.next(()=>_.getEntry(p,x)).next(B=>{const P=g.docVersions.get(x);We(P!==null),B.version.compareTo(P)<0&&(A.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),_.addEntry(B)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ue();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function k1(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function wI(i,e){const t=Ne(i),s=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach((_,A)=>{const w=o.get(A);if(!w)return;m.push(t.Ur.removeMatchingKeys(u,_.removedDocuments,A).next(()=>t.Ur.addMatchingKeys(u,_.addedDocuments,A)));let O=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?O=O.withResumeToken(en.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):_.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(_.resumeToken,s)),o=o.insert(A,O),function(B,P,Z){return B.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:Z.addedDocuments.size+Z.modifiedDocuments.size+Z.removedDocuments.size>0}(w,O,_)&&m.push(t.Ur.updateTargetData(u,O))});let p=dr(),g=Ue();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(RI(u,h,e.documentUpdates).next(_=>{p=_.Ps,g=_.Is})),!s.isEqual(Ce.min())){const _=t.Ur.getLastRemoteSnapshotVersion(u).next(A=>t.Ur.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ae.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.os=o,u))}function RI(i,e,t){let s=Ue(),o=Ue();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=dr();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):pe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ps:h,Is:o}})}function CI(i,e){const t=Ne(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function NI(i,e){const t=Ne(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Ur.getTargetData(s,e).next(u=>u?(o=u,ae.resolve(o)):t.Ur.allocateTargetId(s).next(h=>(o=new Xr(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Ur.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.os.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(s.targetId,s),t._s.set(e,s.targetId)),s})}async function op(i,e,t){const s=Ne(i),o=s.os.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!gu(h))throw h;pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.os=s.os.remove(e),s._s.delete(o.target)}function Z0(i,e,t){const s=Ne(i);let o=Ce.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const A=Ne(p),w=A._s.get(_);return w!==void 0?ae.resolve(A.os.get(w)):A.Ur.getTargetData(g,_)}(s,h,Ci(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ur.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.ss.getDocumentsMatchingQuery(h,e,t?o:Ce.min(),t?u:Ue())).next(m=>(II(s,vN(e),m),{documents:m,Ts:u})))}function II(i,e,t){let s=i.us.get(e)||Ce.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.us.set(e,s)}class eE{constructor(){this.activeTargetIds=wN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xI{constructor(){this.so=new eE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,s){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eE,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zc=null;function xm(){return Zc===null?Zc=function(){return 268435456+Math.round(2147483648*Math.random())}():Zc++,"0x"+Zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn="WebChannelConnection";class VI extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const s=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Do=s+"://"+t.host,this.vo=`projects/${o}/databases/${u}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${u}`}get Fo(){return!1}Mo(t,s,o,u,h){const m=xm(),p=this.xo(t,s.toUriEncodedString());pe("RestConnection",`Sending RPC '${t}' ${m}:`,p,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,u,h),this.No(t,p,g,o).then(_=>(pe("RestConnection",`Received RPC '${t}' ${m}: `,_),_),_=>{throw fo("RestConnection",`RPC '${t}' ${m} failed with error: `,_,"url: ",p,"request:",o),_})}Lo(t,s,o,u,h,m){return this.Mo(t,s,o,u,h)}Oo(t,s,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>t[h]=u),o&&o.headers.forEach((u,h)=>t[h]=u)}xo(t,s){const o=DI[t];return`${this.Do}/v1/${s}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,s,o){const u=xm();return new Promise((h,m)=>{const p=new $T;p.setWithCredentials(!0),p.listenOnce(XT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const _=p.getResponseJson();pe(sn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),h(_);break;case lh.TIMEOUT:pe(sn,`RPC '${e}' ${u} timed out`),m(new me(ne.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const A=p.getStatus();if(pe(sn,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const O=w==null?void 0:w.error;if(O&&O.status&&O.message){const x=function(P){const Z=P.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(Z)>=0?Z:ne.UNKNOWN}(O.status);m(new me(x,O.message))}else m(new me(ne.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ne.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{pe(sn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);pe(sn,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",g,s,15)})}Bo(e,t,s){const o=xm(),u=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=ZT(),m=JT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");pe(sn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const A=h.createWebChannel(_,p);let w=!1,O=!1;const x=new MI({Io:P=>{O?pe(sn,`Not sending because RPC '${e}' stream ${o} is closed:`,P):(w||(pe(sn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),pe(sn,`RPC '${e}' stream ${o} sending:`,P),A.send(P))},To:()=>A.close()}),B=(P,Z,re)=>{P.listen(Z,K=>{try{re(K)}catch(oe){setTimeout(()=>{throw oe},0)}})};return B(A,ql.EventType.OPEN,()=>{O||(pe(sn,`RPC '${e}' stream ${o} transport opened.`),x.yo())}),B(A,ql.EventType.CLOSE,()=>{O||(O=!0,pe(sn,`RPC '${e}' stream ${o} transport closed`),x.So())}),B(A,ql.EventType.ERROR,P=>{O||(O=!0,fo(sn,`RPC '${e}' stream ${o} transport errored:`,P),x.So(new me(ne.UNAVAILABLE,"The operation could not be completed")))}),B(A,ql.EventType.MESSAGE,P=>{var Z;if(!O){const re=P.data[0];We(!!re);const K=re,oe=K.error||((Z=K[0])===null||Z===void 0?void 0:Z.error);if(oe){pe(sn,`RPC '${e}' stream ${o} received error:`,oe);const ie=oe.status;let fe=function(C){const D=Ot[C];if(D!==void 0)return w1(D)}(ie),M=oe.message;fe===void 0&&(fe=ne.INTERNAL,M="Unknown error status: "+ie+" with message "+oe.message),O=!0,x.So(new me(fe,M)),A.close()}else pe(sn,`RPC '${e}' stream ${o} received:`,re),x.bo(re)}}),B(m,WT.STAT_EVENT,P=>{P.stat===Xm.PROXY?pe(sn,`RPC '${e}' stream ${o} detected buffering proxy`):P.stat===Xm.NOPROXY&&pe(sn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{x.wo()},0),x}}function Om(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tf(i){return new HN(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,t,s=1e3,o=1.5,u=6e4){this.ui=e,this.timerId=t,this.ko=s,this.qo=o,this.Qo=u,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),s=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-s);o>0&&pe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,t,s,o,u,h,m,p){this.ui=e,this.Ho=s,this.Jo=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new U1(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===ne.RESOURCE_EXHAUSTED?(fr(t.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.Yo===t&&this.P_(s,o)},s=>{e(()=>{const o=new me(ne.UNKNOWN,"Fetching auth token failed: "+s.message);return this.I_(o)})})}P_(e,t){const s=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{s(()=>this.listener.Eo())}),this.stream.Ro(()=>{s(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{s(()=>this.I_(o))}),this.stream.onMessage(o=>{s(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PI extends L1{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=QN(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ce.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Ce.min():h.readTime?Ni(h.readTime):Ce.min()}(e);return this.listener.d_(t,s)}A_(e){const t={};t.database=ap(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=ep(p)?{documents:XN(u,p)}:{query:WN(u,p)._t},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=N1(u,h.resumeToken);const g=ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Ce.min())>0){m.readTime=Vh(u,h.snapshotVersion.toTimestamp());const g=ip(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=ZN(this.serializer,e);s&&(t.labels=s),this.a_(t)}R_(e){const t={};t.database=ap(this.serializer),t.removeTarget=e,this.a_(t)}}class kI extends L1{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return We(!!e.streamToken),this.lastStreamToken=e.streamToken,We(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=$N(e.writeResults,e.commitTime),s=Ni(e.commitTime);return this.listener.g_(s,t)}p_(){const e={};e.database=ap(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>YN(this.serializer,s))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends class{}{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,s,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Mo(e,rp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ne.UNKNOWN,u.toString())})}Lo(e,t,s,o,u){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Lo(e,rp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new me(ne.UNKNOWN,h.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class LI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(fr(t),this.D_=!1):pe("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=u,this.k_._o(h=>{s.enqueueAndForget(async()=>{ua(this)&&(pe("RemoteStore","Restarting streams for network reachability change."),await async function(p){const g=Ne(p);g.L_.add(4),await Eu(g),g.q_.set("Unknown"),g.L_.delete(4),await nf(g)}(this))})}),this.q_=new LI(s,o)}}async function nf(i){if(ua(i))for(const e of i.B_)await e(!0)}async function Eu(i){for(const e of i.B_)await e(!1)}function j1(i,e){const t=Ne(i);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),ig(t)?ng(t):wo(t).r_()&&tg(t,e))}function eg(i,e){const t=Ne(i),s=wo(t);t.N_.delete(e),s.r_()&&B1(t,e),t.N_.size===0&&(s.r_()?s.o_():ua(t)&&t.q_.set("Unknown"))}function tg(i,e){if(i.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wo(i).A_(e)}function B1(i,e){i.Q_.xe(e),wo(i).R_(e)}function ng(i){i.Q_=new BN({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>i.N_.get(e)||null,tt:()=>i.datastore.serializer.databaseId}),wo(i).start(),i.q_.v_()}function ig(i){return ua(i)&&!wo(i).n_()&&i.N_.size>0}function ua(i){return Ne(i).L_.size===0}function z1(i){i.Q_=void 0}async function BI(i){i.q_.set("Online")}async function zI(i){i.N_.forEach((e,t)=>{tg(i,e)})}async function qI(i,e){z1(i),ig(i)?(i.q_.M_(e),ng(i)):i.q_.set("Unknown")}async function FI(i,e,t){if(i.q_.set("Online"),e instanceof C1&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.N_.delete(m),o.Q_.removeTarget(m))}(i,e)}catch(s){pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ph(i,s)}else if(e instanceof hh?i.Q_.Ke(e):e instanceof R1?i.Q_.He(e):i.Q_.We(e),!t.isEqual(Ce.min()))try{const s=await k1(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Q_.rt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.N_.get(g);_&&u.N_.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.N_.get(p);if(!_)return;u.N_.set(p,_.withResumeToken(en.EMPTY_BYTE_STRING,_.snapshotVersion)),B1(u,p);const A=new Xr(_.target,p,g,_.sequenceNumber);tg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){pe("RemoteStore","Failed to raise snapshot:",s),await Ph(i,s)}}async function Ph(i,e,t){if(!gu(e))throw e;i.L_.add(1),await Eu(i),i.q_.set("Offline"),t||(t=()=>k1(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{pe("RemoteStore","Retrying IndexedDB access"),await t(),i.L_.delete(1),await nf(i)})}function q1(i,e){return e().catch(t=>Ph(i,t,e))}async function rf(i){const e=Ne(i),t=as(e);let s=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;HI(e);)try{const o=await CI(e.localStore,s);if(o===null){e.O_.length===0&&t.o_();break}s=o.batchId,GI(e,o)}catch(o){await Ph(e,o)}F1(e)&&H1(e)}function HI(i){return ua(i)&&i.O_.length<10}function GI(i,e){i.O_.push(e);const t=as(i);t.r_()&&t.V_&&t.m_(e.mutations)}function F1(i){return ua(i)&&!as(i).n_()&&i.O_.length>0}function H1(i){as(i).start()}async function KI(i){as(i).p_()}async function QI(i){const e=as(i);for(const t of i.O_)e.m_(t.mutations)}async function YI(i,e,t){const s=i.O_.shift(),o=Yp.from(s,e,t);await q1(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await rf(i)}async function $I(i,e){e&&as(i).V_&&await async function(s,o){if(function(h){return UN(h)&&h!==ne.ABORTED}(o.code)){const u=s.O_.shift();as(s).s_(),await q1(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await rf(s)}}(i,e),F1(i)&&H1(i)}async function nE(i,e){const t=Ne(i);t.asyncQueue.verifyOperationInProgress(),pe("RemoteStore","RemoteStore received new credentials");const s=ua(t);t.L_.add(3),await Eu(t),s&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await nf(t)}async function XI(i,e){const t=Ne(i);e?(t.L_.delete(2),await nf(t)):e||(t.L_.add(2),await Eu(t),t.q_.set("Unknown"))}function wo(i){return i.K_||(i.K_=function(t,s,o){const u=Ne(t);return u.w_(),new PI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:BI.bind(null,i),Ro:zI.bind(null,i),mo:qI.bind(null,i),d_:FI.bind(null,i)}),i.B_.push(async e=>{e?(i.K_.s_(),ig(i)?ng(i):i.q_.set("Unknown")):(await i.K_.stop(),z1(i))})),i.K_}function as(i){return i.U_||(i.U_=function(t,s,o){const u=Ne(t);return u.w_(),new kI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:KI.bind(null,i),mo:$I.bind(null,i),f_:QI.bind(null,i),g_:YI.bind(null,i)}),i.B_.push(async e=>{e?(i.U_.s_(),await rf(i)):(await i.U_.stop(),i.O_.length>0&&(pe("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))})),i.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new rg(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(i,e){if(fr("AsyncQueue",`${e}: ${i}`),gu(i))return new me(ne.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.comparator=e?(t,s)=>e(t,s)||ve.comparator(t.key,s.key):(t,s)=>ve.comparator(t.key,s.key),this.keyedMap=Fl(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new lo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(){this.W_=new mt(ve.comparator)}track(e){const t=e.doc.key,s=this.W_.get(t);s?e.type!==0&&s.type===3?this.W_=this.W_.insert(t,e):e.type===3&&s.type!==1?this.W_=this.W_.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.W_=this.W_.remove(t):e.type===1&&s.type===2?this.W_=this.W_.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Re():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,s)=>{e.push(s)}),e}}class _o{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new _o(e,t,lo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Xh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class JI{constructor(){this.queries=rE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,s){const o=Ne(t),u=o.queries;o.queries=rE(),u.forEach((h,m)=>{for(const p of m.j_)p.onError(s)})})(this,new me(ne.ABORTED,"Firestore shutting down"))}}function rE(){return new So(i=>d1(i),Xh)}async function ZI(i,e){const t=Ne(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.H_()&&e.J_()&&(s=2):(u=new WI,s=e.J_()?0:1);try{switch(s){case 0:u.z_=await t.onListen(o,!0);break;case 1:u.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=sg(h,`Initialization of query '${no(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.j_.push(e),e.Z_(t.onlineState),u.z_&&e.X_(u.z_)&&ag(t)}async function ex(i,e){const t=Ne(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.j_.indexOf(e);h>=0&&(u.j_.splice(h,1),u.j_.length===0?o=e.J_()?0:1:!u.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function tx(i,e){const t=Ne(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.j_)m.X_(o)&&(s=!0);h.z_=o}}s&&ag(t)}function nx(i,e,t){const s=Ne(i),o=s.queries.get(e);if(o)for(const u of o.j_)u.onError(t);s.queries.delete(e)}function ag(i){i.Y_.forEach(e=>{e.next()})}var lp,sE;(sE=lp||(lp={})).ea="default",sE.Cache="cache";class ix{constructor(e,t,s){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=s||{}}X_(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new _o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const s=t!=="Offline";return(!this.options._a||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=_o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==lp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.key=e}}class K1{constructor(e){this.key=e}}class rx{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ue(),this.mutatedKeys=Ue(),this.Aa=m1(e),this.Ra=new lo(this.Aa)}get Va(){return this.Ta}ma(e,t){const s=t?t.fa:new iE,o=t?t.Ra:this.Ra;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,A)=>{const w=o.get(_),O=Wh(this.query,A)?A:null,x=!!w&&this.mutatedKeys.has(w.key),B=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let P=!1;w&&O?w.data.isEqual(O.data)?x!==B&&(s.track({type:3,doc:O}),P=!0):this.ga(w,O)||(s.track({type:2,doc:O}),P=!0,(p&&this.Aa(O,p)>0||g&&this.Aa(O,g)<0)&&(m=!0)):!w&&O?(s.track({type:0,doc:O}),P=!0):w&&!O&&(s.track({type:1,doc:w}),P=!0,(p||g)&&(m=!0)),P&&(O?(h=h.add(O),u=B?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{Ra:h,fa:s,ns:m,mutatedKeys:u}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const h=e.fa.G_();h.sort((_,A)=>function(O,x){const B=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return B(O)-B(x)}(_.type,A.type)||this.Aa(_.doc,A.doc)),this.pa(s),o=o!=null&&o;const m=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,g=p!==this.Ea;return this.Ea=p,h.length!==0||g?{snapshot:new _o(this.query,e.Ra,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new iE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ue(),this.Ra.forEach(s=>{this.Sa(s.key)&&(this.da=this.da.add(s.key))});const t=[];return e.forEach(s=>{this.da.has(s)||t.push(new K1(s))}),this.da.forEach(s=>{e.has(s)||t.push(new G1(s))}),t}ba(e){this.Ta=e.Ts,this.da=Ue();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return _o.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class sx{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class ax{constructor(e){this.key=e,this.va=!1}}class ox{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ca={},this.Fa=new So(m=>d1(m),Xh),this.Ma=new Map,this.xa=new Set,this.Oa=new mt(ve.comparator),this.Na=new Map,this.La=new Wp,this.Ba={},this.ka=new Map,this.qa=yo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function lx(i,e,t=!0){const s=J1(i);let o;const u=s.Fa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Da()):o=await Q1(s,e,t,!0),o}async function ux(i,e){const t=J1(i);await Q1(t,e,!0,!1)}async function Q1(i,e,t,s){const o=await NI(i.localStore,Ci(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await cx(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&j1(i.remoteStore,o),m}async function cx(i,e,t,s,o){i.Ka=(A,w,O)=>async function(B,P,Z,re){let K=P.view.ma(Z);K.ns&&(K=await Z0(B.localStore,P.query,!1).then(({documents:M})=>P.view.ma(M,K)));const oe=re&&re.targetChanges.get(P.targetId),ie=re&&re.targetMismatches.get(P.targetId)!=null,fe=P.view.applyChanges(K,B.isPrimaryClient,oe,ie);return oE(B,P.targetId,fe.wa),fe.snapshot}(i,A,w,O);const u=await Z0(i.localStore,e,!0),h=new rx(e,u.Ts),m=h.ma(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);oE(i,t,g.wa);const _=new sx(e,t,h);return i.Fa.set(e,_),i.Ma.has(t)?i.Ma.get(t).push(e):i.Ma.set(t,[e]),g.snapshot}async function hx(i,e,t){const s=Ne(i),o=s.Fa.get(e),u=s.Ma.get(o.targetId);if(u.length>1)return s.Ma.set(o.targetId,u.filter(h=>!Xh(h,e))),void s.Fa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await op(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&eg(s.remoteStore,o.targetId),up(s,o.targetId)}).catch(pu)):(up(s,o.targetId),await op(s.localStore,o.targetId,!0))}async function fx(i,e){const t=Ne(i),s=t.Fa.get(e),o=t.Ma.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),eg(t.remoteStore,s.targetId))}async function dx(i,e,t){const s=Ex(i);try{const o=await function(h,m){const p=Ne(h),g=jt.now(),_=m.reduce((O,x)=>O.add(x.key),Ue());let A,w;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let x=dr(),B=Ue();return p.cs.getEntries(O,_).next(P=>{x=P,x.forEach((Z,re)=>{re.isValidDocument()||(B=B.add(Z))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,x)).next(P=>{A=P;const Z=[];for(const re of m){const K=DN(re,A.get(re.key).overlayedDocument);K!=null&&Z.push(new os(re.key,K,r1(K.value.mapValue),ii.exists(!0)))}return p.mutationQueue.addMutationBatch(O,g,Z,m)}).next(P=>{w=P;const Z=P.applyToLocalDocumentSet(A,B);return p.documentOverlayCache.saveOverlays(O,P.batchId,Z)})}).then(()=>({batchId:w.batchId,changes:g1(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ba[h.currentUser.toKey()];g||(g=new mt(Ge)),g=g.insert(m,p),h.Ba[h.currentUser.toKey()]=g}(s,o.batchId,t),await Tu(s,o.changes),await rf(s.remoteStore)}catch(o){const u=sg(o,"Failed to persist write");t.reject(u)}}async function Y1(i,e){const t=Ne(i);try{const s=await wI(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Na.get(u);h&&(We(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.va=!0:o.modifiedDocuments.size>0?We(h.va):o.removedDocuments.size>0&&(We(h.va),h.va=!1))}),await Tu(t,s,e)}catch(s){await pu(s)}}function aE(i,e,t){const s=Ne(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Fa.forEach((u,h)=>{const m=h.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Ne(h);p.onlineState=m;let g=!1;p.queries.forEach((_,A)=>{for(const w of A.j_)w.Z_(m)&&(g=!0)}),g&&ag(p)}(s.eventManager,e),o.length&&s.Ca.d_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function mx(i,e,t){const s=Ne(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Na.get(e),u=o&&o.key;if(u){let h=new mt(ve.comparator);h=h.insert(u,on.newNoDocument(u,Ce.min()));const m=Ue().add(u),p=new ef(Ce.min(),new Map,new mt(Ge),h,m);await Y1(s,p),s.Oa=s.Oa.remove(u),s.Na.delete(e),og(s)}else await op(s.localStore,e,!1).then(()=>up(s,e,t)).catch(pu)}async function px(i,e){const t=Ne(i),s=e.batch.batchId;try{const o=await SI(t.localStore,e);X1(t,s,null),$1(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(t,o)}catch(o){await pu(o)}}async function gx(i,e,t){const s=Ne(i);try{const o=await function(h,m){const p=Ne(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(We(A!==null),_=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);X1(s,e,t),$1(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Tu(s,o)}catch(o){await pu(o)}}function $1(i,e){(i.ka.get(e)||[]).forEach(t=>{t.resolve()}),i.ka.delete(e)}function X1(i,e,t){const s=Ne(i);let o=s.Ba[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Ba[s.currentUser.toKey()]=o}}function up(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Ma.get(e))i.Fa.delete(s),t&&i.Ca.$a(s,t);i.Ma.delete(e),i.isPrimaryClient&&i.La.gr(e).forEach(s=>{i.La.containsKey(s)||W1(i,s)})}function W1(i,e){i.xa.delete(e.path.canonicalString());const t=i.Oa.get(e);t!==null&&(eg(i.remoteStore,t),i.Oa=i.Oa.remove(e),i.Na.delete(t),og(i))}function oE(i,e,t){for(const s of t)s instanceof G1?(i.La.addReference(s.key,e),yx(i,s)):s instanceof K1?(pe("SyncEngine","Document no longer in limbo: "+s.key),i.La.removeReference(s.key,e),i.La.containsKey(s.key)||W1(i,s.key)):Re()}function yx(i,e){const t=e.key,s=t.path.canonicalString();i.Oa.get(t)||i.xa.has(s)||(pe("SyncEngine","New document in limbo: "+t),i.xa.add(s),og(i))}function og(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){const e=i.xa.values().next().value;i.xa.delete(e);const t=new ve(ot.fromString(e)),s=i.qa.next();i.Na.set(s,new ax(t)),i.Oa=i.Oa.insert(t,s),j1(i.remoteStore,new Xr(Ci(h1(t.path)),s,"TargetPurposeLimboResolution",Bp.oe))}}async function Tu(i,e,t){const s=Ne(i),o=[],u=[],h=[];s.Fa.isEmpty()||(s.Fa.forEach((m,p)=>{h.push(s.Ka(p,e,t).then(g=>{var _;if((g||t)&&s.isPrimaryClient){const A=g?!g.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(g){o.push(g);const A=Zp.Wi(p.targetId,g);u.push(A)}}))}),await Promise.all(h),s.Ca.d_(o),await async function(p,g){const _=Ne(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ae.forEach(g,w=>ae.forEach(w.$i,O=>_.persistence.referenceDelegate.addReference(A,w.targetId,O)).next(()=>ae.forEach(w.Ui,O=>_.persistence.referenceDelegate.removeReference(A,w.targetId,O)))))}catch(A){if(!gu(A))throw A;pe("LocalStore","Failed to update sequence numbers: "+A)}for(const A of g){const w=A.targetId;if(!A.fromCache){const O=_.os.get(w),x=O.snapshotVersion,B=O.withLastLimboFreeSnapshotVersion(x);_.os=_.os.insert(w,B)}}}(s.localStore,u))}async function _x(i,e){const t=Ne(i);if(!t.currentUser.isEqual(e)){pe("SyncEngine","User change. New user:",e.toKey());const s=await P1(t.localStore,e);t.currentUser=e,function(u,h){u.ka.forEach(m=>{m.forEach(p=>{p.reject(new me(ne.CANCELLED,h))})}),u.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(t,s.hs)}}function vx(i,e){const t=Ne(i),s=t.Na.get(e);if(s&&s.va)return Ue().add(s.key);{let o=Ue();const u=t.Ma.get(e);if(!u)return o;for(const h of u){const m=t.Fa.get(h);o=o.unionWith(m.view.Va)}return o}}function J1(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Y1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mx.bind(null,e),e.Ca.d_=tx.bind(null,e.eventManager),e.Ca.$a=nx.bind(null,e.eventManager),e}function Ex(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=px.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gx.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return AI(this.persistence,new TI,e.initialUser,this.serializer)}Ga(e){return new _I(Jp.Zr,this.serializer)}Wa(e){return new xI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class cp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>aE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=_x.bind(null,this.syncEngine),await XI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JI}()}createDatastore(e){const t=tf(e.databaseInfo.databaseId),s=function(u){return new VI(u)}(e.databaseInfo);return function(u,h,m,p){return new UI(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new jI(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>aE(this.syncEngine,t,0),function(){return tE.D()?new tE:new OI}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const A=new ox(o,u,h,m,p,g);return _&&(A.Qa=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=Ne(o);pe("RemoteStore","RemoteStore shutting down."),u.L_.add(5),await Eu(u),u.k_.shutdown(),u.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}cp.provider={build:()=>new cp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=an.UNAUTHENTICATED,this.clientId=t1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{pe("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(pe("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=sg(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Dm(i,e){i.asyncQueue.verifyOperationInProgress(),pe("FirestoreClient","Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await P1(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function lE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Ax(i);pe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>nE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>nE(e.remoteStore,o)),i._onlineComponents=e}async function Ax(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){pe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dm(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===ne.FAILED_PRECONDITION||o.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;fo("Error using user provided cache. Falling back to memory cache: "+t),await Dm(i,new kh)}}else pe("FirestoreClient","Using default OfflineComponentProvider"),await Dm(i,new kh);return i._offlineComponents}async function Z1(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(pe("FirestoreClient","Using user provided OnlineComponentProvider"),await lE(i,i._uninitializedComponentsProvider._online)):(pe("FirestoreClient","Using default OnlineComponentProvider"),await lE(i,new cp))),i._onlineComponents}function Sx(i){return Z1(i).then(e=>e.syncEngine)}async function wx(i){const e=await Z1(i),t=e.eventManager;return t.onListen=lx.bind(null,e.syncEngine),t.onUnlisten=hx.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ux.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fx.bind(null,e.syncEngine),t}function Rx(i,e,t={}){const s=new ts;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new Tx({next:w=>{_.Za(),h.enqueueAndForget(()=>ex(u,A)),w.fromCache&&p.source==="server"?g.reject(new me(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),A=new ix(m,_,{includeMetadataChanges:!0,_a:!0});return ZI(u,A)}(await wx(i),i.asyncQueue,e,t,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eb(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(i,e,t){if(!t)throw new me(ne.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Cx(i,e,t,s){if(e===!0&&s===!0)throw new me(ne.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function cE(i){if(!ve.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function hE(i){if(ve.isDocumentKey(i))throw new me(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function sf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Re()}function na(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new me(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sf(i);throw new me(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Cx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=eb((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class af{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fE(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new z4;switch(s.type){case"firstParty":return new G4(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=uE.get(t);s&&(pe("ComponentProvider","Removing Datastore"),uE.delete(t),s.terminate())}(this),Promise.resolve()}}function Nx(i,e,t,s={}){var o;const u=(i=na(i,af))._getSettings(),h=`${e}:${t}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,p;if(typeof s.mockUserToken=="string")m=s.mockUserToken,p=an.MOCK_USER;else{m=cT(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const g=s.mockUserToken.sub||s.mockUserToken.user_id;if(!g)throw new me(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new an(g)}i._authCredentials=new q4(new e1(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ro(this.firestore,e,this._query)}}class On{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ns(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class ns extends Ro{constructor(e,t,s){super(e,t,h1(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new ve(e))}withConverter(e){return new ns(this.firestore,e,this._path)}}function uo(i,e,...t){if(i=_t(i),tb("collection","path",e),i instanceof af){const s=ot.fromString(e,...t);return hE(s),new ns(i,null,s)}{if(!(i instanceof On||i instanceof ns))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return hE(s),new ns(i.firestore,null,s)}}function ti(i,e,...t){if(i=_t(i),arguments.length===1&&(e=t1.newId()),tb("doc","path",e),i instanceof af){const s=ot.fromString(e,...t);return cE(s),new On(i,null,new ve(s))}{if(!(i instanceof On||i instanceof ns))throw new me(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(ot.fromString(e,...t));return cE(s),new On(i.firestore,i instanceof ns?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new U1(this,"async_queue_retry"),this.Vu=()=>{const s=Om();s&&pe("AsyncQueue","Visibility state changed to "+s.visibilityState),this.t_.jo()},this.mu=e;const t=Om();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Om();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ts;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gu(e))throw e;pe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(s=>{this.Eu=s,this.du=!1;const o=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw fr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.du=!1,s))));return this.mu=t,t}enqueueAfterDelay(e,t,s){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=rg.createAndSchedule(this,e,t,s,u=>this.yu(u));return this.Tu.push(o),o}fu(){this.Eu&&Re()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class bu extends af{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new dE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new dE(e),this._firestoreClient=void 0,await e}}}function Ix(i,e){const t=typeof i=="object"?i:Cp(),s=typeof i=="string"?i:"(default)",o=Gh(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=oT("firestore");u&&Nx(o,...u)}return o}function nb(i){if(i._terminated)throw new me(ne.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||xx(i),i._firestoreClient}function xx(i){var e,t,s;const o=i._freezeSettings(),u=function(m,p,g,_){return new rN(m,p,g,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,eb(_.experimentalLongPollingOptions),_.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new bx(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vo(en.fromBase64String(e))}catch(t){throw new me(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vo(en.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ge(this._lat,e._lat)||Ge(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ox=/^__.*__$/;class Dx{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new os(e,this.data,this.fieldMask,t,this.fieldTransforms):new _u(e,this.data,t,this.fieldTransforms)}}class ib{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new os(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function rb(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re()}}class hg{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.vu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.Ou(e),o}Nu(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:s,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Uh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(rb(this.Cu)&&Ox.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Mx{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||tf(e)}Qu(e,t,s,o=!1){return new hg({Cu:e,methodName:t,qu:s,path:Jt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fg(i){const e=i._freezeSettings(),t=tf(i._databaseId);return new Mx(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Vx(i,e,t,s,o,u={}){const h=i.Qu(u.merge||u.mergeFields?2:0,e,t,o);dg("Data must be an object, but it was:",h,s);const m=sb(s,h);let p,g;if(u.merge)p=new In(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const w=hp(e,A,t);if(!h.contains(w))throw new me(ne.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);ob(_,w)||_.push(w)}p=new In(_),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new Dx(new _n(m),p,g)}class lf extends lg{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lf}}function Px(i,e,t,s){const o=i.Qu(1,e,t);dg("Data must be an object, but it was:",o,s);const u=[],h=_n.empty();la(s,(p,g)=>{const _=mg(e,p,t);g=_t(g);const A=o.Nu(_);if(g instanceof lf)u.push(_);else{const w=Au(g,A);w!=null&&(u.push(_),h.set(_,w))}});const m=new In(u);return new ib(h,m,o.fieldTransforms)}function kx(i,e,t,s,o,u){const h=i.Qu(1,e,t),m=[hp(e,s,t)],p=[o];if(u.length%2!=0)throw new me(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)m.push(hp(e,u[w])),p.push(u[w+1]);const g=[],_=_n.empty();for(let w=m.length-1;w>=0;--w)if(!ob(g,m[w])){const O=m[w];let x=p[w];x=_t(x);const B=h.Nu(O);if(x instanceof lf)g.push(O);else{const P=Au(x,B);P!=null&&(g.push(O),_.set(O,P))}}const A=new In(g);return new ib(_,A,h.fieldTransforms)}function Ux(i,e,t,s=!1){return Au(t,i.Qu(s?4:3,e))}function Au(i,e){if(ab(i=_t(i)))return dg("Unsupported field value:",e,i),sb(i,e);if(i instanceof lg)return function(s,o){if(!rb(o.Cu))throw o.Bu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=Au(m,o.Lu(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=_t(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return RN(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=jt.fromDate(s);return{timestampValue:Vh(o.serializer,u)}}if(s instanceof jt){const u=new jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Vh(o.serializer,u)}}if(s instanceof ug)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof vo)return{bytesValue:N1(o.serializer,s._byteString)};if(s instanceof On){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Bu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof cg)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return Kp(m.serializer,p)})}}}}}}(s,o);throw o.Bu(`Unsupported field value: ${sf(s)}`)}(i,e)}function sb(i,e){const t={};return n1(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):la(i,(s,o)=>{const u=Au(o,e.Mu(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function ab(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof jt||i instanceof ug||i instanceof vo||i instanceof On||i instanceof lg||i instanceof cg)}function dg(i,e,t){if(!ab(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const s=sf(t);throw s==="an object"?e.Bu(i+" a custom object"):e.Bu(i+" "+s)}}function hp(i,e,t){if((e=_t(e))instanceof of)return e._internalPath;if(typeof e=="string")return mg(i,e);throw Uh("Field path arguments must be of type string or ",i,!1,void 0,t)}const Lx=new RegExp("[~\\*/\\[\\]]");function mg(i,e,t){if(e.search(Lx)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new of(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Uh(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new me(ne.INVALID_ARGUMENT,m+i+p)}function ob(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ub("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jx extends lb{data(){return super.data()}}function ub(i,e){return typeof e=="string"?mg(i,e):e instanceof of?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new me(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class zx extends pg{}function cb(i,e,...t){let s=[];e instanceof pg&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof yg).length,m=u.filter(p=>p instanceof gg).length;if(h>1||h>0&&m>0)throw new me(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class gg extends zx{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new gg(e,t,s)}_apply(e){const t=this._parse(e);return hb(e._query,t),new Ro(e.firestore,e.converter,tp(e._query,t))}_parse(e){const t=fg(e.firestore);return function(u,h,m,p,g,_,A){let w;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new me(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){pE(A,_);const O=[];for(const x of A)O.push(mE(p,u,x));w={arrayValue:{values:O}}}else w=mE(p,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||pE(A,_),w=Ux(m,h,A,_==="in"||_==="not-in");return Dt.create(g,_,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class yg extends pg{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new yg(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)hb(h,p),h=tp(h,p)}(e._query,t),new Ro(e.firestore,e.converter,tp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function mE(i,e,t){if(typeof(t=_t(t))=="string"){if(t==="")throw new me(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!f1(e)&&t.indexOf("/")!==-1)throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(ot.fromString(t));if(!ve.isDocumentKey(s))throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return k0(i,new ve(s))}if(t instanceof On)return k0(i,t._key);throw new me(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sf(t)}.`)}function pE(i,e){if(!Array.isArray(i)||i.length===0)throw new me(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function hb(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qx{convertValue(e,t="none"){switch(ta(e)){case 0:return null;case 1:return e.booleanValue;case 2:return wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ea(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return la(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){var t,s,o;const u=(o=(s=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>wt(h.doubleValue));return new cg(u)}convertGeoPoint(e){return new ug(wt(e.latitude),wt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=qp(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const t=ss(e);return new jt(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=ot.fromString(e);We(V1(s));const o=new iu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(t)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(i,e,t){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Hx extends lb{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(ub("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class fh extends Hx{data(e={}){return super.data(e)}}class Gx{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new eh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new fh(this._firestore,this._userDataWriter,s.key,s,new eh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new fh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new eh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:Kx(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Kx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class Qx extends qx{constructor(e){super(),this.firestore=e}convertBytes(e){return new vo(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,t)}}function Lh(i){i=na(i,Ro);const e=na(i.firestore,bu),t=nb(e),s=new Qx(e);return Bx(i._query),Rx(t,i._query).then(o=>new Gx(e,s,i,o))}function fp(i,e,t,...s){i=na(i,On);const o=na(i.firestore,bu),u=fg(o);let h;return h=typeof(e=_t(e))=="string"||e instanceof of?kx(u,"updateDoc",i._key,e,t,s):Px(u,"updateDoc",i._key,e),_g(o,[h.toMutation(i._key,ii.exists(!0))])}function fb(i){return _g(na(i.firestore,bu),[new Qp(i._key,ii.none())])}function db(i,e){const t=na(i.firestore,bu),s=ti(i),o=Fx(i.converter,e);return _g(t,[Vx(fg(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,ii.exists(!1))]).then(()=>s)}function _g(i,e){return function(s,o){const u=new ts;return s.asyncQueue.enqueueAndForget(async()=>dx(await Sx(s),o,u)),u.promise}(nb(i),e)}(function(e,t=!0){(function(o){Ao=o})(aa),Ws(new is("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new bu(new F4(s.getProvider("auth-internal")),new Q4(s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,_)}(h,o),h);return u=Object.assign({useFetchStreams:t},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),wi(O0,"4.7.3",e),wi(O0,"4.7.3","esm2017")})();const Yx={apiKey:"AIzaSyDU9EPsYVmpwNWzQWifSdZIxJcpMo6Pk-I",authDomain:"booktracker-e1be7.firebaseapp.com",projectId:"booktracker-e1be7",storageBucket:"booktracker-e1be7.firebasestorage.app",messagingSenderId:"683431497366",appId:"1:683431497366:web:ea521a8fcd6b1eb83bbcb7"},mb=dT(Yx),Lt=j4(mb),lr=Ix(mb),$x=new ir;RC(Lt,LT).catch(i=>{console.error("Erro na persistência:",i)});function Xx(){const i=Lt.currentUser,e=lu(),[t,s]=$.useState(!1),[o,u]=$.useState(window.innerWidth<=968);$.useEffect(()=>{const p=()=>{u(window.innerWidth<=968),window.innerWidth>968&&s(!1)};return window.addEventListener("resize",p),()=>window.removeEventListener("resize",p)},[]);const h=()=>{o&&s(!1)},m=async()=>{try{await IC(Lt),e("/login")}catch(p){console.error("Erro ao fazer logout:",p),alert("Erro ao sair da conta! Tente novamente.")}};return T.jsxs("div",{className:"app-container",children:[o&&T.jsx("button",{className:"menu-toggle",onClick:()=>s(!t),"aria-label":t?"Fechar menu":"Abrir menu",children:t?T.jsx(eT,{}):T.jsx($w,{})}),T.jsxs("aside",{className:`sidebar ${t?"open":""}`,children:[T.jsxs("div",{className:"user-info",children:[T.jsx("img",{src:(i==null?void 0:i.photoURL)||"/default-user.png",alt:"Foto do usuário",className:"user-photo"}),T.jsxs("div",{className:"user-details",children:[T.jsx("span",{className:"user-name",children:(i==null?void 0:i.displayName)||"Usuário"}),T.jsxs("button",{onClick:m,className:"logout-button",children:[T.jsx(i2,{})," Sair"]})]})]}),T.jsxs("nav",{className:"nav-menu",children:[T.jsxs(Ll,{to:"/dashboard",className:"nav-item",onClick:h,children:[T.jsx(e2,{className:"nav-icon"}),T.jsx("span",{children:"Dashboard"})]}),T.jsxs(Ll,{to:"/add-book",className:"nav-item",onClick:h,children:[T.jsx(uu,{className:"nav-icon"}),T.jsx("span",{children:"Adicionar Livro"})]}),T.jsxs(Ll,{to:"/collection",className:"nav-item",onClick:h,children:[T.jsx(Si,{className:"nav-icon"}),T.jsx("span",{children:"Coleção"})]}),T.jsxs(Ll,{to:"/folders",className:"nav-item",onClick:h,children:[T.jsx(ih,{className:"nav-icon"}),T.jsx("span",{children:"Pastas"})]}),T.jsxs(Ll,{to:"/profile",className:"nav-item",onClick:h,children:[T.jsx(nT,{className:"nav-icon"}),T.jsx("span",{children:"Perfil"})]})]})]}),T.jsx("main",{className:"main-content",children:T.jsx(KE,{})})]})}function Wx(){return T.jsxs("div",{className:"landing-container",children:[T.jsxs("nav",{className:"landing-nav",children:[T.jsxs("div",{className:"logo",children:[T.jsx("span",{className:"book-icon",children:"📚"})," BookTracker"]}),T.jsx("div",{className:"nav-links",children:T.jsx(Jr,{to:"/login",className:"login-link",children:"Login"})})]}),T.jsxs("header",{className:"landing-header",children:[T.jsxs("div",{className:"header-content",children:[T.jsx("h1",{children:"BookTracker"}),T.jsx("p",{className:"tagline",children:"Organize, acompanhe e descubra sua jornada literária"}),T.jsx(Jr,{to:"/login",className:"cta-button",children:"Começar Agora"})]}),T.jsx("div",{className:"header-image",children:T.jsx("div",{className:"book-stack-image"})})]}),T.jsxs("section",{className:"features",children:[T.jsxs("div",{className:"feature-card",children:[T.jsx("div",{className:"feature-icon",children:T.jsx(Si,{})}),T.jsx("h2",{children:"Organize sua coleção"}),T.jsx("p",{children:"Cadastre todos os seus livros em um só lugar e acompanhe seu progresso de leitura com facilidade."})]}),T.jsxs("div",{className:"feature-card",children:[T.jsx("div",{className:"feature-icon",children:T.jsx(Ww,{})}),T.jsx("h2",{children:"Estatísticas detalhadas"}),T.jsx("p",{children:"Visualize seus hábitos de leitura com gráficos interativos e descubra padrões interessantes."})]}),T.jsxs("div",{className:"feature-card",children:[T.jsx("div",{className:"feature-icon",children:T.jsx(t2,{})}),T.jsx("h2",{children:"Acesso em qualquer lugar"}),T.jsx("p",{children:"Use em qualquer dispositivo com sincronização automática para nunca perder seus dados."})]})]}),T.jsxs("section",{className:"testimonials",children:[T.jsx("h2",{children:"O que nossos usuários dizem"}),T.jsxs("div",{className:"testimonial-grid",children:[T.jsxs("div",{className:"testimonial-card",children:[T.jsx("p",{children:'"BookTracker revolucionou minha forma de gerenciar livros. Agora sei exatamente quanto tempo levo para terminar cada leitura!"'}),T.jsx("div",{className:"testimonial-author",children:"Maria S."})]}),T.jsxs("div",{className:"testimonial-card",children:[T.jsx("p",{children:'"As estatísticas me ajudaram a estabelecer metas de leitura realistas. Já li 30% mais livros este ano!"'}),T.jsx("div",{className:"testimonial-author",children:"João P."})]})]})]}),T.jsxs("footer",{className:"landing-footer",children:[T.jsxs("div",{className:"cta-section",children:[T.jsx("h2",{children:"Pronto para organizar sua biblioteca?"}),T.jsx(Jr,{to:"/login",className:"cta-button",children:"Criar conta grátis"})]}),T.jsx("div",{className:"footer-info",children:T.jsx("p",{children:"© 2025 BookTracker. Todos os direitos reservados."})})]})]})}function Jx(){const i=lu(),e=async()=>{try{await YC(Lt,$x),i("/dashboard")}catch(t){console.error("Erro no login:",t)}};return T.jsx("div",{className:"login-container",children:T.jsxs("div",{className:"login-card",children:[T.jsxs("div",{className:"app-logo",children:[T.jsx("span",{className:"book-icon",children:"📚"}),T.jsx("h1",{children:"BookTracker"})]}),T.jsx("h2",{children:"Bem-vindo de volta"}),T.jsx("p",{className:"login-subtitle",children:"Continue sua jornada literária"}),T.jsxs("button",{className:"google-login-btn",onClick:e,children:[T.jsx(Yw,{className:"google-icon"}),T.jsx("span",{children:"Entrar com Google"})]}),T.jsx("div",{className:"separator",children:T.jsx("span",{children:"ou"})}),T.jsxs("div",{className:"demo-account",children:[T.jsx("p",{children:"Quer apenas conhecer a plataforma?"}),T.jsx("button",{className:"demo-btn",children:"Acessar conta demonstrativa"})]}),T.jsxs(Jr,{to:"/",className:"back-link",children:[T.jsx(WE,{})," Voltar para a página inicial"]})]})})}function Zx(){var u;const[i,e]=$.useState([]),[t,s]=$.useState({total:0,read:0,favoriteGenre:"Nenhum",avgRating:0});$.useEffect(()=>{(async()=>{const m=Lt.currentUser;if(m){const p=ti(lr,"users",m.uid),g=uo(p,"books"),_=cb(g),w=(await Lh(_)).docs.map(O=>({id:O.id,...O.data()}));e(w),o(w)}})()},[]);const o=h=>{const m=h.filter(_=>_.status==="Concluído"),p=h.map(_=>_.rating).filter(_=>_>0),g=h.reduce((_,A)=>(_[A.genre]=(_[A.genre]||0)+1,_),{});s({total:h.length,read:m.length,favoriteGenre:Object.keys(g).reduce((_,A)=>g[_]>g[A]?_:A,"Nenhum"),avgRating:p.length?(p.reduce((_,A)=>_+A,0)/p.length).toFixed(1):0})};return T.jsxs("div",{className:"dashboard-container",children:[T.jsxs("header",{className:"dashboard-header",children:[T.jsxs("h1",{children:["Bem-vindo, ",((u=Lt.currentUser)==null?void 0:u.displayName)||"Leitor","!"]}),T.jsxs("div",{className:"quick-actions",children:[T.jsxs(Jr,{to:"/add-book",className:"action-button",children:[T.jsx(uu,{})," Adicionar Livro"]}),T.jsxs(Jr,{to:"/collection",className:"action-button",children:[T.jsx(Si,{})," Minha Coleção"]})]})]}),T.jsxs("div",{className:"stats-grid",children:[T.jsxs("div",{className:"stat-card purple",children:[T.jsx(Si,{className:"stat-icon"}),T.jsx("h3",{children:"Total de Livros"}),T.jsx("p",{children:t.total})]}),T.jsxs("div",{className:"stat-card dark-purple",children:[T.jsx(Xw,{className:"stat-icon"}),T.jsx("h3",{children:"Livros Lidos"}),T.jsx("p",{children:t.read})]}),T.jsxs("div",{className:"stat-card purple",children:[T.jsx(JE,{className:"stat-icon"}),T.jsx("h3",{children:"Gênero Favorito"}),T.jsx("p",{children:t.favoriteGenre})]}),T.jsxs("div",{className:"stat-card dark-purple",children:[T.jsx(Zl,{className:"stat-icon"}),T.jsx("h3",{children:"Nota Média"}),T.jsxs("p",{children:[t.avgRating,"/5"]})]})]}),T.jsxs("div",{className:"recent-books",children:[T.jsx("h2",{children:"Últimas Adições"}),i.slice(0,3).map(h=>T.jsxs("div",{className:"book-item",children:[T.jsx("img",{src:h.cover||"default-book.png",alt:h.title}),T.jsxs("div",{children:[T.jsx("h4",{children:h.title}),T.jsx("p",{children:h.author})]})]},h.id))]})]})}const eO=async(i,e)=>{try{const t=ti(lr,"users",i),s=uo(t,"books");return(await db(s,{...e,createdAt:new Date,updatedAt:new Date})).id}catch(t){throw console.error("Erro ao adicionar livro:",t),t}};function tO(i,e,t){var s=this,o=$.useRef(null),u=$.useRef(0),h=$.useRef(null),m=$.useRef([]),p=$.useRef(),g=$.useRef(),_=$.useRef(i),A=$.useRef(!0);_.current=i;var w=typeof window<"u",O=!e&&e!==0&&w;if(typeof i!="function")throw new TypeError("Expected a function");e=+e||0;var x=!!(t=t||{}).leading,B=!("trailing"in t)||!!t.trailing,P="maxWait"in t,Z="debounceOnServer"in t&&!!t.debounceOnServer,re=P?Math.max(+t.maxWait||0,e):null;$.useEffect(function(){return A.current=!0,function(){A.current=!1}},[]);var K=$.useMemo(function(){var oe=function(D){var k=m.current,L=p.current;return m.current=p.current=null,u.current=D,g.current=_.current.apply(L,k)},ie=function(D,k){O&&cancelAnimationFrame(h.current),h.current=O?requestAnimationFrame(D):setTimeout(D,k)},fe=function(D){if(!A.current)return!1;var k=D-o.current;return!o.current||k>=e||k<0||P&&D-u.current>=re},M=function(D){return h.current=null,B&&m.current?oe(D):(m.current=p.current=null,g.current)},R=function D(){var k=Date.now();if(fe(k))return M(k);if(A.current){var L=e-(k-o.current),I=P?Math.min(L,re-(k-u.current)):L;ie(D,I)}},C=function(){if(w||Z){var D=Date.now(),k=fe(D);if(m.current=[].slice.call(arguments),p.current=s,o.current=D,k){if(!h.current&&A.current)return u.current=o.current,ie(R,e),x?oe(o.current):g.current;if(P)return ie(R,e),oe(o.current)}return h.current||ie(R,e),g.current}};return C.cancel=function(){h.current&&(O?cancelAnimationFrame(h.current):clearTimeout(h.current)),u.current=0,m.current=o.current=p.current=h.current=null},C.isPending=function(){return!!h.current},C.flush=function(){return h.current?M(Date.now()):g.current},C},[x,P,e,re,B,O,w,Z]);return K}function nO(i,e){return i===e}function iO(i,e,t){var s=nO,o=$.useRef(i),u=$.useState({})[1],h=tO($.useCallback(function(p){o.current=p,u({})},[u]),e,t),m=$.useRef(i);return s(m.current,i)||(h(i),m.current=i),[o.current,h]}function pb(i,e){return function(){return i.apply(e,arguments)}}const{toString:rO}=Object.prototype,{getPrototypeOf:vg}=Object,uf=(i=>e=>{const t=rO.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),si=i=>(i=i.toLowerCase(),e=>uf(e)===i),cf=i=>e=>typeof e===i,{isArray:Co}=Array,ou=cf("undefined");function sO(i){return i!==null&&!ou(i)&&i.constructor!==null&&!ou(i.constructor)&&Dn(i.constructor.isBuffer)&&i.constructor.isBuffer(i)}const gb=si("ArrayBuffer");function aO(i){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&gb(i.buffer),e}const oO=cf("string"),Dn=cf("function"),yb=cf("number"),hf=i=>i!==null&&typeof i=="object",lO=i=>i===!0||i===!1,dh=i=>{if(uf(i)!=="object")return!1;const e=vg(i);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},uO=si("Date"),cO=si("File"),hO=si("Blob"),fO=si("FileList"),dO=i=>hf(i)&&Dn(i.pipe),mO=i=>{let e;return i&&(typeof FormData=="function"&&i instanceof FormData||Dn(i.append)&&((e=uf(i))==="formdata"||e==="object"&&Dn(i.toString)&&i.toString()==="[object FormData]"))},pO=si("URLSearchParams"),[gO,yO,_O,vO]=["ReadableStream","Request","Response","Headers"].map(si),EO=i=>i.trim?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Su(i,e,{allOwnKeys:t=!1}={}){if(i===null||typeof i>"u")return;let s,o;if(typeof i!="object"&&(i=[i]),Co(i))for(s=0,o=i.length;s<o;s++)e.call(null,i[s],s,i);else{const u=t?Object.getOwnPropertyNames(i):Object.keys(i),h=u.length;let m;for(s=0;s<h;s++)m=u[s],e.call(null,i[m],m,i)}}function _b(i,e){e=e.toLowerCase();const t=Object.keys(i);let s=t.length,o;for(;s-- >0;)if(o=t[s],e===o.toLowerCase())return o;return null}const Ks=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,vb=i=>!ou(i)&&i!==Ks;function dp(){const{caseless:i}=vb(this)&&this||{},e={},t=(s,o)=>{const u=i&&_b(e,o)||o;dh(e[u])&&dh(s)?e[u]=dp(e[u],s):dh(s)?e[u]=dp({},s):Co(s)?e[u]=s.slice():e[u]=s};for(let s=0,o=arguments.length;s<o;s++)arguments[s]&&Su(arguments[s],t);return e}const TO=(i,e,t,{allOwnKeys:s}={})=>(Su(e,(o,u)=>{t&&Dn(o)?i[u]=pb(o,t):i[u]=o},{allOwnKeys:s}),i),bO=i=>(i.charCodeAt(0)===65279&&(i=i.slice(1)),i),AO=(i,e,t,s)=>{i.prototype=Object.create(e.prototype,s),i.prototype.constructor=i,Object.defineProperty(i,"super",{value:e.prototype}),t&&Object.assign(i.prototype,t)},SO=(i,e,t,s)=>{let o,u,h;const m={};if(e=e||{},i==null)return e;do{for(o=Object.getOwnPropertyNames(i),u=o.length;u-- >0;)h=o[u],(!s||s(h,i,e))&&!m[h]&&(e[h]=i[h],m[h]=!0);i=t!==!1&&vg(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e},wO=(i,e,t)=>{i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;const s=i.indexOf(e,t);return s!==-1&&s===t},RO=i=>{if(!i)return null;if(Co(i))return i;let e=i.length;if(!yb(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=i[e];return t},CO=(i=>e=>i&&e instanceof i)(typeof Uint8Array<"u"&&vg(Uint8Array)),NO=(i,e)=>{const s=(i&&i[Symbol.iterator]).call(i);let o;for(;(o=s.next())&&!o.done;){const u=o.value;e.call(i,u[0],u[1])}},IO=(i,e)=>{let t;const s=[];for(;(t=i.exec(e))!==null;)s.push(t);return s},xO=si("HTMLFormElement"),OO=i=>i.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,s,o){return s.toUpperCase()+o}),gE=(({hasOwnProperty:i})=>(e,t)=>i.call(e,t))(Object.prototype),DO=si("RegExp"),Eb=(i,e)=>{const t=Object.getOwnPropertyDescriptors(i),s={};Su(t,(o,u)=>{let h;(h=e(o,u,i))!==!1&&(s[u]=h||o)}),Object.defineProperties(i,s)},MO=i=>{Eb(i,(e,t)=>{if(Dn(i)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const s=i[t];if(Dn(s)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},VO=(i,e)=>{const t={},s=o=>{o.forEach(u=>{t[u]=!0})};return Co(i)?s(i):s(String(i).split(e)),t},PO=()=>{},kO=(i,e)=>i!=null&&Number.isFinite(i=+i)?i:e;function UO(i){return!!(i&&Dn(i.append)&&i[Symbol.toStringTag]==="FormData"&&i[Symbol.iterator])}const LO=i=>{const e=new Array(10),t=(s,o)=>{if(hf(s)){if(e.indexOf(s)>=0)return;if(!("toJSON"in s)){e[o]=s;const u=Co(s)?[]:{};return Su(s,(h,m)=>{const p=t(h,o+1);!ou(p)&&(u[m]=p)}),e[o]=void 0,u}}return s};return t(i,0)},jO=si("AsyncFunction"),BO=i=>i&&(hf(i)||Dn(i))&&Dn(i.then)&&Dn(i.catch),Tb=((i,e)=>i?setImmediate:e?((t,s)=>(Ks.addEventListener("message",({source:o,data:u})=>{o===Ks&&u===t&&s.length&&s.shift()()},!1),o=>{s.push(o),Ks.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Dn(Ks.postMessage)),zO=typeof queueMicrotask<"u"?queueMicrotask.bind(Ks):typeof process<"u"&&process.nextTick||Tb,Y={isArray:Co,isArrayBuffer:gb,isBuffer:sO,isFormData:mO,isArrayBufferView:aO,isString:oO,isNumber:yb,isBoolean:lO,isObject:hf,isPlainObject:dh,isReadableStream:gO,isRequest:yO,isResponse:_O,isHeaders:vO,isUndefined:ou,isDate:uO,isFile:cO,isBlob:hO,isRegExp:DO,isFunction:Dn,isStream:dO,isURLSearchParams:pO,isTypedArray:CO,isFileList:fO,forEach:Su,merge:dp,extend:TO,trim:EO,stripBOM:bO,inherits:AO,toFlatObject:SO,kindOf:uf,kindOfTest:si,endsWith:wO,toArray:RO,forEachEntry:NO,matchAll:IO,isHTMLForm:xO,hasOwnProperty:gE,hasOwnProp:gE,reduceDescriptors:Eb,freezeMethods:MO,toObjectSet:VO,toCamelCase:OO,noop:PO,toFiniteNumber:kO,findKey:_b,global:Ks,isContextDefined:vb,isSpecCompliantForm:UO,toJSONObject:LO,isAsyncFn:jO,isThenable:BO,setImmediate:Tb,asap:zO};function xe(i,e,t,s,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),s&&(this.request=s),o&&(this.response=o,this.status=o.status?o.status:null)}Y.inherits(xe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const bb=xe.prototype,Ab={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(i=>{Ab[i]={value:i}});Object.defineProperties(xe,Ab);Object.defineProperty(bb,"isAxiosError",{value:!0});xe.from=(i,e,t,s,o,u)=>{const h=Object.create(bb);return Y.toFlatObject(i,h,function(p){return p!==Error.prototype},m=>m!=="isAxiosError"),xe.call(h,i.message,e,t,s,o),h.cause=i,h.name=i.name,u&&Object.assign(h,u),h};const qO=null;function mp(i){return Y.isPlainObject(i)||Y.isArray(i)}function Sb(i){return Y.endsWith(i,"[]")?i.slice(0,-2):i}function yE(i,e,t){return i?i.concat(e).map(function(o,u){return o=Sb(o),!t&&u?"["+o+"]":o}).join(t?".":""):e}function FO(i){return Y.isArray(i)&&!i.some(mp)}const HO=Y.toFlatObject(Y,{},null,function(e){return/^is[A-Z]/.test(e)});function ff(i,e,t){if(!Y.isObject(i))throw new TypeError("target must be an object");e=e||new FormData,t=Y.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(B,P){return!Y.isUndefined(P[B])});const s=t.metaTokens,o=t.visitor||_,u=t.dots,h=t.indexes,p=(t.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(e);if(!Y.isFunction(o))throw new TypeError("visitor must be a function");function g(x){if(x===null)return"";if(Y.isDate(x))return x.toISOString();if(!p&&Y.isBlob(x))throw new xe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(x)||Y.isTypedArray(x)?p&&typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function _(x,B,P){let Z=x;if(x&&!P&&typeof x=="object"){if(Y.endsWith(B,"{}"))B=s?B:B.slice(0,-2),x=JSON.stringify(x);else if(Y.isArray(x)&&FO(x)||(Y.isFileList(x)||Y.endsWith(B,"[]"))&&(Z=Y.toArray(x)))return B=Sb(B),Z.forEach(function(K,oe){!(Y.isUndefined(K)||K===null)&&e.append(h===!0?yE([B],oe,u):h===null?B:B+"[]",g(K))}),!1}return mp(x)?!0:(e.append(yE(P,B,u),g(x)),!1)}const A=[],w=Object.assign(HO,{defaultVisitor:_,convertValue:g,isVisitable:mp});function O(x,B){if(!Y.isUndefined(x)){if(A.indexOf(x)!==-1)throw Error("Circular reference detected in "+B.join("."));A.push(x),Y.forEach(x,function(Z,re){(!(Y.isUndefined(Z)||Z===null)&&o.call(e,Z,Y.isString(re)?re.trim():re,B,w))===!0&&O(Z,B?B.concat(re):[re])}),A.pop()}}if(!Y.isObject(i))throw new TypeError("data must be an object");return O(i),e}function _E(i){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'()~]|%20|%00/g,function(s){return e[s]})}function Eg(i,e){this._pairs=[],i&&ff(i,this,e)}const wb=Eg.prototype;wb.append=function(e,t){this._pairs.push([e,t])};wb.toString=function(e){const t=e?function(s){return e.call(this,s,_E)}:_E;return this._pairs.map(function(o){return t(o[0])+"="+t(o[1])},"").join("&")};function GO(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Rb(i,e,t){if(!e)return i;const s=t&&t.encode||GO;Y.isFunction(t)&&(t={serialize:t});const o=t&&t.serialize;let u;if(o?u=o(e,t):u=Y.isURLSearchParams(e)?e.toString():new Eg(e,t).toString(s),u){const h=i.indexOf("#");h!==-1&&(i=i.slice(0,h)),i+=(i.indexOf("?")===-1?"?":"&")+u}return i}class vE{constructor(){this.handlers=[]}use(e,t,s){return this.handlers.push({fulfilled:e,rejected:t,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Y.forEach(this.handlers,function(s){s!==null&&e(s)})}}const Cb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},KO=typeof URLSearchParams<"u"?URLSearchParams:Eg,QO=typeof FormData<"u"?FormData:null,YO=typeof Blob<"u"?Blob:null,$O={isBrowser:!0,classes:{URLSearchParams:KO,FormData:QO,Blob:YO},protocols:["http","https","file","blob","url","data"]},Tg=typeof window<"u"&&typeof document<"u",pp=typeof navigator=="object"&&navigator||void 0,XO=Tg&&(!pp||["ReactNative","NativeScript","NS"].indexOf(pp.product)<0),WO=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JO=Tg&&window.location.href||"http://localhost",ZO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Tg,hasStandardBrowserEnv:XO,hasStandardBrowserWebWorkerEnv:WO,navigator:pp,origin:JO},Symbol.toStringTag,{value:"Module"})),ln={...ZO,...$O};function eD(i,e){return ff(i,new ln.classes.URLSearchParams,Object.assign({visitor:function(t,s,o,u){return ln.isNode&&Y.isBuffer(t)?(this.append(s,t.toString("base64")),!1):u.defaultVisitor.apply(this,arguments)}},e))}function tD(i){return Y.matchAll(/\w+|\[(\w*)]/g,i).map(e=>e[0]==="[]"?"":e[1]||e[0])}function nD(i){const e={},t=Object.keys(i);let s;const o=t.length;let u;for(s=0;s<o;s++)u=t[s],e[u]=i[u];return e}function Nb(i){function e(t,s,o,u){let h=t[u++];if(h==="__proto__")return!0;const m=Number.isFinite(+h),p=u>=t.length;return h=!h&&Y.isArray(o)?o.length:h,p?(Y.hasOwnProp(o,h)?o[h]=[o[h],s]:o[h]=s,!m):((!o[h]||!Y.isObject(o[h]))&&(o[h]=[]),e(t,s,o[h],u)&&Y.isArray(o[h])&&(o[h]=nD(o[h])),!m)}if(Y.isFormData(i)&&Y.isFunction(i.entries)){const t={};return Y.forEachEntry(i,(s,o)=>{e(tD(s),o,t,0)}),t}return null}function iD(i,e,t){if(Y.isString(i))try{return(e||JSON.parse)(i),Y.trim(i)}catch(s){if(s.name!=="SyntaxError")throw s}return(t||JSON.stringify)(i)}const wu={transitional:Cb,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const s=t.getContentType()||"",o=s.indexOf("application/json")>-1,u=Y.isObject(e);if(u&&Y.isHTMLForm(e)&&(e=new FormData(e)),Y.isFormData(e))return o?JSON.stringify(Nb(e)):e;if(Y.isArrayBuffer(e)||Y.isBuffer(e)||Y.isStream(e)||Y.isFile(e)||Y.isBlob(e)||Y.isReadableStream(e))return e;if(Y.isArrayBufferView(e))return e.buffer;if(Y.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let m;if(u){if(s.indexOf("application/x-www-form-urlencoded")>-1)return eD(e,this.formSerializer).toString();if((m=Y.isFileList(e))||s.indexOf("multipart/form-data")>-1){const p=this.env&&this.env.FormData;return ff(m?{"files[]":e}:e,p&&new p,this.formSerializer)}}return u||o?(t.setContentType("application/json",!1),iD(e)):e}],transformResponse:[function(e){const t=this.transitional||wu.transitional,s=t&&t.forcedJSONParsing,o=this.responseType==="json";if(Y.isResponse(e)||Y.isReadableStream(e))return e;if(e&&Y.isString(e)&&(s&&!this.responseType||o)){const h=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(m){if(h)throw m.name==="SyntaxError"?xe.from(m,xe.ERR_BAD_RESPONSE,this,null,this.response):m}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ln.classes.FormData,Blob:ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],i=>{wu.headers[i]={}});const rD=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),sD=i=>{const e={};let t,s,o;return i&&i.split(`
`).forEach(function(h){o=h.indexOf(":"),t=h.substring(0,o).trim().toLowerCase(),s=h.substring(o+1).trim(),!(!t||e[t]&&rD[t])&&(t==="set-cookie"?e[t]?e[t].push(s):e[t]=[s]:e[t]=e[t]?e[t]+", "+s:s)}),e},EE=Symbol("internals");function Bl(i){return i&&String(i).trim().toLowerCase()}function mh(i){return i===!1||i==null?i:Y.isArray(i)?i.map(mh):String(i)}function aD(i){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=t.exec(i);)e[s[1]]=s[2];return e}const oD=i=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(i.trim());function Mm(i,e,t,s,o){if(Y.isFunction(s))return s.call(this,e,t);if(o&&(e=t),!!Y.isString(e)){if(Y.isString(s))return e.indexOf(s)!==-1;if(Y.isRegExp(s))return s.test(e)}}function lD(i){return i.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,s)=>t.toUpperCase()+s)}function uD(i,e){const t=Y.toCamelCase(" "+e);["get","set","has"].forEach(s=>{Object.defineProperty(i,s+t,{value:function(o,u,h){return this[s].call(this,e,o,u,h)},configurable:!0})})}let vn=class{constructor(e){e&&this.set(e)}set(e,t,s){const o=this;function u(m,p,g){const _=Bl(p);if(!_)throw new Error("header name must be a non-empty string");const A=Y.findKey(o,_);(!A||o[A]===void 0||g===!0||g===void 0&&o[A]!==!1)&&(o[A||p]=mh(m))}const h=(m,p)=>Y.forEach(m,(g,_)=>u(g,_,p));if(Y.isPlainObject(e)||e instanceof this.constructor)h(e,t);else if(Y.isString(e)&&(e=e.trim())&&!oD(e))h(sD(e),t);else if(Y.isHeaders(e))for(const[m,p]of e.entries())u(p,m,s);else e!=null&&u(t,e,s);return this}get(e,t){if(e=Bl(e),e){const s=Y.findKey(this,e);if(s){const o=this[s];if(!t)return o;if(t===!0)return aD(o);if(Y.isFunction(t))return t.call(this,o,s);if(Y.isRegExp(t))return t.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Bl(e),e){const s=Y.findKey(this,e);return!!(s&&this[s]!==void 0&&(!t||Mm(this,this[s],s,t)))}return!1}delete(e,t){const s=this;let o=!1;function u(h){if(h=Bl(h),h){const m=Y.findKey(s,h);m&&(!t||Mm(s,s[m],m,t))&&(delete s[m],o=!0)}}return Y.isArray(e)?e.forEach(u):u(e),o}clear(e){const t=Object.keys(this);let s=t.length,o=!1;for(;s--;){const u=t[s];(!e||Mm(this,this[u],u,e,!0))&&(delete this[u],o=!0)}return o}normalize(e){const t=this,s={};return Y.forEach(this,(o,u)=>{const h=Y.findKey(s,u);if(h){t[h]=mh(o),delete t[u];return}const m=e?lD(u):String(u).trim();m!==u&&delete t[u],t[m]=mh(o),s[m]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Y.forEach(this,(s,o)=>{s!=null&&s!==!1&&(t[o]=e&&Y.isArray(s)?s.join(", "):s)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const s=new this(e);return t.forEach(o=>s.set(o)),s}static accessor(e){const s=(this[EE]=this[EE]={accessors:{}}).accessors,o=this.prototype;function u(h){const m=Bl(h);s[m]||(uD(o,h),s[m]=!0)}return Y.isArray(e)?e.forEach(u):u(e),this}};vn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(vn.prototype,({value:i},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>i,set(s){this[t]=s}}});Y.freezeMethods(vn);function Vm(i,e){const t=this||wu,s=e||t,o=vn.from(s.headers);let u=s.data;return Y.forEach(i,function(m){u=m.call(t,u,o.normalize(),e?e.status:void 0)}),o.normalize(),u}function Ib(i){return!!(i&&i.__CANCEL__)}function No(i,e,t){xe.call(this,i??"canceled",xe.ERR_CANCELED,e,t),this.name="CanceledError"}Y.inherits(No,xe,{__CANCEL__:!0});function xb(i,e,t){const s=t.config.validateStatus;!t.status||!s||s(t.status)?i(t):e(new xe("Request failed with status code "+t.status,[xe.ERR_BAD_REQUEST,xe.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function cD(i){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(i);return e&&e[1]||""}function hD(i,e){i=i||10;const t=new Array(i),s=new Array(i);let o=0,u=0,h;return e=e!==void 0?e:1e3,function(p){const g=Date.now(),_=s[u];h||(h=g),t[o]=p,s[o]=g;let A=u,w=0;for(;A!==o;)w+=t[A++],A=A%i;if(o=(o+1)%i,o===u&&(u=(u+1)%i),g-h<e)return;const O=_&&g-_;return O?Math.round(w*1e3/O):void 0}}function fD(i,e){let t=0,s=1e3/e,o,u;const h=(g,_=Date.now())=>{t=_,o=null,u&&(clearTimeout(u),u=null),i.apply(null,g)};return[(...g)=>{const _=Date.now(),A=_-t;A>=s?h(g,_):(o=g,u||(u=setTimeout(()=>{u=null,h(o)},s-A)))},()=>o&&h(o)]}const jh=(i,e,t=3)=>{let s=0;const o=hD(50,250);return fD(u=>{const h=u.loaded,m=u.lengthComputable?u.total:void 0,p=h-s,g=o(p),_=h<=m;s=h;const A={loaded:h,total:m,progress:m?h/m:void 0,bytes:p,rate:g||void 0,estimated:g&&m&&_?(m-h)/g:void 0,event:u,lengthComputable:m!=null,[e?"download":"upload"]:!0};i(A)},t)},TE=(i,e)=>{const t=i!=null;return[s=>e[0]({lengthComputable:t,total:i,loaded:s}),e[1]]},bE=i=>(...e)=>Y.asap(()=>i(...e)),dD=ln.hasStandardBrowserEnv?((i,e)=>t=>(t=new URL(t,ln.origin),i.protocol===t.protocol&&i.host===t.host&&(e||i.port===t.port)))(new URL(ln.origin),ln.navigator&&/(msie|trident)/i.test(ln.navigator.userAgent)):()=>!0,mD=ln.hasStandardBrowserEnv?{write(i,e,t,s,o,u){const h=[i+"="+encodeURIComponent(e)];Y.isNumber(t)&&h.push("expires="+new Date(t).toGMTString()),Y.isString(s)&&h.push("path="+s),Y.isString(o)&&h.push("domain="+o),u===!0&&h.push("secure"),document.cookie=h.join("; ")},read(i){const e=document.cookie.match(new RegExp("(^|;\\s*)("+i+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(i){this.write(i,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function pD(i){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(i)}function gD(i,e){return e?i.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):i}function Ob(i,e,t){let s=!pD(e);return i&&(s||t==!1)?gD(i,e):e}const AE=i=>i instanceof vn?{...i}:i;function ia(i,e){e=e||{};const t={};function s(g,_,A,w){return Y.isPlainObject(g)&&Y.isPlainObject(_)?Y.merge.call({caseless:w},g,_):Y.isPlainObject(_)?Y.merge({},_):Y.isArray(_)?_.slice():_}function o(g,_,A,w){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g,A,w)}else return s(g,_,A,w)}function u(g,_){if(!Y.isUndefined(_))return s(void 0,_)}function h(g,_){if(Y.isUndefined(_)){if(!Y.isUndefined(g))return s(void 0,g)}else return s(void 0,_)}function m(g,_,A){if(A in e)return s(g,_);if(A in i)return s(void 0,g)}const p={url:u,method:u,data:u,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:m,headers:(g,_,A)=>o(AE(g),AE(_),A,!0)};return Y.forEach(Object.keys(Object.assign({},i,e)),function(_){const A=p[_]||o,w=A(i[_],e[_],_);Y.isUndefined(w)&&A!==m||(t[_]=w)}),t}const Db=i=>{const e=ia({},i);let{data:t,withXSRFToken:s,xsrfHeaderName:o,xsrfCookieName:u,headers:h,auth:m}=e;e.headers=h=vn.from(h),e.url=Rb(Ob(e.baseURL,e.url,e.allowAbsoluteUrls),i.params,i.paramsSerializer),m&&h.set("Authorization","Basic "+btoa((m.username||"")+":"+(m.password?unescape(encodeURIComponent(m.password)):"")));let p;if(Y.isFormData(t)){if(ln.hasStandardBrowserEnv||ln.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((p=h.getContentType())!==!1){const[g,..._]=p?p.split(";").map(A=>A.trim()).filter(Boolean):[];h.setContentType([g||"multipart/form-data",..._].join("; "))}}if(ln.hasStandardBrowserEnv&&(s&&Y.isFunction(s)&&(s=s(e)),s||s!==!1&&dD(e.url))){const g=o&&u&&mD.read(u);g&&h.set(o,g)}return e},yD=typeof XMLHttpRequest<"u",_D=yD&&function(i){return new Promise(function(t,s){const o=Db(i);let u=o.data;const h=vn.from(o.headers).normalize();let{responseType:m,onUploadProgress:p,onDownloadProgress:g}=o,_,A,w,O,x;function B(){O&&O(),x&&x(),o.cancelToken&&o.cancelToken.unsubscribe(_),o.signal&&o.signal.removeEventListener("abort",_)}let P=new XMLHttpRequest;P.open(o.method.toUpperCase(),o.url,!0),P.timeout=o.timeout;function Z(){if(!P)return;const K=vn.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),ie={data:!m||m==="text"||m==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:K,config:i,request:P};xb(function(M){t(M),B()},function(M){s(M),B()},ie),P=null}"onloadend"in P?P.onloadend=Z:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(Z)},P.onabort=function(){P&&(s(new xe("Request aborted",xe.ECONNABORTED,i,P)),P=null)},P.onerror=function(){s(new xe("Network Error",xe.ERR_NETWORK,i,P)),P=null},P.ontimeout=function(){let oe=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const ie=o.transitional||Cb;o.timeoutErrorMessage&&(oe=o.timeoutErrorMessage),s(new xe(oe,ie.clarifyTimeoutError?xe.ETIMEDOUT:xe.ECONNABORTED,i,P)),P=null},u===void 0&&h.setContentType(null),"setRequestHeader"in P&&Y.forEach(h.toJSON(),function(oe,ie){P.setRequestHeader(ie,oe)}),Y.isUndefined(o.withCredentials)||(P.withCredentials=!!o.withCredentials),m&&m!=="json"&&(P.responseType=o.responseType),g&&([w,x]=jh(g,!0),P.addEventListener("progress",w)),p&&P.upload&&([A,O]=jh(p),P.upload.addEventListener("progress",A),P.upload.addEventListener("loadend",O)),(o.cancelToken||o.signal)&&(_=K=>{P&&(s(!K||K.type?new No(null,i,P):K),P.abort(),P=null)},o.cancelToken&&o.cancelToken.subscribe(_),o.signal&&(o.signal.aborted?_():o.signal.addEventListener("abort",_)));const re=cD(o.url);if(re&&ln.protocols.indexOf(re)===-1){s(new xe("Unsupported protocol "+re+":",xe.ERR_BAD_REQUEST,i));return}P.send(u||null)})},vD=(i,e)=>{const{length:t}=i=i?i.filter(Boolean):[];if(e||t){let s=new AbortController,o;const u=function(g){if(!o){o=!0,m();const _=g instanceof Error?g:this.reason;s.abort(_ instanceof xe?_:new No(_ instanceof Error?_.message:_))}};let h=e&&setTimeout(()=>{h=null,u(new xe(`timeout ${e} of ms exceeded`,xe.ETIMEDOUT))},e);const m=()=>{i&&(h&&clearTimeout(h),h=null,i.forEach(g=>{g.unsubscribe?g.unsubscribe(u):g.removeEventListener("abort",u)}),i=null)};i.forEach(g=>g.addEventListener("abort",u));const{signal:p}=s;return p.unsubscribe=()=>Y.asap(m),p}},ED=function*(i,e){let t=i.byteLength;if(t<e){yield i;return}let s=0,o;for(;s<t;)o=s+e,yield i.slice(s,o),s=o},TD=async function*(i,e){for await(const t of bD(i))yield*ED(t,e)},bD=async function*(i){if(i[Symbol.asyncIterator]){yield*i;return}const e=i.getReader();try{for(;;){const{done:t,value:s}=await e.read();if(t)break;yield s}}finally{await e.cancel()}},SE=(i,e,t,s)=>{const o=TD(i,e);let u=0,h,m=p=>{h||(h=!0,s&&s(p))};return new ReadableStream({async pull(p){try{const{done:g,value:_}=await o.next();if(g){m(),p.close();return}let A=_.byteLength;if(t){let w=u+=A;t(w)}p.enqueue(new Uint8Array(_))}catch(g){throw m(g),g}},cancel(p){return m(p),o.return()}},{highWaterMark:2})},df=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Mb=df&&typeof ReadableStream=="function",AD=df&&(typeof TextEncoder=="function"?(i=>e=>i.encode(e))(new TextEncoder):async i=>new Uint8Array(await new Response(i).arrayBuffer())),Vb=(i,...e)=>{try{return!!i(...e)}catch{return!1}},SD=Mb&&Vb(()=>{let i=!1;const e=new Request(ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return i=!0,"half"}}).headers.has("Content-Type");return i&&!e}),wE=64*1024,gp=Mb&&Vb(()=>Y.isReadableStream(new Response("").body)),Bh={stream:gp&&(i=>i.body)};df&&(i=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Bh[e]&&(Bh[e]=Y.isFunction(i[e])?t=>t[e]():(t,s)=>{throw new xe(`Response type '${e}' is not supported`,xe.ERR_NOT_SUPPORT,s)})})})(new Response);const wD=async i=>{if(i==null)return 0;if(Y.isBlob(i))return i.size;if(Y.isSpecCompliantForm(i))return(await new Request(ln.origin,{method:"POST",body:i}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(i)||Y.isArrayBuffer(i))return i.byteLength;if(Y.isURLSearchParams(i)&&(i=i+""),Y.isString(i))return(await AD(i)).byteLength},RD=async(i,e)=>{const t=Y.toFiniteNumber(i.getContentLength());return t??wD(e)},CD=df&&(async i=>{let{url:e,method:t,data:s,signal:o,cancelToken:u,timeout:h,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:_,withCredentials:A="same-origin",fetchOptions:w}=Db(i);g=g?(g+"").toLowerCase():"text";let O=vD([o,u&&u.toAbortSignal()],h),x;const B=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let P;try{if(p&&SD&&t!=="get"&&t!=="head"&&(P=await RD(_,s))!==0){let ie=new Request(e,{method:"POST",body:s,duplex:"half"}),fe;if(Y.isFormData(s)&&(fe=ie.headers.get("content-type"))&&_.setContentType(fe),ie.body){const[M,R]=TE(P,jh(bE(p)));s=SE(ie.body,wE,M,R)}}Y.isString(A)||(A=A?"include":"omit");const Z="credentials"in Request.prototype;x=new Request(e,{...w,signal:O,method:t.toUpperCase(),headers:_.normalize().toJSON(),body:s,duplex:"half",credentials:Z?A:void 0});let re=await fetch(x);const K=gp&&(g==="stream"||g==="response");if(gp&&(m||K&&B)){const ie={};["status","statusText","headers"].forEach(C=>{ie[C]=re[C]});const fe=Y.toFiniteNumber(re.headers.get("content-length")),[M,R]=m&&TE(fe,jh(bE(m),!0))||[];re=new Response(SE(re.body,wE,M,()=>{R&&R(),B&&B()}),ie)}g=g||"text";let oe=await Bh[Y.findKey(Bh,g)||"text"](re,i);return!K&&B&&B(),await new Promise((ie,fe)=>{xb(ie,fe,{data:oe,headers:vn.from(re.headers),status:re.status,statusText:re.statusText,config:i,request:x})})}catch(Z){throw B&&B(),Z&&Z.name==="TypeError"&&/fetch/i.test(Z.message)?Object.assign(new xe("Network Error",xe.ERR_NETWORK,i,x),{cause:Z.cause||Z}):xe.from(Z,Z&&Z.code,i,x)}}),yp={http:qO,xhr:_D,fetch:CD};Y.forEach(yp,(i,e)=>{if(i){try{Object.defineProperty(i,"name",{value:e})}catch{}Object.defineProperty(i,"adapterName",{value:e})}});const RE=i=>`- ${i}`,ND=i=>Y.isFunction(i)||i===null||i===!1,Pb={getAdapter:i=>{i=Y.isArray(i)?i:[i];const{length:e}=i;let t,s;const o={};for(let u=0;u<e;u++){t=i[u];let h;if(s=t,!ND(t)&&(s=yp[(h=String(t)).toLowerCase()],s===void 0))throw new xe(`Unknown adapter '${h}'`);if(s)break;o[h||"#"+u]=s}if(!s){const u=Object.entries(o).map(([m,p])=>`adapter ${m} `+(p===!1?"is not supported by the environment":"is not available in the build"));let h=e?u.length>1?`since :
`+u.map(RE).join(`
`):" "+RE(u[0]):"as no adapter specified";throw new xe("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return s},adapters:yp};function Pm(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new No(null,i)}function CE(i){return Pm(i),i.headers=vn.from(i.headers),i.data=Vm.call(i,i.transformRequest),["post","put","patch"].indexOf(i.method)!==-1&&i.headers.setContentType("application/x-www-form-urlencoded",!1),Pb.getAdapter(i.adapter||wu.adapter)(i).then(function(s){return Pm(i),s.data=Vm.call(i,i.transformResponse,s),s.headers=vn.from(s.headers),s},function(s){return Ib(s)||(Pm(i),s&&s.response&&(s.response.data=Vm.call(i,i.transformResponse,s.response),s.response.headers=vn.from(s.response.headers))),Promise.reject(s)})}const kb="1.8.4",mf={};["object","boolean","number","function","string","symbol"].forEach((i,e)=>{mf[i]=function(s){return typeof s===i||"a"+(e<1?"n ":" ")+i}});const NE={};mf.transitional=function(e,t,s){function o(u,h){return"[Axios v"+kb+"] Transitional option '"+u+"'"+h+(s?". "+s:"")}return(u,h,m)=>{if(e===!1)throw new xe(o(h," has been removed"+(t?" in "+t:"")),xe.ERR_DEPRECATED);return t&&!NE[h]&&(NE[h]=!0,console.warn(o(h," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(u,h,m):!0}};mf.spelling=function(e){return(t,s)=>(console.warn(`${s} is likely a misspelling of ${e}`),!0)};function ID(i,e,t){if(typeof i!="object")throw new xe("options must be an object",xe.ERR_BAD_OPTION_VALUE);const s=Object.keys(i);let o=s.length;for(;o-- >0;){const u=s[o],h=e[u];if(h){const m=i[u],p=m===void 0||h(m,u,i);if(p!==!0)throw new xe("option "+u+" must be "+p,xe.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new xe("Unknown option "+u,xe.ERR_BAD_OPTION)}}const ph={assertOptions:ID,validators:mf},bi=ph.validators;let $s=class{constructor(e){this.defaults=e,this.interceptors={request:new vE,response:new vE}}async request(e,t){try{return await this._request(e,t)}catch(s){if(s instanceof Error){let o={};Error.captureStackTrace?Error.captureStackTrace(o):o=new Error;const u=o.stack?o.stack.replace(/^.+\n/,""):"";try{s.stack?u&&!String(s.stack).endsWith(u.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+u):s.stack=u}catch{}}throw s}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ia(this.defaults,t);const{transitional:s,paramsSerializer:o,headers:u}=t;s!==void 0&&ph.assertOptions(s,{silentJSONParsing:bi.transitional(bi.boolean),forcedJSONParsing:bi.transitional(bi.boolean),clarifyTimeoutError:bi.transitional(bi.boolean)},!1),o!=null&&(Y.isFunction(o)?t.paramsSerializer={serialize:o}:ph.assertOptions(o,{encode:bi.function,serialize:bi.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ph.assertOptions(t,{baseUrl:bi.spelling("baseURL"),withXsrfToken:bi.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let h=u&&Y.merge(u.common,u[t.method]);u&&Y.forEach(["delete","get","head","post","put","patch","common"],x=>{delete u[x]}),t.headers=vn.concat(h,u);const m=[];let p=!0;this.interceptors.request.forEach(function(B){typeof B.runWhen=="function"&&B.runWhen(t)===!1||(p=p&&B.synchronous,m.unshift(B.fulfilled,B.rejected))});const g=[];this.interceptors.response.forEach(function(B){g.push(B.fulfilled,B.rejected)});let _,A=0,w;if(!p){const x=[CE.bind(this),void 0];for(x.unshift.apply(x,m),x.push.apply(x,g),w=x.length,_=Promise.resolve(t);A<w;)_=_.then(x[A++],x[A++]);return _}w=m.length;let O=t;for(A=0;A<w;){const x=m[A++],B=m[A++];try{O=x(O)}catch(P){B.call(this,P);break}}try{_=CE.call(this,O)}catch(x){return Promise.reject(x)}for(A=0,w=g.length;A<w;)_=_.then(g[A++],g[A++]);return _}getUri(e){e=ia(this.defaults,e);const t=Ob(e.baseURL,e.url,e.allowAbsoluteUrls);return Rb(t,e.params,e.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(e){$s.prototype[e]=function(t,s){return this.request(ia(s||{},{method:e,url:t,data:(s||{}).data}))}});Y.forEach(["post","put","patch"],function(e){function t(s){return function(u,h,m){return this.request(ia(m||{},{method:e,headers:s?{"Content-Type":"multipart/form-data"}:{},url:u,data:h}))}}$s.prototype[e]=t(),$s.prototype[e+"Form"]=t(!0)});let xD=class Ub{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(u){t=u});const s=this;this.promise.then(o=>{if(!s._listeners)return;let u=s._listeners.length;for(;u-- >0;)s._listeners[u](o);s._listeners=null}),this.promise.then=o=>{let u;const h=new Promise(m=>{s.subscribe(m),u=m}).then(o);return h.cancel=function(){s.unsubscribe(u)},h},e(function(u,h,m){s.reason||(s.reason=new No(u,h,m),t(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=s=>{e.abort(s)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ub(function(o){e=o}),cancel:e}}};function OD(i){return function(t){return i.apply(null,t)}}function DD(i){return Y.isObject(i)&&i.isAxiosError===!0}const _p={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(_p).forEach(([i,e])=>{_p[e]=i});function Lb(i){const e=new $s(i),t=pb($s.prototype.request,e);return Y.extend(t,$s.prototype,e,{allOwnKeys:!0}),Y.extend(t,e,null,{allOwnKeys:!0}),t.create=function(o){return Lb(ia(i,o))},t}const vt=Lb(wu);vt.Axios=$s;vt.CanceledError=No;vt.CancelToken=xD;vt.isCancel=Ib;vt.VERSION=kb;vt.toFormData=ff;vt.AxiosError=xe;vt.Cancel=vt.CanceledError;vt.all=function(e){return Promise.all(e)};vt.spread=OD;vt.isAxiosError=DD;vt.mergeConfig=ia;vt.AxiosHeaders=vn;vt.formToJSON=i=>Nb(Y.isHTMLForm(i)?new FormData(i):i);vt.getAdapter=Pb.getAdapter;vt.HttpStatusCode=_p;vt.default=vt;const{Axios:u3,AxiosError:c3,CanceledError:h3,isCancel:f3,CancelToken:d3,VERSION:m3,all:p3,Cancel:g3,isAxiosError:y3,spread:_3,toFormData:v3,AxiosHeaders:E3,HttpStatusCode:T3,formToJSON:b3,getAdapter:A3,mergeConfig:S3}=vt,MD="https://www.googleapis.com/books/v1/volumes?q=",VD="https://openlibrary.org/search.json?q=";async function jb(i){var e,t,s,o,u;try{const[h,m]=await Promise.allSettled([vt.get(`${MD}${encodeURIComponent(i)}`),vt.get(`${VD}${encodeURIComponent(i)}&limit=5`)]),p=((t=(e=h.value)==null?void 0:e.data)==null?void 0:t.items)||[],g=((o=(s=m.value)==null?void 0:s.data)==null?void 0:o.docs)||[],_=p.filter(B=>{var Z,re;return(((re=(Z=B.volumeInfo)==null?void 0:Z.title)==null?void 0:re.toLowerCase())||"").includes(i.toLowerCase())}),A=_.map(B=>{var P,Z,re;return(re=(Z=(P=B.volumeInfo)==null?void 0:P.imageLinks)==null?void 0:Z.thumbnail)==null?void 0:re.replace("http://","https://")}).filter(Boolean),w=g.map(B=>B.cover_edition_key?`https://covers.openlibrary.org/b/olid/${B.cover_edition_key}-L.jpg`:null).filter(Boolean),O=[...new Set([...A,...w])],x=((u=_[0])==null?void 0:u.volumeInfo)||{};return{title:x.title||"",authors:x.authors?x.authors.join(", "):"",genres:x.categories?x.categories.slice(0,5).join(", "):"",description:x.description||"",pageCount:Number.isInteger(x.pageCount)?x.pageCount:null,averageRating:x.averageRating||0,images:O}}catch(h){return console.error("Erro ao buscar dados do livro:",h),null}}function PD({onSubmit:i,loading:e}){const[t,s]=$.useState(""),[o]=iO(t,500),[u,h]=$.useState({title:"",author:"",genre:"",pages:0,synopsis:"",cover:"",status:"Não iniciado",rating:0,averageRating:0,startDate:"",endDate:""}),[m,p]=$.useState(!1),[g,_]=$.useState([]);$.useEffect(()=>{(async()=>{if(o){p(!0);try{const x=await jb(o);x&&(h(B=>{var P;return{...B,title:x.title||B.title,author:x.authors||B.author,genre:x.genres||B.genre,synopsis:x.description||"Sem descrição disponível",pages:x.pageCount||0,cover:((P=x.images)==null?void 0:P[0])||B.cover,averageRating:x.averageRating||0}}),_(x.images||[]))}catch(x){console.error("Erro na busca:",x)}p(!1)}})()},[o]);const A=O=>{var x;if(O.preventDefault(),!u.title){alert("Por favor, insira pelo menos o título do livro");return}i({...u,userId:(x=Lt.currentUser)==null?void 0:x.uid})},w=O=>{const x=Math.min(Math.max(Number(O)||0,0),5),B=Math.floor(x),P=x%1>=.5,Z=Math.max(5-B-(P?1:0),0);return T.jsxs("div",{className:"rating-container",children:[[...Array(B)].map((re,K)=>T.jsx(Zl,{className:"rating-star filled"},`full-${K}`)),P&&T.jsx(ZE,{className:"rating-star half-filled"}),[...Array(Z)].map((re,K)=>T.jsx(Zl,{className:"rating-star empty"},`empty-${K}`))]})};return T.jsxs("form",{onSubmit:A,className:"book-form",children:[T.jsx("div",{className:"search-container",children:T.jsxs("div",{className:"search-box",children:[T.jsx("input",{type:"text",placeholder:"Digite o nome do livro para buscar",value:t,onChange:O=>s(O.target.value),className:"search-input"}),m?T.jsx("div",{className:"loading-spinner"}):T.jsx(n2,{className:"search-icon"})]})}),T.jsxs("div",{className:"form-container",children:[T.jsxs("div",{className:"book-preview",children:[T.jsxs("div",{className:"cover-container",children:[u.cover?T.jsx("img",{src:u.cover,alt:"Capa do livro",className:"book-cover"}):T.jsx("div",{className:"cover-placeholder",children:T.jsx(Si,{className:"placeholder-icon"})}),g.length>0&&T.jsxs("div",{className:"cover-options-grid",children:[T.jsx("h4",{children:"Selecione uma capa:"}),T.jsx("div",{className:"cover-options",children:g.map((O,x)=>T.jsx("img",{src:O,alt:`Opção de capa ${x+1}`,className:`cover-option ${u.cover===O?"selected":""}`,onClick:()=>h({...u,cover:O})},x))})]})]}),T.jsxs("div",{className:"book-details",children:[T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Título",T.jsx("input",{type:"text",value:u.title,onChange:O=>h({...u,title:O.target.value}),className:"text-input",required:!0})]})}),T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Autor",T.jsx("input",{type:"text",value:u.author,onChange:O=>h({...u,author:O.target.value}),className:"text-input"})]})}),T.jsxs("div",{className:"form-row",children:[T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Gênero",T.jsx("input",{type:"text",value:u.genre,onChange:O=>h({...u,genre:O.target.value}),className:"text-input"})]})}),T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Páginas",T.jsx("input",{type:"number",value:u.pages||"",onChange:O=>h({...u,pages:parseInt(O.target.value)||0}),className:"number-input"}),u.pages===null&&T.jsx("p",{style:{color:"orange"},children:"Número de páginas não disponível."})]})})]}),T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Sinopse",T.jsx("textarea",{value:u.synopsis,onChange:O=>h({...u,synopsis:O.target.value}),className:"synopsis-textarea",rows:"5"})]})}),T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Nota Média",w(u.averageRating)]})})]})]}),T.jsxs("div",{className:"form-controls",children:[T.jsxs("div",{className:"status-rating-container",children:[T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Status",T.jsxs("select",{value:u.status,onChange:O=>h({...u,status:O.target.value}),className:"status-select",children:[T.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),T.jsx("option",{value:"Em andamento",children:"Em Andamento"}),T.jsx("option",{value:"Concluído",children:"Concluído"}),T.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]})}),T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Data de Início",T.jsx("input",{type:"date",value:u.startDate,onChange:O=>h({...u,startDate:O.target.value}),className:"text-input"})]})}),u.status==="Concluído"&&T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Data de Término",T.jsx("input",{type:"date",value:u.endDate,onChange:O=>h({...u,endDate:O.target.value}),className:"text-input"})]})}),T.jsx("div",{className:"input-group",children:T.jsxs("label",{className:"input-label",children:["Sua Avaliação",T.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:u.rating,onChange:O=>h({...u,rating:parseFloat(O.target.value)}),className:"number-input"}),w(u.rating)]})})]}),T.jsx("button",{type:"submit",className:"submit-button",disabled:e||m,children:e?T.jsxs(T.Fragment,{children:[T.jsx(s2,{className:"button-spinner"})," Salvando..."]}):T.jsxs(T.Fragment,{children:[T.jsx(uu,{className:"button-icon"})," Adicionar à Coleção"]})})]})]})]})}function kD(){const[i,e]=$.useState(!1),t=lu(),s=async o=>{e(!0);try{await eO(Lt.currentUser.uid,o),t("/dashboard")}catch(u){alert("Erro ao salvar livro: "+u.message)}e(!1)};return T.jsx("div",{className:"add-book-container",children:T.jsxs("div",{className:"form-card",children:[T.jsxs("div",{className:"header-section",children:[T.jsxs("button",{className:"back-button",onClick:()=>t(-1),children:[T.jsx(WE,{})," Voltar"]}),T.jsxs("h1",{className:"form-title",children:[T.jsx(uu,{})," Adicionar Novo Livro"]})]}),T.jsx(PD,{onSubmit:s,loading:i})]})})}function UD(){const[i,e]=$.useState([]),[t,s]=$.useState(!0),[o,u]=$.useState(null),[h,m]=$.useState("all"),[p,g]=$.useState("all"),[_,A]=$.useState("title"),[w,O]=$.useState("asc"),[x,B]=$.useState([]),[P,Z]=$.useState(!1),[re,K]=$.useState(null),[oe,ie]=$.useState(!1),[fe,M]=$.useState(null),[R,C]=$.useState(!1),[D,k]=$.useState([]),[L,I]=$.useState(!1),[Ie,it]=$.useState({title:"",author:"",genre:"",status:"",rating:0,notes:"",cover:"",synopsis:""});$.useEffect(()=>{const se=async()=>{try{const Je=Lt.currentUser;if(!Je)throw new Error("Usuário não autenticado");const st=ti(lr,"users",Je.uid),ht=uo(st,"books"),Qn=cb(ht),pr=(await Lh(Qn)).docs.map(ls=>({id:ls.id,...ls.data()}));e(pr),Se(pr)}catch(Je){u(Je.message)}finally{s(!1)}},Se=Je=>{const st=[...new Set(Je.map(ht=>ht.genre))];B(st.filter(ht=>ht&&ht!==""))};se()},[]);const X=async()=>{var se;try{I(!0);const Se=await jb(Ie.title),Je=((se=Se==null?void 0:Se.images)==null?void 0:se.filter(st=>st.startsWith("http")&&(st.includes("googleapis")||st.includes("openlibrary.org"))))||[];k(Je)}catch(Se){console.error("Erro na busca de capas:",Se),k([])}finally{I(!1)}},ce=se=>{it(Se=>({...Se,cover:se})),C(!1)},ge=async se=>{try{const Se=Lt.currentUser;if(!Se)return;const Je=ti(lr,"users",Se.uid,"books",se),st=i.find(ht=>ht.id===se);await fp(Je,{favorite:!st.favorite}),e(i.map(ht=>ht.id===se?{...ht,favorite:!ht.favorite}:ht))}catch(Se){u(Se.message)}},Fe=async()=>{try{const se=Lt.currentUser;if(!se)return;const Se=ti(lr,"users",se.uid,"books",re);await fb(Se),e(i.filter(Je=>Je.id!==re)),Z(!1)}catch(se){u(se.message),Z(!1)}},V=se=>{M(se),it({title:se.title,author:se.author,genre:se.genre,status:se.status,rating:se.rating||0,notes:se.notes||"",cover:se.cover||"",synopsis:se.synopsis||""}),ie(!0)},te=se=>{it({...Ie,[se.target.name]:se.target.value})},he=se=>{it({...Ie,rating:se})},le=async se=>{se.preventDefault();try{const Se=Lt.currentUser;if(!Se||!fe)return;const Je=ti(lr,"users",Se.uid,"books",fe.id);await fp(Je,{...Ie,cover:Ie.cover}),e(i.map(st=>st.id===fe.id?{...st,...Ie}:st)),ie(!1)}catch(Se){u(Se.message),ie(!1)}},_e=se=>{const Se=Math.min(Math.max(Number(se)||0,0),5),Je=Math.floor(Se),st=Se%1>=.5&&Se<5,ht=Math.max(5-Je-(st?1:0),0);return T.jsxs("div",{className:"rating-container",children:[[...Array(Je)].map((Qn,Mn)=>T.jsx(Zl,{className:"rating-star filled"},`full-${Mn}`)),st&&T.jsx(ZE,{className:"rating-star half-filled"}),[...Array(ht)].map((Qn,Mn)=>T.jsx(Zl,{className:"rating-star empty"},`empty-${Mn}`))]})},Oe=i.filter(se=>(h==="all"||se.status===h)&&(p==="all"||se.genre===p)).sort((se,Se)=>_==="title"?w==="asc"?se.title.localeCompare(Se.title):Se.title.localeCompare(se.title):_==="rating"?w==="asc"?se.rating-Se.rating:Se.rating-se.rating:0),be=()=>T.jsx("div",{className:"delete-modal",children:T.jsxs("div",{className:"modal-content",children:[T.jsx("h3",{children:"Confirmar exclusão"}),T.jsx("p",{children:"Tem certeza que deseja remover este livro da sua coleção?"}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{className:"modal-button confirm",onClick:Fe,children:"Confirmar"}),T.jsx("button",{className:"modal-button cancel",onClick:()=>Z(!1),children:"Cancelar"})]})]})}),Rt=()=>T.jsx("div",{className:"edit-modal",children:T.jsxs("div",{className:"edit-form",children:[T.jsx("h3",{className:"edit-form-title",children:"Editar Livro"}),T.jsxs("div",{className:"book-info-header",children:[Ie.cover?T.jsx("img",{src:Ie.cover,alt:"Capa",className:"book-info-cover"}):T.jsx("div",{className:"cover-placeholder book-info-cover",children:T.jsx(Si,{size:24})}),T.jsxs("div",{className:"book-info-text",children:[T.jsx("h4",{className:"book-title",children:Ie.title}),T.jsxs("p",{className:"book-author",children:["por ",Ie.author]}),T.jsxs("p",{className:"book-genre",children:["Gênero: ",Ie.genre||"Não informado"]})]})]}),T.jsxs("form",{onSubmit:le,children:[T.jsxs("div",{className:"form-grid",children:[T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"Capa do Livro"}),T.jsxs("div",{className:"cover-preview-container",children:[Ie.cover?T.jsx("img",{src:Ie.cover,alt:"Capa atual",className:"current-cover"}):T.jsx("div",{className:"cover-placeholder",children:T.jsx(Si,{})}),T.jsx("button",{type:"button",className:"change-cover-button",onClick:()=>{C(!R),R||X()},children:R?"Fechar Opções":"Alterar Capa"})]}),R&&T.jsx("div",{className:"cover-selector-modal",children:L?T.jsx("div",{className:"loading-spinner"}):T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:"Selecione uma nova capa:"}),T.jsx("div",{className:"cover-options-grid",children:D.map((se,Se)=>T.jsx("img",{src:se,alt:`Opção de capa ${Se+1}`,className:`cover-option ${Ie.cover===se?"selected":""}`,onClick:()=>ce(se)},Se))}),D.length===0&&T.jsx("p",{children:"Nenhuma capa alternativa encontrada."})]})})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Título"}),T.jsx("input",{type:"text",value:Ie.title,className:"form-input"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Autor"}),T.jsx("input",{type:"text",value:Ie.author,className:"form-input"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Gênero"}),T.jsx("input",{type:"text",value:Ie.genre,className:"form-input"})]}),T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"Sinopse"}),T.jsx("div",{className:"synopsis-display",children:Ie.synopsis||"Nenhuma sinopse disponível"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Status"}),T.jsxs("select",{name:"status",value:Ie.status,onChange:te,className:"form-input",children:[T.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),T.jsx("option",{value:"Em andamento",children:"Em Andamento"}),T.jsx("option",{value:"Concluído",children:"Concluído"}),T.jsx("option",{value:"Abandonado",children:"Abandonado"})]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Data de Início"}),T.jsx("input",{type:"date",name:"startDate",value:Ie.startDate,onChange:te,className:"form-input"})]}),Ie.status==="Concluído"&&T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Data de Término"}),T.jsx("input",{type:"date",name:"endDate",value:Ie.endDate,onChange:te,className:"form-input"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Avaliação"}),T.jsx("input",{type:"number",min:"0",max:"5",step:"0.5",value:Ie.rating,onChange:se=>{const Se=parseFloat(se.target.value),Je=Math.min(Math.max(isNaN(Se)?0:Se,0),5);he(Je)},className:"rating-input"}),T.jsx("div",{className:"rating-display",children:_e(Ie.rating)})]})]}),T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"Anotações"}),T.jsx("textarea",{name:"notes",value:Ie.notes,onChange:te,className:"form-input form-textarea",placeholder:"Adicione suas anotações..."})]}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{type:"button",className:"modal-button cancel",onClick:()=>ie(!1),children:"Cancelar"}),T.jsx("button",{type:"submit",className:"modal-button confirm",children:"Salvar Alterações"})]})]})]})});return t?T.jsx("div",{className:"loading-screen",children:"Carregando..."}):o?T.jsxs("div",{className:"error-screen",children:[T.jsx("h2",{children:"Erro ao carregar dados"}),T.jsx("p",{children:o})]}):T.jsxs("div",{className:"collection-container",children:[T.jsx("h1",{className:"collection-title",children:"📚 Sua Coleção"}),T.jsxs("div",{className:"controls",children:[T.jsxs("div",{className:"filter-group",children:[T.jsx(Zw,{className:"filter-icon"}),T.jsxs("select",{value:h,onChange:se=>m(se.target.value),className:"filter-select",children:[T.jsx("option",{value:"all",children:"Todos os Status"}),T.jsx("option",{value:"Não iniciado",children:"Não Iniciado"}),T.jsx("option",{value:"Em andamento",children:"Em Andamento"}),T.jsx("option",{value:"Concluído",children:"Concluído"}),T.jsx("option",{value:"Abandonado",children:"Abandonado"})]}),T.jsxs("select",{value:p,onChange:se=>g(se.target.value),className:"filter-select",children:[T.jsx("option",{value:"all",children:"Todos os Gêneros"}),x.map(se=>T.jsx("option",{value:se,children:se},se))]})]}),T.jsxs("div",{className:"sort-group",children:[T.jsx(r2,{className:"sort-icon"}),T.jsxs("select",{value:_,onChange:se=>A(se.target.value),className:"sort-select",children:[T.jsx("option",{value:"title",children:"Ordenar por Título"}),T.jsx("option",{value:"rating",children:"Ordenar por Avaliação"})]}),T.jsx("button",{onClick:()=>O(w==="asc"?"desc":"asc"),className:"sort-order",children:w==="asc"?"A-Z":"Z-A"})]})]}),T.jsx("div",{className:"books-table",children:T.jsxs("table",{children:[T.jsx("thead",{children:T.jsxs("tr",{children:[T.jsx("th",{children:"Capa"}),T.jsx("th",{children:"Título"}),T.jsx("th",{children:"Autor"}),T.jsx("th",{children:"Status"}),T.jsx("th",{children:"Avaliação"}),T.jsx("th",{children:"Ações"})]})}),T.jsx("tbody",{children:Oe.length>0?Oe.map(se=>T.jsxs("tr",{children:[T.jsx("td",{children:se.cover?T.jsx("img",{src:se.cover,alt:se.title,className:"book-cover"}):T.jsx("div",{className:"cover-placeholder",children:T.jsx(Si,{})})}),T.jsx("td",{children:se.title}),T.jsx("td",{children:se.author}),T.jsx("td",{children:T.jsx("span",{className:`status-badge ${se.status.toLowerCase().replace(" ","-")}`,children:se.status})}),T.jsx("td",{children:_e(se.rating)}),T.jsxs("td",{className:"actions-cell",children:[T.jsx("button",{onClick:()=>ge(se.id),className:"icon-button",title:"Favoritar",children:se.favorite?T.jsx(JE,{}):T.jsx(o2,{})}),T.jsx("button",{onClick:()=>V(se),className:"icon-button",title:"Editar",children:T.jsx(Sp,{})}),T.jsx("button",{onClick:()=>{K(se.id),Z(!0)},className:"icon-button",title:"Remover",children:T.jsx(tT,{})})]})]},se.id)):T.jsx("tr",{children:T.jsx("td",{colSpan:"6",className:"no-books-message",children:"Nenhum livro encontrado com os filtros selecionados."})})})]})}),P&&be(),oe&&Rt()]})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebasestorage.googleapis.com",zb="storageBucket",LD=2*60*1e3,jD=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt extends Oi{constructor(e,t,s=0){super(km(e),`Firebase Storage: ${t} (${km(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return km(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Et;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Et||(Et={}));function km(i){return"storage/"+i}function bg(){const i="An unknown error occurred, please check the error payload for server response.";return new Tt(Et.UNKNOWN,i)}function BD(i){return new Tt(Et.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function zD(i){return new Tt(Et.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function qD(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tt(Et.UNAUTHENTICATED,i)}function FD(){return new Tt(Et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function HD(i){return new Tt(Et.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function GD(){return new Tt(Et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KD(){return new Tt(Et.CANCELED,"User canceled the upload/download.")}function QD(i){return new Tt(Et.INVALID_URL,"Invalid URL '"+i+"'.")}function YD(i){return new Tt(Et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function $D(){return new Tt(Et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+zb+"' property when initializing the app?")}function XD(){return new Tt(Et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function WD(){return new Tt(Et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function JD(i){return new Tt(Et.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function vp(i){return new Tt(Et.INVALID_ARGUMENT,i)}function qb(){return new Tt(Et.APP_DELETED,"The Firebase app was deleted.")}function ZD(i){return new Tt(Et.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Xl(i,e){return new Tt(Et.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function zl(i){throw new Tt(Et.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=xn.makeFromUrl(e,t)}catch{return new xn(e,"")}if(s.path==="")return s;throw YD(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(oe){oe.path.charAt(oe.path.length-1)==="/"&&(oe.path_=oe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(oe){oe.path_=decodeURIComponent(oe.path)}const _="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",O=new RegExp(`^https?://${A}/${_}/b/${o}/o${w}`,"i"),x={bucket:1,path:3},B=t===Bb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,P="([^?#]*)",Z=new RegExp(`^https?://${B}/${o}/${P}`,"i"),K=[{regex:m,indices:p,postModify:u},{regex:O,indices:x,postModify:g},{regex:Z,indices:{bucket:1,path:2},postModify:g}];for(let oe=0;oe<K.length;oe++){const ie=K[oe],fe=ie.regex.exec(e);if(fe){const M=fe[ie.indices.bucket];let R=fe[ie.indices.path];R||(R=""),s=new xn(M,R),ie.postModify(s);break}}if(s==null)throw QD(e);return s}}class e6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t6(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function _(...P){g||(g=!0,e.apply(null,P))}function A(P){o=setTimeout(()=>{o=null,i(O,p())},P)}function w(){u&&clearTimeout(u)}function O(P,...Z){if(g){w();return}if(P){w(),_.call(null,P,...Z);return}if(p()||h){w(),_.call(null,P,...Z);return}s<64&&(s*=2);let K;m===1?(m=2,K=0):K=(s+Math.random())*1e3,A(K)}let x=!1;function B(P){x||(x=!0,w(),!g&&(o!==null?(P||(m=2),clearTimeout(o),A(0)):P||(m=1)))}return A(0),u=setTimeout(()=>{h=!0,B(!0)},t),B}function n6(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i6(i){return i!==void 0}function r6(i){return typeof i=="object"&&!Array.isArray(i)}function Ag(i){return typeof i=="string"||i instanceof String}function IE(i){return Sg()&&i instanceof Blob}function Sg(){return typeof Blob<"u"}function xE(i,e,t,s){if(s<e)throw vp(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw vp(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function Fb(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Xs;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Xs||(Xs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,t,s,o,u,h,m,p,g,_,A,w=!0){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=A,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((O,x)=>{this.resolve_=O,this.reject_=x,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new th(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Xs.NO_ERROR,p=u.getStatus();if(!m||s6(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Xs.ABORT;s(!1,new th(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new th(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());i6(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=bg();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?qb():KD();h(p)}else{const p=GD();h(p)}};this.canceled_?t(!1,new th(!1,null,!0)):this.backoffId_=t6(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&n6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class th{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function o6(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function l6(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u6(i,e){e&&(i["X-Firebase-GMPID"]=e)}function c6(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function h6(i,e,t,s,o,u,h=!0){const m=Fb(i.urlParams),p=i.url+m,g=Object.assign({},i.headers);return u6(g,e),o6(g,t),l6(g,u),c6(g,s),new a6(p,i.method,g,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function d6(...i){const e=f6();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Sg())return new Blob(i);throw new Tt(Et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function m6(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p6(i){if(typeof atob>"u")throw JD("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ai={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Um{constructor(e,t){this.data=e,this.contentType=t||null}}function g6(i,e){switch(i){case Ai.RAW:return new Um(Hb(e));case Ai.BASE64:case Ai.BASE64URL:return new Um(Gb(i,e));case Ai.DATA_URL:return new Um(_6(e),v6(e))}throw bg()}function Hb(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function y6(i){let e;try{e=decodeURIComponent(i)}catch{throw Xl(Ai.DATA_URL,"Malformed data URL.")}return Hb(e)}function Gb(i,e){switch(i){case Ai.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Xl(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case Ai.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Xl(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=p6(e)}catch(o){throw o.message.includes("polyfill")?o:Xl(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class Kb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Xl(Ai.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=E6(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function _6(i){const e=new Kb(i);return e.base64?Gb(Ai.BASE64,e.rest):y6(e.rest)}function v6(i){return new Kb(i).contentType}function E6(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e,t){let s=0,o="";IE(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(IE(this.data_)){const s=this.data_,o=m6(s,e,t);return o===null?null:new Yr(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new Yr(s,!0)}}static getBlob(...e){if(Sg()){const t=e.map(s=>s instanceof Yr?s.data_:s);return new Yr(d6.apply(null,t))}else{const t=e.map(h=>Ag(h)?g6(Ai.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new Yr(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(i){let e;try{e=JSON.parse(i)}catch{return null}return r6(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T6(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function b6(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function Yb(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A6(i,e){return e}class mn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||A6}}let nh=null;function S6(i){return!Ag(i)||i.length<2?i:Yb(i)}function $b(){if(nh)return nh;const i=[];i.push(new mn("bucket")),i.push(new mn("generation")),i.push(new mn("metageneration")),i.push(new mn("name","fullPath",!0));function e(u,h){return S6(h)}const t=new mn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new mn("size");return o.xform=s,i.push(o),i.push(new mn("timeCreated")),i.push(new mn("updated")),i.push(new mn("md5Hash",null,!0)),i.push(new mn("cacheControl",null,!0)),i.push(new mn("contentDisposition",null,!0)),i.push(new mn("contentEncoding",null,!0)),i.push(new mn("contentLanguage",null,!0)),i.push(new mn("contentType",null,!0)),i.push(new mn("metadata","customMetadata",!0)),nh=i,nh}function w6(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new xn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function R6(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return w6(s,i),s}function Xb(i,e,t){const s=Qb(e);return s===null?null:R6(i,s,t)}function C6(i,e,t,s){const o=Qb(e);if(o===null||!Ag(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const _=i.bucket,A=i.fullPath,w="/b/"+h(_)+"/o/"+h(A),O=wg(w,t,s),x=Fb({alt:"media",token:g});return O+x})[0]}function N6(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}class Wb{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(i){if(!i)throw bg()}function I6(i,e){function t(s,o){const u=Xb(i,o,e);return Jb(u!==null),u}return t}function x6(i,e){function t(s,o){const u=Xb(i,o,e);return Jb(u!==null),C6(u,o,i.host,i._protocol)}return t}function Zb(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=FD():o=qD():t.getStatus()===402?o=zD(i.bucket):t.getStatus()===403?o=HD(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function O6(i){const e=Zb(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=BD(i.path)),u.serverResponse=o.serverResponse,u}return t}function D6(i,e,t){const s=e.fullServerUrl(),o=wg(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Wb(o,u,x6(i,t),h);return m.errorHandler=O6(e),m}function M6(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function V6(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=M6(null,e)),s}function P6(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let K="";for(let oe=0;oe<2;oe++)K=K+Math.random().toString().slice(2);return K}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=V6(e,s,o),_=N6(g,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+p+"--",O=Yr.getBlob(A,s,w);if(O===null)throw XD();const x={name:g.fullPath},B=wg(u,i.host,i._protocol),P="POST",Z=i.maxUploadRetryTime,re=new Wb(B,P,I6(i,t),Z);return re.urlParams=x,re.headers=h,re.body=O.uploadData(),re.errorHandler=Zb(e),re}class k6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Xs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Xs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Xs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o){if(this.sent_)throw zl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw zl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw zl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw zl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw zl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class U6 extends k6{initXhr(){this.xhr_.responseType="text"}}function eA(){return new U6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,t){this._service=e,t instanceof xn?this._location=t:this._location=xn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ra(e,t)}get root(){const e=new xn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Yb(this._location.path)}get storage(){return this._service}get parent(){const e=T6(this._location.path);if(e===null)return null;const t=new xn(this._location.bucket,e);return new ra(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw ZD(e)}}function L6(i,e,t){i._throwIfRoot("uploadBytes");const s=P6(i.storage,i._location,$b(),new Yr(e,!0),t);return i.storage.makeRequestWithTokens(s,eA).then(o=>({metadata:o,ref:i}))}function j6(i){i._throwIfRoot("getDownloadURL");const e=D6(i.storage,i._location,$b());return i.storage.makeRequestWithTokens(e,eA).then(t=>{if(t===null)throw WD();return t})}function B6(i,e){const t=b6(i._location.path,e),s=new xn(i._location.bucket,t);return new ra(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(i){return/^[A-Za-z]+:\/\//.test(i)}function q6(i,e){return new ra(i,e)}function tA(i,e){if(i instanceof Rg){const t=i;if(t._bucket==null)throw $D();const s=new ra(t,t._bucket);return e!=null?tA(s,e):s}else return e!==void 0?B6(i,e):i}function F6(i,e){if(e&&z6(e)){if(i instanceof Rg)return q6(i,e);throw vp("To use ref(service, url), the first argument must be a Storage instance.")}else return tA(i,e)}function OE(i,e){const t=e==null?void 0:e[zb];return t==null?null:xn.makeFromBucketSpec(t,i)}function H6(i,e,t,s={}){i.host=`${e}:${t}`,i._protocol="http";const{mockUserToken:o}=s;o&&(i._overrideAuthToken=typeof o=="string"?o:cT(o,i.app.options.projectId))}class Rg{constructor(e,t,s,o,u){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._bucket=null,this._host=Bb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=LD,this._maxUploadRetryTime=jD,this._requests=new Set,o!=null?this._bucket=xn.makeFromBucketSpec(o,this._host):this._bucket=OE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=xn.makeFromBucketSpec(this._url,e):this._bucket=OE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ra(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new e6(qb());{const h=h6(e,this._appId,s,o,t,this._firebaseVersion,u);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const DE="@firebase/storage",ME="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="storage";function G6(i,e,t){return i=_t(i),L6(i,e,t)}function K6(i){return i=_t(i),j6(i)}function Q6(i,e){return i=_t(i),F6(i,e)}function Y6(i=Cp(),e){i=_t(i);const s=Gh(i,nA).getImmediate({identifier:e}),o=oT("storage");return o&&$6(s,...o),s}function $6(i,e,t,s={}){H6(i,e,t,s)}function X6(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Rg(t,s,o,e,aa)}function W6(){Ws(new is(nA,X6,"PUBLIC").setMultipleInstances(!0)),wi(DE,ME,""),wi(DE,ME,"esm2017")}W6();function J6(){const[i,e]=$.useState(""),[t,s]=$.useState(null),[o,u]=$.useState(!1),h=$.useRef(null),m=Lt.currentUser,p=(A,w)=>{s({type:A,message:w}),setTimeout(()=>s(null),3e3)},g=async A=>{if(A.preventDefault(),!i.trim()){p("error","O nome não pode estar vazio!");return}try{u(!0),await E0(m,{displayName:i.trim()}),e(""),p("success","Nome atualizado com sucesso!")}catch(w){p("error",`Erro ao atualizar nome: ${w.message}`)}finally{u(!1)}},_=async A=>{const w=A.target.files[0];if(w)try{u(!0);const O=Y6(),x=Q6(O,`profilePhotos/${m.uid}`);await G6(x,w);const B=await K6(x);await E0(m,{photoURL:B}),p("success","Foto atualizada com sucesso!")}catch(O){p("error",`Erro ao atualizar foto: ${O.message}`)}finally{u(!1),h.current.value=""}};return T.jsxs("div",{className:"profile-container",children:[t&&T.jsxs("div",{className:`custom-alert ${t.type}`,children:[T.jsx("div",{className:"alert-icon",children:t.type==="success"?T.jsx(Jw,{}):T.jsx(a2,{})}),T.jsx("span",{children:t.message})]}),T.jsxs("div",{className:"profile-card",children:[T.jsxs("h1",{children:[T.jsx(nT,{className:"header-icon"}),"Configurações do Perfil"]}),T.jsxs("div",{className:"profile-section",children:[T.jsxs("div",{className:"photo-section",children:[T.jsx("img",{src:(m==null?void 0:m.photoURL)||"/default-user.png",alt:"Foto do usuário",className:"profile-photo"}),T.jsx("input",{type:"file",ref:h,onChange:_,accept:"image/*",hidden:!0}),T.jsxs("button",{className:"change-photo-btn",onClick:()=>h.current.click(),disabled:o,children:[T.jsx(Sp,{className:"btn-icon"}),o?"Atualizando...":"Alterar Foto"]})]}),T.jsxs("div",{className:"info-section",children:[T.jsxs("form",{onSubmit:g,className:"name-form",children:[T.jsxs("label",{children:["Nome:",T.jsx("input",{type:"text",value:i,onChange:A=>e(A.target.value),placeholder:"Digite seu novo nome",disabled:o})]}),T.jsx("button",{type:"submit",className:"update-btn",disabled:o||!i.trim(),children:o?"Atualizando...":"Atualizar Nome"})]}),T.jsx("div",{className:"user-info",children:T.jsxs("h3",{children:[T.jsx("strong",{children:"Email:"})," ",m==null?void 0:m.email]})})]})]})]})]})}function Z6(){const[i,e]=$.useState([]),[t,s]=$.useState([]),[o,u]=$.useState(!1),[h,m]=$.useState(!1),[p,g]=$.useState(null),[_,A]=$.useState(null),[w,O]=$.useState({name:"",description:"",books:[]});$.useEffect(()=>{(async()=>{const oe=Lt.currentUser;if(oe)try{const ie=ti(lr,"users",oe.uid),fe=uo(ie,"folders"),M=await Lh(fe);e(M.docs.map(D=>({id:D.id,...D.data()})));const R=uo(ie,"books"),C=await Lh(R);s(C.docs.map(D=>({id:D.id,...D.data(),cover:D.data().cover||"",title:D.data().title||"Livro sem título"})))}catch(ie){console.error("Erro ao carregar dados:",ie)}})()},[]);const x=async K=>{K.preventDefault();const oe=Lt.currentUser;if(!(!oe||!w.name))try{const ie=ti(lr,"users",oe.uid),fe=uo(ie,"folders");if(p){const M=ti(fe,p.id);await fp(M,w),e(i.map(R=>R.id===p.id?{...w,id:R.id}:R))}else{const M=await db(fe,{...w,createdAt:new Date});e([...i,{id:M.id,...w}])}u(!1),g(null),O({name:"",description:"",books:[]})}catch(ie){console.error("Erro ao salvar pasta:",ie),alert("Erro ao salvar! Verifique suas permissões e conexão.")}},B=async()=>{const K=Lt.currentUser;if(K)try{const oe=ti(lr,"users",K.uid,"folders",_);await fb(oe),e(i.filter(ie=>ie.id!==_)),m(!1)}catch(oe){console.error("Erro ao excluir pasta:",oe),m(!1)}},P=K=>{g(K),O({name:K.name,description:K.description,books:K.books||[]}),u(!0)},Z=K=>{O(oe=>({...oe,books:oe.books.includes(K)?oe.books.filter(ie=>ie!==K):[...oe.books,K]}))},re=()=>T.jsx("div",{className:"delete-modal",children:T.jsxs("div",{className:"delete-modal-content",children:[T.jsx("h3",{children:"Confirmar Exclusão"}),T.jsx("p",{children:"Tem certeza que deseja excluir esta pasta permanentemente?"}),T.jsxs("div",{className:"modal-actions",children:[T.jsx("button",{className:"btn-confirm",onClick:B,children:"Confirmar"}),T.jsx("button",{className:"btn-cancel",onClick:()=>m(!1),children:"Cancelar"})]})]})});return T.jsxs("div",{className:"folders-container",children:[T.jsxs("div",{className:"folders-header",children:[T.jsxs("h1",{children:[T.jsx(ih,{})," Minhas Pastas"]}),T.jsxs("button",{onClick:()=>u(!0),className:"btn-primary","aria-label":"Criar nova pasta",children:[T.jsx(uu,{})," Nova Pasta"]})]}),o&&T.jsx("div",{className:"folder-form-modal",children:T.jsxs("div",{className:"folder-form-content",children:[T.jsxs("div",{className:"form-header",children:[T.jsx("h2",{children:p?"Editar Pasta":"Nova Pasta"}),T.jsx("button",{onClick:()=>{u(!1),g(null),O({name:"",description:"",books:[]})},className:"close-btn","aria-label":"Fechar",children:T.jsx(eT,{})})]}),T.jsxs("form",{onSubmit:x,children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"folder-name",children:"Nome da Pasta *"}),T.jsx("input",{id:"folder-name",type:"text",value:w.name,onChange:K=>O({...w,name:K.target.value}),required:!0,maxLength:"50",placeholder:"Digite o nome da pasta"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{htmlFor:"folder-description",children:"Descrição"}),T.jsx("textarea",{id:"folder-description",value:w.description,onChange:K=>O({...w,description:K.target.value}),maxLength:"200",placeholder:"Adicione uma descrição para a pasta"})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Selecionar Livros"}),T.jsx("div",{className:"books-selection",children:t.length>0?t.map(K=>T.jsxs("label",{className:"book-selection-item",children:[T.jsx("input",{type:"checkbox",checked:w.books.includes(K.id),onChange:()=>Z(K.id),className:"hidden-checkbox"}),T.jsxs("div",{className:"book-select-card",children:[K.cover?T.jsx("img",{src:K.cover,alt:K.title,className:"book-select-cover",loading:"lazy"}):T.jsx("div",{className:"cover-placeholder",children:T.jsx(Si,{className:"placeholder-icon"})}),T.jsx("span",{className:"book-select-title",children:K.title})]})]},K.id)):T.jsx("p",{children:"Nenhum livro disponível para adicionar à pasta."})})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>{u(!1),g(null),O({name:"",description:"",books:[]})},children:"Cancelar"}),T.jsx("button",{type:"submit",className:"btn-confirm",children:p?"Salvar Alterações":"Criar Pasta"})]})]})]})}),T.jsx("div",{className:"folders-grid",children:i.map(K=>{var oe;return T.jsxs("div",{className:"folder-card",children:[T.jsxs("div",{className:"folder-header",children:[T.jsx(ih,{className:"folder-icon"}),T.jsxs("h3",{children:[K.name," (",((oe=K.books)==null?void 0:oe.length)||0,")"]})]}),K.description&&T.jsx("p",{className:"folder-description",children:K.description}),T.jsx("div",{className:"folder-books",children:T.jsx("div",{className:"books-list",children:t.filter(ie=>{var fe;return(fe=K.books)==null?void 0:fe.includes(ie.id)}).map(ie=>T.jsx("div",{className:"book-item",children:ie.cover?T.jsx("img",{src:ie.cover,alt:ie.title,className:"book-thumbnail"}):T.jsx("div",{className:"thumbnail-placeholder",children:T.jsx(Si,{})})},ie.id))})}),T.jsxs("div",{className:"folder-actions",children:[T.jsxs("button",{onClick:()=>P(K),className:"btn-primary",children:[T.jsx(Sp,{})," Editar"]}),T.jsxs("button",{onClick:()=>{A(K.id),m(!0)},className:"btn-primary",title:"Remover",children:[T.jsx(tT,{})," Excluir"]})]})]},K.id)})}),i.length===0&&!o&&T.jsxs("div",{className:"empty-state",children:[T.jsx(ih,{size:64}),T.jsx("p",{children:"Nenhuma pasta criada ainda"})]}),h&&T.jsx(re,{})]})}function e3(){return T.jsx(YE,{children:T.jsxs(Nw,{children:[T.jsx(ei,{path:"/",element:T.jsx(Wx,{})}),T.jsx(ei,{path:"/login",element:T.jsx(Jx,{})}),T.jsx(ei,{element:T.jsx(t3,{}),children:T.jsxs(ei,{element:T.jsx(Xx,{}),children:[T.jsx(ei,{path:"/dashboard",element:T.jsx(Zx,{})}),T.jsx(ei,{path:"/collection",element:T.jsx(UD,{})}),T.jsx(ei,{path:"/folders",element:T.jsx(Z6,{})}),T.jsx(ei,{path:"/add-book",element:T.jsx(kD,{})}),T.jsx(ei,{path:"/profile",element:T.jsx(J6,{})})]})}),T.jsx(ei,{path:"*",element:T.jsx(GE,{to:"/login",replace:!0})})]})})}function t3(){const[i,e]=$.useState(!1);return $.useEffect(()=>{const t=Lt.onAuthStateChanged(()=>{e(!0)});return()=>t()},[]),i?Lt.currentUser?T.jsx(YE,{children:T.jsx(KE,{})}):T.jsx(GE,{to:"/login",replace:!0}):T.jsx("div",{className:"loading",children:"Verificando autenticação..."})}function n3({children:i}){const[e,t]=$.useState(null),[s,o]=$.useState(!0);return $.useEffect(()=>{const u=Lt.onAuthStateChanged(h=>{t(h),o(!1)});return()=>u()},[]),T.jsx("div",{children:s?T.jsx("div",{className:"loading-screen",children:"Carregando..."}):i})}BS.createRoot(document.getElementById("root")).render(T.jsx(ur.StrictMode,{children:T.jsx(Pw,{children:T.jsx(n3,{children:T.jsx(e3,{})})})}));
